---
import type { AccentBackground } from '../../types/components'

interface Props {
  backgroundType: AccentBackground
}

const { backgroundType } = Astro.props

const gridBlockBackground = backgroundType === "body" ? "var(--background-color)" : backgroundType === "footer" ? "var(--footer-background)" : "var(--background-color-dark)" 
---

<div class="accent-container">
  <div class="galaxy"></div>
  <div class="grid-container">
    <div class="grid-block" />
    <div />
    <div />
    <div />
    <div class="grid-block" />
    <div class="grid-block" />
    <div class="grid-block" />
    <div />
    <div class="grid-block" />
    <div class="grid-block" />
    <div class="grid-block" />
    <div class="grid-block" />
    <div class="grid-block" />
    <div class="grid-block" />
    <div />
    <div />
    <div class="grid-block" />
    <div />
    <div />
    <div />
  </div>
</div>

<style lang="scss" define:vars={{ gridBlockBackground }}>
  @import "../../styles/sizes.scss";

  .accent-container {
    position: absolute;
    top: 50%;
    left: 0;
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: 1fr;
    width: 100%;
    z-index: -1;
    transform: translateY(-50%);
    aspect-ratio: 4 / 5;

    @include aboveMobile {
      width: 400px;
    }
  }

  .galaxy {
    grid-column: 1 / -1;
    grid-row: 1 / -1;
    background-image: linear-gradient(217deg, rgba(20, 255, 255, 0.8), rgba(48, 0, 219, 1) 70%);
    border-radius: 50%;
    filter: blur(70px);
    transform: translate(-80%, 0);
    animation: rotateMiddleLeftGalaxy 8000ms linear infinite;
  }

  .grid-container {
    grid-column: 1 / -1;
    grid-row: 1 / -1;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(5, 1fr);
    gap: 6px;
    width: 100%;
    z-index: 1;
  }

  .grid-block {
    background-color: var(--gridBlockBackground);
    width: 100%;
    height: 100%;
  }

  @keyframes rotateMiddleLeftGalaxy {
    0% {
      transform: translate(-80%, 0) rotate(0deg);
    }

    100% {
      transform: translate(-80%, 0) rotate(360deg);
    }
  }
</style>