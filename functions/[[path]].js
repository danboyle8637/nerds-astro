globalThis.process = {
	argv: [],
	env: {},
};
var RR=Object.create;var Gm=Object.defineProperty;var NR=Object.getOwnPropertyDescriptor;var UR=Object.getOwnPropertyNames;var zR=Object.getPrototypeOf,jR=Object.prototype.hasOwnProperty;var ce=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ue=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ds=(e,t)=>{for(var r in t)Gm(e,r,{get:t[r],enumerable:!0})},HR=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of UR(t))!jR.call(e,s)&&s!==r&&Gm(e,s,{get:()=>t[s],enumerable:!(i=NR(t,s))||i.enumerable});return e};var st=(e,t,r)=>(r=e!=null?RR(zR(e)):{},HR(t||!e||!e.__esModule?Gm(r,"default",{value:e,enumerable:!0}):r,e));var Fw=ce(()=>{globalThis.process={argv:[],env:{}}});var Iw=Ue((dve,Ow)=>{"use strict";function Zd(){this._types=Object.create(null),this._extensions=Object.create(null);for(let e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Zd.prototype.define=function(e,t){for(let r in e){let i=e[r].map(function(s){return s.toLowerCase()});r=r.toLowerCase();for(let s=0;s<i.length;s++){let n=i[s];if(n[0]!=="*"){if(!t&&n in this._types)throw new Error('Attempt to change mapping for "'+n+'" extension from "'+this._types[n]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+n+'" from the list of extensions for "'+r+'".');this._types[n]=r}}if(t||!this._extensions[r]){let s=i[0];this._extensions[r]=s[0]!=="*"?s:s.substr(1)}}};Zd.prototype.getType=function(e){e=String(e);let t=e.replace(/^.*[/\\]/,"").toLowerCase(),r=t.replace(/^.*\./,"").toLowerCase(),i=t.length<e.length;return(r.length<t.length-1||!i)&&this._types[r]||null};Zd.prototype.getExtension=function(e){return e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1,e&&this._extensions[e.toLowerCase()]||null};Ow.exports=Zd});var Nw=Ue((hve,Rw)=>{Rw.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}});var zw=Ue((pve,Uw)=>{Uw.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}});var li=Ue((fve,jw)=>{"use strict";var VR=Iw();jw.exports=new VR(Nw(),zw())});var Hw=Ue(Wm=>{"use strict";Wm.parse=WR;Wm.serialize=qR;var GR=Object.prototype.toString,$d=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function WR(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},i=t||{},s=i.decode||YR,n=0;n<e.length;){var a=e.indexOf("=",n);if(a===-1)break;var o=e.indexOf(";",n);if(o===-1)o=e.length;else if(o<a){n=e.lastIndexOf(";",a-1)+1;continue}var l=e.slice(n,a).trim();if(r[l]===void 0){var c=e.slice(a+1,o).trim();c.charCodeAt(0)===34&&(c=c.slice(1,-1)),r[l]=ZR(c,s)}n=o+1}return r}function qR(e,t,r){var i=r||{},s=i.encode||XR;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!$d.test(e))throw new TypeError("argument name is invalid");var n=s(t);if(n&&!$d.test(n))throw new TypeError("argument val is invalid");var a=e+"="+n;if(i.maxAge!=null){var o=i.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(o)}if(i.domain){if(!$d.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain="+i.domain}if(i.path){if(!$d.test(i.path))throw new TypeError("option path is invalid");a+="; Path="+i.path}if(i.expires){var l=i.expires;if(!QR(l)||isNaN(l.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+l.toUTCString()}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.priority){var c=typeof i.priority=="string"?i.priority.toLowerCase():i.priority;switch(c){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(i.sameSite){var h=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(h){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function YR(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function XR(e){return encodeURIComponent(e)}function QR(e){return GR.call(e)==="[object Date]"||e instanceof Date}function ZR(e,t){try{return t(e)}catch{return e}}});var Xc,Xm,Jr,Ko,el,qc,eh,aa,$r,Jd,qm,Kd,Ym,Qm,Gw,$R,Vw,Yc,Qa,Ww=ce(()=>{Xc=st(Hw(),1),Xm=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Jr=(e,t,r)=>(Xm(e,t,"read from private field"),r?r.call(e):t.get(e)),Ko=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},el=(e,t,r,i)=>(Xm(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),qc=(e,t,r)=>(Xm(e,t,"access private method"),r),$R=new Date(0),Vw="deleted",Yc=class{constructor(t){this.value=t}json(){if(this.value===void 0)throw new Error("Cannot convert undefined to an object.");return JSON.parse(this.value)}number(){return Number(this.value)}boolean(){return this.value==="false"||this.value==="0"?!1:Boolean(this.value)}},Qa=class{constructor(t){Ko(this,Jd),Ko(this,Kd),Ko(this,Qm),Ko(this,eh,void 0),Ko(this,aa,void 0),Ko(this,$r,void 0),el(this,eh,t),el(this,aa,null),el(this,$r,null)}delete(t,r){let i={expires:$R};r?.path&&(i.path=r.path),qc(this,Kd,Ym).call(this).set(t,[Vw,(0,Xc.serialize)(t,Vw,i),!1])}get(t){if(Jr(this,$r)!==null&&Jr(this,$r).has(t)){let[s,,n]=Jr(this,$r).get(t);return n?new Yc(s):new Yc(void 0)}let i=qc(this,Jd,qm).call(this)[t];return new Yc(i)}has(t){if(Jr(this,$r)!==null&&Jr(this,$r).has(t)){let[,,i]=Jr(this,$r).get(t);return i}return!!qc(this,Jd,qm).call(this)[t]}set(t,r,i){let s;if(typeof r=="string")s=r;else{let a=r.toString();a===Object.prototype.toString.call(r)?s=JSON.stringify(r):s=a}let n={};i&&Object.assign(n,i),qc(this,Kd,Ym).call(this).set(t,[s,(0,Xc.serialize)(t,s,n),!0])}*headers(){if(Jr(this,$r)!=null)for(let[,t]of Jr(this,$r))yield t[1]}};eh=new WeakMap;aa=new WeakMap;$r=new WeakMap;Jd=new WeakSet;qm=function(){return Jr(this,aa)||qc(this,Qm,Gw).call(this),Jr(this,aa)||el(this,aa,{}),Jr(this,aa)};Kd=new WeakSet;Ym=function(){return Jr(this,$r)||el(this,$r,new Map),Jr(this,$r)};Qm=new WeakSet;Gw=function(){let e=Jr(this,eh).headers.get("cookie");!e||el(this,aa,(0,Xc.parse)(e))}});function Za(e,t){Reflect.set(e,qw,t)}function JR(e){let t=Reflect.get(e,qw);if(t!=null)return t}function*Zm(e){let t=JR(e);if(!!t)for(let r of t.headers())yield r}var qw,Yw=ce(()=>{qw=Symbol.for("astro.cookies")});var Qc=ce(()=>{Ww();Yw()});var $m,Jm=ce(()=>{$m="1.5.3"});var Xw=ce(()=>{Jm()});function KR(e,t){if(e[t])return e[t];if(t==="delete"&&e.del)return e.del;if(e.all)return e.all}async function Km(e,t,r){var i;let{request:s,params:n}=t,a=(i=s.method)==null?void 0:i.toLowerCase(),o=KR(e,a);if(!r&&r===!1&&a&&a!=="get"&&console.warn(`
${a} requests are not available when building a static site. Update your config to output: 'server' to handle ${a} requests.`),!o||typeof o!="function")return new Response(null,{status:404,headers:{"X-Astro-Response":"Not-Found"}});o.length>1&&console.warn(`
API routes with 2 arguments have been deprecated. Instead they take a single argument in the form of:

export function get({ params, request }) {
	//...
}

Update your code to remove this warning.`);let l=new Proxy(t,{get(c,h){return h in c?Reflect.get(c,h):h in n?(console.warn(`
API routes no longer pass params as the first argument. Instead an object containing a params property is provided in the form of:

export function get({ params }) {
	// ...
}

Update your code to remove this warning.`),Reflect.get(n,h)):void 0}});return o.call(e,l,s)}var Qw=ce(()=>{});var eN,tN,rN,iN,th,ci=ce(()=>{({replace:eN}=""),tN=/[&<>'"]/g,rN={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},iN=e=>rN[e],th=e=>eN.call(e,tN,iN)});function Zc(e){return Object.prototype.toString.call(e)==="[object HTMLString]"}var Tn,rh,hs,ct,ui=ce(()=>{ci();Tn=th,rh=class extends Uint8Array{};Object.defineProperty(rh.prototype,Symbol.toStringTag,{get(){return"HTMLBytes"}});hs=class extends String{get[Symbol.toStringTag](){return"HTMLString"}},ct=e=>e instanceof hs?e:typeof e=="string"?new hs(e):e});function tg(e){return e&&typeof e=="object"&&e[eg]}var eg,Mve,Zw=ce(()=>{tl();eg="astro:jsx",Mve=Symbol("empty")});var $w,Jw=ce(()=>{$w='(self.Astro=self.Astro||{}).idle=t=>{const e=async()=>{await(await t())()};"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,200)},window.dispatchEvent(new Event("astro:idle"));'});var Kw,e_=ce(()=>{Kw='(self.Astro=self.Astro||{}).load=a=>{(async()=>await(await a())())()},window.dispatchEvent(new Event("astro:load"));'});var t_,r_=ce(()=>{t_='(self.Astro=self.Astro||{}).media=(s,a)=>{const t=async()=>{await(await s())()};if(a.value){const e=matchMedia(a.value);e.matches?t():e.addEventListener("change",t,{once:!0})}},window.dispatchEvent(new Event("astro:media"));'});var i_,s_=ce(()=>{i_='(self.Astro=self.Astro||{}).only=t=>{(async()=>await(await t())())()},window.dispatchEvent(new Event("astro:only"));'});var n_,a_=ce(()=>{n_='(self.Astro=self.Astro||{}).visible=(s,c,n)=>{const r=async()=>{await(await s())()};let i=new IntersectionObserver(e=>{for(const t of e)if(!!t.isIntersecting){i.disconnect(),r();break}});for(let e=0;e<n.children.length;e++){const t=n.children[e];i.observe(t)}},window.dispatchEvent(new Event("astro:visible"));'});var o_,l_=ce(()=>{o_='var l;{const c={0:t=>t,1:t=>JSON.parse(t,o),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(JSON.parse(t,o)),5:t=>new Set(JSON.parse(t,o)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(JSON.parse(t)),9:t=>new Uint16Array(JSON.parse(t)),10:t=>new Uint32Array(JSON.parse(t))},o=(t,s)=>{if(t===""||!Array.isArray(s))return s;const[e,n]=s;return e in c?c[e](n):void 0};customElements.get("astro-island")||customElements.define("astro-island",(l=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=()=>{if(!this.hydrator||this.parentElement&&this.parentElement.closest("astro-island[ssr]"))return;const s=this.querySelectorAll("astro-slot"),e={},n=this.querySelectorAll("template[data-astro-template]");for(const r of n){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(const r of s){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("name")||"default"]=r.innerHTML)}const a=this.hasAttribute("props")?JSON.parse(this.getAttribute("props"),o):{};this.hydrator(this)(this.Component,a,e,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),window.removeEventListener("astro:hydrate",this.hydrate),window.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((s,e)=>{e.disconnect(),this.childrenConnectedCallback()}).observe(this,{childList:!0})}async childrenConnectedCallback(){window.addEventListener("astro:hydrate",this.hydrate);let s=this.getAttribute("before-hydration-url");s&&await import(s),this.start()}start(){const s=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(Astro[e]===void 0){window.addEventListener(`astro:${e}`,()=>this.start(),{once:!0});return}Astro[e](async()=>{const n=this.getAttribute("renderer-url"),[a,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),i=this.getAttribute("component-export")||"default";if(!i.includes("."))this.Component=a[i];else{this.Component=a;for(const d of i.split("."))this.Component=this.Component[d]}return this.hydrator=r,this.hydrate},s,this)}attributeChangedCallback(){this.hydrator&&this.hydrate()}},l.observedAttributes=["props"],l))}'});function d_(e){return e._metadata.hasHydrationScript?!1:e._metadata.hasHydrationScript=!0}function h_(e,t){return e._metadata.hasDirectives.has(t)?!1:(e._metadata.hasDirectives.add(t),!0)}function u_(e){if(!(e in c_))throw new Error(`Unknown directive: ${e}`);return c_[e]}function p_(e,t){switch(e){case"both":return`<style>astro-island,astro-slot{display:contents}</style><script>${u_(t)+o_}<\/script>`;case"directive":return`<script>${u_(t)}<\/script>`}return""}var c_,f_=ce(()=>{Jw();e_();r_();s_();a_();l_();c_={idle:$w,load:Kw,only:i_,media:t_,visible:n_}});function rl(e,t){switch(t.type){case"directive":{let{hydration:r}=t,i=r&&d_(e),s=r&&h_(e,r.directive),n=i?"both":s?"directive":null;if(n){let a=p_(n,r.directive);return ct(a)}else return""}default:return t.toString()}}function m_(e,t){return t instanceof Uint8Array?t:ih.encode(rl(e,t))}var $a,Ja,ih,sN,oa,il=ce(()=>{ui();f_();$a=Symbol.for("astro:fragment"),Ja=Symbol.for("astro:renderer"),ih=new TextEncoder,sN=new TextDecoder;oa=class{constructor(){this.parts=""}append(t,r){ArrayBuffer.isView(t)?this.parts+=sN.decode(t):this.parts+=rl(r,t)}toString(){return this.parts}toArrayBuffer(){return ih.encode(this.parts)}}});async function ps(e,t){switch(!0){case t instanceof hs:return t.toString().trim()===""?"":t;case typeof t=="string":return ct(Tn(t));case typeof t=="function":return t;case(!t&&t!==0):return"";case Array.isArray(t):return ct((await Promise.all(t.map(i=>ps(e,i)))).join(""))}if(tg(t)){switch(!0){case!t.type:throw new Error(`Unable to render ${e._metadata.pathname} because it contains an undefined Component!
Did you forget to import the component or is it possible there is a typo?`);case t.type===Symbol.for("astro:fragment"):return ps(e,t.props.children);case t.type.isAstroComponentFactory:{let i={},s={};for(let[n,a]of Object.entries(t.props??{}))n==="children"||a&&typeof a=="object"&&a.$$slot?s[n==="children"?"default":n]=()=>ps(e,a):i[n]=a;return ct(await sh(e,t.type,i,s))}case(!t.type&&t.type!==0):return"";case(typeof t.type=="string"&&t.type!==g_):return ct(await nN(e,t.type,t.props??{}))}if(t.type){let i=function(h){if(Array.isArray(h))return h.map(u=>i(u));if(!tg(h)){a.default.push(h);return}if("slot"in h.props){a[h.props.slot]=[...a[h.props.slot]??[],h],delete h.props.slot;return}a.default.push(h)};var r=i;if(typeof t.type=="function"&&t.type["astro:renderer"]&&rg.add(t.type),typeof t.type=="function"&&t.props["server:root"]){let h=await t.type(t.props??{});return await ps(e,h)}if(typeof t.type=="function"&&!rg.has(t.type)){aN();try{let h=await t.type(t.props??{});if(h&&h[eg])return await ps(e,h);if(!h)return await ps(e,h)}catch{rg.add(t.type)}finally{oN()}}let{children:s=null,...n}=t.props??{},a={default:[]};i(s);for(let[h,u]of Object.entries(n))u.$$slot&&(a[h]=u,delete n[h]);let o=[],l={};for(let[h,u]of Object.entries(a))o.push(ps(e,u).then(d=>{d.toString().trim().length!==0&&(l[h]=()=>d)}));await Promise.all(o);let c;if(t.type===g_&&t.props["client:only"]?c=await Ka(e,t.props["client:display-name"]??"",null,n,l):c=await Ka(e,typeof t.type=="function"?t.type.name:t.type,t.type,n,l),typeof c!="string"&&Symbol.asyncIterator in c){let h=new oa;for await(let u of c)h.append(u,e);return ct(h.toString())}else return ct(c)}}return ct(`${t}`)}async function nN(e,t,{children:r,...i}){return ct(`<${t}${v_(i)}${ct((r==null||r=="")&&eo.test(t)?"/>":`>${r==null?"":await ps(e,r)}</${t}>`)}`)}function aN(){if(sg++,!ig){ig=console.error;try{console.error=lN}catch{}}}function oN(){sg--}function lN(e,...t){sg>0&&typeof e=="string"&&e.includes("Warning: Invalid hook call.")&&e.includes("https://reactjs.org/link/invalid-hook-call")||ig(e,...t)}var g_,rg,ig,sg,ng=ce(()=>{Zw();tl();il();g_="astro-client-only",rg=new WeakSet,sg=0});function ag(e,t={},r=new WeakSet){if(r.has(e))throw new Error(`Cyclic reference detected while serializing props for <${t.displayName} client:${t.hydrate}>!

Cyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);r.add(e);let i=e.map(s=>x_(s,t,r));return r.delete(e),i}function y_(e,t={},r=new WeakSet){if(r.has(e))throw new Error(`Cyclic reference detected while serializing props for <${t.displayName} client:${t.hydrate}>!

Cyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);r.add(e);let i=Object.fromEntries(Object.entries(e).map(([s,n])=>[s,x_(n,t,r)]));return r.delete(e),i}function x_(e,t={},r=new WeakSet){switch(Object.prototype.toString.call(e)){case"[object Date]":return[Ei.Date,e.toISOString()];case"[object RegExp]":return[Ei.RegExp,e.source];case"[object Map]":return[Ei.Map,JSON.stringify(ag(Array.from(e),t,r))];case"[object Set]":return[Ei.Set,JSON.stringify(ag(Array.from(e),t,r))];case"[object BigInt]":return[Ei.BigInt,e.toString()];case"[object URL]":return[Ei.URL,e.toString()];case"[object Array]":return[Ei.JSON,JSON.stringify(ag(e,t,r))];case"[object Uint8Array]":return[Ei.Uint8Array,JSON.stringify(Array.from(e))];case"[object Uint16Array]":return[Ei.Uint16Array,JSON.stringify(Array.from(e))];case"[object Uint32Array]":return[Ei.Uint32Array,JSON.stringify(Array.from(e))];default:return e!==null&&typeof e=="object"?[Ei.Value,y_(e,t,r)]:[Ei.Value,e]}}function nh(e,t){return JSON.stringify(y_(e,t))}var Ei,og=ce(()=>{Ei={Value:0,JSON:1,RegExp:2,Date:3,Map:4,Set:5,BigInt:6,URL:7,Uint8Array:8,Uint16Array:9,Uint32Array:10}});function ah(e){let t={};return r(e),Object.keys(t).join(" ");function r(i){i&&typeof i.forEach=="function"?i.forEach(r):i===Object(i)?Object.keys(i).forEach(s=>{i[s]&&r(s)}):(i=i===!1||i==null?"":String(i).trim(),i&&i.split(/\s+/).forEach(s=>{t[s]=!0}))}}var lg=ce(()=>{});function w_(e){let t={isPage:!1,hydration:null,props:{}};for(let[r,i]of Object.entries(e))if(r.startsWith("server:")&&r==="server:root"&&(t.isPage=!0),r.startsWith("client:"))switch(t.hydration||(t.hydration={directive:"",value:"",componentUrl:"",componentExport:{value:""}}),r){case"client:component-path":{t.hydration.componentUrl=i;break}case"client:component-export":{t.hydration.componentExport.value=i;break}case"client:component-hydration":break;case"client:display-name":break;default:{if(t.hydration.directive=r.split(":")[1],t.hydration.value=i,!cN.has(t.hydration.directive))throw new Error(`Error: invalid hydration directive "${r}". Supported hydration methods: ${Array.from(cg).join(", ")}`);if(t.hydration.directive==="media"&&typeof t.hydration.value!="string")throw new Error('Error: Media query must be provided for "client:media", similar to client:media="(max-width: 600px)"');break}}else r==="class:list"?i&&(t.props[r.slice(0,-5)]=ah(i)):t.props[r]=i;return t}async function __(e,t){let{renderer:r,result:i,astroId:s,props:n,attrs:a}=e,{hydrate:o,componentUrl:l,componentExport:c}=t;if(!c.value)throw new Error(`Unable to resolve a valid export for "${t.displayName}"! Please open an issue at https://astro.build/issues!`);let h={children:"",props:{uid:s}};if(a)for(let[d,p]of Object.entries(a))h.props[d]=Tn(p);h.props["component-url"]=await i.resolve(decodeURI(l)),r.clientEntrypoint&&(h.props["component-export"]=c.value,h.props["renderer-url"]=await i.resolve(decodeURI(r.clientEntrypoint)),h.props.props=Tn(nh(n,t))),h.props.ssr="",h.props.client=o;let u=await i.resolve("astro:scripts/before-hydration.js");return u.length&&(h.props["before-hydration-url"]=u),h.props.opts=Tn(JSON.stringify({name:t.displayName,value:t.hydrateArgs||""})),h}var b_,cN,cg,ug=ce(()=>{ui();og();lg();b_=["load","idle","media","visible","only"],cN=new Set(b_),cg=new Set(b_.map(e=>`client:${e}`))});async function fs(e,t,r){if(t){let i=to(t),s="",n=null;for await(let a of i)a.type==="directive"?(n===null&&(n=[]),n.push(a)):s+=a;return ct(new $c(s,n))}return r}async function dg(e,t={}){let r=null,i={};return t&&await Promise.all(Object.entries(t).map(([s,n])=>fs(e,n).then(a=>{a.instructions&&(r===null&&(r=[]),r.push(...a.instructions)),i[s]=a}))),{slotInstructions:r,children:i}}var $c,Jc=ce(()=>{ui();hg();$c=class extends hs{constructor(t,r){super(t),this.instructions=r}}});async function*to(e){if(e=await e,e instanceof $c)e.instructions&&(yield*e.instructions),yield e;else if(Zc(e))yield e;else if(Array.isArray(e))for(let t of e)yield ct(await to(t));else typeof e=="function"?yield*to(e()):typeof e=="string"?yield ct(Tn(e)):!e&&e!==0||(e instanceof Kc||Object.prototype.toString.call(e)==="[object AstroComponent]"?yield*Os(e):ArrayBuffer.isView(e)?yield e:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e)?yield*e:yield e)}var hg=ce(()=>{ui();eu();Jc()});function uN(e,t){var r;if(((r=import.meta.env)==null?void 0:r.DEV)&&e!=null)for(let i of Object.keys(e))cg.has(i)&&console.warn(`You are attempting to render <${t} ${i} />, but ${t} is an Astro component. Astro components do not render in the client and should not have a hydration directive. Please use a framework component for client rendering.`)}function oh(e){return typeof e=="object"&&Object.prototype.toString.call(e)==="[object AstroComponent]"}function lh(e){return e==null?!1:!!e.isAstroComponentFactory}async function*Os(e){for await(let t of e)if(t||t===0)for await(let r of to(t))switch(r.type){case"directive":{yield r;break}default:{yield ct(r);break}}}async function sh(e,t,r,i){let s=await t(e,r,i);if(!oh(s))throw s;let n=new oa;for await(let a of Os(s))n.append(a,e);return n.toString()}async function D_(e,t,r,i,s){uN(i,r);let n=await t(e,i,s);if(!oh(n))throw console.warn("Returning a Response is only supported inside of page components. Consider refactoring this logic into something like a function that can be used in the page."),n;return Os(n)}async function tu(e,...t){return new Kc(e,t)}var Kc,eu=ce(()=>{ui();ug();hg();il();Kc=class{constructor(t,r){this.htmlParts=t,this.expressions=r}get[Symbol.toStringTag](){return"AstroComponent"}async*[Symbol.asyncIterator](){let{htmlParts:t,expressions:r}=this;for(let i=0;i<t.length;i++){let s=t[i],n=r[i];yield ct(s),yield*to(n)}}}});function dN(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);t=(t<<5)-t+i,t=t&t}return t}function S_(e){let t,r="",i=dN(e),s=i<0?"Z":"";for(i=Math.abs(i);i>=pg;)t=i%pg,i=Math.floor(i/pg),r=fg[t]+r;return i>0&&(r=fg[i]+r),s+r}var fg,pg,A_=ce(()=>{fg="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXY",pg=fg.length});function mg(e){let t="";for(let[r,i]of Object.entries(e))t+=`const ${gN(r)} = ${JSON.stringify(i)};
`;return ct(t)}function uh(e){return e.length===1?e[0]:`${e.slice(0,-1).join(", ")} or ${e[e.length-1]}`}function ru(e,t,r=!0){if(e==null)return"";if(e===!1)return pN.test(t)||fN.test(t)?ct(` ${t}="false"`):"";if(mN.has(t))return console.warn(`[astro] The "${t}" directive cannot be applied dynamically at runtime. It will not be rendered as an attribute.

Make sure to use the static attribute syntax (\`${t}={value}\`) instead of the dynamic spread syntax (\`{...{ "${t}": value }}\`).`),"";if(t==="class:list"){let i=sl(ah(e),r);return i===""?"":ct(` ${t.slice(0,-5)}="${i}"`)}return t==="style"&&!(e instanceof hs)&&typeof e=="object"?ct(` ${t}="${sl(yN(e),r)}"`):t==="className"?ct(` class="${sl(e,r)}"`):e===!0&&(t.startsWith("data-")||hN.test(t))?ct(` ${t}`):ct(` ${t}="${sl(e,r)}"`)}function ch(e,t=!0){let r="";for(let[i,s]of Object.entries(e))r+=ru(s,i,t);return ct(r)}function nl(e,{props:t,children:r=""},i=!0){let{lang:s,"data-astro-id":n,"define:vars":a,...o}=t;return a&&(e==="style"&&(delete o["is:global"],delete o["is:scoped"]),e==="script"&&(delete o.hoist,r=mg(a)+`
`+r)),(r==null||r=="")&&eo.test(e)?`<${e}${ch(o,i)} />`:`<${e}${ch(o,i)}>${r}</${e}>`}var eo,hN,pN,fN,mN,gN,sl,vN,yN,iu=ce(()=>{ui();lg();eo=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,hN=/^(allowfullscreen|async|autofocus|autoplay|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|itemscope)$/i,pN=/^(contenteditable|draggable|spellcheck|value)$/i,fN=/^(autoReverse|externalResourcesRequired|focusable|preserveAlpha)$/i,mN=new Set(["set:html","set:text"]),gN=e=>e.trim().replace(/(?:(?!^)\b\w|\s+|[^\w]+)/g,(t,r)=>/[^\w]|\s/.test(t)?"":r===0?t:t.toUpperCase()),sl=(e,t=!0)=>t?String(e).replace(/&/g,"&#38;").replace(/"/g,"&#34;"):e,vN=e=>e.toLowerCase()===e?e:e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),yN=e=>Object.entries(e).map(([t,r])=>`${vN(t)}:${r}`).join(";")});function gg(e){return typeof HTMLElement<"u"&&HTMLElement.isPrototypeOf(e)}async function dh(e,t,r,i){let s=xN(t),n="";for(let a in r)n+=` ${a}="${sl(await r[a])}"`;return ct(`<${s}${n}>${await fs(e,i?.default)}</${s}>`)}function xN(e){let t=customElements.getName(e);return t||e.name.replace(/^HTML|Element$/g,"").replace(/[A-Z]/g,"-$&").toLowerCase().replace(/^-/,"html-")}var vg=ce(()=>{ui();Jc();iu()});function bN(e){switch(e?.split(".").pop()){case"svelte":return["@astrojs/svelte"];case"vue":return["@astrojs/vue"];case"jsx":case"tsx":return["@astrojs/react","@astrojs/preact","@astrojs/vue (jsx)"];default:return["@astrojs/react","@astrojs/preact","@astrojs/vue","@astrojs/svelte"]}}function wN(e){return e===$a?"fragment":e&&typeof e=="object"&&e["astro:html"]?"html":lh(e)?"astro-factory":"unknown"}async function Ka(e,t,r,i,s={}){var n;switch(r=await r,wN(r)){case"fragment":{let _=await fs(e,s?.default);return _==null?_:ct(_)}case"html":{let{slotInstructions:_,children:D}=await dg(e,s),S=r.render({slots:D}),A=_?_.map(E=>rl(e,E)).join(""):"";return ct(A+S)}case"astro-factory":{async function*_(){yield*await D_(e,r,t,i,s)}return _()}}if(!r&&!i["client:only"])throw new Error(`Unable to render ${t} because it is ${r}!
Did you forget to import the component or is it possible there is a typo?`);let{renderers:a}=e._metadata,o={displayName:t},{hydration:l,isPage:c,props:h}=w_(i),u="",d;l&&(o.hydrate=l.directive,o.hydrateArgs=l.value,o.componentExport=l.componentExport,o.componentUrl=l.componentUrl);let p=bN(o.componentUrl);if(Array.isArray(a)&&a.length===0&&typeof r!="string"&&!gg(r)){let _=`Unable to render ${o.displayName}!

There are no \`integrations\` set in your \`astro.config.mjs\` file.
Did you mean to add ${uh(p.map(D=>"`"+D+"`"))}?`;throw new Error(_)}let{children:g,slotInstructions:m}=await dg(e,s),f;if(o.hydrate!=="only"){if(r&&r[Ja]){let _=r[Ja];f=a.find(({name:D})=>D===_)}if(!f){let _;for(let D of a)try{if(await D.ssr.check.call({result:e},r,h,g)){f=D;break}}catch(S){_??(_=S)}if(!f&&_)throw _}if(!f&&typeof HTMLElement=="function"&&gg(r))return dh(e,r,i,s)}else{if(o.hydrateArgs){let _=o.hydrateArgs,D=E_.has(_)?E_.get(_):_;f=a.find(({name:S})=>S===`@astrojs/${D}`||S===D)}if(!f&&a.length===1&&(f=a[0]),!f){let _=(n=o.componentUrl)==null?void 0:n.split(".").pop();f=a.filter(({name:D})=>D===`@astrojs/${_}`||D===_)[0]}}if(f)o.hydrate==="only"?u=await fs(e,s?.fallback):{html:u,attrs:d}=await f.ssr.renderToStaticMarkup.call({result:e},r,h,g,o);else{if(o.hydrate==="only")throw new Error(`Unable to render ${o.displayName}!

Using the \`client:only\` hydration strategy, Astro needs a hint to use the correct renderer.
Did you mean to pass <${o.displayName} client:only="${p.map(_=>_.replace("@astrojs/","")).join("|")}" />
`);if(typeof r!="string"){let _=a.filter(S=>p.includes(S.name)),D=a.length>1;if(_.length===0)throw new Error(`Unable to render ${o.displayName}!

There ${D?"are":"is"} ${a.length} renderer${D?"s":""} configured in your \`astro.config.mjs\` file,
but ${D?"none were":"it was not"} able to server-side render ${o.displayName}.

Did you mean to enable ${uh(p.map(S=>"`"+S+"`"))}?`);if(_.length===1)f=_[0],{html:u,attrs:d}=await f.ssr.renderToStaticMarkup.call({result:e},r,h,g,o);else throw new Error(`Unable to render ${o.displayName}!

This component likely uses ${uh(p)},
but Astro encountered an error during server-side rendering.

Please ensure that ${o.displayName}:
1. Does not unconditionally access browser-specific globals like \`window\` or \`document\`.
   If this is unavoidable, use the \`client:only\` hydration directive.
2. Does not conditionally return \`null\` or \`undefined\` when rendered on the server.

If you're still stuck, please open an issue on GitHub or join us at https://astro.build/chat.`)}}if(f&&!f.clientEntrypoint&&f.name!=="@astrojs/lit"&&o.hydrate)throw new Error(`${o.displayName} component has a \`client:${o.hydrate}\` directive, but no client entrypoint was provided by ${f.name}!`);if(!u&&typeof r=="string"){let _=Object.values(g).join(""),D=Os(await tu`<${r}${ch(h)}${ct(_===""&&eo.test(r)?"/>":`>${_}</${r}>`)}`);u="";for await(let S of D)u+=S}if(!l)return async function*(){m&&(yield*m),c||f?.name==="astro:jsx"?yield u:yield ct(u.replace(/\<\/?astro-slot\>/g,""))}();let v=S_(`<!--${o.componentExport.value}:${o.componentUrl}-->
${u}
${nh(h,o)}`),x=await __({renderer:f,result:e,astroId:v,props:h,attrs:d},o),b=[];if(u){if(Object.keys(g).length>0)for(let _ of Object.keys(g))u.includes(_==="default"?"<astro-slot>":`<astro-slot name="${_}">`)||b.push(_)}else b=Object.keys(g);let y=b.length>0?b.map(_=>`<template data-astro-template${_!=="default"?`="${_}"`:""}>${g[_]}</template>`).join(""):"";x.children=`${u??""}${y}`,x.children&&(x.props["await-children"]="");async function*w(){m&&(yield*m),yield{type:"directive",hydration:l,result:e},yield ct(nl("astro-island",x,!1))}return w()}var E_,yg=ce(()=>{ui();ug();og();A_();eu();il();vg();Jc();iu();E_=new Map([["solid","solid-js"]])});function bg(e){e._metadata.hasRenderedHead=!0;let t=Array.from(e.styles).filter(xg).map(s=>nl("style",s));e.styles.clear();let r=Array.from(e.scripts).filter(xg).map((s,n)=>nl("script",s,!1)),i=Array.from(e.links).filter(xg).map(s=>nl("link",s,!1));return ct(i.join(`
`)+t.join(`
`)+r.join(`
`))}async function*hh(e){e._metadata.hasRenderedHead||(yield bg(e))}var xg,wg=ce(()=>{ui();iu();xg=(e,t,r)=>{let i=JSON.stringify(e.props),s=e.children;return t===r.findIndex(n=>JSON.stringify(n.props)===i&&n.children==s)}});function _N(){var e,t,r;return ph=(r=class extends Response{constructor(i,s){let n=i instanceof ReadableStream;super(n?null:i,s),C_(this,e,void 0),C_(this,t,void 0),T_(this,e,n),T_(this,t,i)}get body(){return su(this,t)}async text(){if(su(this,e)&&_g){let i=new TextDecoder,s=su(this,t),n="";for await(let a of s)n+=i.decode(a);return n}return super.text()}async arrayBuffer(){if(su(this,e)&&_g){let i=su(this,t),s=[],n=0;for await(let l of i)s.push(l),n+=l.length;let a=new Uint8Array(n),o=0;for(let l of s)a.set(l,o),o+=l.length;return a}return super.arrayBuffer()}},e=new WeakMap,t=new WeakMap,r),ph}var M_,su,C_,T_,_g,ph,L_,k_=ce(()=>{M_=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},su=(e,t,r)=>(M_(e,t,"read from private field"),r?r.call(e):t.get(e)),C_=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},T_=(e,t,r,i)=>(M_(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),_g=typeof process=="object"&&Object.prototype.toString.call(process)==="[object process]";L_=_g?(e,t)=>typeof e=="string"||ArrayBuffer.isView(e)?new Response(e,t):typeof ph>"u"?new(_N())(e,t):new ph(e,t):(e,t)=>new Response(e,t)});function DN(e){return P_ in e&&!!e[P_]}async function B_(e,t,r){let i=new oa,s=0;for await(let n of t)Zc(n)&&s===0&&(s++,/<!doctype html/i.test(String(n))||(i.append(`<!DOCTYPE html>
`,e),r&&await r(i))),i.append(n,e);return i.toArrayBuffer()}async function fh(e,t,r,i,s){if(!lh(t)){let a={...r??{},"server:root":!0},o=await Ka(e,t.name,t,a,null),l=await B_(e,o,async c=>{if(DN(t))for await(let h of hh(e))c.append(h,e)});return new Response(l,{headers:new Headers([["Content-Type","text/html; charset=utf-8"],["Content-Length",l.byteLength.toString()]])})}let n=await t(e,r,i);if(oh(n)){let a=Os(n),o=e.response,l=new Headers(o.headers),c;return s?c=new ReadableStream({start(u){async function d(){let p=0;try{for await(let g of a){Zc(g)&&p===0&&(/<!doctype html/i.test(String(g))||u.enqueue(ih.encode(`<!DOCTYPE html>
`)));let m=m_(e,g);u.enqueue(m),p++}u.close()}catch(g){u.error(g)}}d()}}):(c=await B_(e,a),l.set("Content-Length",c.byteLength.toString())),L_(c,{...o,headers:l})}if(!(n instanceof Response))throw new Error("Only instance of Response can be returned from an Astro file");return n}var P_,F_=ce(()=>{ui();k_();eu();il();yg();wg();P_=Symbol.for("astro.needsHeadRendering")});var mh=ce(()=>{eu();il();yg();vg();wg();F_();Jc();iu()});function v_(e,t,{class:r}={}){let i="";r&&(typeof e.class<"u"?e.class+=` ${r}`:typeof e["class:list"]<"u"?e["class:list"]=[e["class:list"],r]:e.class=r);for(let[s,n]of Object.entries(e))i+=ru(n,s,!0);return ct(i)}var tl=ce(()=>{Xw();Qw();ui();ng();mh();ui();mh();mh()});function jt(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),i=`\x1B[${e}m`,s=`\x1B[${t}m`;return function(n){return!SN.enabled||n==null?n:i+(~(""+n).indexOf(s)?n.replace(r,s+i):n)+s}}var Dg,O_,I_,R_,N_,SN,U_,ro,Sg,dye,hye,pye,fye,mye,gye,z_,vye,Ag,yye,xye,j_,bye,wye,_ye,Dye,Sye,Aye,Eye,Cye,Tye,Mye,Lye,Vr=ce(()=>{N_=!0;typeof process<"u"&&({FORCE_COLOR:Dg,NODE_DISABLE_COLORS:O_,NO_COLOR:I_,TERM:R_}=process.env||{},N_=process.stdout&&process.stdout.isTTY);SN={enabled:!O_&&I_==null&&R_!=="dumb"&&(Dg!=null&&Dg!=="0"||N_)};U_=jt(0,0),ro=jt(1,22),Sg=jt(2,22),dye=jt(3,23),hye=jt(4,24),pye=jt(7,27),fye=jt(8,28),mye=jt(9,29),gye=jt(30,39),z_=jt(31,39),vye=jt(32,39),Ag=jt(33,39),yye=jt(34,39),xye=jt(35,39),j_=jt(36,39),bye=jt(37,39),wye=jt(90,39),_ye=jt(90,39),Dye=jt(40,49),Sye=jt(41,49),Aye=jt(42,49),Eye=jt(43,49),Cye=jt(44,49),Tye=jt(45,49),Mye=jt(46,49),Lye=jt(47,49)});var H_=ce(()=>{});var V_=ce(()=>{H_()});var W_=Ue((Iye,Eg)=>{var la={};typeof Eg>"u"?window.eastasianwidth=la:Eg.exports=la;la.eastAsianWidth=function(e){var t=e.charCodeAt(0),r=e.length==2?e.charCodeAt(1):0,i=t;return 55296<=t&&t<=56319&&56320<=r&&r<=57343&&(t&=1023,r&=1023,i=t<<10|r,i+=65536),i==12288||65281<=i&&i<=65376||65504<=i&&i<=65510?"F":i==8361||65377<=i&&i<=65470||65474<=i&&i<=65479||65482<=i&&i<=65487||65490<=i&&i<=65495||65498<=i&&i<=65500||65512<=i&&i<=65518?"H":4352<=i&&i<=4447||4515<=i&&i<=4519||4602<=i&&i<=4607||9001<=i&&i<=9002||11904<=i&&i<=11929||11931<=i&&i<=12019||12032<=i&&i<=12245||12272<=i&&i<=12283||12289<=i&&i<=12350||12353<=i&&i<=12438||12441<=i&&i<=12543||12549<=i&&i<=12589||12593<=i&&i<=12686||12688<=i&&i<=12730||12736<=i&&i<=12771||12784<=i&&i<=12830||12832<=i&&i<=12871||12880<=i&&i<=13054||13056<=i&&i<=19903||19968<=i&&i<=42124||42128<=i&&i<=42182||43360<=i&&i<=43388||44032<=i&&i<=55203||55216<=i&&i<=55238||55243<=i&&i<=55291||63744<=i&&i<=64255||65040<=i&&i<=65049||65072<=i&&i<=65106||65108<=i&&i<=65126||65128<=i&&i<=65131||110592<=i&&i<=110593||127488<=i&&i<=127490||127504<=i&&i<=127546||127552<=i&&i<=127560||127568<=i&&i<=127569||131072<=i&&i<=194367||177984<=i&&i<=196605||196608<=i&&i<=262141?"W":32<=i&&i<=126||162<=i&&i<=163||165<=i&&i<=166||i==172||i==175||10214<=i&&i<=10221||10629<=i&&i<=10630?"Na":i==161||i==164||167<=i&&i<=168||i==170||173<=i&&i<=174||176<=i&&i<=180||182<=i&&i<=186||188<=i&&i<=191||i==198||i==208||215<=i&&i<=216||222<=i&&i<=225||i==230||232<=i&&i<=234||236<=i&&i<=237||i==240||242<=i&&i<=243||247<=i&&i<=250||i==252||i==254||i==257||i==273||i==275||i==283||294<=i&&i<=295||i==299||305<=i&&i<=307||i==312||319<=i&&i<=322||i==324||328<=i&&i<=331||i==333||338<=i&&i<=339||358<=i&&i<=359||i==363||i==462||i==464||i==466||i==468||i==470||i==472||i==474||i==476||i==593||i==609||i==708||i==711||713<=i&&i<=715||i==717||i==720||728<=i&&i<=731||i==733||i==735||768<=i&&i<=879||913<=i&&i<=929||931<=i&&i<=937||945<=i&&i<=961||963<=i&&i<=969||i==1025||1040<=i&&i<=1103||i==1105||i==8208||8211<=i&&i<=8214||8216<=i&&i<=8217||8220<=i&&i<=8221||8224<=i&&i<=8226||8228<=i&&i<=8231||i==8240||8242<=i&&i<=8243||i==8245||i==8251||i==8254||i==8308||i==8319||8321<=i&&i<=8324||i==8364||i==8451||i==8453||i==8457||i==8467||i==8470||8481<=i&&i<=8482||i==8486||i==8491||8531<=i&&i<=8532||8539<=i&&i<=8542||8544<=i&&i<=8555||8560<=i&&i<=8569||i==8585||8592<=i&&i<=8601||8632<=i&&i<=8633||i==8658||i==8660||i==8679||i==8704||8706<=i&&i<=8707||8711<=i&&i<=8712||i==8715||i==8719||i==8721||i==8725||i==8730||8733<=i&&i<=8736||i==8739||i==8741||8743<=i&&i<=8748||i==8750||8756<=i&&i<=8759||8764<=i&&i<=8765||i==8776||i==8780||i==8786||8800<=i&&i<=8801||8804<=i&&i<=8807||8810<=i&&i<=8811||8814<=i&&i<=8815||8834<=i&&i<=8835||8838<=i&&i<=8839||i==8853||i==8857||i==8869||i==8895||i==8978||9312<=i&&i<=9449||9451<=i&&i<=9547||9552<=i&&i<=9587||9600<=i&&i<=9615||9618<=i&&i<=9621||9632<=i&&i<=9633||9635<=i&&i<=9641||9650<=i&&i<=9651||9654<=i&&i<=9655||9660<=i&&i<=9661||9664<=i&&i<=9665||9670<=i&&i<=9672||i==9675||9678<=i&&i<=9681||9698<=i&&i<=9701||i==9711||9733<=i&&i<=9734||i==9737||9742<=i&&i<=9743||9748<=i&&i<=9749||i==9756||i==9758||i==9792||i==9794||9824<=i&&i<=9825||9827<=i&&i<=9829||9831<=i&&i<=9834||9836<=i&&i<=9837||i==9839||9886<=i&&i<=9887||9918<=i&&i<=9919||9924<=i&&i<=9933||9935<=i&&i<=9953||i==9955||9960<=i&&i<=9983||i==10045||i==10071||10102<=i&&i<=10111||11093<=i&&i<=11097||12872<=i&&i<=12879||57344<=i&&i<=63743||65024<=i&&i<=65039||i==65533||127232<=i&&i<=127242||127248<=i&&i<=127277||127280<=i&&i<=127337||127344<=i&&i<=127386||917760<=i&&i<=917999||983040<=i&&i<=1048573||1048576<=i&&i<=1114109?"A":"N"};la.characterLength=function(e){var t=this.eastAsianWidth(e);return t=="F"||t=="W"||t=="A"?2:1};function G_(e){return e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}la.length=function(e){for(var t=G_(e),r=0,i=0;i<t.length;i++)r=r+this.characterLength(t[i]);return r};la.slice=function(e,t,r){textLen=la.length(e),t=t||0,r=r||1,t<0&&(t=textLen+t),r<0&&(r=textLen+r);for(var i="",s=0,n=G_(e),a=0;a<n.length;a++){var o=n[a],l=la.length(o);if(s>=t-(l==2?1:0))if(s+l<=r)i+=o;else break;s+=l}return i}});var Y_=Ue((Rye,q_)=>{"use strict";q_.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});var AN,EN,di=ce(()=>{V_();AN=st(W_(),1),EN=st(Y_(),1)});function Q_(e,t,r,i){let s=e.level,n=e.dest,a={type:r,level:t,message:i};nu[s]>nu[t]||n.write(a)}function ms(e,t,r){return Q_(e,"warn",t,r)}function Z_(e,t,r){return Q_(e,"error",t,r)}function $_(...e){"_astroGlobalDebug"in globalThis&&globalThis._astroGlobalDebug(...e)}var X_,nu,gh,al=ce(()=>{Vr();di();X_=new Intl.DateTimeFormat([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),nu={debug:20,info:30,warn:40,error:50,silent:90};typeof process<"u"?process.argv.includes("--verbose")?gh="debug":process.argv.includes("--silent")?gh="silent":gh="info":gh="info"});function J_([e,t]){if(!CN.includes(typeof t))throw new Error(`[getStaticPaths] invalid route parameter for "${e}". Expected a string or number, received \`${t}\` ("${typeof t}")`)}function K_(e,{ssr:t,logging:r}){if(e.createCollection)throw new Error("[createCollection] deprecated. Please use getStaticPaths() instead.");if(t&&e.getStaticPaths&&ms(r,"getStaticPaths",'getStaticPaths() is ignored when "output: server" is set.'),!t&&!e.getStaticPaths)throw new Error('[getStaticPaths] getStaticPaths() function is required.\nMake sure that you `export` a `getStaticPaths` function from your dynamic route.\nAlternatively, set `output: "server"` in your Astro config file to switch to a non-static server build. ')}function eD(e,t){if(!Array.isArray(e))throw new Error(`[getStaticPaths] invalid return value. Expected an array of path objects, but got \`${JSON.stringify(e)}\`.`);e.forEach(r=>{if(!r.params){ms(t,"getStaticPaths",`invalid path object. Expected an object with key \`params\`, but got \`${JSON.stringify(r)}\`. Skipped.`);return}for(let[i,s]of Object.entries(r.params))typeof s>"u"||typeof s=="string"||ms(t,"getStaticPaths",`invalid path param: ${i}. A string value was expected, but got \`${JSON.stringify(s)}\`.`),s===""&&ms(t,"getStaticPaths",`invalid path param: ${i}. \`undefined\` expected for an optional param, but got empty string.`)})}var CN,Cg=ce(()=>{al();CN=["string","number","undefined"]});function tD(e){return r=>{let i={};return e.forEach((s,n)=>{s.startsWith("...")?i[s.slice(3)]=r[n+1]?decodeURIComponent(r[n+1]):void 0:i[s]=decodeURIComponent(r[n+1])}),i}}function Tg(e){let t=Object.entries(e).reduce((r,i)=>{J_(i);let[s,n]=i;return r[s]=typeof n>"u"?void 0:`${n}`,r},{});return JSON.stringify(t,Object.keys(e).sort())}var Mg=ce(()=>{Cg()});var TN,MN,rD,iD=ce(()=>{TN=new Set([".js",".ts"]),MN=new RegExp(`\\.(${Array.from(TN).map(e=>e.slice(1)).join("|")})($|\\?)`),rD=e=>MN.test(e)});var LN,kN,sD,nD=ce(()=>{LN=new Set([".css",".pcss",".postcss",".scss",".sass",".styl",".stylus",".less"]),kN=new RegExp(`\\.(${Array.from(LN).map(e=>e.slice(1)).join("|")})($|\\?)`),sD=e=>kN.test(e)});function PN(e){return function(){throw new Error(`Oops, you are trying to use ${e}, which is only available with SSR.`)}}function BN(e){var t;if(!!e&&((t=e.expressions)==null?void 0:t.length)===1)return e.expressions[0]}function lD(e){let{markdown:t,params:r,pathname:i,renderers:s,request:n,resolve:a}=e,o=new URL(n.url),l=new Headers;l.set("Content-Type","text/html");let c={status:e.status,statusText:"OK",headers:l};Object.defineProperty(c,"headers",{value:c.headers,enumerable:!0,writable:!1});let h,u={styles:e.styles??new Set,scripts:e.scripts??new Set,links:e.links??new Set,cookies:h,createAstro(d,p,g){let m=new Pg(u,g,e.logging),f={__proto__:d,get clientAddress(){if(!(aD in n))throw e.adapterName?new Error(`Astro.clientAddress is not available in the ${e.adapterName} adapter. File an issue with the adapter to add support.`):new Error("Astro.clientAddress is not available in your environment. Ensure that you are using an SSR adapter that supports this feature.");return Reflect.get(n,aD)},get cookies(){return h||(h=new Qa(n),u.cookies=h,h)},params:r,props:p,request:n,url:o,redirect:e.ssr?(v,x)=>new Response(null,{status:x||302,headers:{Location:v}}):PN("Astro.redirect"),resolve(v){let x=`This can be replaced with a dynamic import like so: await import("${v}")`;return sD(v)?x=`It looks like you are resolving styles. If you are adding a link tag, replace with this:
---
import "${v}";
---
`:rD(v)&&(x=`It looks like you are resolving scripts. If you are adding a script tag, replace with this:

<script type="module" src={(await import("${v}?url")).default}><\/script>

or consider make it a module like so:

<script>
	import MyModule from "${v}";
<\/script>
`),ms(e.logging,"deprecation",`${ro("Astro.resolve()")} is deprecated. We see that you are trying to resolve ${v}.
${x}`),""},response:c,slots:m};return Object.defineProperty(f,"canonicalURL",{get:function(){return ms(e.logging,"deprecation",`${ro("Astro.canonicalURL")} is deprecated! Use \`Astro.url\` instead.
Example:

---
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---
`),new URL(this.request.url.pathname,this.site)}}),Object.defineProperty(f,"__renderMarkdown",{enumerable:!1,writable:!1,value:async function(v,x){if(typeof Deno<"u")throw new Error("Markdown is not supported in Deno SSR");if(!kg){let y="@astrojs/";y+="markdown-remark",kg=(await import(y)).renderMarkdown}let{code:b}=await kg(v,{...t,...x??{}});return b}}),f},resolve:a,_metadata:{renderers:s,pathname:i,hasHydrationScript:!1,hasRenderedHead:!1,hasDirectives:new Set},response:c};return u}var oD,Ci,vh,Lg,au,ol,ca,yh,aD,Pg,kg,cD=ce(()=>{Vr();tl();ng();Qc();al();iD();nD();oD=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Ci=(e,t,r)=>(oD(e,t,"read from private field"),r?r.call(e):t.get(e)),vh=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Lg=(e,t,r,i)=>(oD(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),aD=Symbol.for("astro.clientAddress");Pg=class{constructor(t,r,i){if(vh(this,au,new Map),vh(this,ol,void 0),vh(this,ca,void 0),vh(this,yh,void 0),Lg(this,ol,t),Lg(this,ca,r),Lg(this,yh,i),r)for(let s of Object.keys(r)){if(this[s]!==void 0)throw new Error(`Unable to create a slot named "${s}". "${s}" is a reserved slot name!
Please update the name of this slot.`);Object.defineProperty(this,s,{get(){return!0},enumerable:!0})}}has(t){return Ci(this,ca)?Boolean(Ci(this,ca)[t]):!1}async render(t,r=[]){let i=r.length===0;if(!Ci(this,ca))return;if(i&&Ci(this,au).has(t))return Ci(this,au).get(t);if(!this.has(t))return;if(!i){let n=await Ci(this,ca)[t]();if(!Array.isArray(r))ms(Ci(this,yh),"Astro.slots.render",`Expected second parameter to be an array, received a ${typeof r}. If you're trying to pass an array as a single argument and getting unexpected results, make sure you're passing your array as a item of an array. Ex: Astro.slots.render('default', [["Hello", "World"]])`);else{let a=BN(n);if(a){let o=a(...r);return await fs(Ci(this,ol),o).then(l=>l!=null?String(l):l)}if(typeof n=="function")return await ps(Ci(this,ol),n(...r)).then(o=>o!=null?String(o):o)}}let s=await fs(Ci(this,ol),Ci(this,ca)[t]).then(n=>n!=null?String(n):n);return i&&Ci(this,au).set(t,s),s}};au=new WeakMap;ol=new WeakMap;ca=new WeakMap;yh=new WeakMap;kg=null});function uD(e){return function(r,i={}){let{pageSize:s,params:n,props:a}=i,o=s||10,l="page",c=n||{},h=a||{},u;if(e.params.includes(`...${l}`))u=!1;else if(e.params.includes(`${l}`))u=!0;else throw new Error(`[paginate()] page number param \`${l}\` not found in your filepath.
Rename your file to \`[...page].astro\` or customize the param name via the \`paginate([], {param: '...'}\` option.`);let d=Math.max(1,Math.ceil(r.length/o));return[...Array(d).keys()].map(g=>{let m=g+1,f=o===1/0?0:(m-1)*o,v=Math.min(f+o,r.length),x={...c,[l]:u||m>1?String(m):void 0};return{params:x,props:{...h,page:{data:r.slice(f,v),start:f,end:v-1,size:o,total:r.length,currentPage:m,lastPage:d,url:{current:e.generate({...x}),next:m===d?void 0:e.generate({...x,page:String(m+1)}),prev:m===1?void 0:e.generate({...x,page:!u&&m-1===1?void 0:String(m-1)})}}}}})}}var dD=ce(()=>{});async function hD({isValidate:e,logging:t,mod:r,route:i,ssr:s}){if(K_(r,{ssr:s,logging:t}),s)return{staticPaths:Object.assign([],{keyed:new Map})};if(!r.getStaticPaths)throw new Error("Unexpected Error.");let n=[];n=(await r.getStaticPaths({paginate:uD(i),rss(){throw new Error("The RSS helper has been removed from getStaticPaths! Try the new @astrojs/rss package instead. See https://docs.astro.build/en/guides/rss/")}})).flat();let a=n;a.keyed=new Map;for(let o of a){let l=Tg(o.params);a.keyed.set(l,o)}return e&&eD(a,t),{staticPaths:a}}function pD(e,t){let r=Tg(t),i=e.keyed.get(r);if(i)return i;$_("findPathItemByKey",`Unexpected cache miss looking for ${r}`)}var ou,xh=ce(()=>{al();Mg();Cg();dD();ou=class{constructor(t,r="production"){this.cache={},this.logging=t,this.mode=r}clearAll(){this.cache={}}set(t,r){this.mode==="production"&&this.cache[t.component]&&ms(this.logging,"routeCache",`Internal Warning: route cache overwritten. (${t.component})`),this.cache[t.component]=r}get(t){return this.cache[t.component]}}});async function wh(e){let{logging:t,mod:r,route:i,routeCache:s,pathname:n,ssr:a}=e,o={},l;if(i&&!i.pathname){if(i.params.length){let u=i.pattern.exec(n);u&&(o=tD(i.params)(u))}let c=s.get(i);c||(c=await hD({mod:r,route:i,isValidate:!0,logging:t,ssr:a}),s.set(i,c));let h=pD(c.staticPaths,o);if(!h&&!a)return 0;l=h?.props?{...h.props}:{}}else l={};return[o,l]}async function Bg(e,t,r){let i=await wh({logging:r.logging,mod:e,route:t.route,routeCache:r.routeCache,pathname:t.pathname,ssr:r.ssr});if(i===0)throw new Error(`[getStaticPath] route pattern matched, but no matching static path found. (${t.pathname})`);let[s,n]=i,a=e.default;if(!a)throw new Error(`Expected an exported Astro component but received typeof ${typeof a}`);let o=lD({adapterName:r.adapterName,links:t.links,styles:t.styles,logging:r.logging,markdown:r.markdown,mode:r.mode,origin:t.origin,params:s,props:n,pathname:t.pathname,resolve:r.resolve,renderers:r.renderers,request:t.request,site:r.site,scripts:t.scripts,ssr:r.ssr,status:t.status??200});typeof e.components=="object"&&Object.assign(n,{components:e.components}),typeof e.default=="function"&&e.default.name.startsWith("MDX")&&Object.assign(n,{components:Object.assign(n?.components??{},{Fragment:$a})});let l=await fh(o,a,n,null,r.streaming);return o.cookies&&Za(l,o.cookies),l}var bh,Fg=ce(()=>{tl();Qc();Mg();cD();xh();bh=(e=>(e[e.NoMatchingStaticPath=0]="NoMatchingStaticPath",e))(bh||{})});function FN({request:e,params:t,site:r,props:i,adapterName:s}){return{cookies:new Qa(e),request:e,params:t,site:r?new URL(r):void 0,generator:`Astro v${$m}`,props:i,redirect(n,a){return new Response(null,{status:a||302,headers:{Location:n}})},url:new URL(e.url),get clientAddress(){if(!(fD in e))throw s?new Error(`clientAddress is not available in the ${s} adapter. File an issue with the adapter to add support.`):new Error("clientAddress is not available in your environment. Ensure that you are using an SSR adapter that supports this feature.");return Reflect.get(e,fD)}}}async function mD(e,t,r){let i=await wh({mod:e,route:r.route,routeCache:t.routeCache,pathname:r.pathname,logging:t.logging,ssr:t.ssr});if(i===bh.NoMatchingStaticPath)throw new Error(`[getStaticPath] route pattern matched, but no matching static path found. (${r.pathname})`);let[s,n]=i,a=FN({request:r.request,params:s,props:n,site:t.site,adapterName:t.adapterName}),o=await Km(e,a,t.ssr);return o instanceof Response?(Za(o,a.cookies),{type:"response",response:o}):{type:"simple",body:o.body,encoding:o.encoding,cookies:a.cookies}}var fD,gD=ce(()=>{tl();Jm();Qc();Fg();fD=Symbol.for("astro.clientAddress")});var vD,Og,yD,xD=ce(()=>{Vr();al();Og=1,yD={write(e){let t=console.error;nu[e.level]<nu.error&&(t=console.log);function r(){let n="",a=e.type;return a&&(n+=Sg(X_.format(new Date)+" "),e.level==="info"?a=ro(j_(`[${a}]`)):e.level==="warn"?a=ro(Ag(`[${a}]`)):e.level==="error"&&(a=ro(z_(`[${a}]`))),n+=`${a} `),U_(n)}let i=e.message;i===vD?(Og++,i=`${i} ${Ag(`(x${Og})`)}`):(vD=i,Og=1);let s=r()+i;return t(s),!0}}});function bD(e){return e.endsWith("/")?e:e+"/"}function wD(e){return e[0]==="/"?e:"/"+e}function ON(e){return e.replace(/^\/|\/$/g,"")}function IN(e){return typeof e=="string"||e instanceof String}function _D(...e){return e.filter(IN).map(ON).join("/")}var Ig=ce(()=>{});function _h(e){let t=e.request,r=new URL(t.url),i=e.origin??r.origin,s=e.pathname??r.pathname;return{...e,origin:i,pathname:s,url:r}}var DD=ce(()=>{});var SD=ce(()=>{xh()});var AD=ce(()=>{});var ED=ce(()=>{DD();Fg();SD();AD()});var hi=Ue((R1e,TD)=>{"use strict";function Is(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function CD(e,t){for(var r="",i=0,s=-1,n=0,a,o=0;o<=e.length;++o){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(s===o-1||n===1))if(s!==o-1&&n===2){if(r.length<2||i!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",i=0):(r=r.slice(0,l),i=r.length-1-r.lastIndexOf("/")),s=o,n=0;continue}}else if(r.length===2||r.length===1){r="",i=0,s=o,n=0;continue}}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(s+1,o):r=e.slice(s+1,o),i=o-s-1;s=o,n=0}else a===46&&n!==-1?++n:n=-1}return r}function NN(e,t){var r=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+i:r+e+i:i}var ll={resolve:function(){for(var t="",r=!1,i,s=arguments.length-1;s>=-1&&!r;s--){var n;s>=0?n=arguments[s]:(i===void 0&&(i=process.cwd()),n=i),Is(n),n.length!==0&&(t=n+"/"+t,r=n.charCodeAt(0)===47)}return t=CD(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(Is(t),t.length===0)return".";var r=t.charCodeAt(0)===47,i=t.charCodeAt(t.length-1)===47;return t=CD(t,!r),t.length===0&&!r&&(t="."),t.length>0&&i&&(t+="/"),r?"/"+t:t},isAbsolute:function(t){return Is(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,r=0;r<arguments.length;++r){var i=arguments[r];Is(i),i.length>0&&(t===void 0?t=i:t+="/"+i)}return t===void 0?".":ll.normalize(t)},relative:function(t,r){if(Is(t),Is(r),t===r||(t=ll.resolve(t),r=ll.resolve(r),t===r))return"";for(var i=1;i<t.length&&t.charCodeAt(i)===47;++i);for(var s=t.length,n=s-i,a=1;a<r.length&&r.charCodeAt(a)===47;++a);for(var o=r.length,l=o-a,c=n<l?n:l,h=-1,u=0;u<=c;++u){if(u===c){if(l>c){if(r.charCodeAt(a+u)===47)return r.slice(a+u+1);if(u===0)return r.slice(a+u)}else n>c&&(t.charCodeAt(i+u)===47?h=u:u===0&&(h=0));break}var d=t.charCodeAt(i+u),p=r.charCodeAt(a+u);if(d!==p)break;d===47&&(h=u)}var g="";for(u=i+h+1;u<=s;++u)(u===s||t.charCodeAt(u)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+r.slice(a+h):(a+=h,r.charCodeAt(a)===47&&++a,r.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(Is(t),t.length===0)return".";for(var r=t.charCodeAt(0),i=r===47,s=-1,n=!0,a=t.length-1;a>=1;--a)if(r=t.charCodeAt(a),r===47){if(!n){s=a;break}}else n=!1;return s===-1?i?"/":".":i&&s===1?"//":t.slice(0,s)},basename:function(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');Is(t);var i=0,s=-1,n=!0,a;if(r!==void 0&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var o=r.length-1,l=-1;for(a=t.length-1;a>=0;--a){var c=t.charCodeAt(a);if(c===47){if(!n){i=a+1;break}}else l===-1&&(n=!1,l=a+1),o>=0&&(c===r.charCodeAt(o)?--o===-1&&(s=a):(o=-1,s=l))}return i===s?s=l:s===-1&&(s=t.length),t.slice(i,s)}else{for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!n){i=a+1;break}}else s===-1&&(n=!1,s=a+1);return s===-1?"":t.slice(i,s)}},extname:function(t){Is(t);for(var r=-1,i=0,s=-1,n=!0,a=0,o=t.length-1;o>=0;--o){var l=t.charCodeAt(o);if(l===47){if(!n){i=o+1;break}continue}s===-1&&(n=!1,s=o+1),l===46?r===-1?r=o:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||s===-1||a===0||a===1&&r===s-1&&r===i+1?"":t.slice(r,s)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return NN("/",t)},parse:function(t){Is(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return r;var i=t.charCodeAt(0),s=i===47,n;s?(r.root="/",n=1):n=0;for(var a=-1,o=0,l=-1,c=!0,h=t.length-1,u=0;h>=n;--h){if(i=t.charCodeAt(h),i===47){if(!c){o=h+1;break}continue}l===-1&&(c=!1,l=h+1),i===46?a===-1?a=h:u!==1&&(u=1):a!==-1&&(u=-1)}return a===-1||l===-1||u===0||u===1&&a===l-1&&a===o+1?l!==-1&&(o===0&&s?r.base=r.name=t.slice(1,l):r.base=r.name=t.slice(o,l)):(o===0&&s?(r.name=t.slice(1,a),r.base=t.slice(1,l)):(r.name=t.slice(o,a),r.base=t.slice(o,l)),r.ext=t.slice(a,l)),o>0?r.dir=t.slice(0,o-1):s&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};ll.posix=ll;TD.exports=ll});function UN(e){return bD(new URL(e||"http://localhost/").pathname)}function LD(e,t){return MD.default.posix.join(UN(t),e)}function zN(e,t){return{props:{rel:"stylesheet",href:LD(e,t)},children:""}}function kD(e,t){return new Set(e.map(r=>zN(r,t)))}function PD(e,t){return e.type==="external"?jN(e.value,t):{props:{type:"module"},children:e.value}}function jN(e,t){return{props:{type:"module",src:LD(e,t)},children:""}}var MD,BD=ce(()=>{MD=st(hi(),1);Ig()});function Dh(e,t){return t.routes.find(r=>r.pattern.test(e))}var FD=ce(()=>{});function HN(e){for(var t=[],r=0;r<e.length;){var i=e[r];if(i==="*"||i==="+"||i==="?"){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if(i==="\\"){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if(i==="{"){t.push({type:"OPEN",index:r,value:e[r++]});continue}if(i==="}"){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(i===":"){for(var s="",n=r+1;n<e.length;){var a=e.charCodeAt(n);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){s+=e[n++];continue}break}if(!s)throw new TypeError("Missing parameter name at ".concat(r));t.push({type:"NAME",index:r,value:s}),r=n;continue}if(i==="("){var o=1,l="",n=r+1;if(e[n]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(n));for(;n<e.length;){if(e[n]==="\\"){l+=e[n++]+e[n++];continue}if(e[n]===")"){if(o--,o===0){n++;break}}else if(e[n]==="("&&(o++,e[n+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(n));l+=e[n++]}if(o)throw new TypeError("Unbalanced pattern at ".concat(r));if(!l)throw new TypeError("Missing pattern at ".concat(r));t.push({type:"PATTERN",index:r,value:l}),r=n;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}function VN(e,t){t===void 0&&(t={});for(var r=HN(e),i=t.prefixes,s=i===void 0?"./":i,n="[^".concat(WN(t.delimiter||"/#?"),"]+?"),a=[],o=0,l=0,c="",h=function(_){if(l<r.length&&r[l].type===_)return r[l++].value},u=function(_){var D=h(_);if(D!==void 0)return D;var S=r[l],A=S.type,E=S.index;throw new TypeError("Unexpected ".concat(A," at ").concat(E,", expected ").concat(_))},d=function(){for(var _="",D;D=h("CHAR")||h("ESCAPED_CHAR");)_+=D;return _};l<r.length;){var p=h("CHAR"),g=h("NAME"),m=h("PATTERN");if(g||m){var f=p||"";s.indexOf(f)===-1&&(c+=f,f=""),c&&(a.push(c),c=""),a.push({name:g||o++,prefix:f,suffix:"",pattern:m||n,modifier:h("MODIFIER")||""});continue}var v=p||h("ESCAPED_CHAR");if(v){c+=v;continue}c&&(a.push(c),c="");var x=h("OPEN");if(x){var f=d(),b=h("NAME")||"",y=h("PATTERN")||"",w=d();u("CLOSE"),a.push({name:b||(y?o++:""),pattern:b&&!y?n:y,prefix:f,suffix:w,modifier:h("MODIFIER")||""});continue}u("END")}return a}function OD(e,t){return GN(VN(e,t),t)}function GN(e,t){t===void 0&&(t={});var r=qN(t),i=t.encode,s=i===void 0?function(l){return l}:i,n=t.validate,a=n===void 0?!0:n,o=e.map(function(l){if(typeof l=="object")return new RegExp("^(?:".concat(l.pattern,")$"),r)});return function(l){for(var c="",h=0;h<e.length;h++){var u=e[h];if(typeof u=="string"){c+=u;continue}var d=l?l[u.name]:void 0,p=u.modifier==="?"||u.modifier==="*",g=u.modifier==="*"||u.modifier==="+";if(Array.isArray(d)){if(!g)throw new TypeError('Expected "'.concat(u.name,'" to not repeat, but got an array'));if(d.length===0){if(p)continue;throw new TypeError('Expected "'.concat(u.name,'" to not be empty'))}for(var m=0;m<d.length;m++){var f=s(d[m],u);if(a&&!o[h].test(f))throw new TypeError('Expected all "'.concat(u.name,'" to match "').concat(u.pattern,'", but got "').concat(f,'"'));c+=u.prefix+f+u.suffix}continue}if(typeof d=="string"||typeof d=="number"){var f=s(String(d),u);if(a&&!o[h].test(f))throw new TypeError('Expected "'.concat(u.name,'" to match "').concat(u.pattern,'", but got "').concat(f,'"'));c+=u.prefix+f+u.suffix;continue}if(!p){var v=g?"an array":"a string";throw new TypeError('Expected "'.concat(u.name,'" to be ').concat(v))}}return c}}function WN(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function qN(e){return e&&e.sensitive?"":"i"}var ID=ce(()=>{});var RD=ce(()=>{});var ND=ce(()=>{RD()});var UD=ce(()=>{ND()});var jD,zg,Gr,ua,Sh,Rg,cu,da,cl,Eh,jg,lu,Ah,Ng,Ug,zD,YN,axe,Ch,HD=ce(()=>{jD=st(li(),1);Qc();gD();xD();al();Ig();ED();xh();BD();FD();UD();zg=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Gr=(e,t,r)=>(zg(e,t,"read from private field"),r?r.call(e):t.get(e)),ua=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Sh=(e,t,r,i)=>(zg(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),Rg=(e,t,r)=>(zg(e,t,"access private method"),r),YN="@astrojs-pages-virtual-entry",axe="\0"+YN,Ch=class{constructor(t,r=!0){ua(this,Ah),ua(this,Ug),ua(this,cu,void 0),ua(this,da,void 0),ua(this,cl,void 0),ua(this,Eh,void 0),ua(this,jg,new TextEncoder),ua(this,lu,{dest:yD,level:"info"}),Sh(this,da,t),Sh(this,cl,{routes:t.routes.map(i=>i.routeData)}),Sh(this,Eh,new Map(t.routes.map(i=>[i.routeData,i]))),Sh(this,cu,{adapterName:t.adapterName,logging:Gr(this,lu),markdown:t.markdown,mode:"production",renderers:t.renderers,async resolve(i){if(!(i in t.entryModules))throw new Error(`Unable to resolve [${i}]`);let s=t.entryModules[i];switch(!0){case s.startsWith("data:"):case s.length===0:return s;default:return wD(_D(t.base,s))}},routeCache:new ou(Gr(this,lu)),site:Gr(this,da).site,ssr:!0,streaming:r})}match(t,{matchNotFound:r=!1}={}){let i=new URL(t.url);if(Gr(this,da).assets.has(i.pathname))return;let s=Dh(i.pathname,Gr(this,cl));return s||(r?Dh("/404",Gr(this,cl)):void 0)}async render(t,r){let i=200;if(!r&&(r=this.match(t),r||(i=404,r=this.match(t,{matchNotFound:!0})),!r))return new Response(null,{status:404,statusText:"Not found"});r.route==="/404"&&(i=404);let s=Gr(this,da).pageMap.get(r.component);if(r.type==="page"){let n=await Rg(this,Ah,Ng).call(this,t,r,s,i);if(n.status===500){let a=Dh("/500",Gr(this,cl));if(a){s=Gr(this,da).pageMap.get(a.component);try{return await Rg(this,Ah,Ng).call(this,t,a,s,500)}catch{}}}return n}else{if(r.type==="endpoint")return Rg(this,Ug,zD).call(this,t,r,s,i);throw new Error(`Unsupported route type [${r.type}].`)}}setCookieHeaders(t){return Zm(t)}};cu=new WeakMap;da=new WeakMap;cl=new WeakMap;Eh=new WeakMap;jg=new WeakMap;lu=new WeakMap;Ah=new WeakSet;Ng=async function(e,t,r,i=200){let s=new URL(e.url),n=Gr(this,da),a=n.renderers,o=Gr(this,Eh).get(t),l=kD(o.links,n.site),c=new Set;for(let h of o.scripts)"stage"in h?h.stage==="head-inline"&&c.add({props:{},children:h.children}):c.add(PD(h,n.site));try{let h=_h({request:e,origin:s.origin,pathname:s.pathname,scripts:c,links:l,route:t,status:i});return await Bg(r,h,Gr(this,cu))}catch(h){return Z_(Gr(this,lu),"ssr",h.stack||h.message||String(h)),new Response(null,{status:500,statusText:"Internal server error"})}};Ug=new WeakSet;zD=async function(e,t,r,i=200){let s=new URL(e.url),n=r,a=_h({request:e,origin:s.origin,pathname:s.pathname,route:t,status:i}),o=await mD(n,Gr(this,cu),a);if(o.type==="response"){if(o.response.headers.get("X-Astro-Response")==="Not-Found"){let l=new Request(new URL("/404",e.url)),c=this.match(l);if(c)return this.render(l,c)}return o.response}else{let l=o.body,c=new Headers,h=jD.default.getType(s.pathname);h?c.set("Content-Type",`${h};charset=utf-8`):c.set("Content-Type","text/plain;charset=utf-8");let u=Gr(this,jg).encode(l);c.set("Content-Length",u.byteLength.toString());let d=new Response(u,{status:200,headers:c});return Za(d,o.cookies),d}}});var Th={};ds(Th,{createExports:()=>Hg});function Hg(e){let t=new Ch(e,!1);return{onRequest:async({request:i,next:s})=>{let{origin:n,pathname:a}=new URL(i.url);if(e.assets.has(a)){let l=new Request(`${n}/static${a}`,i);return s(l)}let o=t.match(i,{matchNotFound:!0});if(o){Reflect.set(i,Symbol.for("astro.clientAddress"),i.headers.get("cf-connecting-ip"));let l=await t.render(i,o);if(t.setCookieHeaders)for(let c of t.setCookieHeaders(l))l.headers.append("Set-Cookie",c);return l}return new Response(null,{status:404,statusText:"Not found"})}}}var Ti=ce(()=>{Fw();HD()});var XN,VD,QN,ZN,Vg,$N,GD,JN,KN,uu,e6,t6,r6,Mh,i6,WD,s6,n6,Gg,Mi=ce(()=>{"use strict";XN="_icon_container_1x0j0_1",VD={icon_container:XN},QN="_item_container_16j53_1",ZN="_item_link_16j53_9",Vg={item_container:QN,item_link:ZN},$N="_link_container_q31q0_1",GD={link_container:$N},JN="_burger_container_kr12g_1",KN="_nav_bar_kr12g_14",uu={burger_container:JN,nav_bar:KN},e6="_item_container_1azd5_1",t6="_item_icon_1azd5_13",r6="_item_label_1azd5_17",Mh={item_container:e6,item_icon:t6,item_label:r6},i6="_mobile_nav_container_ula4n_1",WD={mobile_nav_container:i6},s6="_drawer_click_layer_150ww_1",n6="_drawer_container_150ww_12",Gg={drawer_click_layer:s6,drawer_container:n6}});var a6,qD,o6,l6,c6,u6,d6,h6,io,Li=ce(()=>{"use strict";a6="_the_input_1y2rc_1",qD={the_input:a6},o6="_form_container_mzgsc_1",l6="_input_container_mzgsc_11",c6="_fake_input_mzgsc_20",u6="_real_input_mzgsc_26",d6="_button_container_mzgsc_35",h6="_check_icon_mzgsc_44",io={form_container:o6,input_container:l6,fake_input:c6,real_input:u6,button_container:d6,check_icon:h6}});var p6,f6,m6,Lh,g6,v6,y6,x6,du,b6,w6,Wg,ki=ce(()=>{"use strict";p6="_container_1ip7u_1",f6="_question_label_1ip7u_11",m6="_options_container_1ip7u_18",Lh={container:p6,question_label:f6,options_container:m6},g6="_label_container_6gsxw_1",v6="_indicator_6gsxw_22",y6="_indicator_selected_6gsxw_34 _indicator_6gsxw_22",x6="_checkbox_input_6gsxw_39",du={label_container:g6,indicator:v6,indicator_selected:y6,checkbox_input:x6},b6="_form_container_9zblx_1",w6="_inputs_container_9zblx_11",Wg={form_container:b6,inputs_container:w6}});var _6,D6,S6,A6,E6,so,C6,T6,M6,L6,k6,ul,Pi=ce(()=>{"use strict";_6="_option_container_174vo_1",D6="_option_label_container_174vo_13",S6="_option_input_174vo_34",A6="_option_label_174vo_13",E6="_option_label_active_174vo_57 _option_label_174vo_13",so={option_container:_6,option_label_container:D6,option_input:S6,option_label:A6,option_label_active:E6},C6="_slider_input_container_10i5m_1",T6="_slider_option_container_10i5m_10",M6="_slider_input_label_10i5m_29",L6="_slider_input_label_value_10i5m_37",k6="_slider_knob_10i5m_41",ul={slider_input_container:C6,slider_option_container:T6,slider_input_label:M6,slider_input_label_value:L6,slider_knob:k6}});function qg(e,t){e.indexOf(t)===-1&&e.push(t)}var YD=ce(()=>{});var hu,Yg=ce(()=>{hu=(e,t,r)=>Math.min(Math.max(r,e),t)});var kr,XD=ce(()=>{kr={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"}});var gs,kh=ce(()=>{gs=e=>typeof e=="number"});var Rs,Xg=ce(()=>{kh();Rs=e=>Array.isArray(e)&&!gs(e[0])});var QD,ZD=ce(()=>{QD=(e,t,r)=>{let i=t-e;return((r-e)%i+i)%i+e}});function $D(e,t){return Rs(e)?e[QD(0,e.length,t)]:e}var JD=ce(()=>{Xg();ZD()});var Ph,Qg=ce(()=>{Ph=(e,t,r)=>-r*e+r*t+e});var pu,dr,Zg=ce(()=>{pu=()=>{},dr=e=>e});var no,Bh=ce(()=>{no=(e,t,r)=>t-e===0?1:(r-e)/(t-e)});function $g(e,t){let r=e[e.length-1];for(let i=1;i<=t;i++){let s=no(0,t,i);e.push(Ph(r,1,s))}}function KD(e){let t=[0];return $g(t,e-1),t}var e2=ce(()=>{Qg();Bh()});function Jg(e,t=KD(e.length),r=dr){let i=e.length,s=i-t.length;return s>0&&$g(t,s),n=>{let a=0;for(;a<i-2&&!(n<t[a+1]);a++);let o=hu(0,1,no(t[a],t[a+1],n));return o=$D(r,a)(o),Ph(e[a],e[a+1],o)}}var t2=ce(()=>{Qg();Zg();e2();Bh();JD();Yg()});var fu,r2=ce(()=>{kh();fu=e=>Array.isArray(e)&&gs(e[0])});var dl,i2=ce(()=>{dl=e=>typeof e=="object"&&Boolean(e.createAnimation)});var Bi,s2=ce(()=>{Bi=e=>typeof e=="function"});var mu,n2=ce(()=>{mu=e=>typeof e=="string"});var Ns,a2=ce(()=>{Ns={ms:e=>e*1e3,s:e=>e/1e3}});function Kg(e,t){return t?e*(1e3/t):0}var o2=ce(()=>{});var Fr=ce(()=>{YD();Yg();XD();t2();r2();i2();Xg();s2();kh();n2();Zg();Bh();a2();o2()});function F6(e,t,r,i,s){let n,a,o=0;do a=t+(r-t)/2,n=l2(a,i,s)-e,n>0?r=a:t=a;while(Math.abs(n)>P6&&++o<B6);return a}function ao(e,t,r,i){if(e===t&&r===i)return dr;let s=n=>F6(n,0,1,e,r);return n=>n===0||n===1?n:l2(s(n),t,i)}var l2,P6,B6,c2=ce(()=>{Fr();l2=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,P6=1e-7,B6=12});var ev,u2=ce(()=>{Fr();ev=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);let i=r*e,s=t==="end"?Math.floor(i):Math.ceil(i);return hu(0,1,s/e)}});var d2=ce(()=>{c2();u2()});function tv(e){if(Bi(e))return e;if(fu(e))return ao(...e);if(h2[e])return h2[e];if(e.startsWith("steps")){let t=O6.exec(e);if(t){let r=t[1].split(",");return ev(parseFloat(r[0]),r[1].trim())}}return dr}var h2,O6,p2=ce(()=>{d2();Fr();h2={ease:ao(.25,.1,.25,1),"ease-in":ao(.42,0,1,1),"ease-in-out":ao(.42,0,.58,1),"ease-out":ao(0,0,.58,1)},O6=/\((.*?)\)/});var oo,f2=ce(()=>{Fr();p2();oo=class{constructor(t,r=[0,1],{easing:i,duration:s=kr.duration,delay:n=kr.delay,endDelay:a=kr.endDelay,repeat:o=kr.repeat,offset:l,direction:c="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=dr,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((u,d)=>{this.resolve=u,this.reject=d}),i=i||kr.easing,dl(i)){let u=i.createAnimation(r);i=u.easing,r=u.keyframes||r,s=u.duration||s}this.repeat=o,this.easing=Rs(i)?dr:tv(i),this.updateDuration(s);let h=Jg(r,l,Rs(i)?i.map(tv):dr);this.tick=u=>{var d;n=n;let p=0;this.pauseTime!==void 0?p=this.pauseTime:p=(u-this.startTime)*this.rate,this.t=p,p/=1e3,p=Math.max(p-n,0),this.playState==="finished"&&this.pauseTime===void 0&&(p=this.totalDuration);let g=p/this.duration,m=Math.floor(g),f=g%1;!f&&g>=1&&(f=1),f===1&&m--;let v=m%2;(c==="reverse"||c==="alternate"&&v||c==="alternate-reverse"&&!v)&&(f=1-f);let x=p>=this.totalDuration?1:Math.min(f,1),b=h(this.easing(x));t(b),this.pauseTime===void 0&&(this.playState==="finished"||p>=this.totalDuration+a)?(this.playState="finished",(d=this.resolve)===null||d===void 0||d.call(this,b)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){let t=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(t=this.reject)===null||t===void 0||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){this.pauseTime!==void 0||this.rate===0?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}});var rv=ce(()=>{f2()});var gu,m2=ce(()=>{gu=class{setAnimation(t){this.animation=t,t?.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}});var iv=ce(()=>{m2()});function Fh(e){return sv.has(e)||sv.set(e,{transforms:[],values:new Map}),sv.get(e)}function g2(e,t){return e.has(t)||e.set(t,new gu),e.get(t)}var sv,nv=ce(()=>{iv();sv=new WeakMap});var I6,R6,vu,v2,N6,Us,Ih,Oh,U6,z6,Rh,y2,j6,H6,hl=ce(()=>{Fr();nv();I6=["","X","Y","Z"],R6=["translate","scale","rotate","skew"],vu={x:"translateX",y:"translateY",z:"translateZ"},v2={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:e=>e+"deg"},N6={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:e=>e+"px"},rotate:v2,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:dr},skew:v2},Us=new Map,Ih=e=>`--motion-${e}`,Oh=["x","y","z"];R6.forEach(e=>{I6.forEach(t=>{Oh.push(e+t),Us.set(Ih(e+t),N6[e])})});U6=(e,t)=>Oh.indexOf(e)-Oh.indexOf(t),z6=new Set(Oh),Rh=e=>z6.has(e),y2=(e,t)=>{vu[t]&&(t=vu[t]);let{transforms:r}=Fh(e);qg(r,t),e.style.transform=j6(r)},j6=e=>e.sort(U6).reduce(H6,"").trim(),H6=(e,t)=>`${e} ${t}(var(${Ih(t)}))`});function b2(e){if(!x2.has(e)){x2.add(e);try{let{syntax:t,initialValue:r}=Us.has(e)?Us.get(e):{};CSS.registerProperty({name:e,inherits:!1,syntax:t,initialValue:r})}catch{}}}var yu,x2,av=ce(()=>{hl();yu=e=>e.startsWith("--"),x2=new Set});var ov,w2,lv,ha,cv=ce(()=>{ov=(e,t)=>document.createElement("div").animate(e,t),w2={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{ov({opacity:[1]})}catch{return!1}return!0},finished:()=>Boolean(ov({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{ov({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},lv={},ha={};for(let e in w2)ha[e]=()=>(lv[e]===void 0&&(lv[e]=w2[e]()),lv[e])});var V6,G6,uv,W6,_2=ce(()=>{Fr();cv();V6=.015,G6=(e,t)=>{let r="",i=Math.round(t/V6);for(let s=0;s<i;s++)r+=e(no(0,i-1,s))+", ";return r.substring(0,r.length-2)},uv=(e,t)=>Bi(e)?ha.linearEasing()?`linear(${G6(e,t)})`:kr.easing:fu(e)?W6(e):e,W6=([e,t,r,i])=>`cubic-bezier(${e}, ${t}, ${r}, ${i})`});function D2(e,t){for(let r=0;r<e.length;r++)e[r]===null&&(e[r]=r?e[r-1]:t());return e}var S2,A2=ce(()=>{S2=e=>Array.isArray(e)?e:[e]});function lo(e){return vu[e]&&(e=vu[e]),Rh(e)?Ih(e):e}var Nh=ce(()=>{hl()});var xu,E2=ce(()=>{av();Nh();hl();xu={get:(e,t)=>{t=lo(t);let r=yu(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!r&&r!==0){let i=Us.get(t);i&&(r=i.initialValue)}return r},set:(e,t,r)=>{t=lo(t),yu(t)?e.style.setProperty(t,r):e.style[t]=r}}});function Uh(e,t=!0){if(!(!e||e.playState==="finished"))try{e.stop?e.stop():(t&&e.commitStyles(),e.cancel())}catch{}}var dv=ce(()=>{});function zh(e,t){var r;let i=t?.toDefaultUnit||dr,s=e[e.length-1];if(mu(s)){let n=((r=s.match(/(-?[\d.]+)([a-z%]*)/))===null||r===void 0?void 0:r[2])||"";n&&(i=a=>a+n)}return i}var hv=ce(()=>{Fr()});function q6(){return window.__MOTION_DEV_TOOLS_RECORD}function C2(e,t,r,i={},s){let n=q6(),a=i.record!==!1&&n,o,{duration:l=kr.duration,delay:c=kr.delay,endDelay:h=kr.endDelay,repeat:u=kr.repeat,easing:d=kr.easing,direction:p,offset:g,allowWebkitAcceleration:m=!1}=i,f=Fh(e),v=Rh(t),x=ha.waapi();v&&y2(e,t);let b=lo(t),y=g2(f.values,b),w=Us.get(b);return Uh(y.animation,!(dl(d)&&y.generator)&&i.record!==!1),()=>{let _=()=>{var A,E;return(E=(A=xu.get(e,b))!==null&&A!==void 0?A:w?.initialValue)!==null&&E!==void 0?E:0},D=D2(S2(r),_),S=zh(D,w);if(dl(d)){let A=d.createAnimation(D,t!=="opacity",_,b,y);d=A.easing,D=A.keyframes||D,l=A.duration||l}if(yu(b)&&(ha.cssRegisterProperty()?b2(b):x=!1),v&&!ha.linearEasing()&&(Bi(d)||Rs(d)&&d.some(Bi))&&(x=!1),x){w&&(D=D.map(M=>gs(M)?w.toDefaultUnit(M):M)),D.length===1&&(!ha.partialKeyframes()||a)&&D.unshift(_());let A={delay:Ns.ms(c),duration:Ns.ms(l),endDelay:Ns.ms(h),easing:Rs(d)?void 0:uv(d,l),direction:p,iterations:u+1,fill:"both"};o=e.animate({[b]:D,offset:g,easing:Rs(d)?d.map(M=>uv(M,l)):void 0},A),o.finished||(o.finished=new Promise((M,I)=>{o.onfinish=M,o.oncancel=I}));let E=D[D.length-1];o.finished.then(()=>{xu.set(e,b,E),o.cancel()}).catch(pu),m||(o.playbackRate=1.000001)}else if(s&&v)D=D.map(A=>typeof A=="string"?parseFloat(A):A),D.length===1&&D.unshift(parseFloat(_())),o=new s(A=>{xu.set(e,b,S?S(A):A)},D,Object.assign(Object.assign({},i),{duration:l,easing:d}));else{let A=D[D.length-1];xu.set(e,b,w&&gs(A)?w.toDefaultUnit(A):A)}return a&&n(e,t,D,{duration:l,delay:c,easing:d,repeat:u,offset:g},"motion-one"),y.setAnimation(o),o}}var T2=ce(()=>{nv();av();Fr();hl();_2();cv();A2();E2();Nh();dv();hv()});var M2,L2=ce(()=>{M2=(e,t)=>e[t]?Object.assign(Object.assign({},e),e[t]):Object.assign({},e)});function k2(e,t){var r;return typeof e=="string"?t?((r=t[e])!==null&&r!==void 0||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}var P2=ce(()=>{});var Y6,bu,X6,Q6,Z6,pv=ce(()=>{Fr();dv();Y6=e=>e(),bu=(e,t,r=kr.duration)=>new Proxy({animations:e.map(Y6).filter(Boolean),duration:r,options:t},Q6),X6=e=>e.animations[0],Q6={get:(e,t)=>{let r=X6(e);switch(t){case"duration":return e.duration;case"currentTime":return Ns.s(r?.[t]||0);case"playbackRate":case"playState":return r?.[t];case"finished":return e.finished||(e.finished=Promise.all(e.animations.map(Z6)).catch(pu)),e.finished;case"stop":return()=>{e.animations.forEach(i=>Uh(i))};case"forEachNative":return i=>{e.animations.forEach(s=>i(s,e))};default:return typeof r?.[t]>"u"?void 0:()=>e.animations.forEach(i=>i[t]())}},set:(e,t,r)=>{switch(t){case"currentTime":r=Ns.ms(r);case"currentTime":case"playbackRate":for(let i=0;i<e.animations.length;i++)e.animations[i][t]=r;return!0}return!1}},Z6=e=>e.finished});function B2(e,t,r){return Bi(e)?e(t,r):e}var F2=ce(()=>{Fr()});function O2(e){return function(r,i,s={}){r=k2(r);let n=r.length,a=[];for(let o=0;o<n;o++){let l=r[o];for(let c in i){let h=M2(s,c);h.delay=B2(h.delay,o,n);let u=C2(l,c,i[c],h,e);a.push(u)}}return bu(a,s,s.duration)}}var I2=ce(()=>{T2();L2();P2();pv();F2()});var fv,R2=ce(()=>{rv();I2();fv=O2(oo)});function wu(e,t,r){let i=Math.max(t-$6,0);return Kg(r-e(i),t-i)}var $6,mv=ce(()=>{Fr();$6=5});var pa,gv=ce(()=>{pa={stiffness:100,damping:10,mass:1}});var N2,U2=ce(()=>{gv();N2=(e=pa.stiffness,t=pa.damping,r=pa.mass)=>t/(2*Math.sqrt(e*r))});function z2(e,t,r){return e<t&&r>=t||e>t&&r<=t}var j2=ce(()=>{});var vv,H2=ce(()=>{Fr();gv();U2();j2();mv();vv=({stiffness:e=pa.stiffness,damping:t=pa.damping,mass:r=pa.mass,from:i=0,to:s=1,velocity:n=0,restSpeed:a=2,restDistance:o=.5}={})=>{n=n?Ns.s(n):0;let l={done:!1,hasReachedTarget:!1,current:i,target:s},c=s-i,h=Math.sqrt(e/r)/1e3,u=N2(e,t,r),d;if(u<1){let p=h*Math.sqrt(1-u*u);d=g=>s-Math.exp(-u*h*g)*((-n+u*h*c)/p*Math.sin(p*g)+c*Math.cos(p*g))}else d=p=>s-Math.exp(-h*p)*(c+(-n+h*c)*p);return p=>{l.current=d(p);let g=p===0?n:wu(d,p,l.current),m=Math.abs(g)<=a,f=Math.abs(s-l.current)<=o;return l.done=m&&f,l.hasReachedTarget=z2(i,s,l.current),l}}});function xv(e,t=dr){let r,i=yv,s=e(0),n=[t(s.current)];for(;!s.done&&i<J6;)s=e(i),n.push(t(s.done?s.target:s.current)),r===void 0&&s.hasReachedTarget&&(r=i),i+=yv;let a=i-yv;return n.length===1&&n.push(s.current),{keyframes:n,duration:a/1e3,overshootDuration:(r??a)/1e3}}var yv,J6,V2=ce(()=>{Fr();yv=10,J6=1e4});var bv=ce(()=>{H2();V2();mv()});function G2(e){return gs(e)&&!isNaN(e)}function wv(e){return mu(e)?parseFloat(e):e}function W2(e){let t=new WeakMap;return(r={})=>{let i=new Map,s=(a=0,o=100,l=0,c=!1)=>{let h=`${a}-${o}-${l}-${c}`;return i.has(h)||i.set(h,e(Object.assign({from:a,to:o,velocity:l,restSpeed:c?.05:2,restDistance:c?.01:.5},r))),i.get(h)},n=(a,o)=>(t.has(a)||t.set(a,xv(a,o)),t.get(a));return{createAnimation:(a,o=!0,l,c,h)=>{let u,d,p,g=0,m=dr,f=a.length;if(o){m=zh(a,c?Us.get(lo(c)):void 0);let v=a[f-1];if(p=wv(v),f>1&&a[0]!==null)d=wv(a[0]);else{let x=h?.generator;if(x){let{animation:b,generatorStartTime:y}=h,w=b?.startTime||y||0,_=b?.currentTime||performance.now()-w,D=x(_).current;d=D,g=wu(S=>x(S).current,_,D)}else l&&(d=wv(l()))}}if(G2(d)&&G2(p)){let v=s(d,p,g,c?.includes("scale"));u=Object.assign(Object.assign({},n(v,m)),{easing:"linear"}),h&&(h.generator=v,h.generatorStartTime=performance.now())}if(!u){let v=n(s(0,100));u={easing:"ease",duration:v.overshootDuration}}return u}}}}var q2=ce(()=>{bv();Fr();hv();hl();Nh()});var _v,Y2=ce(()=>{bv();q2();_v=W2(vv)});var Dv=ce(()=>{R2();Y2();pv()});function K6(e,t={}){return bu([()=>{let r=new oo(e,[0,1],t);return r.finished.catch(()=>{}),r}],t,t.duration)}function pl(e,t,r){return(Bi(e)?K6:fv)(e,t,r)}var X2=ce(()=>{Dv();Fr();rv()});var Q2=ce(()=>{Dv();iv();X2()});var e5,t5,r5,i5,jh,Fi=ce(()=>{"use strict";e5="_tag_container_1r8u0_1",t5="_tag_container_textarea_1r8u0_16 _tag_container_1r8u0_1",r5="_show_tag_1r8u0_23",i5="_tag_label_1r8u0_27",jh={tag_container:e5,tag_container_textarea:t5,show_tag:r5,tag_label:i5}});var s5,n5,a5,o5,l5,c5,u5,d5,h5,p5,f5,pi,m5,g5,v5,y5,x5,_u,b5,w5,_5,Hh,D5,S5,A5,E5,C5,T5,M5,L5,fl,Oi=ce(()=>{"use strict";s5="_input_field_container_1770z_1",n5="_field_container_1770z_13",a5="_field_container_active_1770z_28 _field_container_1770z_13",o5="_input_label_1770z_33",l5="_input_label_active_1770z_45 _input_label_1770z_33",c5="_input_container_1770z_53",u5="_the_input_1770z_62",d5="_input_status_1770z_82",h5="_status_indicator_1770z_87",p5="_status_indicator_active_1770z_98 _status_indicator_1770z_87",f5="_status_indicator_error_1770z_104 _status_indicator_1770z_87",pi={input_field_container:s5,field_container:n5,field_container_active:a5,input_label:o5,input_label_active:l5,input_container:c5,the_input:u5,input_status:d5,status_indicator:h5,status_indicator_active:p5,status_indicator_error:f5},m5="_label_container_12cvc_1",g5="_indicator_12cvc_22",v5="_indicator_focus_12cvc_29 _indicator_12cvc_22",y5="_indicator_selected_12cvc_34 _indicator_12cvc_22",x5="_radio_input_12cvc_39",_u={label_container:m5,indicator:g5,indicator_focus:v5,indicator_selected:y5,radio_input:x5},b5="_container_1ip7u_1",w5="_question_label_1ip7u_11",_5="_options_container_1ip7u_18",Hh={container:b5,question_label:w5,options_container:_5},D5="_form_button_container_ofrvf_1",S5="_form_button_ofrvf_1",A5="_form_button_teal_ofrvf_40 _form_button_ofrvf_1",E5="_form_button_purple_ofrvf_45 _form_button_ofrvf_1",C5="_form_button_pink_ofrvf_50 _form_button_ofrvf_1",T5="_form_button_active_ofrvf_55",M5="_form_button_disabled_ofrvf_59",L5="_button_icon_ofrvf_64",fl={form_button_container:D5,form_button:S5,form_button_teal:A5,form_button_purple:E5,form_button_pink:C5,form_button_active:T5,form_button_disabled:M5,button_icon:L5}});var k5,Z2,P5,B5,F5,O5,I5,zs,R5,$2,Ii=ce(()=>{"use strict";k5="_scene_1p1qc_1",Z2={scene:k5},P5="_container_6y5fr_1",B5="_sale_notification_6y5fr_10",F5="_lead_notification_6y5fr_16",O5="_sale_container_6y5fr_33",I5="_lead_container_6y5fr_37",zs={container:P5,sale_notification:B5,lead_notification:F5,sale_container:O5,lead_container:I5},R5="_lead_form_1ty10_1",$2={lead_form:R5}});function on(){let e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Or[e&255]+Or[e>>8&255]+Or[e>>16&255]+Or[e>>24&255]+"-"+Or[t&255]+Or[t>>8&255]+"-"+Or[t>>16&15|64]+Or[t>>24&255]+"-"+Or[r&63|128]+Or[r>>8&255]+"-"+Or[r>>16&255]+Or[r>>24&255]+Or[i&255]+Or[i>>8&255]+Or[i>>16&255]+Or[i>>24&255]).toLowerCase()}function Cr(e,t,r){return Math.max(t,Math.min(r,e))}function t1(e,t){return(e%t+t)%t}function WU(e,t,r,i,s){return i+(e-t)*(s-i)/(r-t)}function qU(e,t,r){return e!==t?(r-e)/(t-e):0}function Xu(e,t,r){return(1-r)*e+r*t}function YU(e,t,r,i){return Xu(e,t,1-Math.exp(-r*i))}function XU(e,t=1){return t-Math.abs(t1(e,t*2)-t)}function QU(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t),e*e*(3-2*e))}function ZU(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t),e*e*e*(e*(e*6-15)+10))}function $U(e,t){return e+Math.floor(Math.random()*(t-e+1))}function JU(e,t){return e+Math.random()*(t-e)}function KU(e){return e*(.5-Math.random())}function ez(e){e!==void 0&&(kS=e);let t=kS+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function tz(e){return e*Yu}function rz(e){return e*sd}function W0(e){return(e&e-1)===0&&e!==0}function iz(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function $p(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function sz(e,t,r,i,s){let n=Math.cos,a=Math.sin,o=n(r/2),l=a(r/2),c=n((t+i)/2),h=a((t+i)/2),u=n((t-i)/2),d=a((t-i)/2),p=n((i-t)/2),g=a((i-t)/2);switch(s){case"XYX":e.set(o*h,l*u,l*d,o*c);break;case"YZY":e.set(l*d,o*h,l*u,o*c);break;case"ZXZ":e.set(l*u,l*d,o*h,o*c);break;case"XZX":e.set(o*h,l*g,l*p,o*c);break;case"YXY":e.set(l*p,o*h,l*g,o*c);break;case"ZYZ":e.set(l*g,l*p,o*h,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function nz(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function az(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}function a3(e){for(let t=e.length-1;t>=0;--t)if(e[t]>65535)return!0;return!1}function Vh(e,t){return new oz[e](t)}function Jp(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function To(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function Up(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}function kv(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*6*(2/3-r):e}function Wh(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}function Pv(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?l3.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}function Ov(e,t,r,i,s){for(let n=0,a=e.length-3;n<=a;n+=3){ho.fromArray(e,n);let o=s.x*Math.abs(ho.x)+s.y*Math.abs(ho.y)+s.z*Math.abs(ho.z),l=t.dot(ho),c=r.dot(ho),h=i.dot(ho);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>o)return!1}return!0}function xz(e,t,r,i,s,n,a,o){let l;if(t.side===yi?l=i.intersectTriangle(a,n,s,!0,o):l=i.intersectTriangle(s,n,a,t.side!==Ts,o),l===null)return null;ap.copy(o),ap.applyMatrix4(e.matrixWorld);let c=r.ray.origin.distanceTo(ap);return c<r.near||c>r.far?null:{distance:c,point:ap.clone(),object:e}}function op(e,t,r,i,s,n,a,o,l,c,h,u){ya.fromBufferAttribute(s,c),xa.fromBufferAttribute(s,h),ba.fromBufferAttribute(s,u);let d=e.morphTargetInfluences;if(n&&d){ep.set(0,0,0),tp.set(0,0,0),rp.set(0,0,0);for(let g=0,m=n.length;g<m;g++){let f=d[g],v=n[g];f!==0&&(qv.fromBufferAttribute(v,c),Yv.fromBufferAttribute(v,h),Xv.fromBufferAttribute(v,u),a?(ep.addScaledVector(qv,f),tp.addScaledVector(Yv,f),rp.addScaledVector(Xv,f)):(ep.addScaledVector(qv.sub(ya),f),tp.addScaledVector(Yv.sub(xa),f),rp.addScaledVector(Xv.sub(ba),f)))}ya.add(ep),xa.add(tp),ba.add(rp)}e.isSkinnedMesh&&(e.boneTransform(c,ya),e.boneTransform(h,xa),e.boneTransform(u,ba));let p=xz(e,t,r,i,ya,xa,ba,Qv);if(p){o&&(ip.fromBufferAttribute(o,c),sp.fromBufferAttribute(o,h),np.fromBufferAttribute(o,u),p.uv=Xi.getUV(Qv,ya,xa,ba,ip,sp,np,new se)),l&&(ip.fromBufferAttribute(l,c),sp.fromBufferAttribute(l,h),np.fromBufferAttribute(l,u),p.uv2=Xi.getUV(Qv,ya,xa,ba,ip,sp,np,new se));let g={a:c,b:h,c:u,normal:new C,materialIndex:0};Xi.getNormal(ya,xa,ba,g.normal),p.face=g}return p}function tc(e){let t={};for(let r in e){t[r]={};for(let i in e[r]){let s=e[r][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?t[r][i]=s.clone():Array.isArray(s)?t[r][i]=s.slice():t[r][i]=s}}return t}function Nr(e){let t={};for(let r=0;r<e.length;r++){let i=tc(e[r]);for(let s in i)t[s]=i[s]}return t}function h3(){let e=null,t=!1,r=null,i=null;function s(n,a){r(n,a),i=e.requestAnimationFrame(s)}return{start:function(){t!==!0&&r!==null&&(i=e.requestAnimationFrame(s),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(n){r=n},setContext:function(n){e=n}}}function Ez(e,t){let r=t.isWebGL2,i=new WeakMap;function s(c,h){let u=c.array,d=c.usage,p=e.createBuffer();e.bindBuffer(h,p),e.bufferData(h,u,d),c.onUploadCallback();let g;if(u instanceof Float32Array)g=5126;else if(u instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(r)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(u instanceof Int16Array)g=5122;else if(u instanceof Uint32Array)g=5125;else if(u instanceof Int32Array)g=5124;else if(u instanceof Int8Array)g=5120;else if(u instanceof Uint8Array)g=5121;else if(u instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:p,type:g,bytesPerElement:u.BYTES_PER_ELEMENT,version:c.version}}function n(c,h,u){let d=h.array,p=h.updateRange;e.bindBuffer(u,c),p.count===-1?e.bufferSubData(u,0,d):(r?e.bufferSubData(u,p.offset*d.BYTES_PER_ELEMENT,d,p.offset,p.count):e.bufferSubData(u,p.offset*d.BYTES_PER_ELEMENT,d.subarray(p.offset,p.offset+p.count)),p.count=-1)}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);let h=i.get(c);h&&(e.deleteBuffer(h.buffer),i.delete(c))}function l(c,h){if(c.isGLBufferAttribute){let d=i.get(c);(!d||d.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);let u=i.get(c);u===void 0?i.set(c,s(c,h)):u.version<c.version&&(n(u.buffer,c,h),u.version=c.version)}return{get:a,remove:o,update:l}}function rj(e,t,r,i,s,n){let a=new lt(0),o=s===!0?0:1,l,c,h=null,u=0,d=null;function p(m,f){let v=!1,x=f.isScene===!0?f.background:null;x&&x.isTexture&&(x=t.get(x));let b=e.xr,y=b.getSession&&b.getSession();y&&y.environmentBlendMode==="additive"&&(x=null),x===null?g(a,o):x&&x.isColor&&(g(x,1),v=!0),(e.autoClear||v)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),x&&(x.isCubeTexture||x.mapping===yd)?(c===void 0&&(c=new vi(new Ra(1,1,1),new un({name:"BackgroundCubeMaterial",uniforms:tc(Xs.cube.uniforms),vertexShader:Xs.cube.vertexShader,fragmentShader:Xs.cube.fragmentShader,side:yi,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(w,_,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=x,c.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,(h!==x||u!==x.version||d!==e.toneMapping)&&(c.material.needsUpdate=!0,h=x,u=x.version,d=e.toneMapping),c.layers.enableAll(),m.unshift(c,c.geometry,c.material,0,0,null)):x&&x.isTexture&&(l===void 0&&(l=new vi(new gf(2,2),new un({name:"BackgroundMaterial",uniforms:tc(Xs.background.uniforms),vertexShader:Xs.background.vertexShader,fragmentShader:Xs.background.fragmentShader,side:Ia,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=x,x.matrixAutoUpdate===!0&&x.updateMatrix(),l.material.uniforms.uvTransform.value.copy(x.matrix),(h!==x||u!==x.version||d!==e.toneMapping)&&(l.material.needsUpdate=!0,h=x,u=x.version,d=e.toneMapping),l.layers.enableAll(),m.unshift(l,l.geometry,l.material,0,0,null))}function g(m,f){r.buffers.color.setClear(m.r,m.g,m.b,f,n)}return{getClearColor:function(){return a},setClearColor:function(m,f=1){a.set(m),o=f,g(a,o)},getClearAlpha:function(){return o},setClearAlpha:function(m){o=m,g(a,o)},render:p}}function ij(e,t,r,i){let s=e.getParameter(34921),n=i.isWebGL2?null:t.get("OES_vertex_array_object"),a=i.isWebGL2||n!==null,o={},l=f(null),c=l,h=!1;function u(P,Q,G,X,F){let z=!1;if(a){let j=m(X,G,Q);c!==j&&(c=j,p(c.object)),z=v(P,X,G,F),z&&x(P,X,G,F)}else{let j=Q.wireframe===!0;(c.geometry!==X.id||c.program!==G.id||c.wireframe!==j)&&(c.geometry=X.id,c.program=G.id,c.wireframe=j,z=!0)}F!==null&&r.update(F,34963),(z||h)&&(h=!1,S(P,Q,G,X),F!==null&&e.bindBuffer(34963,r.get(F).buffer))}function d(){return i.isWebGL2?e.createVertexArray():n.createVertexArrayOES()}function p(P){return i.isWebGL2?e.bindVertexArray(P):n.bindVertexArrayOES(P)}function g(P){return i.isWebGL2?e.deleteVertexArray(P):n.deleteVertexArrayOES(P)}function m(P,Q,G){let X=G.wireframe===!0,F=o[P.id];F===void 0&&(F={},o[P.id]=F);let z=F[Q.id];z===void 0&&(z={},F[Q.id]=z);let j=z[X];return j===void 0&&(j=f(d()),z[X]=j),j}function f(P){let Q=[],G=[],X=[];for(let F=0;F<s;F++)Q[F]=0,G[F]=0,X[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Q,enabledAttributes:G,attributeDivisors:X,object:P,attributes:{},index:null}}function v(P,Q,G,X){let F=c.attributes,z=Q.attributes,j=0,Z=G.getAttributes();for(let U in Z)if(Z[U].location>=0){let J=F[U],oe=z[U];if(oe===void 0&&(U==="instanceMatrix"&&P.instanceMatrix&&(oe=P.instanceMatrix),U==="instanceColor"&&P.instanceColor&&(oe=P.instanceColor)),J===void 0||J.attribute!==oe||oe&&J.data!==oe.data)return!0;j++}return c.attributesNum!==j||c.index!==X}function x(P,Q,G,X){let F={},z=Q.attributes,j=0,Z=G.getAttributes();for(let U in Z)if(Z[U].location>=0){let J=z[U];J===void 0&&(U==="instanceMatrix"&&P.instanceMatrix&&(J=P.instanceMatrix),U==="instanceColor"&&P.instanceColor&&(J=P.instanceColor));let oe={};oe.attribute=J,J&&J.data&&(oe.data=J.data),F[U]=oe,j++}c.attributes=F,c.attributesNum=j,c.index=X}function b(){let P=c.newAttributes;for(let Q=0,G=P.length;Q<G;Q++)P[Q]=0}function y(P){w(P,0)}function w(P,Q){let G=c.newAttributes,X=c.enabledAttributes,F=c.attributeDivisors;G[P]=1,X[P]===0&&(e.enableVertexAttribArray(P),X[P]=1),F[P]!==Q&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](P,Q),F[P]=Q)}function _(){let P=c.newAttributes,Q=c.enabledAttributes;for(let G=0,X=Q.length;G<X;G++)Q[G]!==P[G]&&(e.disableVertexAttribArray(G),Q[G]=0)}function D(P,Q,G,X,F,z){i.isWebGL2===!0&&(G===5124||G===5125)?e.vertexAttribIPointer(P,Q,G,F,z):e.vertexAttribPointer(P,Q,G,X,F,z)}function S(P,Q,G,X){if(i.isWebGL2===!1&&(P.isInstancedMesh||X.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;b();let F=X.attributes,z=G.getAttributes(),j=Q.defaultAttributeValues;for(let Z in z){let U=z[Z];if(U.location>=0){let J=F[Z];if(J===void 0&&(Z==="instanceMatrix"&&P.instanceMatrix&&(J=P.instanceMatrix),Z==="instanceColor"&&P.instanceColor&&(J=P.instanceColor)),J!==void 0){let oe=J.normalized,he=J.itemSize,q=r.get(J);if(q===void 0)continue;let Ee=q.buffer,$=q.type,fe=q.bytesPerElement;if(J.isInterleavedBufferAttribute){let te=J.data,Oe=te.stride,ge=J.offset;if(te.isInstancedInterleavedBuffer){for(let be=0;be<U.locationSize;be++)w(U.location+be,te.meshPerAttribute);P.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let be=0;be<U.locationSize;be++)y(U.location+be);e.bindBuffer(34962,Ee);for(let be=0;be<U.locationSize;be++)D(U.location+be,he/U.locationSize,$,oe,Oe*fe,(ge+he/U.locationSize*be)*fe)}else{if(J.isInstancedBufferAttribute){for(let te=0;te<U.locationSize;te++)w(U.location+te,J.meshPerAttribute);P.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let te=0;te<U.locationSize;te++)y(U.location+te);e.bindBuffer(34962,Ee);for(let te=0;te<U.locationSize;te++)D(U.location+te,he/U.locationSize,$,oe,he*fe,he/U.locationSize*te*fe)}}else if(j!==void 0){let oe=j[Z];if(oe!==void 0)switch(oe.length){case 2:e.vertexAttrib2fv(U.location,oe);break;case 3:e.vertexAttrib3fv(U.location,oe);break;case 4:e.vertexAttrib4fv(U.location,oe);break;default:e.vertexAttrib1fv(U.location,oe)}}}}_()}function A(){I();for(let P in o){let Q=o[P];for(let G in Q){let X=Q[G];for(let F in X)g(X[F].object),delete X[F];delete Q[G]}delete o[P]}}function E(P){if(o[P.id]===void 0)return;let Q=o[P.id];for(let G in Q){let X=Q[G];for(let F in X)g(X[F].object),delete X[F];delete Q[G]}delete o[P.id]}function M(P){for(let Q in o){let G=o[Q];if(G[P.id]===void 0)continue;let X=G[P.id];for(let F in X)g(X[F].object),delete X[F];delete G[P.id]}}function I(){V(),h=!0,c!==l&&(c=l,p(c.object))}function V(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:I,resetDefaultState:V,dispose:A,releaseStatesOfGeometry:E,releaseStatesOfProgram:M,initAttributes:b,enableAttribute:y,disableUnusedAttributes:_}}function sj(e,t,r,i){let s=i.isWebGL2,n;function a(c){n=c}function o(c,h){e.drawArrays(n,c,h),r.update(h,n,1)}function l(c,h,u){if(u===0)return;let d,p;if(s)d=e,p="drawArraysInstanced";else if(d=t.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[p](n,c,h,u),r.update(h,n,u)}this.setMode=a,this.render=o,this.renderInstances=l}function nj(e,t,r){let i;function s(){if(i!==void 0)return i;if(t.has("EXT_texture_filter_anisotropic")===!0){let D=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function n(D){if(D==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";D="mediump"}return D==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let a=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext,o=r.precision!==void 0?r.precision:"highp",l=n(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);let c=a||t.has("WEBGL_draw_buffers"),h=r.logarithmicDepthBuffer===!0,u=e.getParameter(34930),d=e.getParameter(35660),p=e.getParameter(3379),g=e.getParameter(34076),m=e.getParameter(34921),f=e.getParameter(36347),v=e.getParameter(36348),x=e.getParameter(36349),b=d>0,y=a||t.has("OES_texture_float"),w=b&&y,_=a?e.getParameter(36183):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:s,getMaxPrecision:n,precision:o,logarithmicDepthBuffer:h,maxTextures:u,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:g,maxAttributes:m,maxVertexUniforms:f,maxVaryings:v,maxFragmentUniforms:x,vertexTextures:b,floatFragmentTextures:y,floatVertexTextures:w,maxSamples:_}}function aj(e){let t=this,r=null,i=0,s=!1,n=!1,a=new qi,o=new zr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,d,p){let g=u.length!==0||d||i!==0||s;return s=d,r=h(u,p,0),i=u.length,g},this.beginShadows=function(){n=!0,h(null)},this.endShadows=function(){n=!1,c()},this.setState=function(u,d,p){let g=u.clippingPlanes,m=u.clipIntersection,f=u.clipShadows,v=e.get(u);if(!s||g===null||g.length===0||n&&!f)n?h(null):c();else{let x=n?0:i,b=x*4,y=v.clippingState||null;l.value=y,y=h(g,d,b,p);for(let w=0;w!==b;++w)y[w]=r[w];v.clippingState=y,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==r&&(l.value=r,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function h(u,d,p,g){let m=u!==null?u.length:0,f=null;if(m!==0){if(f=l.value,g!==!0||f===null){let v=p+m*4,x=d.matrixWorldInverse;o.getNormalMatrix(x),(f===null||f.length<v)&&(f=new Float32Array(v));for(let b=0,y=p;b!==m;++b,y+=4)a.copy(u[b]).applyMatrix4(x,o),a.normal.toArray(f,y),f[y+3]=a.constant}l.value=f,l.needsUpdate=!0}return t.numPlanes=m,t.numIntersection=0,f}}function oj(e){let t=new WeakMap;function r(a,o){return o===U0?a.mapping=Po:o===z0&&(a.mapping=Bo),a}function i(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){let o=a.mapping;if(o===U0||o===z0)if(t.has(a)){let l=t.get(a).texture;return r(l,a.mapping)}else{let l=a.image;if(l&&l.height>0){let c=new Dz(l.height/2);return c.fromEquirectangularTexture(e,a),t.set(a,c),a.addEventListener("dispose",s),r(c.texture,a.mapping)}else return null}}return a}function s(a){let o=a.target;o.removeEventListener("dispose",s);let l=t.get(o);l!==void 0&&(t.delete(o),l.dispose())}function n(){t=new WeakMap}return{get:i,dispose:n}}function lj(e){let t=[],r=[],i=[],s=e,n=e-zl+1+VS.length;for(let a=0;a<n;a++){let o=Math.pow(2,s);r.push(o);let l=1/o;a>e-zl?l=VS[a-e+zl-1]:a===0&&(l=0),i.push(l);let c=1/(o-2),h=-c,u=1+c,d=[h,h,u,h,u,u,h,h,u,u,h,u],p=6,g=6,m=3,f=2,v=1,x=new Float32Array(m*g*p),b=new Float32Array(f*g*p),y=new Float32Array(v*g*p);for(let _=0;_<p;_++){let D=_%3*2/3-1,S=_>2?0:-1,A=[D,S,0,D+2/3,S,0,D+2/3,S+1,0,D,S,0,D+2/3,S+1,0,D,S+1,0];x.set(A,m*g*_),b.set(d,f*g*_);let E=[_,_,_,_,_,_];y.set(E,v*g*_)}let w=new ft;w.setAttribute("position",new wt(x,m)),w.setAttribute("uv",new wt(b,f)),w.setAttribute("faceIndex",new wt(y,v)),t.push(w),s>zl&&s--}return{lodPlanes:t,sizeLods:r,sigmas:i}}function YS(e,t,r){let i=new Oo(e,t,r);return i.texture.mapping=yd,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function cp(e,t,r,i,s){e.viewport.set(t,r,i,s),e.scissor.set(t,r,i,s)}function cj(e,t,r){let i=new Float32Array(bo),s=new C(0,1,0);return new un({name:"SphericalGaussianBlur",defines:{n:bo,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:a1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Pa,depthTest:!1,depthWrite:!1})}function XS(){return new un({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:a1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Pa,depthTest:!1,depthWrite:!1})}function QS(){return new un({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:a1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Pa,depthTest:!1,depthWrite:!1})}function a1(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function uj(e){let t=new WeakMap,r=null;function i(o){if(o&&o.isTexture){let l=o.mapping,c=l===U0||l===z0,h=l===Po||l===Bo;if(c||h)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let u=t.get(o);return r===null&&(r=new qS(e)),u=c?r.fromEquirectangular(o,u):r.fromCubemap(o,u),t.set(o,u),u.texture}else{if(t.has(o))return t.get(o).texture;{let u=o.image;if(c&&u&&u.height>0||h&&u&&s(u)){r===null&&(r=new qS(e));let d=c?r.fromEquirectangular(o):r.fromCubemap(o);return t.set(o,d),o.addEventListener("dispose",n),d.texture}else return null}}}return o}function s(o){let l=0,c=6;for(let h=0;h<c;h++)o[h]!==void 0&&l++;return l===c}function n(o){let l=o.target;l.removeEventListener("dispose",n);let c=t.get(l);c!==void 0&&(t.delete(l),c.dispose())}function a(){t=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:i,dispose:a}}function dj(e){let t={};function r(i){if(t[i]!==void 0)return t[i];let s;switch(i){case"WEBGL_depth_texture":s=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=e.getExtension(i)}return t[i]=s,s}return{has:function(i){return r(i)!==null},init:function(i){i.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(i){let s=r(i);return s===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function hj(e,t,r,i){let s={},n=new WeakMap;function a(u){let d=u.target;d.index!==null&&t.remove(d.index);for(let g in d.attributes)t.remove(d.attributes[g]);d.removeEventListener("dispose",a),delete s[d.id];let p=n.get(d);p&&(t.remove(p),n.delete(d)),i.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,r.memory.geometries--}function o(u,d){return s[d.id]===!0||(d.addEventListener("dispose",a),s[d.id]=!0,r.memory.geometries++),d}function l(u){let d=u.attributes;for(let g in d)t.update(d[g],34962);let p=u.morphAttributes;for(let g in p){let m=p[g];for(let f=0,v=m.length;f<v;f++)t.update(m[f],34962)}}function c(u){let d=[],p=u.index,g=u.attributes.position,m=0;if(p!==null){let x=p.array;m=p.version;for(let b=0,y=x.length;b<y;b+=3){let w=x[b+0],_=x[b+1],D=x[b+2];d.push(w,_,_,D,D,w)}}else{let x=g.array;m=g.version;for(let b=0,y=x.length/3-1;b<y;b+=3){let w=b+0,_=b+1,D=b+2;d.push(w,_,_,D,D,w)}}let f=new(a3(d)?Qu:d3)(d,1);f.version=m;let v=n.get(u);v&&t.remove(v),n.set(u,f)}function h(u){let d=n.get(u);if(d){let p=u.index;p!==null&&d.version<p.version&&c(u)}else c(u);return n.get(u)}return{get:o,update:l,getWireframeAttribute:h}}function pj(e,t,r,i){let s=i.isWebGL2,n;function a(d){n=d}let o,l;function c(d){o=d.type,l=d.bytesPerElement}function h(d,p){e.drawElements(n,p,o,d*l),r.update(p,n,1)}function u(d,p,g){if(g===0)return;let m,f;if(s)m=e,f="drawElementsInstanced";else if(m=t.get("ANGLE_instanced_arrays"),f="drawElementsInstancedANGLE",m===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[f](n,p,o,d*l,g),r.update(p,n,g)}this.setMode=a,this.setIndex=c,this.render=h,this.renderInstances=u}function fj(e){let t={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function i(n,a,o){switch(r.calls++,a){case 4:r.triangles+=o*(n/3);break;case 1:r.lines+=o*(n/2);break;case 3:r.lines+=o*(n-1);break;case 2:r.lines+=o*n;break;case 0:r.points+=o*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function s(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:t,render:r,programs:null,autoReset:!0,reset:s,update:i}}function mj(e,t){return e[0]-t[0]}function gj(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Kv(e,t){let r=1,i=t.isInterleavedBufferAttribute?t.data.array:t.array;i instanceof Int8Array?r=127:i instanceof Uint8Array?r=255:i instanceof Uint16Array?r=65535:i instanceof Int16Array?r=32767:i instanceof Int32Array?r=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",i),e.divideScalar(r)}function vj(e,t,r){let i={},s=new Float32Array(8),n=new WeakMap,a=new yt,o=[];for(let c=0;c<8;c++)o[c]=[c,0];function l(c,h,u,d){let p=c.morphTargetInfluences;if(t.isWebGL2===!0){let g=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,m=g!==void 0?g.length:0,f=n.get(h);if(f===void 0||f.count!==m){let b=function(){P.dispose(),n.delete(h),h.removeEventListener("dispose",b)};f!==void 0&&f.texture.dispose();let y=h.morphAttributes.position!==void 0,w=h.morphAttributes.normal!==void 0,_=h.morphAttributes.color!==void 0,D=h.morphAttributes.position||[],S=h.morphAttributes.normal||[],A=h.morphAttributes.color||[],E=0;y===!0&&(E=1),w===!0&&(E=2),_===!0&&(E=3);let M=h.attributes.position.count*E,I=1;M>t.maxTextureSize&&(I=Math.ceil(M/t.maxTextureSize),M=t.maxTextureSize);let V=new Float32Array(M*I*4*m),P=new u3(V,M,I,m);P.type=Do,P.needsUpdate=!0;let Q=E*4;for(let G=0;G<m;G++){let X=D[G],F=S[G],z=A[G],j=M*I*4*G;for(let Z=0;Z<X.count;Z++){let U=Z*Q;y===!0&&(a.fromBufferAttribute(X,Z),X.normalized===!0&&Kv(a,X),V[j+U+0]=a.x,V[j+U+1]=a.y,V[j+U+2]=a.z,V[j+U+3]=0),w===!0&&(a.fromBufferAttribute(F,Z),F.normalized===!0&&Kv(a,F),V[j+U+4]=a.x,V[j+U+5]=a.y,V[j+U+6]=a.z,V[j+U+7]=0),_===!0&&(a.fromBufferAttribute(z,Z),z.normalized===!0&&Kv(a,z),V[j+U+8]=a.x,V[j+U+9]=a.y,V[j+U+10]=a.z,V[j+U+11]=z.itemSize===4?a.w:1)}}f={count:m,texture:P,size:new se(M,I)},n.set(h,f),h.addEventListener("dispose",b)}let v=0;for(let b=0;b<p.length;b++)v+=p[b];let x=h.morphTargetsRelative?1:1-v;d.getUniforms().setValue(e,"morphTargetBaseInfluence",x),d.getUniforms().setValue(e,"morphTargetInfluences",p),d.getUniforms().setValue(e,"morphTargetsTexture",f.texture,r),d.getUniforms().setValue(e,"morphTargetsTextureSize",f.size)}else{let g=p===void 0?0:p.length,m=i[h.id];if(m===void 0||m.length!==g){m=[];for(let y=0;y<g;y++)m[y]=[y,0];i[h.id]=m}for(let y=0;y<g;y++){let w=m[y];w[0]=y,w[1]=p[y]}m.sort(gj);for(let y=0;y<8;y++)y<g&&m[y][1]?(o[y][0]=m[y][0],o[y][1]=m[y][1]):(o[y][0]=Number.MAX_SAFE_INTEGER,o[y][1]=0);o.sort(mj);let f=h.morphAttributes.position,v=h.morphAttributes.normal,x=0;for(let y=0;y<8;y++){let w=o[y],_=w[0],D=w[1];_!==Number.MAX_SAFE_INTEGER&&D?(f&&h.getAttribute("morphTarget"+y)!==f[_]&&h.setAttribute("morphTarget"+y,f[_]),v&&h.getAttribute("morphNormal"+y)!==v[_]&&h.setAttribute("morphNormal"+y,v[_]),s[y]=D,x+=D):(f&&h.hasAttribute("morphTarget"+y)===!0&&h.deleteAttribute("morphTarget"+y),v&&h.hasAttribute("morphNormal"+y)===!0&&h.deleteAttribute("morphNormal"+y),s[y]=0)}let b=h.morphTargetsRelative?1:1-x;d.getUniforms().setValue(e,"morphTargetBaseInfluence",b),d.getUniforms().setValue(e,"morphTargetInfluences",s)}}return{update:l}}function yj(e,t,r,i){let s=new WeakMap;function n(l){let c=i.render.frame,h=l.geometry,u=t.get(l,h);return s.get(u)!==c&&(t.update(u),s.set(u,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.update(l.instanceMatrix,34962),l.instanceColor!==null&&r.update(l.instanceColor,34962)),u}function a(){s=new WeakMap}function o(l){let c=l.target;c.removeEventListener("dispose",o),r.remove(c.instanceMatrix),c.instanceColor!==null&&r.remove(c.instanceColor)}return{update:n,dispose:a}}function uc(e,t,r){let i=e[0];if(i<=0||i>0)return e;let s=t*r,n=ZS[s];if(n===void 0&&(n=new Float32Array(s),ZS[s]=n),t!==0){i.toArray(n,0);for(let a=1,o=0;a!==t;++a)o+=r,e[a].toArray(n,o)}return n}function Xr(e,t){if(e.length!==t.length)return!1;for(let r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0}function Qr(e,t){for(let r=0,i=t.length;r<i;r++)e[r]=t[r]}function vf(e,t){let r=$S[t];r===void 0&&(r=new Int32Array(t),$S[t]=r);for(let i=0;i!==t;++i)r[i]=e.allocateTextureUnit();return r}function xj(e,t){let r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function bj(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(Xr(r,t))return;e.uniform2fv(this.addr,t),Qr(r,t)}}function wj(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(t.r!==void 0)(r[0]!==t.r||r[1]!==t.g||r[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(Xr(r,t))return;e.uniform3fv(this.addr,t),Qr(r,t)}}function _j(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z||r[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(Xr(r,t))return;e.uniform4fv(this.addr,t),Qr(r,t)}}function Dj(e,t){let r=this.cache,i=t.elements;if(i===void 0){if(Xr(r,t))return;e.uniformMatrix2fv(this.addr,!1,t),Qr(r,t)}else{if(Xr(r,i))return;eA.set(i),e.uniformMatrix2fv(this.addr,!1,eA),Qr(r,i)}}function Sj(e,t){let r=this.cache,i=t.elements;if(i===void 0){if(Xr(r,t))return;e.uniformMatrix3fv(this.addr,!1,t),Qr(r,t)}else{if(Xr(r,i))return;KS.set(i),e.uniformMatrix3fv(this.addr,!1,KS),Qr(r,i)}}function Aj(e,t){let r=this.cache,i=t.elements;if(i===void 0){if(Xr(r,t))return;e.uniformMatrix4fv(this.addr,!1,t),Qr(r,t)}else{if(Xr(r,i))return;JS.set(i),e.uniformMatrix4fv(this.addr,!1,JS),Qr(r,i)}}function Ej(e,t){let r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function Cj(e,t){let r=this.cache;Xr(r,t)||(e.uniform2iv(this.addr,t),Qr(r,t))}function Tj(e,t){let r=this.cache;Xr(r,t)||(e.uniform3iv(this.addr,t),Qr(r,t))}function Mj(e,t){let r=this.cache;Xr(r,t)||(e.uniform4iv(this.addr,t),Qr(r,t))}function Lj(e,t){let r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function kj(e,t){let r=this.cache;Xr(r,t)||(e.uniform2uiv(this.addr,t),Qr(r,t))}function Pj(e,t){let r=this.cache;Xr(r,t)||(e.uniform3uiv(this.addr,t),Qr(r,t))}function Bj(e,t){let r=this.cache;Xr(r,t)||(e.uniform4uiv(this.addr,t),Qr(r,t))}function Fj(e,t,r){let i=this.cache,s=r.allocateTextureUnit();i[0]!==s&&(e.uniform1i(this.addr,s),i[0]=s),r.setTexture2D(t||p3,s)}function Oj(e,t,r){let i=this.cache,s=r.allocateTextureUnit();i[0]!==s&&(e.uniform1i(this.addr,s),i[0]=s),r.setTexture3D(t||m3,s)}function Ij(e,t,r){let i=this.cache,s=r.allocateTextureUnit();i[0]!==s&&(e.uniform1i(this.addr,s),i[0]=s),r.setTextureCube(t||g3,s)}function Rj(e,t,r){let i=this.cache,s=r.allocateTextureUnit();i[0]!==s&&(e.uniform1i(this.addr,s),i[0]=s),r.setTexture2DArray(t||f3,s)}function Nj(e){switch(e){case 5126:return xj;case 35664:return bj;case 35665:return wj;case 35666:return _j;case 35674:return Dj;case 35675:return Sj;case 35676:return Aj;case 5124:case 35670:return Ej;case 35667:case 35671:return Cj;case 35668:case 35672:return Tj;case 35669:case 35673:return Mj;case 5125:return Lj;case 36294:return kj;case 36295:return Pj;case 36296:return Bj;case 35678:case 36198:case 36298:case 36306:case 35682:return Fj;case 35679:case 36299:case 36307:return Oj;case 35680:case 36300:case 36308:case 36293:return Ij;case 36289:case 36303:case 36311:case 36292:return Rj}}function Uj(e,t){e.uniform1fv(this.addr,t)}function zj(e,t){let r=uc(t,this.size,2);e.uniform2fv(this.addr,r)}function jj(e,t){let r=uc(t,this.size,3);e.uniform3fv(this.addr,r)}function Hj(e,t){let r=uc(t,this.size,4);e.uniform4fv(this.addr,r)}function Vj(e,t){let r=uc(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,r)}function Gj(e,t){let r=uc(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,r)}function Wj(e,t){let r=uc(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,r)}function qj(e,t){e.uniform1iv(this.addr,t)}function Yj(e,t){e.uniform2iv(this.addr,t)}function Xj(e,t){e.uniform3iv(this.addr,t)}function Qj(e,t){e.uniform4iv(this.addr,t)}function Zj(e,t){e.uniform1uiv(this.addr,t)}function $j(e,t){e.uniform2uiv(this.addr,t)}function Jj(e,t){e.uniform3uiv(this.addr,t)}function Kj(e,t){e.uniform4uiv(this.addr,t)}function e9(e,t,r){let i=t.length,s=vf(r,i);e.uniform1iv(this.addr,s);for(let n=0;n!==i;++n)r.setTexture2D(t[n]||p3,s[n])}function t9(e,t,r){let i=t.length,s=vf(r,i);e.uniform1iv(this.addr,s);for(let n=0;n!==i;++n)r.setTexture3D(t[n]||m3,s[n])}function r9(e,t,r){let i=t.length,s=vf(r,i);e.uniform1iv(this.addr,s);for(let n=0;n!==i;++n)r.setTextureCube(t[n]||g3,s[n])}function i9(e,t,r){let i=t.length,s=vf(r,i);e.uniform1iv(this.addr,s);for(let n=0;n!==i;++n)r.setTexture2DArray(t[n]||f3,s[n])}function s9(e){switch(e){case 5126:return Uj;case 35664:return zj;case 35665:return jj;case 35666:return Hj;case 35674:return Vj;case 35675:return Gj;case 35676:return Wj;case 5124:case 35670:return qj;case 35667:case 35671:return Yj;case 35668:case 35672:return Xj;case 35669:case 35673:return Qj;case 5125:return Zj;case 36294:return $j;case 36295:return Jj;case 36296:return Kj;case 35678:case 36198:case 36298:case 36306:case 35682:return e9;case 35679:case 36299:case 36307:return t9;case 35680:case 36300:case 36308:case 36293:return r9;case 36289:case 36303:case 36311:case 36292:return i9}}function tA(e,t){e.seq.push(t),e.map[t.id]=t}function l9(e,t,r){let i=e.name,s=i.length;for(e0.lastIndex=0;;){let n=e0.exec(i),a=e0.lastIndex,o=n[1],l=n[2]==="]",c=n[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===s){tA(r,c===void 0?new n9(o,e,t):new a9(o,e,t));break}else{let h=r.map[o];h===void 0&&(h=new o9(o),tA(r,h)),r=h}}}function rA(e,t,r){let i=e.createShader(t);return e.shaderSource(i,r),e.compileShader(i),i}function u9(e,t){let r=e.split(`
`),i=[],s=Math.max(t-6,0),n=Math.min(t+6,r.length);for(let a=s;a<n;a++){let o=a+1;i.push(`${o===t?">":" "} ${o}: ${r[a]}`)}return i.join(`
`)}function d9(e){switch(e){case cn:return["Linear","( value )"];case Yt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function iA(e,t,r){let i=e.getShaderParameter(t,35713),s=e.getShaderInfoLog(t).trim();if(i&&s==="")return"";let n=/ERROR: 0:(\d+)/.exec(s);if(n){let a=parseInt(n[1]);return r.toUpperCase()+`

`+s+`

`+u9(e.getShaderSource(t),a)}else return s}function h9(e,t){let r=d9(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function p9(e,t){let r;switch(t){case yU:r="Linear";break;case xU:r="Reinhard";break;case bU:r="OptimizedCineon";break;case wU:r="ACESFilmic";break;case _U:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+e+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function f9(e){return[e.extensionDerivatives||!!e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(zu).join(`
`)}function m9(e){let t=[];for(let r in e){let i=e[r];i!==!1&&t.push("#define "+r+" "+i)}return t.join(`
`)}function g9(e,t){let r={},i=e.getProgramParameter(t,35721);for(let s=0;s<i;s++){let n=e.getActiveAttrib(t,s),a=n.name,o=1;n.type===35674&&(o=2),n.type===35675&&(o=3),n.type===35676&&(o=4),r[a]={type:n.type,location:e.getAttribLocation(t,a),locationSize:o}}return r}function zu(e){return e!==""}function sA(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function nA(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function q0(e){return e.replace(v9,y9)}function y9(e,t){let r=mt[t];if(r===void 0)throw new Error("Can not resolve #include <"+t+">");return q0(r)}function aA(e){return e.replace(b9,v3).replace(x9,w9)}function w9(e,t,r,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),v3(e,t,r,i)}function v3(e,t,r,i){let s="";for(let n=parseInt(t);n<parseInt(r);n++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+n+" ]").replace(/UNROLLED_LOOP_INDEX/g,n);return s}function oA(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function _9(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===e3?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Q5?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Uu&&(t="SHADOWMAP_TYPE_VSM"),t}function D9(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Po:case Bo:t="ENVMAP_TYPE_CUBE";break;case yd:t="ENVMAP_TYPE_CUBE_UV";break}return t}function S9(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case Bo:t="ENVMAP_MODE_REFRACTION";break}return t}function A9(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case i3:t="ENVMAP_BLENDING_MULTIPLY";break;case gU:t="ENVMAP_BLENDING_MIX";break;case vU:t="ENVMAP_BLENDING_ADD";break}return t}function E9(e){let t=e.envMapCubeUVHeight;if(t===null)return null;let r=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,r),7*16)),texelHeight:i,maxMip:r}}function C9(e,t,r,i){let s=e.getContext(),n=r.defines,a=r.vertexShader,o=r.fragmentShader,l=_9(r),c=D9(r),h=S9(r),u=A9(r),d=E9(r),p=r.isWebGL2?"":f9(r),g=m9(n),m=s.createProgram(),f,v,x=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(f=[g].filter(zu).join(`
`),f.length>0&&(f+=`
`),v=[p,g].filter(zu).join(`
`),v.length>0&&(v+=`
`)):(f=[oA(r),"#define SHADER_NAME "+r.shaderName,g,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(zu).join(`
`),v=[p,oA(r),"#define SHADER_NAME "+r.shaderName,g,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+c:"",r.envMap?"#define "+h:"",r.envMap?"#define "+u:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==Un?"#define TONE_MAPPING":"",r.toneMapping!==Un?mt.tonemapping_pars_fragment:"",r.toneMapping!==Un?p9("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",mt.encodings_pars_fragment,h9("linearToOutputTexel",r.outputEncoding),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(zu).join(`
`)),a=q0(a),a=sA(a,r),a=nA(a,r),o=q0(o),o=sA(o,r),o=nA(o,r),a=aA(a),o=aA(o),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,f=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+f,v=["#define varying in",r.glslVersion===LS?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===LS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);let b=x+f+a,y=x+v+o,w=rA(s,35633,b),_=rA(s,35632,y);if(s.attachShader(m,w),s.attachShader(m,_),r.index0AttributeName!==void 0?s.bindAttribLocation(m,0,r.index0AttributeName):r.morphTargets===!0&&s.bindAttribLocation(m,0,"position"),s.linkProgram(m),e.debug.checkShaderErrors){let A=s.getProgramInfoLog(m).trim(),E=s.getShaderInfoLog(w).trim(),M=s.getShaderInfoLog(_).trim(),I=!0,V=!0;if(s.getProgramParameter(m,35714)===!1){I=!1;let P=iA(s,w,"vertex"),Q=iA(s,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(m,35715)+`

Program Info Log: `+A+`
`+P+`
`+Q)}else A!==""?console.warn("THREE.WebGLProgram: Program Info Log:",A):(E===""||M==="")&&(V=!1);V&&(this.diagnostics={runnable:I,programLog:A,vertexShader:{log:E,prefix:f},fragmentShader:{log:M,prefix:v}})}s.deleteShader(w),s.deleteShader(_);let D;this.getUniforms=function(){return D===void 0&&(D=new zp(s,m)),D};let S;return this.getAttributes=function(){return S===void 0&&(S=g9(s,m)),S},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(m),this.program=void 0},this.name=r.shaderName,this.id=c9++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=_,this}function k9(e,t,r,i,s,n,a){let o=new r1,l=new M9,c=[],h=s.isWebGL2,u=s.logarithmicDepthBuffer,d=s.vertexTextures,p=s.precision,g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(S,A,E,M,I){let V=M.fog,P=I.geometry,Q=S.isMeshStandardMaterial?M.environment:null,G=(S.isMeshStandardMaterial?r:t).get(S.envMap||Q),X=!!G&&G.mapping===yd?G.image.height:null,F=g[S.type];S.precision!==null&&(p=s.getMaxPrecision(S.precision),p!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",p,"instead."));let z=P.morphAttributes.position||P.morphAttributes.normal||P.morphAttributes.color,j=z!==void 0?z.length:0,Z=0;P.morphAttributes.position!==void 0&&(Z=1),P.morphAttributes.normal!==void 0&&(Z=2),P.morphAttributes.color!==void 0&&(Z=3);let U,J,oe,he;if(F){let te=Xs[F];U=te.vertexShader,J=te.fragmentShader}else U=S.vertexShader,J=S.fragmentShader,l.update(S),oe=l.getVertexShaderID(S),he=l.getFragmentShaderID(S);let q=e.getRenderTarget(),Ee=S.alphaTest>0,$=S.clearcoat>0,fe=S.iridescence>0;return{isWebGL2:h,shaderID:F,shaderName:S.type,vertexShader:U,fragmentShader:J,defines:S.defines,customVertexShaderID:oe,customFragmentShaderID:he,isRawShaderMaterial:S.isRawShaderMaterial===!0,glslVersion:S.glslVersion,precision:p,instancing:I.isInstancedMesh===!0,instancingColor:I.isInstancedMesh===!0&&I.instanceColor!==null,supportsVertexTextures:d,outputEncoding:q===null?e.outputEncoding:q.isXRRenderTarget===!0?q.texture.encoding:cn,map:!!S.map,matcap:!!S.matcap,envMap:!!G,envMapMode:G&&G.mapping,envMapCubeUVHeight:X,lightMap:!!S.lightMap,aoMap:!!S.aoMap,emissiveMap:!!S.emissiveMap,bumpMap:!!S.bumpMap,normalMap:!!S.normalMap,objectSpaceNormalMap:S.normalMapType===VU,tangentSpaceNormalMap:S.normalMapType===HU,decodeVideoTexture:!!S.map&&S.map.isVideoTexture===!0&&S.map.encoding===Yt,clearcoat:$,clearcoatMap:$&&!!S.clearcoatMap,clearcoatRoughnessMap:$&&!!S.clearcoatRoughnessMap,clearcoatNormalMap:$&&!!S.clearcoatNormalMap,iridescence:fe,iridescenceMap:fe&&!!S.iridescenceMap,iridescenceThicknessMap:fe&&!!S.iridescenceThicknessMap,displacementMap:!!S.displacementMap,roughnessMap:!!S.roughnessMap,metalnessMap:!!S.metalnessMap,specularMap:!!S.specularMap,specularIntensityMap:!!S.specularIntensityMap,specularColorMap:!!S.specularColorMap,opaque:S.transparent===!1&&S.blending===Eo,alphaMap:!!S.alphaMap,alphaTest:Ee,gradientMap:!!S.gradientMap,sheen:S.sheen>0,sheenColorMap:!!S.sheenColorMap,sheenRoughnessMap:!!S.sheenRoughnessMap,transmission:S.transmission>0,transmissionMap:!!S.transmissionMap,thicknessMap:!!S.thicknessMap,combine:S.combine,vertexTangents:!!S.normalMap&&!!P.attributes.tangent,vertexColors:S.vertexColors,vertexAlphas:S.vertexColors===!0&&!!P.attributes.color&&P.attributes.color.itemSize===4,vertexUvs:!!S.map||!!S.bumpMap||!!S.normalMap||!!S.specularMap||!!S.alphaMap||!!S.emissiveMap||!!S.roughnessMap||!!S.metalnessMap||!!S.clearcoatMap||!!S.clearcoatRoughnessMap||!!S.clearcoatNormalMap||!!S.iridescenceMap||!!S.iridescenceThicknessMap||!!S.displacementMap||!!S.transmissionMap||!!S.thicknessMap||!!S.specularIntensityMap||!!S.specularColorMap||!!S.sheenColorMap||!!S.sheenRoughnessMap,uvsVertexOnly:!(!!S.map||!!S.bumpMap||!!S.normalMap||!!S.specularMap||!!S.alphaMap||!!S.emissiveMap||!!S.roughnessMap||!!S.metalnessMap||!!S.clearcoatNormalMap||!!S.iridescenceMap||!!S.iridescenceThicknessMap||S.transmission>0||!!S.transmissionMap||!!S.thicknessMap||!!S.specularIntensityMap||!!S.specularColorMap||S.sheen>0||!!S.sheenColorMap||!!S.sheenRoughnessMap)&&!!S.displacementMap,fog:!!V,useFog:S.fog===!0,fogExp2:V&&V.isFogExp2,flatShading:!!S.flatShading,sizeAttenuation:S.sizeAttenuation,logarithmicDepthBuffer:u,skinning:I.isSkinnedMesh===!0,morphTargets:P.morphAttributes.position!==void 0,morphNormals:P.morphAttributes.normal!==void 0,morphColors:P.morphAttributes.color!==void 0,morphTargetsCount:j,morphTextureStride:Z,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:S.dithering,shadowMapEnabled:e.shadowMap.enabled&&E.length>0,shadowMapType:e.shadowMap.type,toneMapping:S.toneMapped?e.toneMapping:Un,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:S.premultipliedAlpha,doubleSided:S.side===Ts,flipSided:S.side===yi,useDepthPacking:!!S.depthPacking,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionDerivatives:S.extensions&&S.extensions.derivatives,extensionFragDepth:S.extensions&&S.extensions.fragDepth,extensionDrawBuffers:S.extensions&&S.extensions.drawBuffers,extensionShaderTextureLOD:S.extensions&&S.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||i.has("EXT_shader_texture_lod"),customProgramCacheKey:S.customProgramCacheKey()}}function f(S){let A=[];if(S.shaderID?A.push(S.shaderID):(A.push(S.customVertexShaderID),A.push(S.customFragmentShaderID)),S.defines!==void 0)for(let E in S.defines)A.push(E),A.push(S.defines[E]);return S.isRawShaderMaterial===!1&&(v(A,S),x(A,S),A.push(e.outputEncoding)),A.push(S.customProgramCacheKey),A.join()}function v(S,A){S.push(A.precision),S.push(A.outputEncoding),S.push(A.envMapMode),S.push(A.envMapCubeUVHeight),S.push(A.combine),S.push(A.vertexUvs),S.push(A.fogExp2),S.push(A.sizeAttenuation),S.push(A.morphTargetsCount),S.push(A.morphAttributeCount),S.push(A.numDirLights),S.push(A.numPointLights),S.push(A.numSpotLights),S.push(A.numHemiLights),S.push(A.numRectAreaLights),S.push(A.numDirLightShadows),S.push(A.numPointLightShadows),S.push(A.numSpotLightShadows),S.push(A.shadowMapType),S.push(A.toneMapping),S.push(A.numClippingPlanes),S.push(A.numClipIntersection),S.push(A.depthPacking)}function x(S,A){o.disableAll(),A.isWebGL2&&o.enable(0),A.supportsVertexTextures&&o.enable(1),A.instancing&&o.enable(2),A.instancingColor&&o.enable(3),A.map&&o.enable(4),A.matcap&&o.enable(5),A.envMap&&o.enable(6),A.lightMap&&o.enable(7),A.aoMap&&o.enable(8),A.emissiveMap&&o.enable(9),A.bumpMap&&o.enable(10),A.normalMap&&o.enable(11),A.objectSpaceNormalMap&&o.enable(12),A.tangentSpaceNormalMap&&o.enable(13),A.clearcoat&&o.enable(14),A.clearcoatMap&&o.enable(15),A.clearcoatRoughnessMap&&o.enable(16),A.clearcoatNormalMap&&o.enable(17),A.iridescence&&o.enable(18),A.iridescenceMap&&o.enable(19),A.iridescenceThicknessMap&&o.enable(20),A.displacementMap&&o.enable(21),A.specularMap&&o.enable(22),A.roughnessMap&&o.enable(23),A.metalnessMap&&o.enable(24),A.gradientMap&&o.enable(25),A.alphaMap&&o.enable(26),A.alphaTest&&o.enable(27),A.vertexColors&&o.enable(28),A.vertexAlphas&&o.enable(29),A.vertexUvs&&o.enable(30),A.vertexTangents&&o.enable(31),A.uvsVertexOnly&&o.enable(32),A.fog&&o.enable(33),S.push(o.mask),o.disableAll(),A.useFog&&o.enable(0),A.flatShading&&o.enable(1),A.logarithmicDepthBuffer&&o.enable(2),A.skinning&&o.enable(3),A.morphTargets&&o.enable(4),A.morphNormals&&o.enable(5),A.morphColors&&o.enable(6),A.premultipliedAlpha&&o.enable(7),A.shadowMapEnabled&&o.enable(8),A.physicallyCorrectLights&&o.enable(9),A.doubleSided&&o.enable(10),A.flipSided&&o.enable(11),A.useDepthPacking&&o.enable(12),A.dithering&&o.enable(13),A.specularIntensityMap&&o.enable(14),A.specularColorMap&&o.enable(15),A.transmission&&o.enable(16),A.transmissionMap&&o.enable(17),A.thicknessMap&&o.enable(18),A.sheen&&o.enable(19),A.sheenColorMap&&o.enable(20),A.sheenRoughnessMap&&o.enable(21),A.decodeVideoTexture&&o.enable(22),A.opaque&&o.enable(23),S.push(o.mask)}function b(S){let A=g[S.type],E;if(A){let M=Xs[A];E=lc.clone(M.uniforms)}else E=S.uniforms;return E}function y(S,A){let E;for(let M=0,I=c.length;M<I;M++){let V=c[M];if(V.cacheKey===A){E=V,++E.usedTimes;break}}return E===void 0&&(E=new C9(e,A,S,n),c.push(E)),E}function w(S){if(--S.usedTimes===0){let A=c.indexOf(S);c[A]=c[c.length-1],c.pop(),S.destroy()}}function _(S){l.remove(S)}function D(){l.dispose()}return{getParameters:m,getProgramCacheKey:f,getUniforms:b,acquireProgram:y,releaseProgram:w,releaseShaderCache:_,programs:c,dispose:D}}function P9(){let e=new WeakMap;function t(n){let a=e.get(n);return a===void 0&&(a={},e.set(n,a)),a}function r(n){e.delete(n)}function i(n,a,o){e.get(n)[a]=o}function s(){e=new WeakMap}return{get:t,remove:r,update:i,dispose:s}}function B9(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function lA(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function cA(){let e=[],t=0,r=[],i=[],s=[];function n(){t=0,r.length=0,i.length=0,s.length=0}function a(u,d,p,g,m,f){let v=e[t];return v===void 0?(v={id:u.id,object:u,geometry:d,material:p,groupOrder:g,renderOrder:u.renderOrder,z:m,group:f},e[t]=v):(v.id=u.id,v.object=u,v.geometry=d,v.material=p,v.groupOrder=g,v.renderOrder=u.renderOrder,v.z=m,v.group=f),t++,v}function o(u,d,p,g,m,f){let v=a(u,d,p,g,m,f);p.transmission>0?i.push(v):p.transparent===!0?s.push(v):r.push(v)}function l(u,d,p,g,m,f){let v=a(u,d,p,g,m,f);p.transmission>0?i.unshift(v):p.transparent===!0?s.unshift(v):r.unshift(v)}function c(u,d){r.length>1&&r.sort(u||B9),i.length>1&&i.sort(d||lA),s.length>1&&s.sort(d||lA)}function h(){for(let u=t,d=e.length;u<d;u++){let p=e[u];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:r,transmissive:i,transparent:s,init:n,push:o,unshift:l,finish:h,sort:c}}function F9(){let e=new WeakMap;function t(i,s){let n;return e.has(i)===!1?(n=new cA,e.set(i,[n])):s>=e.get(i).length?(n=new cA,e.get(i).push(n)):n=e.get(i)[s],n}function r(){e=new WeakMap}return{get:t,dispose:r}}function O9(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let r;switch(t.type){case"DirectionalLight":r={direction:new C,color:new lt};break;case"SpotLight":r={position:new C,direction:new C,color:new lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new C,color:new lt,distance:0,decay:0};break;case"HemisphereLight":r={direction:new C,skyColor:new lt,groundColor:new lt};break;case"RectAreaLight":r={color:new lt,position:new C,halfWidth:new C,halfHeight:new C};break}return e[t.id]=r,r}}}function I9(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let r;switch(t.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new se};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new se};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new se,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=r,r}}}function N9(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function U9(e,t){let r=new O9,i=I9(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let h=0;h<9;h++)s.probe.push(new C);let n=new C,a=new Xe,o=new Xe;function l(h,u){let d=0,p=0,g=0;for(let A=0;A<9;A++)s.probe[A].set(0,0,0);let m=0,f=0,v=0,x=0,b=0,y=0,w=0,_=0;h.sort(N9);let D=u!==!0?Math.PI:1;for(let A=0,E=h.length;A<E;A++){let M=h[A],I=M.color,V=M.intensity,P=M.distance,Q=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)d+=I.r*V*D,p+=I.g*V*D,g+=I.b*V*D;else if(M.isLightProbe)for(let G=0;G<9;G++)s.probe[G].addScaledVector(M.sh.coefficients[G],V);else if(M.isDirectionalLight){let G=r.get(M);if(G.color.copy(M.color).multiplyScalar(M.intensity*D),M.castShadow){let X=M.shadow,F=i.get(M);F.shadowBias=X.bias,F.shadowNormalBias=X.normalBias,F.shadowRadius=X.radius,F.shadowMapSize=X.mapSize,s.directionalShadow[m]=F,s.directionalShadowMap[m]=Q,s.directionalShadowMatrix[m]=M.shadow.matrix,y++}s.directional[m]=G,m++}else if(M.isSpotLight){let G=r.get(M);if(G.position.setFromMatrixPosition(M.matrixWorld),G.color.copy(I).multiplyScalar(V*D),G.distance=P,G.coneCos=Math.cos(M.angle),G.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),G.decay=M.decay,M.castShadow){let X=M.shadow,F=i.get(M);F.shadowBias=X.bias,F.shadowNormalBias=X.normalBias,F.shadowRadius=X.radius,F.shadowMapSize=X.mapSize,s.spotShadow[v]=F,s.spotShadowMap[v]=Q,s.spotShadowMatrix[v]=M.shadow.matrix,_++}s.spot[v]=G,v++}else if(M.isRectAreaLight){let G=r.get(M);G.color.copy(I).multiplyScalar(V),G.halfWidth.set(M.width*.5,0,0),G.halfHeight.set(0,M.height*.5,0),s.rectArea[x]=G,x++}else if(M.isPointLight){let G=r.get(M);if(G.color.copy(M.color).multiplyScalar(M.intensity*D),G.distance=M.distance,G.decay=M.decay,M.castShadow){let X=M.shadow,F=i.get(M);F.shadowBias=X.bias,F.shadowNormalBias=X.normalBias,F.shadowRadius=X.radius,F.shadowMapSize=X.mapSize,F.shadowCameraNear=X.camera.near,F.shadowCameraFar=X.camera.far,s.pointShadow[f]=F,s.pointShadowMap[f]=Q,s.pointShadowMatrix[f]=M.shadow.matrix,w++}s.point[f]=G,f++}else if(M.isHemisphereLight){let G=r.get(M);G.skyColor.copy(M.color).multiplyScalar(V*D),G.groundColor.copy(M.groundColor).multiplyScalar(V*D),s.hemi[b]=G,b++}}x>0&&(t.isWebGL2||e.has("OES_texture_float_linear")===!0?(s.rectAreaLTC1=Re.LTC_FLOAT_1,s.rectAreaLTC2=Re.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(s.rectAreaLTC1=Re.LTC_HALF_1,s.rectAreaLTC2=Re.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),s.ambient[0]=d,s.ambient[1]=p,s.ambient[2]=g;let S=s.hash;(S.directionalLength!==m||S.pointLength!==f||S.spotLength!==v||S.rectAreaLength!==x||S.hemiLength!==b||S.numDirectionalShadows!==y||S.numPointShadows!==w||S.numSpotShadows!==_)&&(s.directional.length=m,s.spot.length=v,s.rectArea.length=x,s.point.length=f,s.hemi.length=b,s.directionalShadow.length=y,s.directionalShadowMap.length=y,s.pointShadow.length=w,s.pointShadowMap.length=w,s.spotShadow.length=_,s.spotShadowMap.length=_,s.directionalShadowMatrix.length=y,s.pointShadowMatrix.length=w,s.spotShadowMatrix.length=_,S.directionalLength=m,S.pointLength=f,S.spotLength=v,S.rectAreaLength=x,S.hemiLength=b,S.numDirectionalShadows=y,S.numPointShadows=w,S.numSpotShadows=_,s.version=R9++)}function c(h,u){let d=0,p=0,g=0,m=0,f=0,v=u.matrixWorldInverse;for(let x=0,b=h.length;x<b;x++){let y=h[x];if(y.isDirectionalLight){let w=s.directional[d];w.direction.setFromMatrixPosition(y.matrixWorld),n.setFromMatrixPosition(y.target.matrixWorld),w.direction.sub(n),w.direction.transformDirection(v),d++}else if(y.isSpotLight){let w=s.spot[g];w.position.setFromMatrixPosition(y.matrixWorld),w.position.applyMatrix4(v),w.direction.setFromMatrixPosition(y.matrixWorld),n.setFromMatrixPosition(y.target.matrixWorld),w.direction.sub(n),w.direction.transformDirection(v),g++}else if(y.isRectAreaLight){let w=s.rectArea[m];w.position.setFromMatrixPosition(y.matrixWorld),w.position.applyMatrix4(v),o.identity(),a.copy(y.matrixWorld),a.premultiply(v),o.extractRotation(a),w.halfWidth.set(y.width*.5,0,0),w.halfHeight.set(0,y.height*.5,0),w.halfWidth.applyMatrix4(o),w.halfHeight.applyMatrix4(o),m++}else if(y.isPointLight){let w=s.point[p];w.position.setFromMatrixPosition(y.matrixWorld),w.position.applyMatrix4(v),p++}else if(y.isHemisphereLight){let w=s.hemi[f];w.direction.setFromMatrixPosition(y.matrixWorld),w.direction.transformDirection(v),f++}}}return{setup:l,setupView:c,state:s}}function uA(e,t){let r=new U9(e,t),i=[],s=[];function n(){i.length=0,s.length=0}function a(h){i.push(h)}function o(h){s.push(h)}function l(h){r.setup(i,h)}function c(h){r.setupView(i,h)}return{init:n,state:{lightsArray:i,shadowsArray:s,lights:r},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:o}}function z9(e,t){let r=new WeakMap;function i(n,a=0){let o;return r.has(n)===!1?(o=new uA(e,t),r.set(n,[o])):a>=r.get(n).length?(o=new uA(e,t),r.get(n).push(o)):o=r.get(n)[a],o}function s(){r=new WeakMap}return{get:i,dispose:s}}function W9(e,t,r){let i=new s1,s=new se,n=new se,a=new yt,o=new j9({depthPacking:jU}),l=new H9,c={},h=r.maxTextureSize,u={0:yi,1:Ia,2:Ts},d=new un({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new se},radius:{value:4}},vertexShader:V9,fragmentShader:G9}),p=d.clone();p.defines.HORIZONTAL_PASS=1;let g=new ft;g.setAttribute("position",new wt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let m=new vi(g,d),f=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=e3,this.render=function(y,w,_){if(f.enabled===!1||f.autoUpdate===!1&&f.needsUpdate===!1||y.length===0)return;let D=e.getRenderTarget(),S=e.getActiveCubeFace(),A=e.getActiveMipmapLevel(),E=e.state;E.setBlending(Pa),E.buffers.color.setClear(1,1,1,1),E.buffers.depth.setTest(!0),E.setScissorTest(!1);for(let M=0,I=y.length;M<I;M++){let V=y[M],P=V.shadow;if(P===void 0){console.warn("THREE.WebGLShadowMap:",V,"has no shadow.");continue}if(P.autoUpdate===!1&&P.needsUpdate===!1)continue;s.copy(P.mapSize);let Q=P.getFrameExtents();if(s.multiply(Q),n.copy(P.mapSize),(s.x>h||s.y>h)&&(s.x>h&&(n.x=Math.floor(h/Q.x),s.x=n.x*Q.x,P.mapSize.x=n.x),s.y>h&&(n.y=Math.floor(h/Q.y),s.y=n.y*Q.y,P.mapSize.y=n.y)),P.map===null){let X=this.type!==Uu?{minFilter:Kr,magFilter:Kr}:{};P.map=new Oo(s.x,s.y,X),P.map.texture.name=V.name+".shadowMap",P.camera.updateProjectionMatrix()}e.setRenderTarget(P.map),e.clear();let G=P.getViewportCount();for(let X=0;X<G;X++){let F=P.getViewport(X);a.set(n.x*F.x,n.y*F.y,n.x*F.z,n.y*F.w),E.viewport(a),P.updateMatrices(V,X),i=P.getFrustum(),b(w,_,P.camera,V,this.type)}P.isPointLightShadow!==!0&&this.type===Uu&&v(P,_),P.needsUpdate=!1}f.needsUpdate=!1,e.setRenderTarget(D,S,A)};function v(y,w){let _=t.update(m);d.defines.VSM_SAMPLES!==y.blurSamples&&(d.defines.VSM_SAMPLES=y.blurSamples,p.defines.VSM_SAMPLES=y.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),y.mapPass===null&&(y.mapPass=new Oo(s.x,s.y)),d.uniforms.shadow_pass.value=y.map.texture,d.uniforms.resolution.value=y.mapSize,d.uniforms.radius.value=y.radius,e.setRenderTarget(y.mapPass),e.clear(),e.renderBufferDirect(w,null,_,d,m,null),p.uniforms.shadow_pass.value=y.mapPass.texture,p.uniforms.resolution.value=y.mapSize,p.uniforms.radius.value=y.radius,e.setRenderTarget(y.map),e.clear(),e.renderBufferDirect(w,null,_,p,m,null)}function x(y,w,_,D,S,A){let E=null,M=_.isPointLight===!0?y.customDistanceMaterial:y.customDepthMaterial;if(M!==void 0?E=M:E=_.isPointLight===!0?l:o,e.localClippingEnabled&&w.clipShadows===!0&&Array.isArray(w.clippingPlanes)&&w.clippingPlanes.length!==0||w.displacementMap&&w.displacementScale!==0||w.alphaMap&&w.alphaTest>0){let I=E.uuid,V=w.uuid,P=c[I];P===void 0&&(P={},c[I]=P);let Q=P[V];Q===void 0&&(Q=E.clone(),P[V]=Q),E=Q}return E.visible=w.visible,E.wireframe=w.wireframe,A===Uu?E.side=w.shadowSide!==null?w.shadowSide:w.side:E.side=w.shadowSide!==null?w.shadowSide:u[w.side],E.alphaMap=w.alphaMap,E.alphaTest=w.alphaTest,E.clipShadows=w.clipShadows,E.clippingPlanes=w.clippingPlanes,E.clipIntersection=w.clipIntersection,E.displacementMap=w.displacementMap,E.displacementScale=w.displacementScale,E.displacementBias=w.displacementBias,E.wireframeLinewidth=w.wireframeLinewidth,E.linewidth=w.linewidth,_.isPointLight===!0&&E.isMeshDistanceMaterial===!0&&(E.referencePosition.setFromMatrixPosition(_.matrixWorld),E.nearDistance=D,E.farDistance=S),E}function b(y,w,_,D,S){if(y.visible===!1)return;if(y.layers.test(w.layers)&&(y.isMesh||y.isLine||y.isPoints)&&(y.castShadow||y.receiveShadow&&S===Uu)&&(!y.frustumCulled||i.intersectsObject(y))){y.modelViewMatrix.multiplyMatrices(_.matrixWorldInverse,y.matrixWorld);let E=t.update(y),M=y.material;if(Array.isArray(M)){let I=E.groups;for(let V=0,P=I.length;V<P;V++){let Q=I[V],G=M[Q.materialIndex];if(G&&G.visible){let X=x(y,G,D,_.near,_.far,S);e.renderBufferDirect(_,null,E,X,y,Q)}}}else if(M.visible){let I=x(y,M,D,_.near,_.far,S);e.renderBufferDirect(_,null,E,I,y,null)}}let A=y.children;for(let E=0,M=A.length;E<M;E++)b(A[E],w,_,D,S)}}function q9(e,t,r){let i=r.isWebGL2;function s(){let Y=!1,Le=new yt,Fe=null,qe=new yt(0,0,0,0);return{setMask:function(He){Fe!==He&&!Y&&(e.colorMask(He,He,He,He),Fe=He)},setLocked:function(He){Y=He},setClear:function(He,Ke,ke,Ze,ut){ut===!0&&(He*=Ze,Ke*=Ze,ke*=Ze),Le.set(He,Ke,ke,Ze),qe.equals(Le)===!1&&(e.clearColor(He,Ke,ke,Ze),qe.copy(Le))},reset:function(){Y=!1,Fe=null,qe.set(-1,0,0,0)}}}function n(){let Y=!1,Le=null,Fe=null,qe=null;return{setTest:function(He){He?he(2929):q(2929)},setMask:function(He){Le!==He&&!Y&&(e.depthMask(He),Le=He)},setFunc:function(He){if(Fe!==He){if(He)switch(He){case cU:e.depthFunc(512);break;case uU:e.depthFunc(519);break;case dU:e.depthFunc(513);break;case N0:e.depthFunc(515);break;case hU:e.depthFunc(514);break;case pU:e.depthFunc(518);break;case fU:e.depthFunc(516);break;case mU:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);Fe=He}},setLocked:function(He){Y=He},setClear:function(He){qe!==He&&(e.clearDepth(He),qe=He)},reset:function(){Y=!1,Le=null,Fe=null,qe=null}}}function a(){let Y=!1,Le=null,Fe=null,qe=null,He=null,Ke=null,ke=null,Ze=null,ut=null;return{setTest:function(dt){Y||(dt?he(2960):q(2960))},setMask:function(dt){Le!==dt&&!Y&&(e.stencilMask(dt),Le=dt)},setFunc:function(dt,Gt,Ct){(Fe!==dt||qe!==Gt||He!==Ct)&&(e.stencilFunc(dt,Gt,Ct),Fe=dt,qe=Gt,He=Ct)},setOp:function(dt,Gt,Ct){(Ke!==dt||ke!==Gt||Ze!==Ct)&&(e.stencilOp(dt,Gt,Ct),Ke=dt,ke=Gt,Ze=Ct)},setLocked:function(dt){Y=dt},setClear:function(dt){ut!==dt&&(e.clearStencil(dt),ut=dt)},reset:function(){Y=!1,Le=null,Fe=null,qe=null,He=null,Ke=null,ke=null,Ze=null,ut=null}}}let o=new s,l=new n,c=new a,h={},u={},d=new WeakMap,p=[],g=null,m=!1,f=null,v=null,x=null,b=null,y=null,w=null,_=null,D=!1,S=null,A=null,E=null,M=null,I=null,V=e.getParameter(35661),P=!1,Q=0,G=e.getParameter(7938);G.indexOf("WebGL")!==-1?(Q=parseFloat(/^WebGL (\d)/.exec(G)[1]),P=Q>=1):G.indexOf("OpenGL ES")!==-1&&(Q=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),P=Q>=2);let X=null,F={},z=e.getParameter(3088),j=e.getParameter(2978),Z=new yt().fromArray(z),U=new yt().fromArray(j);function J(Y,Le,Fe){let qe=new Uint8Array(4),He=e.createTexture();e.bindTexture(Y,He),e.texParameteri(Y,10241,9728),e.texParameteri(Y,10240,9728);for(let Ke=0;Ke<Fe;Ke++)e.texImage2D(Le+Ke,0,6408,1,1,0,6408,5121,qe);return He}let oe={};oe[3553]=J(3553,3553,1),oe[34067]=J(34067,34069,6),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),he(2929),l.setFunc(N0),W(!1),ne(J2),he(2884),ge(Pa);function he(Y){h[Y]!==!0&&(e.enable(Y),h[Y]=!0)}function q(Y){h[Y]!==!1&&(e.disable(Y),h[Y]=!1)}function Ee(Y,Le){return u[Y]!==Le?(e.bindFramebuffer(Y,Le),u[Y]=Le,i&&(Y===36009&&(u[36160]=Le),Y===36160&&(u[36009]=Le)),!0):!1}function $(Y,Le){let Fe=p,qe=!1;if(Y)if(Fe=d.get(Le),Fe===void 0&&(Fe=[],d.set(Le,Fe)),Y.isWebGLMultipleRenderTargets){let He=Y.texture;if(Fe.length!==He.length||Fe[0]!==36064){for(let Ke=0,ke=He.length;Ke<ke;Ke++)Fe[Ke]=36064+Ke;Fe.length=He.length,qe=!0}}else Fe[0]!==36064&&(Fe[0]=36064,qe=!0);else Fe[0]!==1029&&(Fe[0]=1029,qe=!0);qe&&(r.isWebGL2?e.drawBuffers(Fe):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Fe))}function fe(Y){return g!==Y?(e.useProgram(Y),g=Y,!0):!1}let te={[Ol]:32774,[J5]:32778,[K5]:32779};if(i)te[rS]=32775,te[iS]=32776;else{let Y=t.get("EXT_blend_minmax");Y!==null&&(te[rS]=Y.MIN_EXT,te[iS]=Y.MAX_EXT)}let Oe={[eU]:0,[tU]:1,[rU]:768,[t3]:770,[lU]:776,[aU]:774,[sU]:772,[iU]:769,[r3]:771,[oU]:775,[nU]:773};function ge(Y,Le,Fe,qe,He,Ke,ke,Ze){if(Y===Pa){m===!0&&(q(3042),m=!1);return}if(m===!1&&(he(3042),m=!0),Y!==$5){if(Y!==f||Ze!==D){if((v!==Ol||y!==Ol)&&(e.blendEquation(32774),v=Ol,y=Ol),Ze)switch(Y){case Eo:e.blendFuncSeparate(1,771,1,771);break;case K2:e.blendFunc(1,1);break;case eS:e.blendFuncSeparate(0,769,0,1);break;case tS:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}else switch(Y){case Eo:e.blendFuncSeparate(770,771,1,771);break;case K2:e.blendFunc(770,1);break;case eS:e.blendFuncSeparate(0,769,0,1);break;case tS:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}x=null,b=null,w=null,_=null,f=Y,D=Ze}return}He=He||Le,Ke=Ke||Fe,ke=ke||qe,(Le!==v||He!==y)&&(e.blendEquationSeparate(te[Le],te[He]),v=Le,y=He),(Fe!==x||qe!==b||Ke!==w||ke!==_)&&(e.blendFuncSeparate(Oe[Fe],Oe[qe],Oe[Ke],Oe[ke]),x=Fe,b=qe,w=Ke,_=ke),f=Y,D=null}function be(Y,Le){Y.side===Ts?q(2884):he(2884);let Fe=Y.side===yi;Le&&(Fe=!Fe),W(Fe),Y.blending===Eo&&Y.transparent===!1?ge(Pa):ge(Y.blending,Y.blendEquation,Y.blendSrc,Y.blendDst,Y.blendEquationAlpha,Y.blendSrcAlpha,Y.blendDstAlpha,Y.premultipliedAlpha),l.setFunc(Y.depthFunc),l.setTest(Y.depthTest),l.setMask(Y.depthWrite),o.setMask(Y.colorWrite);let qe=Y.stencilWrite;c.setTest(qe),qe&&(c.setMask(Y.stencilWriteMask),c.setFunc(Y.stencilFunc,Y.stencilRef,Y.stencilFuncMask),c.setOp(Y.stencilFail,Y.stencilZFail,Y.stencilZPass)),ae(Y.polygonOffset,Y.polygonOffsetFactor,Y.polygonOffsetUnits),Y.alphaToCoverage===!0?he(32926):q(32926)}function W(Y){S!==Y&&(Y?e.frontFace(2304):e.frontFace(2305),S=Y)}function ne(Y){Y!==Y5?(he(2884),Y!==A&&(Y===J2?e.cullFace(1029):Y===X5?e.cullFace(1028):e.cullFace(1032))):q(2884),A=Y}function xe(Y){Y!==E&&(P&&e.lineWidth(Y),E=Y)}function ae(Y,Le,Fe){Y?(he(32823),(M!==Le||I!==Fe)&&(e.polygonOffset(Le,Fe),M=Le,I=Fe)):q(32823)}function _e(Y){Y?he(3089):q(3089)}function Ce(Y){Y===void 0&&(Y=33984+V-1),X!==Y&&(e.activeTexture(Y),X=Y)}function Ie(Y,Le){X===null&&Ce();let Fe=F[X];Fe===void 0&&(Fe={type:void 0,texture:void 0},F[X]=Fe),(Fe.type!==Y||Fe.texture!==Le)&&(e.bindTexture(Y,Le||oe[Y]),Fe.type=Y,Fe.texture=Le)}function Qe(){let Y=F[X];Y!==void 0&&Y.type!==void 0&&(e.bindTexture(Y.type,null),Y.type=void 0,Y.texture=void 0)}function B(){try{e.compressedTexImage2D.apply(e,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function k(){try{e.texSubImage2D.apply(e,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function ee(){try{e.texSubImage3D.apply(e,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function ve(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function De(){try{e.texStorage2D.apply(e,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Pe(){try{e.texStorage3D.apply(e,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Je(){try{e.texImage2D.apply(e,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function de(){try{e.texImage3D.apply(e,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function ze(Y){Z.equals(Y)===!1&&(e.scissor(Y.x,Y.y,Y.z,Y.w),Z.copy(Y))}function Te(Y){U.equals(Y)===!1&&(e.viewport(Y.x,Y.y,Y.z,Y.w),U.copy(Y))}function Be(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),i===!0&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},X=null,F={},u={},d=new WeakMap,p=[],g=null,m=!1,f=null,v=null,x=null,b=null,y=null,w=null,_=null,D=!1,S=null,A=null,E=null,M=null,I=null,Z.set(0,0,e.canvas.width,e.canvas.height),U.set(0,0,e.canvas.width,e.canvas.height),o.reset(),l.reset(),c.reset()}return{buffers:{color:o,depth:l,stencil:c},enable:he,disable:q,bindFramebuffer:Ee,drawBuffers:$,useProgram:fe,setBlending:ge,setMaterial:be,setFlipSided:W,setCullFace:ne,setLineWidth:xe,setPolygonOffset:ae,setScissorTest:_e,activeTexture:Ce,bindTexture:Ie,unbindTexture:Qe,compressedTexImage2D:B,texImage2D:Je,texImage3D:de,texStorage2D:De,texStorage3D:Pe,texSubImage2D:k,texSubImage3D:ee,compressedTexSubImage2D:ve,scissor:ze,viewport:Te,reset:Be}}function Y9(e,t,r,i,s,n,a){let o=s.isWebGL2,l=s.maxTextures,c=s.maxCubemapSize,h=s.maxTextureSize,u=s.maxSamples,d=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap,m,f=new WeakMap,v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(B,k){return v?new OffscreenCanvas(B,k):Jp("canvas")}function b(B,k,ee,ve){let De=1;if((B.width>ve||B.height>ve)&&(De=ve/Math.max(B.width,B.height)),De<1||k===!0)if(typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&B instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&B instanceof ImageBitmap){let Pe=k?$p:Math.floor,Je=Pe(De*B.width),de=Pe(De*B.height);m===void 0&&(m=x(Je,de));let ze=ee?x(Je,de):m;return ze.width=Je,ze.height=de,ze.getContext("2d").drawImage(B,0,0,Je,de),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+B.width+"x"+B.height+") to ("+Je+"x"+de+")."),ze}else return"data"in B&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+B.width+"x"+B.height+")."),B;return B}function y(B){return W0(B.width)&&W0(B.height)}function w(B){return o?!1:B.wrapS!==As||B.wrapT!==As||B.minFilter!==Kr&&B.minFilter!==Wi}function _(B,k){return B.generateMipmaps&&k&&B.minFilter!==Kr&&B.minFilter!==Wi}function D(B){e.generateMipmap(B)}function S(B,k,ee,ve,De=!1){if(o===!1)return k;if(B!==null){if(e[B]!==void 0)return e[B];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+B+"'")}let Pe=k;return k===6403&&(ee===5126&&(Pe=33326),ee===5131&&(Pe=33325),ee===5121&&(Pe=33321)),k===33319&&(ee===5126&&(Pe=33328),ee===5131&&(Pe=33327),ee===5121&&(Pe=33323)),k===6408&&(ee===5126&&(Pe=34836),ee===5131&&(Pe=34842),ee===5121&&(Pe=ve===Yt&&De===!1?35907:32856),ee===32819&&(Pe=32854),ee===32820&&(Pe=32855)),(Pe===33325||Pe===33326||Pe===33327||Pe===33328||Pe===34842||Pe===34836)&&t.get("EXT_color_buffer_float"),Pe}function A(B,k,ee){return _(B,ee)===!0||B.isFramebufferTexture&&B.minFilter!==Kr&&B.minFilter!==Wi?Math.log2(Math.max(k.width,k.height))+1:B.mipmaps!==void 0&&B.mipmaps.length>0?B.mipmaps.length:B.isCompressedTexture&&Array.isArray(B.image)?k.mipmaps.length:1}function E(B){return B===Kr||B===sS||B===nS?9728:9729}function M(B){let k=B.target;k.removeEventListener("dispose",M),V(k),k.isVideoTexture&&g.delete(k)}function I(B){let k=B.target;k.removeEventListener("dispose",I),Q(k)}function V(B){let k=i.get(B);if(k.__webglInit===void 0)return;let ee=B.source,ve=f.get(ee);if(ve){let De=ve[k.__cacheKey];De.usedTimes--,De.usedTimes===0&&P(B),Object.keys(ve).length===0&&f.delete(ee)}i.remove(B)}function P(B){let k=i.get(B);e.deleteTexture(k.__webglTexture);let ee=B.source,ve=f.get(ee);delete ve[k.__cacheKey],a.memory.textures--}function Q(B){let k=B.texture,ee=i.get(B),ve=i.get(k);if(ve.__webglTexture!==void 0&&(e.deleteTexture(ve.__webglTexture),a.memory.textures--),B.depthTexture&&B.depthTexture.dispose(),B.isWebGLCubeRenderTarget)for(let De=0;De<6;De++)e.deleteFramebuffer(ee.__webglFramebuffer[De]),ee.__webglDepthbuffer&&e.deleteRenderbuffer(ee.__webglDepthbuffer[De]);else{if(e.deleteFramebuffer(ee.__webglFramebuffer),ee.__webglDepthbuffer&&e.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&e.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let De=0;De<ee.__webglColorRenderbuffer.length;De++)ee.__webglColorRenderbuffer[De]&&e.deleteRenderbuffer(ee.__webglColorRenderbuffer[De]);ee.__webglDepthRenderbuffer&&e.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}if(B.isWebGLMultipleRenderTargets)for(let De=0,Pe=k.length;De<Pe;De++){let Je=i.get(k[De]);Je.__webglTexture&&(e.deleteTexture(Je.__webglTexture),a.memory.textures--),i.remove(k[De])}i.remove(k),i.remove(B)}let G=0;function X(){G=0}function F(){let B=G;return B>=l&&console.warn("THREE.WebGLTextures: Trying to use "+B+" texture units while this GPU supports only "+l),G+=1,B}function z(B){let k=[];return k.push(B.wrapS),k.push(B.wrapT),k.push(B.magFilter),k.push(B.minFilter),k.push(B.anisotropy),k.push(B.internalFormat),k.push(B.format),k.push(B.type),k.push(B.generateMipmaps),k.push(B.premultiplyAlpha),k.push(B.flipY),k.push(B.unpackAlignment),k.push(B.encoding),k.join()}function j(B,k){let ee=i.get(B);if(B.isVideoTexture&&Ie(B),B.isRenderTargetTexture===!1&&B.version>0&&ee.__version!==B.version){let ve=B.image;if(ve===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ve.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{$(ee,B,k);return}}r.activeTexture(33984+k),r.bindTexture(3553,ee.__webglTexture)}function Z(B,k){let ee=i.get(B);if(B.version>0&&ee.__version!==B.version){$(ee,B,k);return}r.activeTexture(33984+k),r.bindTexture(35866,ee.__webglTexture)}function U(B,k){let ee=i.get(B);if(B.version>0&&ee.__version!==B.version){$(ee,B,k);return}r.activeTexture(33984+k),r.bindTexture(32879,ee.__webglTexture)}function J(B,k){let ee=i.get(B);if(B.version>0&&ee.__version!==B.version){fe(ee,B,k);return}r.activeTexture(33984+k),r.bindTexture(34067,ee.__webglTexture)}let oe={[j0]:10497,[As]:33071,[H0]:33648},he={[Kr]:9728,[sS]:9984,[nS]:9986,[Wi]:9729,[DU]:9985,[mf]:9987};function q(B,k,ee){if(ee?(e.texParameteri(B,10242,oe[k.wrapS]),e.texParameteri(B,10243,oe[k.wrapT]),(B===32879||B===35866)&&e.texParameteri(B,32882,oe[k.wrapR]),e.texParameteri(B,10240,he[k.magFilter]),e.texParameteri(B,10241,he[k.minFilter])):(e.texParameteri(B,10242,33071),e.texParameteri(B,10243,33071),(B===32879||B===35866)&&e.texParameteri(B,32882,33071),(k.wrapS!==As||k.wrapT!==As)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(B,10240,E(k.magFilter)),e.texParameteri(B,10241,E(k.minFilter)),k.minFilter!==Kr&&k.minFilter!==Wi&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){let ve=t.get("EXT_texture_filter_anisotropic");if(k.type===Do&&t.has("OES_texture_float_linear")===!1||o===!1&&k.type===id&&t.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||i.get(k).__currentAnisotropy)&&(e.texParameterf(B,ve.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,s.getMaxAnisotropy())),i.get(k).__currentAnisotropy=k.anisotropy)}}function Ee(B,k){let ee=!1;B.__webglInit===void 0&&(B.__webglInit=!0,k.addEventListener("dispose",M));let ve=k.source,De=f.get(ve);De===void 0&&(De={},f.set(ve,De));let Pe=z(k);if(Pe!==B.__cacheKey){De[Pe]===void 0&&(De[Pe]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,ee=!0),De[Pe].usedTimes++;let Je=De[B.__cacheKey];Je!==void 0&&(De[B.__cacheKey].usedTimes--,Je.usedTimes===0&&P(k)),B.__cacheKey=Pe,B.__webglTexture=De[Pe].texture}return ee}function $(B,k,ee){let ve=3553;k.isDataArrayTexture&&(ve=35866),k.isData3DTexture&&(ve=32879);let De=Ee(B,k),Pe=k.source;if(r.activeTexture(33984+ee),r.bindTexture(ve,B.__webglTexture),Pe.version!==Pe.__currentVersion||De===!0){e.pixelStorei(37440,k.flipY),e.pixelStorei(37441,k.premultiplyAlpha),e.pixelStorei(3317,k.unpackAlignment),e.pixelStorei(37443,0);let Je=w(k)&&y(k.image)===!1,de=b(k.image,Je,!1,h);de=Qe(k,de);let ze=y(de)||o,Te=n.convert(k.format,k.encoding),Be=n.convert(k.type),Y=S(k.internalFormat,Te,Be,k.encoding,k.isVideoTexture);q(ve,k,ze);let Le,Fe=k.mipmaps,qe=o&&k.isVideoTexture!==!0,He=Pe.__currentVersion===void 0||De===!0,Ke=A(k,de,ze);if(k.isDepthTexture)Y=6402,o?k.type===Do?Y=36012:k.type===_o?Y=33190:k.type===ql?Y=35056:Y=33189:k.type===Do&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===Co&&Y===6402&&k.type!==n3&&k.type!==_o&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=_o,Be=n.convert(k.type)),k.format===Kl&&Y===6402&&(Y=34041,k.type!==ql&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=ql,Be=n.convert(k.type))),He&&(qe?r.texStorage2D(3553,1,Y,de.width,de.height):r.texImage2D(3553,0,Y,de.width,de.height,0,Te,Be,null));else if(k.isDataTexture)if(Fe.length>0&&ze){qe&&He&&r.texStorage2D(3553,Ke,Y,Fe[0].width,Fe[0].height);for(let ke=0,Ze=Fe.length;ke<Ze;ke++)Le=Fe[ke],qe?r.texSubImage2D(3553,ke,0,0,Le.width,Le.height,Te,Be,Le.data):r.texImage2D(3553,ke,Y,Le.width,Le.height,0,Te,Be,Le.data);k.generateMipmaps=!1}else qe?(He&&r.texStorage2D(3553,Ke,Y,de.width,de.height),r.texSubImage2D(3553,0,0,0,de.width,de.height,Te,Be,de.data)):r.texImage2D(3553,0,Y,de.width,de.height,0,Te,Be,de.data);else if(k.isCompressedTexture){qe&&He&&r.texStorage2D(3553,Ke,Y,Fe[0].width,Fe[0].height);for(let ke=0,Ze=Fe.length;ke<Ze;ke++)Le=Fe[ke],k.format!==Ks?Te!==null?qe?r.compressedTexSubImage2D(3553,ke,0,0,Le.width,Le.height,Te,Le.data):r.compressedTexImage2D(3553,ke,Y,Le.width,Le.height,0,Le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qe?r.texSubImage2D(3553,ke,0,0,Le.width,Le.height,Te,Be,Le.data):r.texImage2D(3553,ke,Y,Le.width,Le.height,0,Te,Be,Le.data)}else if(k.isDataArrayTexture)qe?(He&&r.texStorage3D(35866,Ke,Y,de.width,de.height,de.depth),r.texSubImage3D(35866,0,0,0,0,de.width,de.height,de.depth,Te,Be,de.data)):r.texImage3D(35866,0,Y,de.width,de.height,de.depth,0,Te,Be,de.data);else if(k.isData3DTexture)qe?(He&&r.texStorage3D(32879,Ke,Y,de.width,de.height,de.depth),r.texSubImage3D(32879,0,0,0,0,de.width,de.height,de.depth,Te,Be,de.data)):r.texImage3D(32879,0,Y,de.width,de.height,de.depth,0,Te,Be,de.data);else if(k.isFramebufferTexture){if(He)if(qe)r.texStorage2D(3553,Ke,Y,de.width,de.height);else{let ke=de.width,Ze=de.height;for(let ut=0;ut<Ke;ut++)r.texImage2D(3553,ut,Y,ke,Ze,0,Te,Be,null),ke>>=1,Ze>>=1}}else if(Fe.length>0&&ze){qe&&He&&r.texStorage2D(3553,Ke,Y,Fe[0].width,Fe[0].height);for(let ke=0,Ze=Fe.length;ke<Ze;ke++)Le=Fe[ke],qe?r.texSubImage2D(3553,ke,0,0,Te,Be,Le):r.texImage2D(3553,ke,Y,Te,Be,Le);k.generateMipmaps=!1}else qe?(He&&r.texStorage2D(3553,Ke,Y,de.width,de.height),r.texSubImage2D(3553,0,0,0,Te,Be,de)):r.texImage2D(3553,0,Y,Te,Be,de);_(k,ze)&&D(ve),Pe.__currentVersion=Pe.version,k.onUpdate&&k.onUpdate(k)}B.__version=k.version}function fe(B,k,ee){if(k.image.length!==6)return;let ve=Ee(B,k),De=k.source;if(r.activeTexture(33984+ee),r.bindTexture(34067,B.__webglTexture),De.version!==De.__currentVersion||ve===!0){e.pixelStorei(37440,k.flipY),e.pixelStorei(37441,k.premultiplyAlpha),e.pixelStorei(3317,k.unpackAlignment),e.pixelStorei(37443,0);let Pe=k.isCompressedTexture||k.image[0].isCompressedTexture,Je=k.image[0]&&k.image[0].isDataTexture,de=[];for(let ke=0;ke<6;ke++)!Pe&&!Je?de[ke]=b(k.image[ke],!1,!0,c):de[ke]=Je?k.image[ke].image:k.image[ke],de[ke]=Qe(k,de[ke]);let ze=de[0],Te=y(ze)||o,Be=n.convert(k.format,k.encoding),Y=n.convert(k.type),Le=S(k.internalFormat,Be,Y,k.encoding),Fe=o&&k.isVideoTexture!==!0,qe=De.__currentVersion===void 0||ve===!0,He=A(k,ze,Te);q(34067,k,Te);let Ke;if(Pe){Fe&&qe&&r.texStorage2D(34067,He,Le,ze.width,ze.height);for(let ke=0;ke<6;ke++){Ke=de[ke].mipmaps;for(let Ze=0;Ze<Ke.length;Ze++){let ut=Ke[Ze];k.format!==Ks?Be!==null?Fe?r.compressedTexSubImage2D(34069+ke,Ze,0,0,ut.width,ut.height,Be,ut.data):r.compressedTexImage2D(34069+ke,Ze,Le,ut.width,ut.height,0,ut.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Fe?r.texSubImage2D(34069+ke,Ze,0,0,ut.width,ut.height,Be,Y,ut.data):r.texImage2D(34069+ke,Ze,Le,ut.width,ut.height,0,Be,Y,ut.data)}}}else{Ke=k.mipmaps,Fe&&qe&&(Ke.length>0&&He++,r.texStorage2D(34067,He,Le,de[0].width,de[0].height));for(let ke=0;ke<6;ke++)if(Je){Fe?r.texSubImage2D(34069+ke,0,0,0,de[ke].width,de[ke].height,Be,Y,de[ke].data):r.texImage2D(34069+ke,0,Le,de[ke].width,de[ke].height,0,Be,Y,de[ke].data);for(let Ze=0;Ze<Ke.length;Ze++){let ut=Ke[Ze].image[ke].image;Fe?r.texSubImage2D(34069+ke,Ze+1,0,0,ut.width,ut.height,Be,Y,ut.data):r.texImage2D(34069+ke,Ze+1,Le,ut.width,ut.height,0,Be,Y,ut.data)}}else{Fe?r.texSubImage2D(34069+ke,0,0,0,Be,Y,de[ke]):r.texImage2D(34069+ke,0,Le,Be,Y,de[ke]);for(let Ze=0;Ze<Ke.length;Ze++){let ut=Ke[Ze];Fe?r.texSubImage2D(34069+ke,Ze+1,0,0,Be,Y,ut.image[ke]):r.texImage2D(34069+ke,Ze+1,Le,Be,Y,ut.image[ke])}}}_(k,Te)&&D(34067),De.__currentVersion=De.version,k.onUpdate&&k.onUpdate(k)}B.__version=k.version}function te(B,k,ee,ve,De){let Pe=n.convert(ee.format,ee.encoding),Je=n.convert(ee.type),de=S(ee.internalFormat,Pe,Je,ee.encoding);i.get(k).__hasExternalTextures||(De===32879||De===35866?r.texImage3D(De,0,de,k.width,k.height,k.depth,0,Pe,Je,null):r.texImage2D(De,0,de,k.width,k.height,0,Pe,Je,null)),r.bindFramebuffer(36160,B),Ce(k)?d.framebufferTexture2DMultisampleEXT(36160,ve,De,i.get(ee).__webglTexture,0,_e(k)):e.framebufferTexture2D(36160,ve,De,i.get(ee).__webglTexture,0),r.bindFramebuffer(36160,null)}function Oe(B,k,ee){if(e.bindRenderbuffer(36161,B),k.depthBuffer&&!k.stencilBuffer){let ve=33189;if(ee||Ce(k)){let De=k.depthTexture;De&&De.isDepthTexture&&(De.type===Do?ve=36012:De.type===_o&&(ve=33190));let Pe=_e(k);Ce(k)?d.renderbufferStorageMultisampleEXT(36161,Pe,ve,k.width,k.height):e.renderbufferStorageMultisample(36161,Pe,ve,k.width,k.height)}else e.renderbufferStorage(36161,ve,k.width,k.height);e.framebufferRenderbuffer(36160,36096,36161,B)}else if(k.depthBuffer&&k.stencilBuffer){let ve=_e(k);ee&&Ce(k)===!1?e.renderbufferStorageMultisample(36161,ve,35056,k.width,k.height):Ce(k)?d.renderbufferStorageMultisampleEXT(36161,ve,35056,k.width,k.height):e.renderbufferStorage(36161,34041,k.width,k.height),e.framebufferRenderbuffer(36160,33306,36161,B)}else{let ve=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let De=0;De<ve.length;De++){let Pe=ve[De],Je=n.convert(Pe.format,Pe.encoding),de=n.convert(Pe.type),ze=S(Pe.internalFormat,Je,de,Pe.encoding),Te=_e(k);ee&&Ce(k)===!1?e.renderbufferStorageMultisample(36161,Te,ze,k.width,k.height):Ce(k)?d.renderbufferStorageMultisampleEXT(36161,Te,ze,k.width,k.height):e.renderbufferStorage(36161,ze,k.width,k.height)}}e.bindRenderbuffer(36161,null)}function ge(B,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,B),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),j(k.depthTexture,0);let ee=i.get(k.depthTexture).__webglTexture,ve=_e(k);if(k.depthTexture.format===Co)Ce(k)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,ee,0,ve):e.framebufferTexture2D(36160,36096,3553,ee,0);else if(k.depthTexture.format===Kl)Ce(k)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,ee,0,ve):e.framebufferTexture2D(36160,33306,3553,ee,0);else throw new Error("Unknown depthTexture format")}function be(B){let k=i.get(B),ee=B.isWebGLCubeRenderTarget===!0;if(B.depthTexture&&!k.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");ge(k.__webglFramebuffer,B)}else if(ee){k.__webglDepthbuffer=[];for(let ve=0;ve<6;ve++)r.bindFramebuffer(36160,k.__webglFramebuffer[ve]),k.__webglDepthbuffer[ve]=e.createRenderbuffer(),Oe(k.__webglDepthbuffer[ve],B,!1)}else r.bindFramebuffer(36160,k.__webglFramebuffer),k.__webglDepthbuffer=e.createRenderbuffer(),Oe(k.__webglDepthbuffer,B,!1);r.bindFramebuffer(36160,null)}function W(B,k,ee){let ve=i.get(B);k!==void 0&&te(ve.__webglFramebuffer,B,B.texture,36064,3553),ee!==void 0&&be(B)}function ne(B){let k=B.texture,ee=i.get(B),ve=i.get(k);B.addEventListener("dispose",I),B.isWebGLMultipleRenderTargets!==!0&&(ve.__webglTexture===void 0&&(ve.__webglTexture=e.createTexture()),ve.__version=k.version,a.memory.textures++);let De=B.isWebGLCubeRenderTarget===!0,Pe=B.isWebGLMultipleRenderTargets===!0,Je=y(B)||o;if(De){ee.__webglFramebuffer=[];for(let de=0;de<6;de++)ee.__webglFramebuffer[de]=e.createFramebuffer()}else{if(ee.__webglFramebuffer=e.createFramebuffer(),Pe)if(s.drawBuffers){let de=B.texture;for(let ze=0,Te=de.length;ze<Te;ze++){let Be=i.get(de[ze]);Be.__webglTexture===void 0&&(Be.__webglTexture=e.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&B.samples>0&&Ce(B)===!1){let de=Pe?k:[k];ee.__webglMultisampledFramebuffer=e.createFramebuffer(),ee.__webglColorRenderbuffer=[],r.bindFramebuffer(36160,ee.__webglMultisampledFramebuffer);for(let ze=0;ze<de.length;ze++){let Te=de[ze];ee.__webglColorRenderbuffer[ze]=e.createRenderbuffer(),e.bindRenderbuffer(36161,ee.__webglColorRenderbuffer[ze]);let Be=n.convert(Te.format,Te.encoding),Y=n.convert(Te.type),Le=S(Te.internalFormat,Be,Y,Te.encoding),Fe=_e(B);e.renderbufferStorageMultisample(36161,Fe,Le,B.width,B.height),e.framebufferRenderbuffer(36160,36064+ze,36161,ee.__webglColorRenderbuffer[ze])}e.bindRenderbuffer(36161,null),B.depthBuffer&&(ee.__webglDepthRenderbuffer=e.createRenderbuffer(),Oe(ee.__webglDepthRenderbuffer,B,!0)),r.bindFramebuffer(36160,null)}}if(De){r.bindTexture(34067,ve.__webglTexture),q(34067,k,Je);for(let de=0;de<6;de++)te(ee.__webglFramebuffer[de],B,k,36064,34069+de);_(k,Je)&&D(34067),r.unbindTexture()}else if(Pe){let de=B.texture;for(let ze=0,Te=de.length;ze<Te;ze++){let Be=de[ze],Y=i.get(Be);r.bindTexture(3553,Y.__webglTexture),q(3553,Be,Je),te(ee.__webglFramebuffer,B,Be,36064+ze,3553),_(Be,Je)&&D(3553)}r.unbindTexture()}else{let de=3553;(B.isWebGL3DRenderTarget||B.isWebGLArrayRenderTarget)&&(o?de=B.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(de,ve.__webglTexture),q(de,k,Je),te(ee.__webglFramebuffer,B,k,36064,de),_(k,Je)&&D(de),r.unbindTexture()}B.depthBuffer&&be(B)}function xe(B){let k=y(B)||o,ee=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let ve=0,De=ee.length;ve<De;ve++){let Pe=ee[ve];if(_(Pe,k)){let Je=B.isWebGLCubeRenderTarget?34067:3553,de=i.get(Pe).__webglTexture;r.bindTexture(Je,de),D(Je),r.unbindTexture()}}}function ae(B){if(o&&B.samples>0&&Ce(B)===!1){let k=B.isWebGLMultipleRenderTargets?B.texture:[B.texture],ee=B.width,ve=B.height,De=16384,Pe=[],Je=B.stencilBuffer?33306:36096,de=i.get(B),ze=B.isWebGLMultipleRenderTargets===!0;if(ze)for(let Te=0;Te<k.length;Te++)r.bindFramebuffer(36160,de.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+Te,36161,null),r.bindFramebuffer(36160,de.__webglFramebuffer),e.framebufferTexture2D(36009,36064+Te,3553,null,0);r.bindFramebuffer(36008,de.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,de.__webglFramebuffer);for(let Te=0;Te<k.length;Te++){Pe.push(36064+Te),B.depthBuffer&&Pe.push(Je);let Be=de.__ignoreDepthValues!==void 0?de.__ignoreDepthValues:!1;if(Be===!1&&(B.depthBuffer&&(De|=256),B.stencilBuffer&&(De|=1024)),ze&&e.framebufferRenderbuffer(36008,36064,36161,de.__webglColorRenderbuffer[Te]),Be===!0&&(e.invalidateFramebuffer(36008,[Je]),e.invalidateFramebuffer(36009,[Je])),ze){let Y=i.get(k[Te]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,Y,0)}e.blitFramebuffer(0,0,ee,ve,0,0,ee,ve,De,9728),p&&e.invalidateFramebuffer(36008,Pe)}if(r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),ze)for(let Te=0;Te<k.length;Te++){r.bindFramebuffer(36160,de.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+Te,36161,de.__webglColorRenderbuffer[Te]);let Be=i.get(k[Te]).__webglTexture;r.bindFramebuffer(36160,de.__webglFramebuffer),e.framebufferTexture2D(36009,36064+Te,3553,Be,0)}r.bindFramebuffer(36009,de.__webglMultisampledFramebuffer)}}function _e(B){return Math.min(u,B.samples)}function Ce(B){let k=i.get(B);return o&&B.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function Ie(B){let k=a.render.frame;g.get(B)!==k&&(g.set(B,k),B.update())}function Qe(B,k){let ee=B.encoding,ve=B.format,De=B.type;return B.isCompressedTexture===!0||B.isVideoTexture===!0||B.format===G0||ee!==cn&&(ee===Yt?o===!1?t.has("EXT_sRGB")===!0&&ve===Ks?(B.format=G0,B.minFilter=Wi,B.generateMipmaps=!1):k=l3.sRGBToLinear(k):(ve!==Ks||De!==Fo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ee)),k}this.allocateTextureUnit=F,this.resetTextureUnits=X,this.setTexture2D=j,this.setTexture2DArray=Z,this.setTexture3D=U,this.setTextureCube=J,this.rebindTextures=W,this.setupRenderTarget=ne,this.updateRenderTargetMipmap=xe,this.updateMultisampleRenderTarget=ae,this.setupDepthRenderbuffer=be,this.setupFrameBufferTexture=te,this.useMultisampledRTT=Ce}function X9(e,t,r){let i=r.isWebGL2;function s(n,a=null){let o;if(n===Fo)return 5121;if(n===CU)return 32819;if(n===TU)return 32820;if(n===SU)return 5120;if(n===AU)return 5122;if(n===n3)return 5123;if(n===EU)return 5124;if(n===_o)return 5125;if(n===Do)return 5126;if(n===id)return i?5131:(o=t.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(n===MU)return 6406;if(n===Ks)return 6408;if(n===kU)return 6409;if(n===PU)return 6410;if(n===Co)return 6402;if(n===Kl)return 34041;if(n===BU)return 6403;if(n===LU)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(n===G0)return o=t.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(n===FU)return 36244;if(n===OU)return 33319;if(n===IU)return 33320;if(n===RU)return 36249;if(n===Sv||n===Av||n===Ev||n===Cv)if(a===Yt)if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(n===Sv)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Av)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Ev)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Cv)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=t.get("WEBGL_compressed_texture_s3tc"),o!==null){if(n===Sv)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Av)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Ev)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Cv)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===aS||n===oS||n===lS||n===cS)if(o=t.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(n===aS)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===oS)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===lS)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===cS)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===NU)return o=t.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===uS||n===dS)if(o=t.get("WEBGL_compressed_texture_etc"),o!==null){if(n===uS)return a===Yt?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(n===dS)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===hS||n===pS||n===fS||n===mS||n===gS||n===vS||n===yS||n===xS||n===bS||n===wS||n===_S||n===DS||n===SS||n===AS)if(o=t.get("WEBGL_compressed_texture_astc"),o!==null){if(n===hS)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===pS)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===fS)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===mS)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===gS)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===vS)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===yS)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===xS)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===bS)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===wS)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===_S)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===DS)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===SS)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===AS)return a===Yt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===ES)if(o=t.get("EXT_texture_compression_bptc"),o!==null){if(n===ES)return a===Yt?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return n===ql?i?34042:(o=t.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):e[n]!==void 0?e[n]:null}return{convert:s}}function K9(e,t){function r(m,f){m.fogColor.value.copy(f.color),f.isFog?(m.fogNear.value=f.near,m.fogFar.value=f.far):f.isFogExp2&&(m.fogDensity.value=f.density)}function i(m,f,v,x,b){f.isMeshBasicMaterial||f.isMeshLambertMaterial?s(m,f):f.isMeshToonMaterial?(s(m,f),h(m,f)):f.isMeshPhongMaterial?(s(m,f),c(m,f)):f.isMeshStandardMaterial?(s(m,f),u(m,f),f.isMeshPhysicalMaterial&&d(m,f,b)):f.isMeshMatcapMaterial?(s(m,f),p(m,f)):f.isMeshDepthMaterial?s(m,f):f.isMeshDistanceMaterial?(s(m,f),g(m,f)):f.isMeshNormalMaterial?s(m,f):f.isLineBasicMaterial?(n(m,f),f.isLineDashedMaterial&&a(m,f)):f.isPointsMaterial?o(m,f,v,x):f.isSpriteMaterial?l(m,f):f.isShadowMaterial?(m.color.value.copy(f.color),m.opacity.value=f.opacity):f.isShaderMaterial&&(f.uniformsNeedUpdate=!1)}function s(m,f){m.opacity.value=f.opacity,f.color&&m.diffuse.value.copy(f.color),f.emissive&&m.emissive.value.copy(f.emissive).multiplyScalar(f.emissiveIntensity),f.map&&(m.map.value=f.map),f.alphaMap&&(m.alphaMap.value=f.alphaMap),f.bumpMap&&(m.bumpMap.value=f.bumpMap,m.bumpScale.value=f.bumpScale,f.side===yi&&(m.bumpScale.value*=-1)),f.displacementMap&&(m.displacementMap.value=f.displacementMap,m.displacementScale.value=f.displacementScale,m.displacementBias.value=f.displacementBias),f.emissiveMap&&(m.emissiveMap.value=f.emissiveMap),f.normalMap&&(m.normalMap.value=f.normalMap,m.normalScale.value.copy(f.normalScale),f.side===yi&&m.normalScale.value.negate()),f.specularMap&&(m.specularMap.value=f.specularMap),f.alphaTest>0&&(m.alphaTest.value=f.alphaTest);let v=t.get(f).envMap;if(v&&(m.envMap.value=v,m.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=f.reflectivity,m.ior.value=f.ior,m.refractionRatio.value=f.refractionRatio),f.lightMap){m.lightMap.value=f.lightMap;let y=e.physicallyCorrectLights!==!0?Math.PI:1;m.lightMapIntensity.value=f.lightMapIntensity*y}f.aoMap&&(m.aoMap.value=f.aoMap,m.aoMapIntensity.value=f.aoMapIntensity);let x;f.map?x=f.map:f.specularMap?x=f.specularMap:f.displacementMap?x=f.displacementMap:f.normalMap?x=f.normalMap:f.bumpMap?x=f.bumpMap:f.roughnessMap?x=f.roughnessMap:f.metalnessMap?x=f.metalnessMap:f.alphaMap?x=f.alphaMap:f.emissiveMap?x=f.emissiveMap:f.clearcoatMap?x=f.clearcoatMap:f.clearcoatNormalMap?x=f.clearcoatNormalMap:f.clearcoatRoughnessMap?x=f.clearcoatRoughnessMap:f.iridescenceMap?x=f.iridescenceMap:f.iridescenceThicknessMap?x=f.iridescenceThicknessMap:f.specularIntensityMap?x=f.specularIntensityMap:f.specularColorMap?x=f.specularColorMap:f.transmissionMap?x=f.transmissionMap:f.thicknessMap?x=f.thicknessMap:f.sheenColorMap?x=f.sheenColorMap:f.sheenRoughnessMap&&(x=f.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),m.uvTransform.value.copy(x.matrix));let b;f.aoMap?b=f.aoMap:f.lightMap&&(b=f.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uv2Transform.value.copy(b.matrix))}function n(m,f){m.diffuse.value.copy(f.color),m.opacity.value=f.opacity}function a(m,f){m.dashSize.value=f.dashSize,m.totalSize.value=f.dashSize+f.gapSize,m.scale.value=f.scale}function o(m,f,v,x){m.diffuse.value.copy(f.color),m.opacity.value=f.opacity,m.size.value=f.size*v,m.scale.value=x*.5,f.map&&(m.map.value=f.map),f.alphaMap&&(m.alphaMap.value=f.alphaMap),f.alphaTest>0&&(m.alphaTest.value=f.alphaTest);let b;f.map?b=f.map:f.alphaMap&&(b=f.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uvTransform.value.copy(b.matrix))}function l(m,f){m.diffuse.value.copy(f.color),m.opacity.value=f.opacity,m.rotation.value=f.rotation,f.map&&(m.map.value=f.map),f.alphaMap&&(m.alphaMap.value=f.alphaMap),f.alphaTest>0&&(m.alphaTest.value=f.alphaTest);let v;f.map?v=f.map:f.alphaMap&&(v=f.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),m.uvTransform.value.copy(v.matrix))}function c(m,f){m.specular.value.copy(f.specular),m.shininess.value=Math.max(f.shininess,1e-4)}function h(m,f){f.gradientMap&&(m.gradientMap.value=f.gradientMap)}function u(m,f){m.roughness.value=f.roughness,m.metalness.value=f.metalness,f.roughnessMap&&(m.roughnessMap.value=f.roughnessMap),f.metalnessMap&&(m.metalnessMap.value=f.metalnessMap),t.get(f).envMap&&(m.envMapIntensity.value=f.envMapIntensity)}function d(m,f,v){m.ior.value=f.ior,f.sheen>0&&(m.sheenColor.value.copy(f.sheenColor).multiplyScalar(f.sheen),m.sheenRoughness.value=f.sheenRoughness,f.sheenColorMap&&(m.sheenColorMap.value=f.sheenColorMap),f.sheenRoughnessMap&&(m.sheenRoughnessMap.value=f.sheenRoughnessMap)),f.clearcoat>0&&(m.clearcoat.value=f.clearcoat,m.clearcoatRoughness.value=f.clearcoatRoughness,f.clearcoatMap&&(m.clearcoatMap.value=f.clearcoatMap),f.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=f.clearcoatRoughnessMap),f.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(f.clearcoatNormalScale),m.clearcoatNormalMap.value=f.clearcoatNormalMap,f.side===yi&&m.clearcoatNormalScale.value.negate())),f.iridescence>0&&(m.iridescence.value=f.iridescence,m.iridescenceIOR.value=f.iridescenceIOR,m.iridescenceThicknessMinimum.value=f.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=f.iridescenceThicknessRange[1],f.iridescenceMap&&(m.iridescenceMap.value=f.iridescenceMap),f.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=f.iridescenceThicknessMap)),f.transmission>0&&(m.transmission.value=f.transmission,m.transmissionSamplerMap.value=v.texture,m.transmissionSamplerSize.value.set(v.width,v.height),f.transmissionMap&&(m.transmissionMap.value=f.transmissionMap),m.thickness.value=f.thickness,f.thicknessMap&&(m.thicknessMap.value=f.thicknessMap),m.attenuationDistance.value=f.attenuationDistance,m.attenuationColor.value.copy(f.attenuationColor)),m.specularIntensity.value=f.specularIntensity,m.specularColor.value.copy(f.specularColor),f.specularIntensityMap&&(m.specularIntensityMap.value=f.specularIntensityMap),f.specularColorMap&&(m.specularColorMap.value=f.specularColorMap)}function p(m,f){f.matcap&&(m.matcap.value=f.matcap)}function g(m,f){m.referencePosition.value.copy(f.referencePosition),m.nearDistance.value=f.nearDistance,m.farDistance.value=f.farDistance}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function eH(){let e=Jp("canvas");return e.style.display="block",e}function tH(e={}){this.isWebGLRenderer=!0;let t=e.canvas!==void 0?e.canvas:eH(),r=e.context!==void 0?e.context:null,i=e.depth!==void 0?e.depth:!0,s=e.stencil!==void 0?e.stencil:!0,n=e.antialias!==void 0?e.antialias:!1,a=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,o=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,l=e.powerPreference!==void 0?e.powerPreference:"default",c=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1,h;r!==null?h=r.getContextAttributes().alpha:h=e.alpha!==void 0?e.alpha:!1;let u=null,d=null,p=[],g=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=cn,this.physicallyCorrectLights=!1,this.toneMapping=Un,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});let m=this,f=!1,v=0,x=0,b=null,y=-1,w=null,_=new yt,D=new yt,S=null,A=t.width,E=t.height,M=1,I=null,V=null,P=new yt(0,0,A,E),Q=new yt(0,0,A,E),G=!1,X=new s1,F=!1,z=!1,j=null,Z=new Xe,U=new se,J=new C,oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function he(){return b===null?M:1}let q=r;function Ee(R,le){for(let ye=0;ye<R.length;ye++){let me=R[ye],Ae=t.getContext(me,le);if(Ae!==null)return Ae}return null}try{let R={alpha:!0,depth:i,stencil:s,antialias:n,premultipliedAlpha:a,preserveDrawingBuffer:o,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${e1}`),t.addEventListener("webglcontextlost",Y,!1),t.addEventListener("webglcontextrestored",Le,!1),t.addEventListener("webglcontextcreationerror",Fe,!1),q===null){let le=["webgl2","webgl","experimental-webgl"];if(m.isWebGL1Renderer===!0&&le.shift(),q=Ee(le,R),q===null)throw Ee(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}q.getShaderPrecisionFormat===void 0&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(R){throw console.error("THREE.WebGLRenderer: "+R.message),R}let $,fe,te,Oe,ge,be,W,ne,xe,ae,_e,Ce,Ie,Qe,B,k,ee,ve,De,Pe,Je,de,ze;function Te(){$=new dj(q),fe=new nj(q,$,e),$.init(fe),de=new X9(q,$,fe),te=new q9(q,$,fe),Oe=new fj,ge=new P9,be=new Y9(q,$,te,ge,fe,de,Oe),W=new oj(m),ne=new uj(m),xe=new Ez(q,fe),ze=new ij(q,$,xe,fe),ae=new hj(q,xe,Oe,ze),_e=new yj(q,ae,xe,Oe),De=new vj(q,fe,be),k=new aj(ge),Ce=new k9(m,W,ne,$,fe,ze,k),Ie=new K9(m,ge),Qe=new F9,B=new z9($,fe),ve=new rj(m,W,te,_e,h,a),ee=new W9(m,_e,fe),Pe=new sj(q,$,Oe,fe),Je=new pj(q,$,Oe,fe),Oe.programs=Ce.programs,m.capabilities=fe,m.extensions=$,m.properties=ge,m.renderLists=Qe,m.shadowMap=ee,m.state=te,m.info=Oe}Te();let Be=new J9(m,q);this.xr=Be,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){let R=$.get("WEBGL_lose_context");R&&R.loseContext()},this.forceContextRestore=function(){let R=$.get("WEBGL_lose_context");R&&R.restoreContext()},this.getPixelRatio=function(){return M},this.setPixelRatio=function(R){R!==void 0&&(M=R,this.setSize(A,E,!1))},this.getSize=function(R){return R.set(A,E)},this.setSize=function(R,le,ye){if(Be.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}A=R,E=le,t.width=Math.floor(R*M),t.height=Math.floor(le*M),ye!==!1&&(t.style.width=R+"px",t.style.height=le+"px"),this.setViewport(0,0,R,le)},this.getDrawingBufferSize=function(R){return R.set(A*M,E*M).floor()},this.setDrawingBufferSize=function(R,le,ye){A=R,E=le,M=ye,t.width=Math.floor(R*ye),t.height=Math.floor(le*ye),this.setViewport(0,0,R,le)},this.getCurrentViewport=function(R){return R.copy(_)},this.getViewport=function(R){return R.copy(P)},this.setViewport=function(R,le,ye,me){R.isVector4?P.set(R.x,R.y,R.z,R.w):P.set(R,le,ye,me),te.viewport(_.copy(P).multiplyScalar(M).floor())},this.getScissor=function(R){return R.copy(Q)},this.setScissor=function(R,le,ye,me){R.isVector4?Q.set(R.x,R.y,R.z,R.w):Q.set(R,le,ye,me),te.scissor(D.copy(Q).multiplyScalar(M).floor())},this.getScissorTest=function(){return G},this.setScissorTest=function(R){te.setScissorTest(G=R)},this.setOpaqueSort=function(R){I=R},this.setTransparentSort=function(R){V=R},this.getClearColor=function(R){return R.copy(ve.getClearColor())},this.setClearColor=function(){ve.setClearColor.apply(ve,arguments)},this.getClearAlpha=function(){return ve.getClearAlpha()},this.setClearAlpha=function(){ve.setClearAlpha.apply(ve,arguments)},this.clear=function(R=!0,le=!0,ye=!0){let me=0;R&&(me|=16384),le&&(me|=256),ye&&(me|=1024),q.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Y,!1),t.removeEventListener("webglcontextrestored",Le,!1),t.removeEventListener("webglcontextcreationerror",Fe,!1),Qe.dispose(),B.dispose(),ge.dispose(),W.dispose(),ne.dispose(),_e.dispose(),ze.dispose(),Ce.dispose(),Be.dispose(),Be.removeEventListener("sessionstart",ut),Be.removeEventListener("sessionend",dt),j&&(j.dispose(),j=null),Gt.stop()};function Y(R){R.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),f=!0}function Le(){console.log("THREE.WebGLRenderer: Context Restored."),f=!1;let R=Oe.autoReset,le=ee.enabled,ye=ee.autoUpdate,me=ee.needsUpdate,Ae=ee.type;Te(),Oe.autoReset=R,ee.enabled=le,ee.autoUpdate=ye,ee.needsUpdate=me,ee.type=Ae}function Fe(R){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",R.statusMessage)}function qe(R){let le=R.target;le.removeEventListener("dispose",qe),He(le)}function He(R){Ke(R),ge.remove(R)}function Ke(R){let le=ge.get(R).programs;le!==void 0&&(le.forEach(function(ye){Ce.releaseProgram(ye)}),R.isShaderMaterial&&Ce.releaseShaderCache(R))}this.renderBufferDirect=function(R,le,ye,me,Ae,et){le===null&&(le=oe);let ht=Ae.isMesh&&Ae.matrixWorld.determinant()<0,pt=us(R,le,ye,me,Ae);te.setMaterial(me,ht);let xt=ye.index,$t=ye.attributes.position;if(xt===null){if($t===void 0||$t.count===0)return}else if(xt.count===0)return;let bt=1;me.wireframe===!0&&(xt=ae.getWireframeAttribute(ye),bt=2),ze.setup(Ae,me,pt,ye,xt);let Dt,Sr=Pe;xt!==null&&(Dt=xe.get(xt),Sr=Je,Sr.setIndex(Dt));let Xa=xt!==null?xt.count:$t.count,Zo=ye.drawRange.start*bt,$o=ye.drawRange.count*bt,Ps=et!==null?et.start*bt:0,Tt=et!==null?et.count*bt:1/0,Jo=Math.max(Zo,Ps),Vc=Math.min(Xa,Zo+$o,Ps+Tt)-1,Bs=Math.max(0,Vc-Jo+1);if(Bs!==0){if(Ae.isMesh)me.wireframe===!0?(te.setLineWidth(me.wireframeLinewidth*he()),Sr.setMode(1)):Sr.setMode(4);else if(Ae.isLine){let na=me.linewidth;na===void 0&&(na=1),te.setLineWidth(na*he()),Ae.isLineSegments?Sr.setMode(1):Ae.isLineLoop?Sr.setMode(2):Sr.setMode(3)}else Ae.isPoints?Sr.setMode(0):Ae.isSprite&&Sr.setMode(4);if(Ae.isInstancedMesh)Sr.renderInstances(Jo,Bs,Ae.count);else if(ye.isInstancedBufferGeometry){let na=Math.min(ye.instanceCount,ye._maxInstanceCount);Sr.renderInstances(Jo,Bs,na)}else Sr.render(Jo,Bs)}},this.compile=function(R,le){d=B.get(R),d.init(),g.push(d),R.traverseVisible(function(ye){ye.isLight&&ye.layers.test(le.layers)&&(d.pushLight(ye),ye.castShadow&&d.pushShadow(ye))}),d.setupLights(m.physicallyCorrectLights),R.traverse(function(ye){let me=ye.material;if(me)if(Array.isArray(me))for(let Ae=0;Ae<me.length;Ae++){let et=me[Ae];sr(et,R,ye)}else sr(me,R,ye)}),g.pop(),d=null};let ke=null;function Ze(R){ke&&ke(R)}function ut(){Gt.stop()}function dt(){Gt.start()}let Gt=new h3;Gt.setAnimationLoop(Ze),typeof self<"u"&&Gt.setContext(self),this.setAnimationLoop=function(R){ke=R,Be.setAnimationLoop(R),R===null?Gt.stop():Gt.start()},Be.addEventListener("sessionstart",ut),Be.addEventListener("sessionend",dt),this.render=function(R,le){if(le!==void 0&&le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(f===!0)return;R.autoUpdate===!0&&R.updateMatrixWorld(),le.parent===null&&le.updateMatrixWorld(),Be.enabled===!0&&Be.isPresenting===!0&&(Be.cameraAutoUpdate===!0&&Be.updateCamera(le),le=Be.getCamera()),R.isScene===!0&&R.onBeforeRender(m,R,le,b),d=B.get(R,g.length),d.init(),g.push(d),Z.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),X.setFromProjectionMatrix(Z),z=this.localClippingEnabled,F=k.init(this.clippingPlanes,z,le),u=Qe.get(R,p.length),u.init(),p.push(u),Ct(R,le,0,m.sortObjects),u.finish(),m.sortObjects===!0&&u.sort(I,V),F===!0&&k.beginShadows();let ye=d.state.shadowsArray;if(ee.render(ye,R,le),F===!0&&k.endShadows(),this.info.autoReset===!0&&this.info.reset(),ve.render(u,R),d.setupLights(m.physicallyCorrectLights),le.isArrayCamera){let me=le.cameras;for(let Ae=0,et=me.length;Ae<et;Ae++){let ht=me[Ae];It(u,R,ht,ht.viewport)}}else It(u,R,le);b!==null&&(be.updateMultisampleRenderTarget(b),be.updateRenderTargetMipmap(b)),R.isScene===!0&&R.onAfterRender(m,R,le),ze.resetDefaultState(),y=-1,w=null,g.pop(),g.length>0?d=g[g.length-1]:d=null,p.pop(),p.length>0?u=p[p.length-1]:u=null};function Ct(R,le,ye,me){if(R.visible===!1)return;if(R.layers.test(le.layers)){if(R.isGroup)ye=R.renderOrder;else if(R.isLOD)R.autoUpdate===!0&&R.update(le);else if(R.isLight)d.pushLight(R),R.castShadow&&d.pushShadow(R);else if(R.isSprite){if(!R.frustumCulled||X.intersectsSprite(R)){me&&J.setFromMatrixPosition(R.matrixWorld).applyMatrix4(Z);let et=_e.update(R),ht=R.material;ht.visible&&u.push(R,et,ht,ye,J.z,null)}}else if((R.isMesh||R.isLine||R.isPoints)&&(R.isSkinnedMesh&&R.skeleton.frame!==Oe.render.frame&&(R.skeleton.update(),R.skeleton.frame=Oe.render.frame),!R.frustumCulled||X.intersectsObject(R))){me&&J.setFromMatrixPosition(R.matrixWorld).applyMatrix4(Z);let et=_e.update(R),ht=R.material;if(Array.isArray(ht)){let pt=et.groups;for(let xt=0,$t=pt.length;xt<$t;xt++){let bt=pt[xt],Dt=ht[bt.materialIndex];Dt&&Dt.visible&&u.push(R,et,Dt,ye,J.z,bt)}}else ht.visible&&u.push(R,et,ht,ye,J.z,null)}}let Ae=R.children;for(let et=0,ht=Ae.length;et<ht;et++)Ct(Ae[et],le,ye,me)}function It(R,le,ye,me){let Ae=R.opaque,et=R.transmissive,ht=R.transparent;d.setupLightsView(ye),et.length>0&&jr(Ae,le,ye),me&&te.viewport(_.copy(me)),Ae.length>0&&Dr(Ae,le,ye),et.length>0&&Dr(et,le,ye),ht.length>0&&Dr(ht,le,ye),te.buffers.depth.setTest(!0),te.buffers.depth.setMask(!0),te.buffers.color.setMask(!0),te.setPolygonOffset(!1)}function jr(R,le,ye){let me=fe.isWebGL2;j===null&&(j=new Oo(1,1,{generateMipmaps:!0,type:$.has("EXT_color_buffer_half_float")?id:Fo,minFilter:mf,samples:me&&n===!0?4:0})),m.getDrawingBufferSize(U),me?j.setSize(U.x,U.y):j.setSize($p(U.x),$p(U.y));let Ae=m.getRenderTarget();m.setRenderTarget(j),m.clear();let et=m.toneMapping;m.toneMapping=Un,Dr(R,le,ye),m.toneMapping=et,be.updateMultisampleRenderTarget(j),be.updateRenderTargetMipmap(j),m.setRenderTarget(Ae)}function Dr(R,le,ye){let me=le.isScene===!0?le.overrideMaterial:null;for(let Ae=0,et=R.length;Ae<et;Ae++){let ht=R[Ae],pt=ht.object,xt=ht.geometry,$t=me===null?ht.material:me,bt=ht.group;pt.layers.test(ye.layers)&&Lr(pt,le,ye,xt,$t,bt)}}function Lr(R,le,ye,me,Ae,et){R.onBeforeRender(m,le,ye,me,Ae,et),R.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse,R.matrixWorld),R.normalMatrix.getNormalMatrix(R.modelViewMatrix),Ae.onBeforeRender(m,le,ye,me,R,et),Ae.transparent===!0&&Ae.side===Ts?(Ae.side=yi,Ae.needsUpdate=!0,m.renderBufferDirect(ye,le,me,Ae,R,et),Ae.side=Ia,Ae.needsUpdate=!0,m.renderBufferDirect(ye,le,me,Ae,R,et),Ae.side=Ts):m.renderBufferDirect(ye,le,me,Ae,R,et),R.onAfterRender(m,le,ye,me,Ae,et)}function sr(R,le,ye){le.isScene!==!0&&(le=oe);let me=ge.get(R),Ae=d.state.lights,et=d.state.shadowsArray,ht=Ae.state.version,pt=Ce.getParameters(R,Ae.state,et,le,ye),xt=Ce.getProgramCacheKey(pt),$t=me.programs;me.environment=R.isMeshStandardMaterial?le.environment:null,me.fog=le.fog,me.envMap=(R.isMeshStandardMaterial?ne:W).get(R.envMap||me.environment),$t===void 0&&(R.addEventListener("dispose",qe),$t=new Map,me.programs=$t);let bt=$t.get(xt);if(bt!==void 0){if(me.currentProgram===bt&&me.lightsStateVersion===ht)return Ai(R,pt),bt}else pt.uniforms=Ce.getUniforms(R),R.onBuild(ye,pt,m),R.onBeforeCompile(pt,m),bt=Ce.acquireProgram(pt,xt),$t.set(xt,bt),me.uniforms=pt.uniforms;let Dt=me.uniforms;(!R.isShaderMaterial&&!R.isRawShaderMaterial||R.clipping===!0)&&(Dt.clippingPlanes=k.uniform),Ai(R,pt),me.needsLights=IR(R),me.lightsStateVersion=ht,me.needsLights&&(Dt.ambientLightColor.value=Ae.state.ambient,Dt.lightProbe.value=Ae.state.probe,Dt.directionalLights.value=Ae.state.directional,Dt.directionalLightShadows.value=Ae.state.directionalShadow,Dt.spotLights.value=Ae.state.spot,Dt.spotLightShadows.value=Ae.state.spotShadow,Dt.rectAreaLights.value=Ae.state.rectArea,Dt.ltc_1.value=Ae.state.rectAreaLTC1,Dt.ltc_2.value=Ae.state.rectAreaLTC2,Dt.pointLights.value=Ae.state.point,Dt.pointLightShadows.value=Ae.state.pointShadow,Dt.hemisphereLights.value=Ae.state.hemi,Dt.directionalShadowMap.value=Ae.state.directionalShadowMap,Dt.directionalShadowMatrix.value=Ae.state.directionalShadowMatrix,Dt.spotShadowMap.value=Ae.state.spotShadowMap,Dt.spotShadowMatrix.value=Ae.state.spotShadowMatrix,Dt.pointShadowMap.value=Ae.state.pointShadowMap,Dt.pointShadowMatrix.value=Ae.state.pointShadowMatrix);let Sr=bt.getUniforms(),Xa=zp.seqWithValue(Sr.seq,Dt);return me.currentProgram=bt,me.uniformsList=Xa,bt}function Ai(R,le){let ye=ge.get(R);ye.outputEncoding=le.outputEncoding,ye.instancing=le.instancing,ye.skinning=le.skinning,ye.morphTargets=le.morphTargets,ye.morphNormals=le.morphNormals,ye.morphColors=le.morphColors,ye.morphTargetsCount=le.morphTargetsCount,ye.numClippingPlanes=le.numClippingPlanes,ye.numIntersection=le.numClipIntersection,ye.vertexAlphas=le.vertexAlphas,ye.vertexTangents=le.vertexTangents,ye.toneMapping=le.toneMapping}function us(R,le,ye,me,Ae){le.isScene!==!0&&(le=oe),be.resetTextureUnits();let et=le.fog,ht=me.isMeshStandardMaterial?le.environment:null,pt=b===null?m.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:cn,xt=(me.isMeshStandardMaterial?ne:W).get(me.envMap||ht),$t=me.vertexColors===!0&&!!ye.attributes.color&&ye.attributes.color.itemSize===4,bt=!!me.normalMap&&!!ye.attributes.tangent,Dt=!!ye.morphAttributes.position,Sr=!!ye.morphAttributes.normal,Xa=!!ye.morphAttributes.color,Zo=me.toneMapped?m.toneMapping:Un,$o=ye.morphAttributes.position||ye.morphAttributes.normal||ye.morphAttributes.color,Ps=$o!==void 0?$o.length:0,Tt=ge.get(me),Jo=d.state.lights;if(F===!0&&(z===!0||R!==w)){let Fs=R===w&&me.id===y;k.setState(me,R,Fs)}let Vc=!1;me.version===Tt.__version?(Tt.needsLights&&Tt.lightsStateVersion!==Jo.state.version||Tt.outputEncoding!==pt||Ae.isInstancedMesh&&Tt.instancing===!1||!Ae.isInstancedMesh&&Tt.instancing===!0||Ae.isSkinnedMesh&&Tt.skinning===!1||!Ae.isSkinnedMesh&&Tt.skinning===!0||Tt.envMap!==xt||me.fog===!0&&Tt.fog!==et||Tt.numClippingPlanes!==void 0&&(Tt.numClippingPlanes!==k.numPlanes||Tt.numIntersection!==k.numIntersection)||Tt.vertexAlphas!==$t||Tt.vertexTangents!==bt||Tt.morphTargets!==Dt||Tt.morphNormals!==Sr||Tt.morphColors!==Xa||Tt.toneMapping!==Zo||fe.isWebGL2===!0&&Tt.morphTargetsCount!==Ps)&&(Vc=!0):(Vc=!0,Tt.__version=me.version);let Bs=Tt.currentProgram;Vc===!0&&(Bs=sr(me,le,Ae));let na=!1,Gc=!1,Hm=!1,Hr=Bs.getUniforms(),Wc=Tt.uniforms;if(te.useProgram(Bs.program)&&(na=!0,Gc=!0,Hm=!0),me.id!==y&&(y=me.id,Gc=!0),na||w!==R){if(Hr.setValue(q,"projectionMatrix",R.projectionMatrix),fe.logarithmicDepthBuffer&&Hr.setValue(q,"logDepthBufFC",2/(Math.log(R.far+1)/Math.LN2)),w!==R&&(w=R,Gc=!0,Hm=!0),me.isShaderMaterial||me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshStandardMaterial||me.envMap){let Fs=Hr.map.cameraPosition;Fs!==void 0&&Fs.setValue(q,J.setFromMatrixPosition(R.matrixWorld))}(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&Hr.setValue(q,"isOrthographic",R.isOrthographicCamera===!0),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial||me.isShadowMaterial||Ae.isSkinnedMesh)&&Hr.setValue(q,"viewMatrix",R.matrixWorldInverse)}if(Ae.isSkinnedMesh){Hr.setOptional(q,Ae,"bindMatrix"),Hr.setOptional(q,Ae,"bindMatrixInverse");let Fs=Ae.skeleton;Fs&&(fe.floatVertexTextures?(Fs.boneTexture===null&&Fs.computeBoneTexture(),Hr.setValue(q,"boneTexture",Fs.boneTexture,be),Hr.setValue(q,"boneTextureSize",Fs.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let Vm=ye.morphAttributes;return(Vm.position!==void 0||Vm.normal!==void 0||Vm.color!==void 0&&fe.isWebGL2===!0)&&De.update(Ae,ye,me,Bs),(Gc||Tt.receiveShadow!==Ae.receiveShadow)&&(Tt.receiveShadow=Ae.receiveShadow,Hr.setValue(q,"receiveShadow",Ae.receiveShadow)),Gc&&(Hr.setValue(q,"toneMappingExposure",m.toneMappingExposure),Tt.needsLights&&sa(Wc,Hm),et&&me.fog===!0&&Ie.refreshFogUniforms(Wc,et),Ie.refreshMaterialUniforms(Wc,me,M,E,j),zp.upload(q,Tt.uniformsList,Wc,be)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(zp.upload(q,Tt.uniformsList,Wc,be),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&Hr.setValue(q,"center",Ae.center),Hr.setValue(q,"modelViewMatrix",Ae.modelViewMatrix),Hr.setValue(q,"normalMatrix",Ae.normalMatrix),Hr.setValue(q,"modelMatrix",Ae.matrixWorld),Bs}function sa(R,le){R.ambientLightColor.needsUpdate=le,R.lightProbe.needsUpdate=le,R.directionalLights.needsUpdate=le,R.directionalLightShadows.needsUpdate=le,R.pointLights.needsUpdate=le,R.pointLightShadows.needsUpdate=le,R.spotLights.needsUpdate=le,R.spotLightShadows.needsUpdate=le,R.rectAreaLights.needsUpdate=le,R.hemisphereLights.needsUpdate=le}function IR(R){return R.isMeshLambertMaterial||R.isMeshToonMaterial||R.isMeshPhongMaterial||R.isMeshStandardMaterial||R.isShadowMaterial||R.isShaderMaterial&&R.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(R,le,ye){ge.get(R.texture).__webglTexture=le,ge.get(R.depthTexture).__webglTexture=ye;let me=ge.get(R);me.__hasExternalTextures=!0,me.__hasExternalTextures&&(me.__autoAllocateDepthBuffer=ye===void 0,me.__autoAllocateDepthBuffer||$.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),me.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(R,le){let ye=ge.get(R);ye.__webglFramebuffer=le,ye.__useDefaultFramebuffer=le===void 0},this.setRenderTarget=function(R,le=0,ye=0){b=R,v=le,x=ye;let me=!0;if(R){let pt=ge.get(R);pt.__useDefaultFramebuffer!==void 0?(te.bindFramebuffer(36160,null),me=!1):pt.__webglFramebuffer===void 0?be.setupRenderTarget(R):pt.__hasExternalTextures&&be.rebindTextures(R,ge.get(R.texture).__webglTexture,ge.get(R.depthTexture).__webglTexture)}let Ae=null,et=!1,ht=!1;if(R){let pt=R.texture;(pt.isData3DTexture||pt.isDataArrayTexture)&&(ht=!0);let xt=ge.get(R).__webglFramebuffer;R.isWebGLCubeRenderTarget?(Ae=xt[le],et=!0):fe.isWebGL2&&R.samples>0&&be.useMultisampledRTT(R)===!1?Ae=ge.get(R).__webglMultisampledFramebuffer:Ae=xt,_.copy(R.viewport),D.copy(R.scissor),S=R.scissorTest}else _.copy(P).multiplyScalar(M).floor(),D.copy(Q).multiplyScalar(M).floor(),S=G;if(te.bindFramebuffer(36160,Ae)&&fe.drawBuffers&&me&&te.drawBuffers(R,Ae),te.viewport(_),te.scissor(D),te.setScissorTest(S),et){let pt=ge.get(R.texture);q.framebufferTexture2D(36160,36064,34069+le,pt.__webglTexture,ye)}else if(ht){let pt=ge.get(R.texture),xt=le||0;q.framebufferTextureLayer(36160,36064,pt.__webglTexture,ye||0,xt)}y=-1},this.readRenderTargetPixels=function(R,le,ye,me,Ae,et,ht){if(!(R&&R.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let pt=ge.get(R).__webglFramebuffer;if(R.isWebGLCubeRenderTarget&&ht!==void 0&&(pt=pt[ht]),pt){te.bindFramebuffer(36160,pt);try{let xt=R.texture,$t=xt.format,bt=xt.type;if($t!==Ks&&de.convert($t)!==q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let Dt=bt===id&&($.has("EXT_color_buffer_half_float")||fe.isWebGL2&&$.has("EXT_color_buffer_float"));if(bt!==Fo&&de.convert(bt)!==q.getParameter(35738)&&!(bt===Do&&(fe.isWebGL2||$.has("OES_texture_float")||$.has("WEBGL_color_buffer_float")))&&!Dt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=R.width-me&&ye>=0&&ye<=R.height-Ae&&q.readPixels(le,ye,me,Ae,de.convert($t),de.convert(bt),et)}finally{let xt=b!==null?ge.get(b).__webglFramebuffer:null;te.bindFramebuffer(36160,xt)}}},this.copyFramebufferToTexture=function(R,le,ye=0){let me=Math.pow(2,-ye),Ae=Math.floor(le.image.width*me),et=Math.floor(le.image.height*me);be.setTexture2D(le,0),q.copyTexSubImage2D(3553,ye,0,0,R.x,R.y,Ae,et),te.unbindTexture()},this.copyTextureToTexture=function(R,le,ye,me=0){let Ae=le.image.width,et=le.image.height,ht=de.convert(ye.format),pt=de.convert(ye.type);be.setTexture2D(ye,0),q.pixelStorei(37440,ye.flipY),q.pixelStorei(37441,ye.premultiplyAlpha),q.pixelStorei(3317,ye.unpackAlignment),le.isDataTexture?q.texSubImage2D(3553,me,R.x,R.y,Ae,et,ht,pt,le.image.data):le.isCompressedTexture?q.compressedTexSubImage2D(3553,me,R.x,R.y,le.mipmaps[0].width,le.mipmaps[0].height,ht,le.mipmaps[0].data):q.texSubImage2D(3553,me,R.x,R.y,ht,pt,le.image),me===0&&ye.generateMipmaps&&q.generateMipmap(3553),te.unbindTexture()},this.copyTextureToTexture3D=function(R,le,ye,me,Ae=0){if(m.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let et=R.max.x-R.min.x+1,ht=R.max.y-R.min.y+1,pt=R.max.z-R.min.z+1,xt=de.convert(me.format),$t=de.convert(me.type),bt;if(me.isData3DTexture)be.setTexture3D(me,0),bt=32879;else if(me.isDataArrayTexture)be.setTexture2DArray(me,0),bt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(37440,me.flipY),q.pixelStorei(37441,me.premultiplyAlpha),q.pixelStorei(3317,me.unpackAlignment);let Dt=q.getParameter(3314),Sr=q.getParameter(32878),Xa=q.getParameter(3316),Zo=q.getParameter(3315),$o=q.getParameter(32877),Ps=ye.isCompressedTexture?ye.mipmaps[0]:ye.image;q.pixelStorei(3314,Ps.width),q.pixelStorei(32878,Ps.height),q.pixelStorei(3316,R.min.x),q.pixelStorei(3315,R.min.y),q.pixelStorei(32877,R.min.z),ye.isDataTexture||ye.isData3DTexture?q.texSubImage3D(bt,Ae,le.x,le.y,le.z,et,ht,pt,xt,$t,Ps.data):ye.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(bt,Ae,le.x,le.y,le.z,et,ht,pt,xt,Ps.data)):q.texSubImage3D(bt,Ae,le.x,le.y,le.z,et,ht,pt,xt,$t,Ps),q.pixelStorei(3314,Dt),q.pixelStorei(32878,Sr),q.pixelStorei(3316,Xa),q.pixelStorei(3315,Zo),q.pixelStorei(32877,$o),Ae===0&&me.generateMipmaps&&q.generateMipmap(bt),te.unbindTexture()},this.initTexture=function(R){R.isCubeTexture?be.setTextureCube(R,0):R.isData3DTexture?be.setTexture3D(R,0):R.isDataArrayTexture?be.setTexture2DArray(R,0):be.setTexture2D(R,0),te.unbindTexture()},this.resetState=function(){v=0,x=0,b=null,te.reset(),ze.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function o1(){let e=0,t=0,r=0,i=0;function s(n,a,o,l){e=n,t=o,r=-3*n+3*a-2*o-l,i=2*n-2*a+o+l}return{initCatmullRom:function(n,a,o,l,c){s(a,o,c*(o-n),c*(l-a))},initNonuniformCatmullRom:function(n,a,o,l,c,h,u){let d=(a-n)/c-(o-n)/(c+h)+(o-a)/h,p=(o-a)/h-(l-a)/(h+u)+(l-o)/u;d*=h,p*=h,s(a,o,d,p)},calc:function(n){let a=n*n,o=a*n;return e+t*n+r*a+i*o}}}function gA(e,t,r,i,s){let n=(i-t)*.5,a=(s-r)*.5,o=e*e,l=e*o;return(2*r-2*i+n+a)*l+(-3*r+3*i-2*n-a)*o+n*e+r}function oH(e,t){let r=1-e;return r*r*t}function lH(e,t){return 2*(1-e)*e*t}function cH(e,t){return e*e*t}function Zu(e,t,r,i){return oH(e,t)+lH(e,r)+cH(e,i)}function uH(e,t){let r=1-e;return r*r*r*t}function dH(e,t){let r=1-e;return 3*r*r*e*t}function hH(e,t){return 3*(1-e)*e*e*t}function pH(e,t){return e*e*e*t}function $u(e,t,r,i,s){return uH(e,t)+dH(e,r)+hH(e,i)+pH(e,s)}function S3(e,t,r,i,s){let n,a;if(s===FH(e,t,r,i)>0)for(n=t;n<r;n+=i)a=vA(n,e[n],e[n+1],a);else for(n=r-i;n>=t;n-=i)a=vA(n,e[n],e[n+1],a);return a&&xf(a,a.next)&&(od(a),a=a.next),a}function Na(e,t){if(!e)return e;t||(t=e);let r=e,i;do if(i=!1,!r.steiner&&(xf(r,r.next)||Qt(r.prev,r,r.next)===0)){if(od(r),r=t=r.prev,r===r.next)break;i=!0}else r=r.next;while(i||r!==t);return t}function nd(e,t,r,i,s,n,a){if(!e)return;!a&&n&&TH(e,i,s,n);let o=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,n?bH(e,i,s,n):xH(e)){t.push(l.i/r),t.push(e.i/r),t.push(c.i/r),od(e),e=c.next,o=c.next;continue}if(e=c,e===o){a?a===1?(e=wH(Na(e),t,r),nd(e,t,r,i,s,n,2)):a===2&&_H(e,t,r,i,s,n):nd(Na(e),t,r,i,s,n,1);break}}}function xH(e){let t=e.prev,r=e,i=e.next;if(Qt(t,r,i)>=0)return!1;let s=e.next.next;for(;s!==e.prev;){if(jl(t.x,t.y,r.x,r.y,i.x,i.y,s.x,s.y)&&Qt(s.prev,s,s.next)>=0)return!1;s=s.next}return!0}function bH(e,t,r,i){let s=e.prev,n=e,a=e.next;if(Qt(s,n,a)>=0)return!1;let o=s.x<n.x?s.x<a.x?s.x:a.x:n.x<a.x?n.x:a.x,l=s.y<n.y?s.y<a.y?s.y:a.y:n.y<a.y?n.y:a.y,c=s.x>n.x?s.x>a.x?s.x:a.x:n.x>a.x?n.x:a.x,h=s.y>n.y?s.y>a.y?s.y:a.y:n.y>a.y?n.y:a.y,u=Z0(o,l,t,r,i),d=Z0(c,h,t,r,i),p=e.prevZ,g=e.nextZ;for(;p&&p.z>=u&&g&&g.z<=d;){if(p!==e.prev&&p!==e.next&&jl(s.x,s.y,n.x,n.y,a.x,a.y,p.x,p.y)&&Qt(p.prev,p,p.next)>=0||(p=p.prevZ,g!==e.prev&&g!==e.next&&jl(s.x,s.y,n.x,n.y,a.x,a.y,g.x,g.y)&&Qt(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;p&&p.z>=u;){if(p!==e.prev&&p!==e.next&&jl(s.x,s.y,n.x,n.y,a.x,a.y,p.x,p.y)&&Qt(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;g&&g.z<=d;){if(g!==e.prev&&g!==e.next&&jl(s.x,s.y,n.x,n.y,a.x,a.y,g.x,g.y)&&Qt(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function wH(e,t,r){let i=e;do{let s=i.prev,n=i.next.next;!xf(s,n)&&A3(s,i,i.next,n)&&ad(s,n)&&ad(n,s)&&(t.push(s.i/r),t.push(i.i/r),t.push(n.i/r),od(i),od(i.next),i=e=n),i=i.next}while(i!==e);return Na(i)}function _H(e,t,r,i,s,n){let a=e;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&kH(a,o)){let l=E3(a,o);a=Na(a,a.next),l=Na(l,l.next),nd(a,t,r,i,s,n),nd(l,t,r,i,s,n);return}o=o.next}a=a.next}while(a!==e)}function DH(e,t,r,i){let s=[],n,a,o,l,c;for(n=0,a=t.length;n<a;n++)o=t[n]*i,l=n<a-1?t[n+1]*i:e.length,c=S3(e,o,l,i,!1),c===c.next&&(c.steiner=!0),s.push(LH(c));for(s.sort(SH),n=0;n<s.length;n++)AH(s[n],r),r=Na(r,r.next);return r}function SH(e,t){return e.x-t.x}function AH(e,t){if(t=EH(e,t),t){let r=E3(t,e);Na(t,t.next),Na(r,r.next)}}function EH(e,t){let r=t,i=e.x,s=e.y,n=-1/0,a;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){let d=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(d<=i&&d>n){if(n=d,d===i){if(s===r.y)return r;if(s===r.next.y)return r.next}a=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!a)return null;if(i===n)return a;let o=a,l=a.x,c=a.y,h=1/0,u;r=a;do i>=r.x&&r.x>=l&&i!==r.x&&jl(s<c?i:n,s,l,c,s<c?n:i,s,r.x,r.y)&&(u=Math.abs(s-r.y)/(i-r.x),ad(r,e)&&(u<h||u===h&&(r.x>a.x||r.x===a.x&&CH(a,r)))&&(a=r,h=u)),r=r.next;while(r!==o);return a}function CH(e,t){return Qt(e.prev,e,t.prev)<0&&Qt(t.next,e,e.next)<0}function TH(e,t,r,i){let s=e;do s.z===null&&(s.z=Z0(s.x,s.y,t,r,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==e);s.prevZ.nextZ=null,s.prevZ=null,MH(s)}function MH(e){let t,r,i,s,n,a,o,l,c=1;do{for(r=e,e=null,n=null,a=0;r;){for(a++,i=r,o=0,t=0;t<c&&(o++,i=i.nextZ,!!i);t++);for(l=c;o>0||l>0&&i;)o!==0&&(l===0||!i||r.z<=i.z)?(s=r,r=r.nextZ,o--):(s=i,i=i.nextZ,l--),n?n.nextZ=s:e=s,s.prevZ=n,n=s;r=i}n.nextZ=null,c*=2}while(a>1);return e}function Z0(e,t,r,i,s){return e=32767*(e-r)*s,t=32767*(t-i)*s,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function LH(e){let t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function jl(e,t,r,i,s,n,a,o){return(s-a)*(t-o)-(e-a)*(n-o)>=0&&(e-a)*(i-o)-(r-a)*(t-o)>=0&&(r-a)*(n-o)-(s-a)*(i-o)>=0}function kH(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!PH(e,t)&&(ad(e,t)&&ad(t,e)&&BH(e,t)&&(Qt(e.prev,e,t.prev)||Qt(e,t.prev,t))||xf(e,t)&&Qt(e.prev,e,e.next)>0&&Qt(t.prev,t,t.next)>0)}function Qt(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function xf(e,t){return e.x===t.x&&e.y===t.y}function A3(e,t,r,i){let s=pp(Qt(e,t,r)),n=pp(Qt(e,t,i)),a=pp(Qt(r,i,e)),o=pp(Qt(r,i,t));return!!(s!==n&&a!==o||s===0&&hp(e,r,t)||n===0&&hp(e,i,t)||a===0&&hp(r,e,i)||o===0&&hp(r,t,i))}function hp(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function pp(e){return e>0?1:e<0?-1:0}function PH(e,t){let r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&A3(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function ad(e,t){return Qt(e.prev,e,e.next)<0?Qt(e,t,e.next)>=0&&Qt(e,e.prev,t)>=0:Qt(e,t,e.prev)<0||Qt(e,e.next,t)<0}function BH(e,t){let r=e,i=!1,s=(e.x+t.x)/2,n=(e.y+t.y)/2;do r.y>n!=r.next.y>n&&r.next.y!==r.y&&s<(r.next.x-r.x)*(n-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==e);return i}function E3(e,t){let r=new $0(e.i,e.x,e.y),i=new $0(t.i,t.x,t.y),s=e.next,n=t.prev;return e.next=t,t.prev=e,r.next=s,s.prev=r,i.next=r,r.prev=i,n.next=i,i.prev=n,i}function vA(e,t,r,i){let s=new $0(e,t,r);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function od(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function $0(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function FH(e,t,r,i){let s=0;for(let n=t,a=r-i;n<r;n+=i)s+=(e[a]-e[n])*(e[n+1]+e[a+1]),a=n;return s}function yA(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function xA(e,t){for(let r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}function OH(e,t){if(t.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){let s=e[r];t.shapes.push(s.uuid)}else t.shapes.push(e.uuid);return t}function AA(e,t){return e.distance-t.distance}function K0(e,t,r,i){if(e.layers.test(t.layers)&&e.raycast(t,r),i===!0){let s=e.children;for(let n=0,a=s.length;n<a;n++)K0(s[n],t,r,!0)}}function nr(e,t,r,i,s,n,a){gp.set(s,n,a).unproject(i);let o=t[e];if(o!==void 0){let l=r.getAttribute("position");for(let c=0,h=o.length;c<h;c++)l.setXYZ(o[c],gp.x,gp.y,gp.z)}}function pV(){let e=new ArrayBuffer(4),t=new Float32Array(e),r=new Uint32Array(e),i=new Uint32Array(512),s=new Uint32Array(512);for(let l=0;l<256;++l){let c=l-127;c<-27?(i[l]=0,i[l|256]=32768,s[l]=24,s[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,s[l]=-c-1,s[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,s[l]=13,s[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,s[l]=24,s[l|256]=24):(i[l]=31744,i[l|256]=64512,s[l]=13,s[l|256]=13)}let n=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,h=0;for(;(c&8388608)===0;)c<<=1,h-=8388608;c&=-8388609,h+=947912704,n[l]=c|h}for(let l=1024;l<2048;++l)n[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:t,uint32View:r,baseTable:i,shiftTable:s,mantissaTable:n,exponentTable:a,offsetTable:o}}function ey(e){return e instanceof Date||e instanceof Set||e instanceof Map||e instanceof WeakSet||e instanceof WeakMap||ArrayBuffer.isView(e)}function fV(e){return(typeof e=="object"?e===null:typeof e!="function")||e instanceof RegExp}function y1(e){return typeof e=="symbol"}function gV(e){return typeof e=="object"&&typeof e.next=="function"}function vV(e,t,r,i,s){let n=e.next;if(t.name==="entries")e.next=function(){let a=n.call(this);return a.done===!1&&(a.value[0]=s(a.value[0],t,a.value[0],i),a.value[1]=s(a.value[1],t,a.value[0],i)),a};else if(t.name==="values"){let a=r[v1].keys();e.next=function(){let o=n.call(this);return o.done===!1&&(o.value=s(o.value,t,a.next().value,i)),o}}else e.next=function(){let a=n.call(this);return a.done===!1&&(a.value=s(a.value,t,a.value,i)),a};return e}function LA(e,t,r){return e.isUnsubscribed||t.ignoreSymbols&&y1(r)||t.ignoreUnderscores&&r.charAt(0)==="_"||"ignoreKeys"in t&&t.ignoreKeys.includes(r)}function ty(e){return toString.call(e)==="[object Object]"}function yp(){return!0}function Ml(e,t){return e.length!==t.length||e.some((r,i)=>t[i]!==r)}function xp(e,t){if(e.size!==t.size)return!0;for(let r of e)if(!t.has(r))return!0;return!1}function bp(e,t){if(e.size!==t.size)return!0;let r;for(let[i,s]of e)if(r=t.get(i),r!==s||r===void 0&&!t.has(i))return!0;return!1}function FV(e){var t=PV.call(e,Tu),r=e[Tu];try{e[Tu]=void 0;var i=!0}catch{}var s=BV.call(e);return i&&(t?e[Tu]=r:delete e[Tu]),s}function NV(e){return RV.call(e)}function HV(e){return e==null?e===void 0?jV:zV:FA&&FA in Object(e)?OV(e):UV(e)}function VV(e){return e!=null&&typeof e=="object"}function WV(e){return typeof e=="symbol"||ja(e)&&Uo(e)==GV}function qV(e,t){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=t(e[r],r,e);return s}function V3(e){if(typeof e=="string")return e;if(hn(e))return H3(e,V3)+"";if(x1(e))return IA?IA.call(e):"";var t=e+"";return t=="0"&&1/e==-XV?"-0":t}function ZV(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function $V(e){return e}function rG(e){if(!pn(e))return!1;var t=Uo(e);return t==KV||t==eG||t==JV||t==tG}function sG(e){return!!RA&&RA in e}function lG(e){if(e!=null){try{return oG.call(e)}catch{}try{return e+""}catch{}}return""}function gG(e){if(!pn(e)||nG(e))return!1;var t=b1(e)?mG:uG;return t.test(zo(e))}function yG(e,t){return e?.[t]}function bG(e,t){var r=xG(e,t);return vG(r)?r:void 0}function SG(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function EG(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}function LG(e){var t=0,r=0;return function(){var i=MG(),s=TG-(i-r);if(r=i,s>0){if(++t>=CG)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function PG(e){return function(){return e}}function NG(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}function HG(e,t){var r=typeof e;return t=t??zG,!!t&&(r=="number"||r!="symbol"&&jG.test(e))&&e>-1&&e%1==0&&e<t}function VG(e,t,r){t=="__proto__"&&Kp?Kp(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function GG(e,t){return e===t||e!==e&&t!==t}function YG(e,t,r){var i=e[t];(!(qG.call(e,t)&&Df(i,r))||r===void 0&&!(t in e))&&w1(e,t,r)}function XG(e,t,r,i){var s=!r;r||(r={});for(var n=-1,a=t.length;++n<a;){var o=t[n],l=i?i(r[o],e[o],o,r,e):void 0;l===void 0&&(l=e[o]),s?w1(r,o,l):_1(r,o,l)}return r}function QG(e,t,r){return t=UA(t===void 0?e.length-1:t,0),function(){for(var i=arguments,s=-1,n=UA(i.length-t,0),a=Array(n);++s<n;)a[s]=i[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=i[s];return o[t]=r(a),AG(e,this,o)}}function ZG(e,t){return q3(Y3(e,t,G3),e+"")}function KG(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=JG}function eW(e){return e!=null&&D1(e.length)&&!b1(e)}function tW(e,t,r){if(!pn(r))return!1;var i=typeof t;return(i=="number"?Sf(r)&&_f(t,r.length):i=="string"&&t in r)?Df(r[t],e):!1}function iW(e){return $G(function(t,r){var i=-1,s=r.length,n=s>1?r[s-1]:void 0,a=s>2?r[2]:void 0;for(n=e.length>3&&typeof n=="function"?(s--,n):void 0,a&&rW(r[0],r[1],a)&&(n=s<3?void 0:n,s=1),t=Object(t);++i<s;){var o=r[i];o&&e(t,o,i,n)}return t})}function aW(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||nW;return e===r}function oW(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}function uW(e){return ja(e)&&Uo(e)==cW}function fW(){return!1}function VW(e){return ja(e)&&D1(e.length)&&!!Wt[Uo(e)]}function WW(e){return function(t){return e(t)}}function $W(e,t){var r=hn(e),i=!r&&ld(e),s=!r&&!i&&A1(e),n=!r&&!i&&!s&&$3(e),a=r||i||s||n,o=a?lW(e.length,String):[],l=o.length;for(var c in e)(t||ZW.call(e,c))&&!(a&&(c=="length"||s&&(c=="offset"||c=="parent")||n&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||_f(c,l)))&&o.push(c);return o}function JW(e,t){return function(r){return e(t(r))}}function iq(e){if(!S1(e))return eq(e);var t=[];for(var r in Object(e))rq.call(e,r)&&r!="constructor"&&t.push(r);return t}function nq(e){return Sf(e)?J3(e):sq(e)}function aq(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}function uq(e){if(!pn(e))return oq(e);var t=S1(e),r=[];for(var i in e)i=="constructor"&&(t||!cq.call(e,i))||r.push(i);return r}function hq(e){return Sf(e)?J3(e,!0):dq(e)}function mq(e,t){if(hn(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||x1(e)?!0:fq.test(e)||!pq.test(e)||t!=null&&e in Object(t)}function yq(){this.__data__=cd?cd(null):{},this.size=0}function bq(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Aq(e){var t=this.__data__;if(cd){var r=t[e];return r===_q?void 0:r}return Sq.call(t,e)?t[e]:void 0}function Mq(e){var t=this.__data__;return cd?t[e]!==void 0:Tq.call(t,e)}function Pq(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=cd&&t===void 0?kq:t,this}function hc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function Fq(){this.__data__=[],this.size=0}function Iq(e,t){for(var r=e.length;r--;)if(Df(e[r][0],t))return r;return-1}function Uq(e){var t=this.__data__,r=Af(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():Nq.call(t,r,1),--this.size,!0}function jq(e){var t=this.__data__,r=Af(t,e);return r<0?void 0:t[r][1]}function Vq(e){return Af(this.__data__,e)>-1}function Wq(e,t){var r=this.__data__,i=Af(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}function pc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function Xq(){this.size=0,this.__data__={hash:new GA,map:new(ud||Ef),string:new GA}}function Zq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Jq(e,t){var r=e.__data__;return $q(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Kq(e){var t=Cf(this,e).delete(e);return this.size-=t?1:0,t}function tY(e){return Cf(this,e).get(e)}function iY(e){return Cf(this,e).has(e)}function nY(e,t){var r=Cf(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}function fc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function M1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(oY);var r=function(){var i=arguments,s=t?t.apply(this,i):i[0],n=r.cache;if(n.has(s))return n.get(s);var a=e.apply(this,i);return r.cache=n.set(s,a)||n,a};return r.cache=new(M1.Cache||T1),r}function uY(e){var t=lY(e,function(i){return r.size===cY&&r.clear(),i}),r=t.cache;return t}function gY(e){return e==null?"":QV(e)}function yY(e,t){return hn(e)?e:gq(e,t)?[e]:mY(vY(e))}function bY(e){if(typeof e=="string"||x1(e))return e;var t=e+"";return t=="0"&&1/e==-xY?"-0":t}function wY(e,t){t=mc(t,e);for(var r=0,i=t.length;e!=null&&r<i;)e=e[Tf(t[r++])];return r&&r==i?e:void 0}function _Y(e,t){for(var r=-1,i=t.length,s=e.length;++r<i;)e[s+r]=t[r];return e}function DY(e){return hn(e)||ld(e)||!!(WA&&e&&e[WA])}function tT(e,t,r,i,s){var n=-1,a=e.length;for(r||(r=SY),s||(s=[]);++n<a;){var o=e[n];t>0&&r(o)?t>1?tT(o,t-1,r,i,s):L1(s,o):i||(s[s.length]=o)}return s}function EY(e){var t=e==null?0:e.length;return t?AY(e,1):[]}function TY(e){return q3(Y3(e,void 0,CY),e+"")}function OY(e){if(!ja(e)||Uo(e)!=LY)return!1;var t=k1(e);if(t===null)return!0;var r=BY.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&iT.call(r)==FY}function IY(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var n=Array(s);++i<s;)n[i]=e[i+t];return n}function NY(){this.__data__=new Ef,this.size=0}function zY(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function HY(e){return this.__data__.get(e)}function GY(e){return this.__data__.has(e)}function YY(e,t){var r=this.__data__;if(r instanceof Ef){var i=r.__data__;if(!ud||i.length<qY-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new T1(i)}return r.set(e,t),this.size=r.size,this}function gc(e){var t=this.__data__=new Ef(e);this.size=t.size}function QY(e,t){return e&&dc(t,C1(t),e)}function $Y(e,t){return e&&dc(t,Sd(t),e)}function eX(e,t){if(t)return e.slice();var r=e.length,i=XA?XA(r):new e.constructor(r);return e.copy(i),i}function tX(e,t){for(var r=-1,i=e==null?0:e.length,s=0,n=[];++r<i;){var a=e[r];t(a,r,e)&&(n[s++]=a)}return n}function iX(){return[]}function oX(e,t){return dc(e,P1(e),t)}function dX(e,t){return dc(e,cT(e),t)}function pX(e,t,r){var i=t(e);return hn(e)?i:L1(i,r(e))}function fX(e){return uT(e,C1,P1)}function gX(e){return uT(e,Sd,cT)}function TX(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&CX.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function kX(e){var t=new e.constructor(e.byteLength);return new tE(t).set(new tE(e)),t}function PX(e,t){var r=t?F1(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function OX(e){var t=new e.constructor(e.source,FX.exec(e));return t.lastIndex=e.lastIndex,t}function RX(e){return iE?Object(iE.call(e)):{}}function UX(e,t){var r=t?F1(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function nQ(e,t,r){var i=e.constructor;switch(t){case XX:return F1(e);case zX:case jX:return new i(+e);case QX:return BX(e,r);case ZX:case $X:case JX:case KX:case eQ:case tQ:case rQ:case iQ:case sQ:return hT(e,r);case HX:return new i;case VX:case qX:return new i(e);case GX:return IX(e);case WX:return new i;case YX:return NX(e)}}function oQ(e){return typeof e.constructor=="function"&&!S1(e)?DG(k1(e)):{}}function cQ(e){return ja(e)&&B1(e)==lQ}function fQ(e){return ja(e)&&B1(e)==pQ}function jp(e,t,r,i,s,n){var a,o=t&yQ,l=t&xQ,c=t&bQ;if(r&&(a=s?r(e,i,s,n):r(e)),a!==void 0)return a;if(!pn(e))return e;var h=hn(e);if(h){if(a=MX(e),!o)return W3(e,a)}else{var u=B1(e),d=u==mT||u==AQ;if(A1(e))return oT(e,o);if(u==gT||u==fT||d&&!s){if(a=l||d?{}:pT(e),!o)return l?hX(e,JY(a,e)):lX(e,ZY(a,e))}else{if(!Ht[u])return s?e:{};a=aQ(e,u,o)}}n||(n=new nT);var p=n.get(e);if(p)return p;n.set(e,a),vQ(e)?e.forEach(function(f){a.add(jp(f,t,r,f,e,n))}):hQ(e)&&e.forEach(function(f,v){a.set(v,jp(f,t,r,v,e,n))});var g=c?l?dT:mX:l?Sd:C1,m=h?void 0:g(e);return UG(m||e,function(f,v){m&&(v=f,f=e[v]),_1(a,v,jp(f,t,r,v,e,n))}),a}function qQ(e){return vT(e,GQ|WQ)}function YQ(e,t){return e!=null&&t in Object(e)}function QQ(e,t,r){t=mc(t,e);for(var i=-1,s=t.length,n=!1;++i<s;){var a=Tf(t[i]);if(!(n=e!=null&&r(e,a)))break;e=e[a]}return n||++i!=s?n:(s=e==null?0:e.length,!!s&&D1(s)&&_f(a,s)&&(hn(e)||ld(e)))}function $Q(e,t){return e!=null&&ZQ(e,t,XQ)}function KQ(e){return function(t,r,i){for(var s=-1,n=Object(t),a=i(t),o=a.length;o--;){var l=a[e?o:++s];if(r(n[l],l,n)===!1)break}return t}}function iZ(e,t,r){(r!==void 0&&!Df(e[t],r)||r===void 0&&!(t in e))&&w1(e,t,r)}function sZ(e){return ja(e)&&Sf(e)}function aZ(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function oZ(e){return dc(e,Sd(e))}function cZ(e,t,r,i,s,n,a){var o=oy(e,r),l=oy(t,r),c=a.get(l);if(c){ay(e,r,c);return}var h=n?n(o,l,r+"",e,t,a):void 0,u=h===void 0;if(u){var d=hn(l),p=!d&&A1(l),g=!d&&!p&&$3(l);h=l,d||p||g?hn(o)?h=o:nZ(o)?h=W3(o):p?(u=!1,h=oT(l,!0)):g?(u=!1,h=hT(l,!0)):h=[]:sT(l)||ld(l)?(h=o,ld(o)?h=lZ(o):(!pn(o)||b1(o))&&(h=pT(l))):u=!1}u&&(a.set(l,h),s(h,l,i,n,a),a.delete(l)),ay(e,r,h)}function xT(e,t,r,i,s){e!==t&&rZ(t,function(n,a){if(s||(s=new nT),pn(n))uZ(e,t,a,r,xT,i,s);else{var o=i?i(oy(e,a),n,a+"",e,t,s):void 0;o===void 0&&(o=n),ay(e,a,o)}},Sd)}function hZ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function fZ(e,t){return t.length<2?e:eT(e,RY(t,0,-1))}function vZ(e,t){return t=mc(t,e),e=mZ(e,t),e==null||delete e[Tf(pZ(t))]}function xZ(e){return sT(e)?void 0:e}function AZ(e,t,r,i){if(!pn(e))return e;t=mc(t,e);for(var s=-1,n=t.length,a=n-1,o=e;o!=null&&++s<n;){var l=Tf(t[s]),c=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(s!=a){var h=o[l];c=i?i(h,l,o):void 0,c===void 0&&(c=pn(h)?h:_f(t[s+1])?[]:{})}_1(o,l,c),o=o[l]}return e}function CZ(e,t,r){for(var i=-1,s=t.length,n={};++i<s;){var a=t[i],o=eT(e,a);r(o,a)&&EZ(n,mc(a,e),o)}return n}function MZ(e,t){return TZ(e,t,function(r,i){return JQ(e,i)})}function kZ(e,t){return Object.setPrototypeOf(e,t),e}function zZ(e){return Array.isArray(e)?e:[e]}function O1(e){if(e.deepFreeze!==void 0){e.deepFreeze(e);return}let t=Object.getOwnPropertyNames(e);for(let r of t){let i=e[r];i&&typeof i=="object"&&O1(i)}return Object.freeze(e)}function jZ(e,t){let r=0;for(;r<e.length&&r<t.length;){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1;r+=1}return r!==t.length?-1:r!==e.length?1:0}function Ma(e,t,r){if(e===void 0?t===void 0?(e=0,t=10):e=t-10:t===void 0&&(t=e+10),e>t){let n=e;e=t,t=n}let i=[],s=1/(r+1);for(let n=0;n<r;n++){let a=e+(t-e)*(n+.75+Math.random()*.5)*s;i.push(a)}return i}function bT(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array}function VZ(){return typeof process<"u"}function wT(e,t){for(let r of e)t(r.id,r.data),wT(r.children,t)}function _T(e,t){t(e.id,e.data);for(let r of e.children)_T(r,t)}function c0(e,t,r){if(e.length>0){let i=e[e.length-1];if(i.type===0&&t.type===0&&hy.equal(i.path,r)){Object.assign(i.props,t.props);return}}e.push({...t,path:r})}function kf(e,t,r){return r instanceof sc?new I1(e,t,r):r instanceof ni?new R1(e,t,r):r instanceof Zi?new Proxy(new WZ(e,t,r),YZ):r!==null&&typeof r=="object"?bT(r)?r:new Proxy(new GZ(e,t,r),qZ):r}function XZ(e){let t=new AT(e);return[kf(t,"",e),t]}function pE(e,t){let[r,i]=XZ(e);return t(r),i.result()}function QZ(e){return e instanceof I1||e instanceof R1?e._current:e!==null&&typeof e=="object"?e[DT]:e}function wp(){try{if(!ti.trusted&&!nc){let t=At.sharedLength||0;t<At.length&&(At.length=t)}let e=Kt();if(K==Ba)At.restoreStructures&&vE(),At=null,je=null,zn&&(zn=null);else if(K>Ba){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}else if(!nc)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw At.restoreStructures&&vE(),vy(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function vE(){for(let e in At.restoreStructures)At[e]=At.restoreStructures[e];At.restoreStructures=null}function Kt(){let e=je[K++];if(e<160)if(e<128){if(e<64)return e;{let t=At[e&63]||ti.getStructures&&LT()[e&63];return t?(t.read||(t.read=N1(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,ti.mapsAsObjects){let t={};for(let r=0;r<e;r++)t[PT()]=Kt();return t}else{let t=new Map;for(let r=0;r<e;r++)t.set(Kt(),Kt());return t}else{e-=144;let t=new Array(e);for(let r=0;r<e;r++)t[r]=Kt();return t}else if(e<192){let t=e-160;if($s>=K)return La.slice(K-Hi,(K+=t)-Hi);if($s==0&&Ba<140){let r=t<16?U1(t):kT(t);if(r!=null)return r}return gy(t)}else{let t;switch(e){case 192:return null;case 193:return gi?(t=Kt(),t>0?gi[1].slice(gi.position1,gi.position1+=t):gi[0].slice(gi.position0,gi.position0-=t)):MT;case 194:return!1;case 195:return!0;case 196:return u0(je[K++]);case 197:return t=Mt.getUint16(K),K+=2,u0(t);case 198:return t=Mt.getUint32(K),K+=4,u0(t);case 199:return po(je[K++]);case 200:return t=Mt.getUint16(K),K+=2,po(t);case 201:return t=Mt.getUint32(K),K+=4,po(t);case 202:if(t=Mt.getFloat32(K),ti.useFloat32>2){let r=z1[(je[K]&127)<<1|je[K+1]>>7];return K+=4,(r*t+(t>0?.5:-.5)>>0)/r}return K+=4,t;case 203:return t=Mt.getFloat64(K),K+=8,t;case 204:return je[K++];case 205:return t=Mt.getUint16(K),K+=2,t;case 206:return t=Mt.getUint32(K),K+=4,t;case 207:return ti.int64AsNumber?(t=Mt.getUint32(K)*4294967296,t+=Mt.getUint32(K+4)):t=Mt.getBigUint64(K),K+=8,t;case 208:return Mt.getInt8(K++);case 209:return t=Mt.getInt16(K),K+=2,t;case 210:return t=Mt.getInt32(K),K+=4,t;case 211:return ti.int64AsNumber?(t=Mt.getInt32(K)*4294967296,t+=Mt.getUint32(K+4)):t=Mt.getBigInt64(K),K+=8,t;case 212:if(t=je[K++],t==114)return _E(je[K++]&63);{let r=Zr[t];if(r)return r.read?(K++,r.read(Kt())):r.noBuffer?(K++,r()):r(je.subarray(K,++K));throw new Error("Unknown extension "+t)}case 213:return t=je[K],t==114?(K++,_E(je[K++]&63,je[K++])):po(2);case 214:return po(4);case 215:return po(8);case 216:return po(16);case 217:return t=je[K++],$s>=K?La.slice(K-Hi,(K+=t)-Hi):$Z(t);case 218:return t=Mt.getUint16(K),K+=2,$s>=K?La.slice(K-Hi,(K+=t)-Hi):JZ(t);case 219:return t=Mt.getUint32(K),K+=4,$s>=K?La.slice(K-Hi,(K+=t)-Hi):KZ(t);case 220:return t=Mt.getUint16(K),K+=2,xE(t);case 221:return t=Mt.getUint32(K),K+=4,xE(t);case 222:return t=Mt.getUint16(K),K+=2,bE(t);case 223:return t=Mt.getUint32(K),K+=4,bE(t);default:if(e>=224)return e-256;if(e===void 0){let r=new Error("Unexpected end of MessagePack data");throw r.incomplete=!0,r}throw new Error("Unknown MessagePack token "+e)}}}function N1(e,t){function r(){if(r.count++>2){let s=e.read=new Function("r","return function(){return {"+e.map(n=>ZZ.test(n)?n+":r()":"["+JSON.stringify(n)+"]:r()").join(",")+"}}")(Kt);return e.highByte===0&&(e.read=yE(t,e.read)),s()}let i={};for(let s=0,n=e.length;s<n;s++){let a=e[s];i[a]=Kt()}return i}return r.count=0,e.highByte===0?yE(t,r):r}function LT(){let e=OT(()=>(je=null,ti.getStructures()));return At=ti._mergeStructures(e,At)}function Pf(e){let t;if(e<16&&(t=U1(e)))return t;if(e>64&&py)return py.decode(je.subarray(K,K+=e));let r=K+e,i=[];for(t="";K<r;){let s=je[K++];if((s&128)===0)i.push(s);else if((s&224)===192){let n=je[K++]&63;i.push((s&31)<<6|n)}else if((s&240)===224){let n=je[K++]&63,a=je[K++]&63;i.push((s&31)<<12|n<<6|a)}else if((s&248)===240){let n=je[K++]&63,a=je[K++]&63,o=je[K++]&63,l=(s&7)<<18|n<<12|a<<6|o;l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|l&1023),i.push(l)}else i.push(s);i.length>=4096&&(t+=Er.apply(String,i),i.length=0)}return i.length>0&&(t+=Er.apply(String,i)),t}function xE(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=Kt();return t}function bE(e){if(ti.mapsAsObjects){let t={};for(let r=0;r<e;r++)t[PT()]=Kt();return t}else{let t=new Map;for(let r=0;r<e;r++)t.set(Kt(),Kt());return t}}function kT(e){let t=K,r=new Array(e);for(let i=0;i<e;i++){let s=je[K++];if((s&128)>0){K=t;return}r[i]=s}return Er.apply(String,r)}function U1(e){if(e<4)if(e<2){if(e===0)return"";{let t=je[K++];if((t&128)>1){K-=1;return}return Er(t)}}else{let t=je[K++],r=je[K++];if((t&128)>0||(r&128)>0){K-=2;return}if(e<3)return Er(t,r);let i=je[K++];if((i&128)>0){K-=3;return}return Er(t,r,i)}else{let t=je[K++],r=je[K++],i=je[K++],s=je[K++];if((t&128)>0||(r&128)>0||(i&128)>0||(s&128)>0){K-=4;return}if(e<6){if(e===4)return Er(t,r,i,s);{let n=je[K++];if((n&128)>0){K-=5;return}return Er(t,r,i,s,n)}}else if(e<8){let n=je[K++],a=je[K++];if((n&128)>0||(a&128)>0){K-=6;return}if(e<7)return Er(t,r,i,s,n,a);let o=je[K++];if((o&128)>0){K-=7;return}return Er(t,r,i,s,n,a,o)}else{let n=je[K++],a=je[K++],o=je[K++],l=je[K++];if((n&128)>0||(a&128)>0||(o&128)>0||(l&128)>0){K-=8;return}if(e<10){if(e===8)return Er(t,r,i,s,n,a,o,l);{let c=je[K++];if((c&128)>0){K-=9;return}return Er(t,r,i,s,n,a,o,l,c)}}else if(e<12){let c=je[K++],h=je[K++];if((c&128)>0||(h&128)>0){K-=10;return}if(e<11)return Er(t,r,i,s,n,a,o,l,c,h);let u=je[K++];if((u&128)>0){K-=11;return}return Er(t,r,i,s,n,a,o,l,c,h,u)}else{let c=je[K++],h=je[K++],u=je[K++],d=je[K++];if((c&128)>0||(h&128)>0||(u&128)>0||(d&128)>0){K-=12;return}if(e<14){if(e===12)return Er(t,r,i,s,n,a,o,l,c,h,u,d);{let p=je[K++];if((p&128)>0){K-=13;return}return Er(t,r,i,s,n,a,o,l,c,h,u,d,p)}}else{let p=je[K++],g=je[K++];if((p&128)>0||(g&128)>0){K-=14;return}if(e<15)return Er(t,r,i,s,n,a,o,l,c,h,u,d,p,g);let m=je[K++];if((m&128)>0){K-=15;return}return Er(t,r,i,s,n,a,o,l,c,h,u,d,p,g,m)}}}}}function u0(e){return ti.copyBuffers?Uint8Array.prototype.slice.call(je,K,K+=e):je.subarray(K,K+=e)}function po(e){let t=je[K++];if(Zr[t])return Zr[t](je.subarray(K,K+=e));throw new Error("Unknown extension type "+t)}function PT(){let e=je[K++];if(e>=160&&e<192){if(e=e-160,$s>=K)return La.slice(K-Hi,(K+=e)-Hi);if(!($s==0&&Ba<180))return gy(e)}else return K--,Kt();let t=(e<<5^(e>1?Mt.getUint16(K):e>0?je[K]:0))&4095,r=wE[t],i=K,s=K+e-3,n,a=0;if(r&&r.bytes==e){for(;i<s;){if(n=Mt.getUint32(i),n!=r[a++]){i=1879048192;break}i+=4}for(s+=3;i<s;)if(n=je[i++],n!=r[a++]){i=1879048192;break}if(i===s)return K=i,r.string;s-=3,i=K}for(r=[],wE[t]=r,r.bytes=e;i<s;)n=Mt.getUint32(i),r.push(n),i+=4;for(s+=3;i<s;)n=je[i++],r.push(n);let o=e<16?U1(e):kT(e);return o!=null?r.string=o:r.string=gy(e)}function OT(e){let t=Ba,r=K,i=my,s=Hi,n=$s,a=La,o=fy,l=zn,c=gi,h=new Uint8Array(je.slice(0,Ba)),u=At,d=At.slice(0,At.length),p=ti,g=nc,m=e();return Ba=t,K=r,my=i,Hi=s,$s=n,La=a,fy=o,zn=l,gi=c,je=h,nc=g,At=u,At.splice(0,At.length,...d),ti=p,Mt=new DataView(je.buffer,je.byteOffset,je.byteLength),m}function vy(){je=null,zn=null,At=null}function e$(e){e.unpack?Zr[e.type]=e.unpack:Zr[e.type]=e}function SE(e,t,r,i){let s=e.byteLength;if(s+1<256){var{target:n,position:a}=r(4+s);n[a++]=199,n[a++]=s+1}else if(s+1<65536){var{target:n,position:a}=r(5+s);n[a++]=200,n[a++]=s+1>>8,n[a++]=s+1&255}else{var{target:n,position:a,targetView:o}=r(7+s);n[a++]=201,o.setUint32(a,s+1),a+=4}n[a++]=116,n[a++]=t,n.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),a)}function AE(e,t){let r=e.byteLength;var i,s;if(r<256){var{target:i,position:s}=t(r+2);i[s++]=196,i[s++]=r}else if(r<65536){var{target:i,position:s}=t(r+3);i[s++]=197,i[s++]=r>>8,i[s++]=r&255}else{var{target:i,position:s,targetView:n}=t(r+5);i[s++]=198,n.setUint32(s,r),s+=4}i.set(e,s)}function s$(e,t,r,i){let s=e.length;switch(s){case 1:t[r++]=212;break;case 2:t[r++]=213;break;case 4:t[r++]=214;break;case 8:t[r++]=215;break;case 16:t[r++]=216;break;default:s<256?(t[r++]=199,t[r++]=s):s<65536?(t[r++]=200,t[r++]=s>>8,t[r++]=s&255):(t[r++]=201,t[r++]=s>>24,t[r++]=s>>16&255,t[r++]=s>>8&255,t[r++]=s&255)}return t[r++]=i,t.set(e,r),r+=s,r}function n$(e,t){let r,i=t.length*6,s=e.length-i;for(t.sort((n,a)=>n.offset>a.offset?1:-1);r=t.pop();){let n=r.offset,a=r.id;e.copyWithin(n+i,n,s),i-=6;let o=n+i;e[o++]=214,e[o++]=105,e[o++]=a>>24,e[o++]=a>>16&255,e[o++]=a>>8&255,e[o++]=a&255,s=n}return e}function Ad(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");j1.unshift(e.Class),sf.unshift(e)}e$(e)}function l$(e){var t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){let i=e[r];t=(t<<5)-t+i,t=t&t}return t}function yy(e){if(bT(e))return e;if(Array.isArray(e))return e.map(yy);if(typeof e=="object"&&e!==null){let t={};for(let r of Object.keys(e).sort())t[r]=yy(e[r]);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}else return e}function wa(e,t,r){r.x=e.x*t.x,r.y=e.y,r.z=e.x*t.y}function jE(e){return new se(e.y,-e.x)}function HE(e,t=new se){let r=e.length();return t.set(-e.y/r,e.x/r)}function k$(e){let t=new se;t.addVectors(e.v0,vc.subVectors(e.v1,e.v0).multiplyScalar(2/3));let r=new se;return r.addVectors(e.v2,Of.subVectors(e.v1,e.v2).multiplyScalar(2/3)),new en(e.v0,t,r,e.v2)}function Hu(e,t,r=Number.EPSILON){return Math.abs(e-t)<r}function P$(e,t,r=Number.EPSILON){return e.distanceTo(t)<r}function B$(e,t,r=Number.EPSILON){return e.distanceTo(t)<r}function qT(e,t,r){let i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),s=Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)),n=Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));return Math.acos((s*s+i*i-n*n)/(2*s*i))}function F$(e,t,r){return GE(e,t)&&GE(t,r)&&Py(e.position,t.position,r.position)}function Py(e,t,r){return vc.copy(t).sub(e).cross(Of.copy(r).sub(e))===0}function O$(e,t,r,i,s){let n=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),a=(e.y+t.y)/2,o=(e.x+t.x)/2,l=Math.sqrt(Math.pow(r,2)-Math.pow(n/2,2))*(e.y-t.y)/n,c=Math.sqrt(Math.pow(r,2)-Math.pow(n/2,2))*(t.x-e.x)/n;return i.set(o+l,a+c),s.set(o-l,a-c),[i,s]}function I$(e,t,r){let i=e.distanceTo(r),s=t.distanceTo(r);return i<s?t:e}function R$(e,t,r,i,s,n){let a=t.x-e.x,o=t.y-e.y,l=r.x-e.x,c=r.y-e.y,h=Math.sqrt((a+l)*(a+l)+(o+c)*(o+c)),u;return qT(t,e,r)>Math.PI&&(h*=-1),Hu(c,o)?u=(o+c)*(i/h-.5)*8/3/(a-l):u=(a+l)*(i/h-.5)*8/3/(c-o),s.set(t.x-u*o,t.y+u*a),n.set(r.x+u*c,r.y-u*l),[s,n]}function VE(e,t){return e.position.equals(e.controls[1].position)&&t.position.equals(t.controls[0].position)}function GE(e,t){return Py(e.position,e.controls[1].position,t.position)&&Py(e.position,t.controls[0].position,t.position)}function N$(e,t,r,i,s=.5){let n=vc.subVectors(t,e).multiplyScalar(s).add(e),a=Of.subVectors(r,t).multiplyScalar(s).add(t),o=C$.subVectors(i,r).multiplyScalar(s).add(r),l=n,c=T$.subVectors(a,n).multiplyScalar(s).add(n),h=M$.subVectors(o,a).multiplyScalar(s).add(a),u=o,d=L$.subVectors(h,c).multiplyScalar(s).add(c);return[e.x,e.y,l.x,l.y,c.x,c.y,d.x,d.y,h.x,h.y,u.x,u.y,i.x,i.y]}function U$(e,t,r=12,i=!0){let s=WT.set(0,0,0),n,a=0,o=[];for(let l=0;l<t.length;l++){let c=G1(t[l]),h=vc,u=Lo(c,r);o.push(u);for(let d=0;d<=u;d++)if(c instanceof en||c instanceof Io||c instanceof ln){if(c.getPoint(d/u,h),s.set(h.x,h.y,0),n!==void 0&&B$(n,s))continue;n===void 0&&(n=GT),n.copy(s),e.setXYZ(a,s.x,s.y,s.z),a++}}return i&&a>1&&!(e.getX(a-1)===e.getX(0)&&e.getY(a-1)===e.getY(0)&&e.getZ(a-1)===e.getZ(0))&&(e.setXYZ(a,e.getX(0),e.getY(0),e.getZ(0)),a++),e}function z$(e,t,r,i=12,s=!0){let n=WT.set(0,0,0),a=0,o=[];for(let l=0;l<t.length;l++){if(r[l]===!1)continue;let c,h=G1(t[l]),u=vc,d=Lo(h,i);o.push(d);for(let p=0;p<=d;p++)if(h instanceof en||h instanceof Io||h instanceof ln){if(h.getPoint(p/d,u),n.set(u.x,u.y,0),c?.equals(n))continue;c===void 0?c=GT:(e.setXYZ(a,c.x,c.y,c.z),a++,e.setXYZ(a,n.x,n.y,n.z),a++),c.copy(n)}}return s&&a>1&&!(e.getX(a-1)===e.getX(0)&&e.getY(a-1)===e.getY(0)&&e.getZ(a-1)===e.getZ(0))&&(e.setXYZ(a,e.getX(0),e.getY(0),e.getZ(0)),a++),o}function WE(e,t=12,r=!1){let i=[];for(let s=0,n=e.length;s<n;s++){let a=e[s],o=0;if(r&&a.roundedCurveCorner!==void 0){let l=Lo(a.roundedCurveCorner,t)*.5;s>0&&(i[s-1]+=l),o+=l}a.curveAfter!==void 0&&(o+=Lo(a.curveAfter,t)),i.push(o)}return e.length>0&&r&&e[0].roundedCurveCorner!==void 0&&(i[e.length-1]+=Lo(e[0].roundedCurveCorner,t)*.5),i}function Lo(e,t=12){return e&&e instanceof yf?t*2:e&&(e instanceof ln||e instanceof b3)?1:e&&e instanceof l1?t*e.points.length:t}function j$(e,t,r=12,i=!0){let s,n=0;for(let a=0;a<t.length;a++){let o=G1(t[a]),l=Lo(o,r),c=vc;for(let h=0;h<=l;h++)if(o instanceof en||o instanceof Io||o instanceof ln){if(o.getPoint(h/l,c),s!==void 0&&P$(s,c,ku))continue;s===void 0&&(s=Of),s.copy(c),e.push(c.x,c.y),n++}}return Hu(e[0],e[e.length-2],ku)&&Hu(e[1],e[e.length-1],ku)&&(e.pop(),e.pop()),i&&n>1&&!(Hu(e[n-1],e[1],ku)&&Hu(e[n-2],e[0],ku))&&(e.push(e[0],e[1]),n++),e}function v0({x:e,y:t},r,i,s,n){return{x:e*r+s,y:t*i+n}}function Y$(e,t){let r=t===1.5707963267948966?.551915024494:t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),i=Math.cos(e),s=Math.sin(e),n=Math.cos(e+t),a=Math.sin(e+t);return[{x:i-s*r,y:s+i*r},{x:n+a*r,y:a-n*r},{x:n,y:a}]}function qE(e,t,r,i){let s=e*i-t*r<0?-1:1,n=Math.min(1,Math.max(-1,e*r+t*i));return s*Math.acos(n)}function X$(e,t,r,i,s,n,a,o,l,c){let h=Math.pow(s,2),u=Math.pow(n,2),d=Math.pow(a,2),p=Math.pow(o,2),g=h*u-h*p-u*d;g<0&&(g=0),g/=h*p+u*d,g=Math.sqrt(g)*(l===c?-1:1);let m=g*s/n*o,f=g*-n/s*a,v=m+(e+r)/2,x=f+(t+i)/2,b=(a-m)/s,y=(o-f)/n,w=(-a-m)/s,_=(-o-f)/n,D=qE(1,0,b,y),S=qE(b,y,w,_);return!c&&S>0&&(S-=By),c&&S<0&&(S+=By),{centerx:v,centery:x,ang1:D,ang2:S}}function Q$({px:e,py:t,cx:r,cy:i,rx:s,ry:n,largeArcFlag:a,sweepFlag:o}){let l=[];if(s===0||n===0)return[];let c=(e-r)/2,h=(t-i)/2;if(c===0&&h===0)return[];s=Math.abs(s),n=Math.abs(n);let u=Math.pow(c,2)/Math.pow(s,2)+Math.pow(h,2)/Math.pow(n,2);u>1&&(s*=Math.sqrt(u),n*=Math.sqrt(u));let d=X$(e,t,r,i,s,n,c,h,a,o),{ang1:p,ang2:g}=d,{centerx:m,centery:f}=d,v=Math.abs(g)/(By/4);Math.abs(1-v)<1e-7&&(v=1);let x=Math.max(Math.ceil(v),1);g/=x;for(let b=0;b<x;b++)l.push(Y$(p,g)),p+=g;return l.map(b=>{let{x:y,y:w}=v0(b[0],s,n,m,f),{x:_,y:D}=v0(b[1],s,n,m,f),{x:S,y:A}=v0(b[2],s,n,m,f);return{x1:y,y1:w,x2:_,y2:D,x:S,y:A}})}function tt(e,t){if(!e)throw t||"Assertion Failed!"}function Vu(e){var t=e.windingRule,r=t===void 0?er.ODD:t,i=e.elementType,s=i===void 0?Pr.POLYGONS:i,n=e.polySize,a=n===void 0?3:n,o=e.vertexSize,l=o===void 0?2:o,c=e.normal,h=c===void 0?[0,0,1]:c,u=e.contours,d=u===void 0?[]:u,p=e.strict,g=p===void 0?!0:p,m=e.debug,f=m===void 0?!1:m;if(!d&&g)throw new Error("Contours can't be empty");if(d){var v=new K$;e.edgeCreateCallback&&(v.edgeCreateCallback=e.edgeCreateCallback),e.vertexIdCallback&&(v.vertexIdCallback=e.vertexIdCallback);for(var x=0;x<d.length;x++)v.addContour(l||2,d[x]);return v.tesselate(r,s,a,l,h,g),{vertices:v.vertices,vertexIndices:v.vertexIndices,vertexCount:v.vertexCount,elements:v.elements,elementCount:v.elementCount,mesh:f?v.mesh:void 0}}}function tJ(e,t,r,i,s,n){if(i>=ZT)return s>30||s%4===0?(iJ(e,t,r,n),Math.round(s/4)):$E(e,i,s,t,r,n);let a={x:0,y:r},o=i+Math.PI*.5,l={x:Math.cos(o)*t,y:Math.sin(o)*r},c=Q$({px:a.x,py:a.y,cx:l.x,cy:l.y,rx:t,ry:r,largeArcFlag:i>Math.PI,sweepFlag:!0});return s>30||s%c.length===0?rJ(e,a.x,a.y,c,s,t,r,n):$E(e,i,s,t,r,n)}function rJ(e,t,r,i,s,n,a,o){let l=Math.round(s/i.length);e.addPoint(Xl(t,r));for(let c=0,h=i.length;c<h;c++){let u=i[c],d=e.points[c],p=Xl(u.x,u.y);d.controls[1].position.set(u.x1,u.y1),p.controls[0].position.set(u.x2,u.y2),e.addPoint(p)}return o>0?$T(e,n,a,o):e.addPoint(Xl(0,0)),l}function $E(e,t,r,i,s,n){let a=-t/r;for(let o=0;o<=r;o++){let l=a*o,c=Math.sin(l)*i,h=Math.cos(l)*s;e.addPoint(Xl(c,h))}return t<ZT?n>0?$T(e,i,s,n):e.addPoint(Xl(0,0)):(e.removePoint(e.points[e.points.length-1]),n>0&&JT(e,i,s,n)),1}function iJ(e,t,r,i=0,s=0,n=0){let a=.5522847498,o=t*a,l=r*a;e.addPoint(Dp(s-t,n,s-t,n-l,s-t,n+l)),e.addPoint(Dp(s,n+r,s-o,n+r,s+o,n+r)),e.addPoint(Dp(s+t,n,s+t,n+l,s+t,n-l)),e.addPoint(Dp(s,n-r,s+o,n-r,s-o,n-r)),i>0&&JT(e,t,r,i)}function Xl(e,t){return new Yl(Lt.generateUUID(),new se(e,t))}function Dp(e,t,r,i,s,n){let a=Xl(e,t);return a.controls[0].position.set(r,i),a.controls[1].position.set(s,n),a}function $T(e,t,r,i){KT(e,t,r,i).forEach(s=>e.addPoint(s))}function JT(e,t,r,i){let s=KT(e,t,r,i),n=new or;s.forEach(a=>n.addPoint(a)),n.isClosed=!0,e.shapeHoles.push(n)}function KT(e,t,r,i){let s=i*t/100,n=s*(Math.abs(r)/Math.abs(t)),a=new se(s/t,n/r),o=e.points.map(l=>{let c=l.clone();return c.uuid=Lt.generateUUID(),c}).reverse();return o.forEach(l=>{l.position.multiply(a);let c=l.controls[0].position.clone().multiply(a),h=l.controls[1].position.clone().multiply(a);l.controls[0].position.copy(h),l.controls[1].position.copy(c)}),o}function cJ(e,t){switch(t){case"c":return e.c;case"b":return e.b;case"a":default:return e.a}}function w0(e,t,r){let i=Math.min(e,t),s=Math.max(e,t),n=i+"_"+s;return r.get(n)}function _0(e,t,r,i,s,n){let a=Math.min(e,t),o=Math.max(e,t),l=a+"_"+o,c;if(i.has(l))c=i.get(l);else{let h=r[a],u=r[o];c={a:h,b:u,newEdge:null,faces:[]},i.set(l,c)}c.faces.push(s),n[e].edges.push(c),n[t].edges.push(c)}function uJ(e,t,r,i){let s,n,a;for(s=0,n=e.length;s<n;s++)r[s]={edges:[]};for(s=0,n=t.length;s<n;s++)a=t[s],_0(a.a,a.b,e,i,a,r),_0(a.b,a.c,e,i,a,r),_0(a.c,a.a,e,i,a,r)}function Ap(e,t,r,i,s){e.push(new Oy(t,r,i,void 0,void 0,s))}function Ll(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function Ep(e,t,r,i){e.push([t.clone(),r.clone(),i.clone()])}function Bu(e,t,r){r.x=e.x*t.x,r.y=e.y,r.z=e.x*t.y}function D0(e,t,r,i,s,n){let a=t.clone().sub(e),o=r.clone().sub(e),l=a.angleTo(o);if(a.normalize(),o.normalize(),i===s){let c=a.add(o).normalize();n.copy(e).addScaledVector(c,i/Math.sin(l/2))}else{let c=a.angleTo(o);n.copy(e),n.addScaledVector(a,s/Math.sin(c)),n.addScaledVector(o,i/Math.sin(c))}}function mJ(e,t,r){let i=e.clone().sub(t),s=r.clone().sub(t);return i.projectOnVector(s),i.add(t)}function SJ(e,t,r,i,s,n,a,o,l,c,h){return[t,r]=[r,t],a=t/2,s/=2*Math.PI,s==1&&(c=0),new eM(!0,e,t,r,i,s,n,a,o,l,c,h)}function qr(e,t){return t.color(e)}function TJ(e,t){let r=!1;t.position&&(e.position.fromArray(t.position),r=!0),t.rotation&&(e.rotation.fromArray(t.rotation),r=!0),t.scale&&(r=!0,e.scale.fromArray(t.scale)),t.hiddenMatrix!==void 0&&"hiddenMatrix"in e&&(r=!0,e.hiddenMatrix.fromArray(t.hiddenMatrix??ic.identity)),r&&(e.updateMatrix(),Ro(e.parent)&&pd(e)&&e.invalidateDownstreamBooleanData(!0).recomputeBoolean()),t.position&&t.rotation&&t.scale&&t.hiddenMatrix!==void 0&&e.updateWorldMatrix(!1,!0),e.objectType==="CombinedCamera"&&(t.isUpVectorFlipped!==void 0&&(e.isUpVectorFlipped=t.isUpVectorFlipped),e.updateUp())}function MJ(e,t){TJ(e,t),t.name!==void 0&&(e.name=t.name),t.visible!==void 0&&(e.visible=t.visible)}function LJ(e,t,r){MJ(e,t),t.color!==void 0&&(e.color=qr(t.color,r)),t.intensity!==void 0&&(e.intensity=t.intensity),t.shadows!==void 0&&!(e instanceof J0)&&(e.castShadow=t.shadows),e.shadow&&!(e instanceof J0)&&t.depth!==void 0&&(e.shadow.camera.far=t.depth,e.shadow.needsUpdate=!0)}function kJ(e,t){e.shadow.camera.right=t/2,e.shadow.camera.left=-t/2,e.shadow.camera.top=t/2,e.shadow.camera.bottom=-t/2,e.shadow.needsUpdate=!0}function FJ(e,t,r=0,i=t.count){let s=1/0,n=1/0,a=1/0,o=-1/0,l=-1/0,c=-1/0;for(let h=r;h<i;h++){let u=t.getX(h),d=t.getY(h),p=t.getZ(h);u<s&&(s=u),d<n&&(n=d),p<a&&(a=p),u>o&&(o=u),d>l&&(l=d),p>c&&(c=p)}return e.min.set(s,n,a),e.max.set(o,l,c),e}function KJ(e,t){switch(e.type){case"fresnel":return rK(e,t);case"gradient":return iK(e);case"depth":return sK(e);case"normal":return nK(e);case"noise":return aK(e,t);case"rainbow":return oK(e);case"toon":return lK(e,t);case"outline":return cK(e,t);case"transmission":return uK(e,t);case"color":return tK(e,t)}}function eK(e){return{type:e.type}}function xn(e){let{alpha:t,mode:r}=e;return{...eK(e),alpha:t,mode:r}}function tK(e,t){return{...xn(e),color:qr(e.color,t)}}function rK(e,t){let{bias:r,scale:i,intensity:s,factor:n,color:a}=e;return{...xn(e),color:qr(a,t),bias:r,scale:i,intensity:s,factor:n}}function iK(e){let{gradientType:t,smooth:r,colors:i,steps:s,angle:n,offset:a,morph:o}=e;return{...xn(e),gradientType:t,smooth:r,colors:i.map(l=>new yt(l[0],l[1],l[2],l[3])),num:i.length,steps:s,offset:new se(...a),morph:new se(...o),angle:n}}function sK(e){let{gradientType:t,near:r,far:i,isVector:s,isWorldSpace:n,origin:a,direction:o,colors:l,steps:c,smooth:h}=e;return{...xn(e),gradientType:t,near:r,far:i,isVector:s,isWorldSpace:n,origin:new C(...a),direction:o?new C(...o):new C(1,0,0),colors:l.map(u=>new yt(u[0],u[1],u[2],u[3])),steps:c,smooth:h}}function nK(e){let{cnormal:t}=e;return{...xn(e),cnormal:new C(t[0],t[1],t[2])}}function aK(e,t){return{...xn(e),scale:e.scale,move:e.move,fA:new se(...e.fA),fB:new se(...e.fB),size:new C(...e.size),distortion:new se(...e.distortion),colorA:qr(e.colorA,t),colorB:qr(e.colorB,t),colorC:qr(e.colorC,t),colorD:qr(e.colorD,t),noiseType:e.noiseType}}function oK(e){return{...xn(e),filmThickness:e.filmThickness,movement:e.movement,wavelengths:new C(...e.wavelengths),noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,offset:new C(...e.offset)}}function lK(e,t){return{...xn(e),positioning:e.positioning,colors:e.colors.map(r=>new yt(r[0],r[1],r[2],r[3])),num:e.colors.length,steps:e.steps,source:new C(...e.source),isWorldSpace:e.isWorldSpace,noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,shadowColor:qr(e.shadowColor,t),offset:new C(...e.offset)}}function cK(e,t){return{...xn(e),outlineColor:qr(e.outlineColor,t),contourColor:qr(e.contourColor,t),outlineWidth:e.outlineWidth,contourWidth:e.contourWidth,outlineThreshold:e.outlineThreshold,contourThreshold:e.contourThreshold,outlineSmoothing:e.outlineSmoothing,contourFrequency:e.contourFrequency,contourDirection:e.contourDirection,positionalLines:e.positionalLines,compensation:e.compensation}}function uK(e,t){return{...xn(e),thickness:e.thickness,ior:e.ior,roughness:e.roughness}}function dK(e){if(typeof e=="string")return e;let t=Date.now(),r=S0.get(e);return r===void 0?(r={url:URL.createObjectURL(new Blob([e])),data:e,time:t,next:null,prev:null},S0.set(e,r)):(r.time=t,r.prev.next=r.next,r.next.prev=r.prev),r.prev=Hl.prev,r.next=Hl,Hl.prev.next=r,Hl.prev=r,t-oC>1e3*10&&(oC=t+1e3,setTimeout(()=>{let i=Date.now(),s=td.next;for(;s.time<i-1e3*10;)URL.revokeObjectURL(s.url),S0.delete(s.data),s=s.next,s.prev=td,td.next=s},900)),r.url}function hK(e,t,r){let i=LM[e.type],s=kM[e.type];if(s!==void 0){let n=e.color;if(s.includes(t)){let a=n[t]?.value?.length;if(a!==void 0&&a!==r.length)return!0}}return i!==void 0?i.includes(t):!1}function PM(e,t,r){let i=r.uniforms[`f${r.id}_texture`];if(!i)return!1;let s=!1,n=e;if("image"in n){let a=n.image,o=t.image(a),l=i;l instanceof Ny||l.image.dispose(),l.image=o}if("wrapping"in n){let a=i;a.wrap=n.wrapping}if("repeat"in n||"offset"in n){let a="mat",o=r.uniforms[`f${r.id}_${a}`];"repeat"in n&&(o.repeat=n.repeat),"offset"in n&&(o.offset=n.offset),o.updateMatrix()}return s}function pK(e,t,r,i){let s=!1;for(let[n,a]of Object.entries(e)){if(!n||a===void 0||NM(n,r,i))continue;r.visible=i.visible;let o=r.uniforms[`f${r.id}_${n}`];if(!!o&&!(o instanceof Y1))switch(s=s||hK(r,n,a),o.constructor){case tr:if(typeof a=="string"){let l=t.getColor(a);l&&(o.value=l);break}else{let l=a;o.value instanceof cf?o.value=new Cs(l.r,l.g,l.b,l.a):o.setRGBA(l);break}case wo:if(typeof a=="string"){let l=t.getColor(a);l&&(o.value=l);break}else{let l=a;o.value instanceof cf?o.value=new Cs(l.r,l.g,l.b,l.a):o.value.setRGBA(l.r,l.g,l.b,l.a);break}case Vi:{let l=a;o.value.setX(l[0]),o.value.setY(l[1]);break}case zi:{let l=a;o.value.setX(l[0]),o.value.setY(l[1]),o.value.setZ(l[2]);break}case ka:{PM(a,t,r);break}case xo:{o.value=a.map(l=>new yt(...l));break}default:{o.value=a;break}}}return s}function cC(e,t,r){e.setUvTransform(r[0],r[1],t[0],t[1],0,0,0)}function gK(e){let t=e instanceof ko?e.type:e;return t==="texture"||t==="displace_map"||t==="matcap"}function vK(e,t,r,i){switch(e.type){case"color":{let s=new tr(i.color??5855577),n=new Ge(i.alpha??1),a=new qt("alpha / clamp(alpha + accumAlpha, 0.00001, 1.0 )","f");a.keywords.alpha=n;let o=new Ft(i.mode??0);return s.alpha=n,new Ur(t,r,e,{color:s,alpha:n,mode:o},s,o,a)}case"fresnel":{let s=new tr(i.color??16777215),n=new Ge(i.bias??.1),a=new Ge(i.scale??1),o=new Ge(i.intensity??2),l=new Ge(i.factor??1),c=new Ge(i.alpha??1),h=new Ft(i.mode??0),u=new fM(s,n,a,o,l,c,h),d=new qt(u.calpha,"f");return new Ur(t,r,e,{color:s,bias:n,scale:a,intensity:o,factor:l,alpha:c,mode:h},u,h,d)}case"rainbow":{let s=new Ge(i.filmThickness??30),n=new Ge(i.movement??0),a=new zi(i.wavelengths??new C(0,0,0)),o=new Ge(i.noiseStrength??0),l=new Ge(i.noiseScale??1),c=new zi(i.offset??new C(0,0,0)),h=new Ge(i.alpha??1),u=new gM(s,n,a,o,l,c,h),d=new qt(u.calpha,"f"),p=new Ft(i.mode??0);return new Ur(t,r,e,{filmThickness:s,movement:n,wavelengths:a,noiseStrength:o,noiseScale:l,offset:c,alpha:h,mode:p},u,p,d)}case"transmission":{let s=new Ge(i.thickness??10),n=new Ge(i.ior??1.5),a=new Ge(i.roughness??.5),o=Gi.transmissionSize,l=Gi.transmissionRenderTarget,c=Gi.transmissionRenderTargetDepth,h=window.innerWidth,u=window.innerHeight,d=h>=u?new Vi(u/h,1):new Vi(1,h/u),p=new Ge(i.alpha??1),g=new bM(s,n,a,o,l,c,d,p),m=new qt(g.calpha,"f"),f=new Ft(i.mode??0);return new Ur(t,r,e,{thickness:s,ior:n,roughness:a,aspectRatio:d,alpha:p,mode:f},g,f,m)}case"toon":{let s=new Ft(i.positioning??0),n;i.colors?n=new xo(i.colors.length,i.colors):(n=new xo(10,new yt(0,0,0,1)),n.value[1]=new yt(1,1,1,1));let a;i.steps?a=new yo(i.steps.length,i.steps):(a=new yo(10,1),a.value[0]=0);let o=new zi(i.source??new C(0,0,0)),l=new Fu(i.isWorldSpace??!0),c=new Ge(i.noiseStrength??0),h=new Ge(i.noiseScale??1),u=new wo(i.shadowColor),d=new zi(i.offset??new C(0,0,0)),p=new Ge(i.alpha??1),g=new IM(s,n,a,o,l,c,h,u,d,p),m=new qt(g.calpha,"f"),f=new Ft(i.mode??0);return new Ur(t,r,e,{positioning:s,colors:n,steps:a,source:o,isWorldSpace:l,noiseStrength:c,noiseScale:h,shadowColor:u,offset:d,alpha:p,mode:f},g,f,m)}case"outline":{let s=new tr(i.outlineColor??16777215),n=new tr(i.contourColor??16777215),a=new Ge(i.outlineWidth??.1),o=new Ge(i.contourWidth??.1),l=new Ge(i.outlineThreshold??.1),c=new Ge(i.contourThreshold??.1),h=new Ge(i.outlineSmoothing??.1),u=new Ge(i.contourFrequency??.1),d=new zi(i.contourDirections??new C(0,1,0)),p=new Fu(i.positionalLines??!1),g=new Fu(i.compensation??!0),m=Gi.normalRenderTarget,f=Gi.normalRenderTargetDepth,v=Gi.pixelRatioNode,x=Gi.resolution,b=new Ge(i.alpha??1),y=new yM(s,n,a,o,l,c,h,u,d,p,g,x,m,f,v,b),w=new qt(y.calpha,"f"),_=new Ft(i.mode??0);return new Ur(t,r,e,{outlineColor:s,contourColor:n,outlineWidth:a,contourWidth:o,outlineThreshold:l,contourThreshold:c,outlineSmoothing:h,contourFrequency:u,contourDirection:d,positionalLines:p,compensation:g,alpha:b,mode:_},y,_,w)}case"depth":{let s=new Ft(i.gradientType??0),n=new Fu(i.smooth??!1),a=new Ge(i.near??50),o=new Ge(i.far??200),l=new Ge(i.isVector??1),c=new Ge(i.isWorldSpace??0),h=new zi(i.origin??new C),u=new zi(i.direction??new C),d;i.colors?d=new xo(i.colors.length,i.colors):(d=new xo(2,new yt(0,0,0,1)),d.value[1]=new yt(1,1,1,1));let p;i.steps?p=new yo(i.steps.length,i.steps):(p=new yo(2,1),p.value[0]=0);let g=new Ge(i.alpha??1),m=new Ft(i.mode??0),f=new wM(s,n,a,o,l,c,h,u,d,p,g),v=new qt(f.calpha,"f");return new Ur(t,r,e,{gradientType:s,smooth:n,near:a,far:o,isVector:l,isWorldSpace:c,origin:h,direction:u,colors:d,steps:p,alpha:g,mode:m},f,m,v)}case"noise":{let s=new Ge(i.scale??1),n=new zi(i.size??new C(100,100,100)),a=new Ge(i.move??1),o=new Vi(i.fA??new se(1.7,9.2)),l=new Vi(i.fB??new se(8.3,2.8)),c=new Vi(i.distortion??new se(1,1)),h=new wo(i.colorA),u=new wo(i.colorB),d=new wo(i.colorC),p=new wo(i.colorD),g=new Ge(i.alpha??1),m=new Ft(i.mode??0),f=new Ft(i.noiseType??0),v=new hM(s,n,a,o,l,c,h,u,d,p,g,f),x=new qt(v.calpha,"f");return new Ur(t,r,e,{scale:s,size:n,move:a,fA:o,fB:l,distortion:c,colorA:h,colorB:u,colorC:d,colorD:p,alpha:g,mode:m,noiseType:f},v,m,x)}case"normal":{let s=new zi(i.cnormal??new C(1,1,1)),n=new Ge(i.alpha??1),a=new Ft(i.mode??0),o=new TM(s,n),l=new qt("alpha / clamp(alpha + accumAlpha, 0.00001, 1.0 )","f");return l.keywords.alpha=n,new Ur(t,r,e,{cnormal:s,alpha:n,mode:a},o,a,l)}case"gradient":{let s=new Ft(i.gradientType??0),n=new Fu(i.smooth??!1),a;i.colors?a=new xo(i.colors.length,i.colors):(a=new xo(10,new yt(0,0,0,1)),a.value[1]=new yt(1,1,1,1));let o;i.steps?o=new yo(i.steps.length,i.steps):(o=new yo(10,1),o.value[0]=0);let l=new Vi(i.offset??new se(0,0)),c=new Vi(i.morph??new se(0,0)),h=new Ge(i.angle??0),u=new Ge(i.alpha??1),d=new Ft(i.mode??0),p=new AM(s,n,a,o,l,c,h,u),g=new qt(p.calpha,"f");return new Ur(t,r,e,{gradientType:s,smooth:n,colors:a,steps:o,offset:l,morph:c,angle:h,alpha:u,mode:d},p,d,g)}default:{let s=new tr(1,0,0,1),n=new Ge(1),a=new qt("alpha / clamp(alpha + accumAlpha, 0.00001, 1.0 )","f");a.keywords.alpha=n;let o=new Ft(0);return s.alpha=n,new Ur(t,r,e,{color:s,alpha:n,mode:o},s,o,a)}}}function yK(e,t,r,i){let s=KJ(r,i);return vK(r,e,t,s)}function NM(e,t,r){if(r.type==="displace"&&(e==="intensity"||e==="visible")){let i=t.uniforms[`f${t.id}_intensity`];return i?(i.value=r.intensity*(r.visible?1:0),i):void 0}if(r.type!=="displace"&&(e==="alpha"||e==="visible")){let i=t.uniforms[`f${t.id}_alpha`];if(!i)return;if(i.value=r.alpha*(r.visible?1:0),r.type==="outline"&&e=="visible"){let s=t.uniforms[`f${t.id}_compensation`];s&&(s.value=r.compensation&&r.visible)}return i}}function wK(e){if(e.geometry.attributes.extrudeNormal||!e.geometry.attributes.position)return;let t=new Map,r=e.geometry.attributes.position.array,i=e.geometry.attributes.normal.array,s=new Float32Array(r.length);for(let n=0;n<r.length;n+=3){let a=`${r[n]}_${r[n+1]}_${r[n+2]}`,o=new C(i[n],i[n+1],i[n+2]);t.has(a)?t.get(a)?.normals.push(o):t.set(a,{normals:[o],result:new C})}t.forEach((n,a)=>{for(let o of n.normals)n.result.add(o);n.result.divideScalar(n.normals.length)});for(let n=0;n<r.length;n+=3){let a=`${r[n]}_${r[n+1]}_${r[n+2]}`,o=t.get(a)?.result;o&&(s[n]=o.x,s[n+1]=o.y,s[n+2]=o.z)}e.geometry.setAttribute("extrudeNormal",new Ve(s,3))}function _K(e){if(e.geometry.attributes.extrudeNormals||!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,r=new Float32Array(t.length),i=new C;for(let s=0;s<t.length;s+=3)i.set(t[s],t[s+1],t[s+2]).normalize(),r[s]=i.x,r[s+1]=i.y,r[s+2]=i.z;e.geometry.setAttribute("extrudeNormal",new Ve(r,3))}function If(e){if(e.objectType!=="TextFrame"){if(Array.isArray(e.material)){for(let t of e.material)if(t.getLayersOfType("outline").length===0)return}else if(!(e.material instanceof oc)||e.material.getLayersOfType("outline").length===0)return;e.objectType==="Mesh2D"?_K(e):wK(e)}}function Rf(e){if(!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,r=new Float32Array(t.length),i=parseInt(e.uuid.replace(/\D/g,"")),s=[Lt.seededRandom(i),Lt.seededRandom(i+1e4),Lt.seededRandom(i+2e4)];for(let n=0;n<t.length;n++)r[n]=s[n%3];e.geometry.setAttribute("randomColor",new wt(r,3))}function zM(e,t){return SK(e)}function SK(e){let t={parameters:e,type:e.type};if(e.type==="VectorGeometry"){let i=or.createFromState(e.shape,e.width,e.height);t.shape=i}else e.type==="NonParametricGeometry"&&(e.data.groups&&e.data.groups.forEach(i=>i.materialIndex=Math.max(i.materialIndex??0,0)),t.geometry=new k3().parse(e));let r;try{r=Uy(t)}catch(i){console.error(i)}if(!r){let i=or.createFromState(nf.defaultData(),100,100);t.shape=i,r=Uy(t)}return r}function jM(e,t){let r={},i=t?t.count:e.count,s=0,n=[],a=[],o=1e4;for(let c=0;c<i;c++){let h=t?t.getX(c):c,u="";for(let d=0;d<3;d++)u+=`${~~(e[gC[d]](h)*o)},`;if(u in r)n.push(r[u]);else{for(let d=0;d<3;d++)a.push(e[gC[d]](h));r[u]=s,n.push(s),s++}}let l=[];for(let c=0;c<n.length;c+=3)n[c]===n[c+1]||n[c]===n[c+2]||n[c+1]===n[c+2]||l.push(n[c],n[c+1],n[c+2]);return{positions:a,triIndices:l}}function HM(e,t,r,i){let s=[],n=[];if(r.userData.shape!==void 0&&r.userData.parameters.depth===0&&r.userData.shape.shapeHoles.length===0){let a=r.userData.shape.extractShapePointsToFlatArray([]),o=0;for(let c=0;c<a.length;c+=2)o+=(a[c]-a[(c===0?a.length:c)-2])*(a[c+1]+a[(c===0?a.length:c)-1]);e.length=0;let l=0;if(o<0)for(let c=0;c<a.length;c+=2)e.push(a[c],a[c+1],0),s.push(l++);else for(let c=a.length-2;c>=0;c-=2)e.push(a[c],a[c+1],0),s.push(l++);return n.push(l),{indices:s,verticesPerFace:n}}for(let a=0,o=r.capStartIndex??t.length;a<o;)if(t[a+1]===t[a+3]&&t[a+2]===t[a+5]||t[a+0]===t[a+3]&&t[a+2]===t[a+4]){Cp.set(e[t[a]*3],e[t[a]*3+1],e[t[a]*3+2]),A0.set(e[t[a+1]*3],e[t[a+1]*3+1],e[t[a+1]*3+2]),E0.set(e[t[a+4]*3],e[t[a+4]*3+1],e[t[a+4]*3+2]),C0.set(e[t[a+5]*3],e[t[a+5]*3+1],e[t[a+5]*3+2]),A0.sub(Cp).normalize(),E0.sub(Cp).normalize(),C0.sub(Cp).normalize();let l=A0.cross(E0).dot(C0);Math.abs(l)>.005||i&&i.some((c,h)=>h%2===1?!1:a>=i[h]&&a<i[h+1])?(s.push(t[a],t[a+1],t[a+2]),n.push(3),a+=3):(s.push(t[a],t[a+1],t[a+4],t[a+5]),n.push(4),a+=6)}else s.push(t[a],t[a+1],t[a+2]),n.push(3),a+=3;if(r.capStartIndex!==void 0){let a=[],o=[],l=0,c=new Float32Array([r.userData.parameters.depth])[0];for(let h=0,u=0;h<e.length;h+=3,u++)e[h+2]===0&&(a.push(u),l++),e[h+2]===c&&o.push(u);if(r.userData.parameters.extrudeBevelSize===0){let h=o[0];o[0]=o[1],o[1]=h}a.reverse(),s.push(...a,...o),n.push(l,l)}return{indices:s,verticesPerFace:n}}function CK(e,t,r){let i,{positions:s,triIndices:n}=jM(e.getAttribute("position"),e.getIndex()),a;if(t&&r){let{indices:o,verticesPerFace:l}=HM(s,n,e);a=l.length,i=[];for(let c=0,h=0;c<a;c++){i.push(l[c]);for(let u=0;u<l[c];u++)i.push(o[h++])}}else{let o=n.length;i=Array(o+o/3),a=0;for(let l=0,c=0;c<i.length;)i[c++]=3,a++,i[c++]=n[l++],i[c++]=n[l++],i[c++]=n[l++]}return{positions:s,faceIndices:i,nFaces:a}}function VM(e){let t=e.length,r=t*Uint32Array.BYTES_PER_ELEMENT,i=t*Float32Array.BYTES_PER_ELEMENT,s=Number.isInteger(e[0])?r:i,n=gt._malloc(s);return(Number.isInteger(e[0])?new Uint32Array(gt.HEAPU32.buffer,n,t):new Float32Array(gt.HEAPF32.buffer,n,t)).set(e,0),n}function GM(e){switch(e){case 0:return gt.OP.UNION;case 1:return gt.OP.INTERSECTION;case 2:return gt.OP.A_MINUS_B;case 3:return gt.OP.B_MINUS_A;case 4:return gt.OP.SYMMETRIC_DIFFERENCE;case 5:return gt.OP.ALL;default:throw new Error("Unknown boolean operation "+e)}}function TK(e,t){$l===void 0&&($l=gt.init_csg());let r=VM(e),i=gt.csg_calc_topological($l,r,e.length,GM(t));gt._free(r);let s=6,n=gt.HEAPU32.subarray(i>>2,(i>>2)+s),a=n.subarray(3,3+3),o=0,l=gt.HEAPU32[n[o]>>2],c=new Float32Array(gt.HEAPF32.subarray(l>>2,(l>>2)+a[o]));o++;let h=gt.HEAPU32[n[o]>>2],u=new Uint32Array(gt.HEAPU32.subarray(h>>2,(h>>2)+a[o]));o++;let d=gt.HEAPU32[n[o]>>2],p=new Uint8Array(gt.HEAPU32.subarray(d>>2,(d>>2)+a[o]));return gt.free_mesh_data(i),{positions:c,indices:u,verticesPerFace:p}}function MK(e,t,r,i){$l===void 0&&($l=gt.init_csg());let s=VM(e),n=gt.csg_calc($l,s,e.length,i,GM(t));gt._free(s);let a=5,o=gt.HEAPU32.subarray(n>>2,(n>>2)+a),l=o.subarray(2,2+3),c=0,h=gt.HEAPU32[o[c]>>2],u=gt.HEAPF32.subarray(h>>2,(h>>2)+l[c]);c++;let d=gt.HEAPU32[o[c]>>2],p=gt.HEAPF32.subarray(d>>2,(d>>2)+l[c]);c++;let g=l[c];r.setAttribute("position",new Ve(u,3)),r.setAttribute("normal",new Ve(p,3));let m=gt.HEAPF32.subarray((n>>2)+5,(n>>2)+5+6);return r.boundingSphere===null&&(r.boundingSphere=new Ms),r.boundingSphere.center.set(m[0],m[1],m[2]),r.boundingSphere.radius=(m[3]**2+m[4]**2+m[5]**2)**.5,r.userData.parameters={width:m[3]*2,height:m[4]*2,depth:m[5]*2},gt.free_mesh_data(n),g}function LK(e,t,r){if(gt===void 0)return-1;let i,s,n;if(t&&e.userData.positions!==void 0){let f=e.userData;n=f.verticesPerFace.length,i=f.positions,s=Array(f.verticesPerFace.reduce((v,x)=>v+x,0)+n);for(let v=0,x=0,b=0;v<f.verticesPerFace.length;v++){s[b++]=f.verticesPerFace[v];for(let y=0;y<f.verticesPerFace[v];y++)s[b++]=f.indices[x++]}}else({positions:i,faceIndices:s,nFaces:n}=CK(e,t,r));let a=i.length,o=s.length,l=i.length,c=s.length,h=l*Float32Array.BYTES_PER_ELEMENT+c*Uint32Array.BYTES_PER_ELEMENT,u=l*Float32Array.BYTES_PER_ELEMENT,d=c*Uint32Array.BYTES_PER_ELEMENT,p=gt._malloc(h),g=new Float32Array(gt.HEAPF32.buffer,p,l),m=new Uint32Array(gt.HEAPU32.buffer,p+u,c);return g.set(i,0),m.set(s,0),gt.get_csg_mesh(p,a,p+u,o,n)}function kK(e,t){gt.transform_csg_mesh(e,t.elements)}function PK(e){gt.free_csg_mesh(e)}function _s(e,t,r,i,s,n,a){Mp.set(s,n,a).unproject(i);let o=t[e];if(o!==void 0){let l=r.getAttribute("position");for(let c=0,h=o.length;c<h;c++)l.setXYZ(o[c],Mp.x,Mp.y,Mp.z)}}function zK(e,t,r){let i=Array.from(e),s=t/r.resolution,n=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*s,a=[],o=0,l=0;for(let c=0;c<i.length;c++){let h=i[c];if(h===`
`)o=0,l-=n;else{let u=jK(h,s,o,l,r);o+=u.offsetX,a.push(u.path)}}return a}function jK(e,t,r,i,s){let n=s.glyphs[e]||s.glyphs["?"];if(!n){console.error('THREE.Font: character "'+e+'" does not exists in font family '+s.familyName+".");return}let a=new hV,o,l,c,h,u,d,p,g;if(n.o){let m=n._cachedOutline||(n._cachedOutline=n.o.split(" "));for(let f=0,v=m.length;f<v;)switch(m[f++]){case"m":o=m[f++]*t+r,l=m[f++]*t+i,a.moveTo(o,l);break;case"l":o=m[f++]*t+r,l=m[f++]*t+i,a.lineTo(o,l);break;case"q":c=m[f++]*t+r,h=m[f++]*t+i,u=m[f++]*t+r,d=m[f++]*t+i,a.quadraticCurveTo(u,d,c,h);break;case"b":c=m[f++]*t+r,h=m[f++]*t+i,u=m[f++]*t+r,d=m[f++]*t+i,p=m[f++]*t+r,g=m[f++]*t+i,a.bezierCurveTo(u,d,p,g,c,h);break}}return{offsetX:n.ha*t,path:a}}function VK(e){if(typeof e=="string")return e;let t=DC.get(e);return t||(t={url:URL.createObjectURL(new Blob([e]))},DC.set(e,t)),t.url}function nn(e,t,r){return Math.min(Math.max(e,t),r)}function rd(e,t){return e.indexOf(t)>-1}function L0(e,t){return e.apply(null,t)}function iL(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(r){return parseFloat(r)}):[]}function sL(e,t){var r=iL(e),i=nn(rt.und(r[0])?1:r[0],.1,100),s=nn(rt.und(r[1])?100:r[1],.1,100),n=nn(rt.und(r[2])?10:r[2],.1,100),a=nn(rt.und(r[3])?0:r[3],.1,100),o=Math.sqrt(s/i),l=n/(2*Math.sqrt(s*i)),c=l<1?o*Math.sqrt(1-l*l):0,h=1,u=l<1?(l*o+-a)/c:-a+o;function d(g){var m=t?t*g/1e3:g;return l<1?m=Math.exp(-m*l*o)*(h*Math.cos(c*m)+u*Math.sin(c*m)):m=(h+u*m)*Math.exp(-m*o),g===0||g===1?g:1-m}function p(){var g=df.springs[e];if(g)return g;for(var m=1/6,f=0,v=0;;)if(f+=m,d(f)===1){if(v++,v>=16)break}else v=0;var x=f*m*1e3;return df.springs[e]=x,x}return t?d:p}function qK(e){return e===void 0&&(e=10),function(t){return Math.ceil(nn(t,1e-6,1)*e)*(1/e)}}function Q1(e,t){if(rt.fnc(e))return e;var r=e.split("(")[0],i=nL[r],s=iL(e);switch(r){case"spring":return sL(e,t);case"cubicBezier":return L0(YK,s);case"steps":return L0(qK,s);default:return L0(i,s)}}function aL(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function Nf(e,t){for(var r=e.length,i=arguments.length>=2?arguments[1]:void 0,s=[],n=0;n<r;n++)if(n in e){var a=e[n];t.call(i,a,n,e)&&s.push(a)}return s}function Uf(e){return e.reduce(function(t,r){return t.concat(rt.arr(r)?Uf(r):r)},[])}function SC(e){return rt.arr(e)?e:(rt.str(e)&&(e=aL(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function Z1(e,t){return e.some(function(r){return r===t})}function $1(e){var t={};for(var r in e)t[r]=e[r];return t}function Gy(e,t){var r=$1(e);for(var i in e)r[i]=t.hasOwnProperty(i)?t[i]:e[i];return r}function zf(e,t){var r=$1(e);for(var i in t)r[i]=rt.und(e[i])?t[i]:e[i];return r}function XK(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function QK(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=e.replace(t,function(o,l,c,h){return l+l+c+c+h+h}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),s=parseInt(i[1],16),n=parseInt(i[2],16),a=parseInt(i[3],16);return"rgba("+s+","+n+","+a+",1)"}function ZK(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),r=parseInt(t[1],10)/360,i=parseInt(t[2],10)/100,s=parseInt(t[3],10)/100,n=t[4]||1;function a(d,p,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?d+(p-d)*6*g:g<1/2?p:g<2/3?d+(p-d)*(2/3-g)*6:d}var o,l,c;if(i==0)o=l=c=s;else{var h=s<.5?s*(1+i):s+i-s*i,u=2*s-h;o=a(u,h,r+1/3),l=a(u,h,r),c=a(u,h,r-1/3)}return"rgba("+o*255+","+l*255+","+c*255+","+n+")"}function $K(e){if(rt.rgb(e))return XK(e);if(rt.hex(e))return QK(e);if(rt.hsl(e))return ZK(e)}function jn(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function JK(e){if(rd(e,"translate")||e==="perspective")return"px";if(rd(e,"rotate")||rd(e,"skew"))return"deg"}function Wy(e,t){return rt.fnc(e)?e(t.target,t.id,t.total):e}function an(e,t){return e.getAttribute(t)}function J1(e,t,r){var i=jn(t);if(Z1([r,"deg","rad","turn"],i))return t;var s=df.CSS[t+r];if(!rt.und(s))return s;var n=100,a=document.createElement(e.tagName),o=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;o.appendChild(a),a.style.position="absolute",a.style.width=n+r;var l=n/a.offsetWidth;o.removeChild(a);var c=l*parseFloat(t);return df.CSS[t+r]=c,c}function oL(e,t,r){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return r?J1(e,s,r):s}}function K1(e,t){if(rt.dom(e)&&!rt.inp(e)&&(an(e,t)||rt.svg(e)&&e[t]))return"attribute";if(rt.dom(e)&&Z1(WK,t))return"transform";if(rt.dom(e)&&t!=="transform"&&oL(e,t))return"css";if(e[t]!=null)return"object"}function lL(e){if(rt.dom(e)){for(var t=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map,s;s=r.exec(t);)i.set(s[1],s[2]);return i}}function KK(e,t,r,i){var s=rd(t,"scale")?1:0+JK(t),n=lL(e).get(t)||s;return r&&(r.transforms.list.set(t,n),r.transforms.last=t),i?J1(e,n,i):n}function ex(e,t,r,i){switch(K1(e,t)){case"transform":return KK(e,t,i,r);case"css":return oL(e,t,r);case"attribute":return an(e,t);default:return e[t]||0}}function tx(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var i=jn(e)||0,s=parseFloat(t),n=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return s+n+i;case"-":return s-n+i;case"*":return s*n+i}}function cL(e,t){if(rt.col(e))return $K(e);if(/\s/g.test(e))return e;var r=jn(e),i=r?e.substr(0,e.length-r.length):e;return t?i+t:i}function rx(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function eee(e){return Math.PI*2*an(e,"r")}function tee(e){return an(e,"width")*2+an(e,"height")*2}function ree(e){return rx({x:an(e,"x1"),y:an(e,"y1")},{x:an(e,"x2"),y:an(e,"y2")})}function uL(e){for(var t=e.points,r=0,i,s=0;s<t.numberOfItems;s++){var n=t.getItem(s);s>0&&(r+=rx(i,n)),i=n}return r}function iee(e){var t=e.points;return uL(e)+rx(t.getItem(t.numberOfItems-1),t.getItem(0))}function dL(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return eee(e);case"rect":return tee(e);case"line":return ree(e);case"polyline":return uL(e);case"polygon":return iee(e)}}function see(e){var t=dL(e);return e.setAttribute("stroke-dasharray",t),t}function nee(e){for(var t=e.parentNode;rt.svg(t)&&rt.svg(t.parentNode);)t=t.parentNode;return t}function hL(e,t){var r=t||{},i=r.el||nee(e),s=i.getBoundingClientRect(),n=an(i,"viewBox"),a=s.width,o=s.height,l=r.viewBox||(n?n.split(" "):[0,0,a,o]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:a/l[2],h:o/l[3]}}function aee(e,t){var r=rt.str(e)?aL(e)[0]:e,i=t||100;return function(s){return{property:s,el:r,svg:hL(r),totalLength:dL(r)*(i/100)}}}function oee(e,t){function r(o){o===void 0&&(o=0);var l=t+o>=1?t+o:0;return e.el.getPointAtLength(l)}var i=hL(e.el,e.svg),s=r(),n=r(-1),a=r(1);switch(e.property){case"x":return(s.x-i.x)*i.w;case"y":return(s.y-i.y)*i.h;case"angle":return Math.atan2(a.y-n.y,a.x-n.x)*180/Math.PI}}function AC(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=cL(rt.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(r)?i.match(r).map(Number):[0],strings:rt.str(e)||t?i.split(r):[]}}function pL(e){var t=e?Uf(rt.arr(e)?e.map(SC):SC(e)):[];return Nf(t,function(r,i,s){return s.indexOf(r)===i})}function fL(e){var t=pL(e);return t.map(function(r,i){return{target:r,id:i,total:t.length,transforms:{list:lL(r)}}})}function lee(e,t){var r=$1(t);if(/^spring/.test(r.easing)&&(r.duration=sL(r.easing)),rt.arr(e)){var i=e.length,s=i===2&&!rt.obj(e[0]);s?e={value:e}:rt.fnc(t.duration)||(r.duration=t.duration/i)}var n=rt.arr(e)?e:[e];return n.map(function(a,o){var l=rt.obj(a)&&!rt.pth(a)?a:{value:a};return rt.und(l.delay)&&(l.delay=o?0:t.delay),rt.und(l.endDelay)&&(l.endDelay=o===n.length-1?t.endDelay:0),l}).map(function(a){return zf(a,r)})}function cee(e){for(var t=Nf(Uf(e.map(function(n){return Object.keys(n)})),function(n){return rt.key(n)}).reduce(function(n,a){return n.indexOf(a)<0&&n.push(a),n},[]),r={},i=function(n){var a=t[n];r[a]=e.map(function(o){var l={};for(var c in o)rt.key(c)?c==a&&(l.value=o[c]):l[c]=o[c];return l})},s=0;s<t.length;s++)i(s);return r}function uee(e,t){var r=[],i=t.keyframes;i&&(t=zf(cee(i),t));for(var s in t)rt.key(s)&&r.push({name:s,tweens:lee(t[s],e)});return r}function dee(e,t){var r={};for(var i in e){var s=Wy(e[i],t);rt.arr(s)&&(s=s.map(function(n){return Wy(n,t)}),s.length===1&&(s=s[0])),r[i]=s}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function hee(e,t){var r;return e.tweens.map(function(i){var s=dee(i,t),n=s.value,a=rt.arr(n)?n[1]:n,o=jn(a),l=ex(t.target,e.name,o,t),c=r?r.to.original:l,h=rt.arr(n)?n[0]:c,u=jn(h)||jn(l),d=o||u;return rt.und(a)&&(a=c),s.from=AC(h,d),s.to=AC(tx(a,h),d),s.start=r?r.end:0,s.end=s.start+s.delay+s.duration+s.endDelay,s.easing=Q1(s.easing,s.duration),s.isPath=rt.pth(n),s.isColor=rt.col(s.from.original),s.isColor&&(s.round=1),r=s,s})}function gL(e,t){var r=fL(e);r.forEach(function(i){for(var s in t){var n=Wy(t[s],i),a=i.target,o=jn(n),l=ex(a,s,o,i),c=o||jn(l),h=tx(cL(n,c),l),u=K1(a,s);mL[u](a,s,h,i.transforms,!0)}})}function pee(e,t){var r=K1(e.target,t.name);if(r){var i=hee(t,e),s=i[i.length-1];return{type:r,property:t.name,animatable:e,tweens:i,duration:s.end,delay:i[0].delay,endDelay:s.endDelay}}}function fee(e,t){return Nf(Uf(e.map(function(r){return t.map(function(i){return pee(r,i)})})),function(r){return!rt.und(r)})}function vL(e,t){var r=e.length,i=function(n){return n.timelineOffset?n.timelineOffset:0},s={};return s.duration=r?Math.max.apply(Math,e.map(function(n){return i(n)+n.duration})):t.duration,s.delay=r?Math.min.apply(Math,e.map(function(n){return i(n)+n.delay})):t.delay,s.endDelay=r?s.duration-Math.max.apply(Math,e.map(function(n){return i(n)+n.duration-n.endDelay})):t.endDelay,s}function mee(e){var t=Gy(rL,e),r=Gy(X1,e),i=uee(r,e),s=fL(e.targets),n=fee(s,i),a=vL(n,r),o=EC;return EC++,zf(t,{id:o,children:[],animatables:s,animations:n,duration:a.duration,delay:a.delay,endDelay:a.endDelay})}function vee(){document.hidden?(ii.forEach(function(e){return e.pause()}),CC=ii.slice(0),gr.running=ii=[]):CC.forEach(function(e){return e.play()})}function gr(e){e===void 0&&(e={});var t=0,r=0,i=0,s,n=0,a=null;function o(b){var y=window.Promise&&new Promise(function(w){return a=w});return b.finished=y,y}var l=mee(e),c=o(l);function h(){var b=l.direction;b!=="alternate"&&(l.direction=b!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,s.forEach(function(y){return y.reversed=l.reversed})}function u(b){return l.reversed?l.duration-b:b}function d(){t=0,r=u(l.currentTime)*(1/gr.speed)}function p(b,y){y&&y.seek(b-y.timelineOffset)}function g(b){if(l.reversePlayback)for(var y=n;y--;)p(b,s[y]);else for(var w=0;w<n;w++)p(b,s[w])}function m(b){var y=0,w=l.animations,_=w.length;for(l.reversePlayback===!0&&l.rewind===!1&&(b=l.duration+l.delay-l.endDelay-b);y<_;){var D=w[y],S=D.animatable,A=D.tweens,E=A.length-1,M=A[E];E&&(M=Nf(A,function($){return b<$.end})[0]||M);for(var I=nn(b-M.start-M.delay,0,M.duration)/M.duration,V=isNaN(I)?1:M.easing(I),P=M.to.strings,Q=M.round,G=[],X=M.to.numbers.length,F=void 0,z=0;z<X;z++){var j=void 0;if(l.reversePlayback===!0&&l.rewind===!1)var U=M.to.numbers[z],Z=M.from.numbers[z]||0;else var Z=M.to.numbers[z],U=M.from.numbers[z]||0;M.isPath?j=oee(M.value,V*Z):j=U+V*(Z-U),Q&&(M.isColor&&z>2||(j=Math.round(j*Q)/Q)),G.push(j)}var J=P.length;if(!J)F=G[0];else{F=P[0];for(var oe=0;oe<J;oe++){var he=P[oe],q=P[oe+1],Ee=G[oe];isNaN(Ee)||(q?F+=Ee+q:F+=Ee+" ")}}mL[D.type](S.target,D.property,F,S.transforms),D.currentValue=F,y++}}function f(b){l[b]&&!l.passThrough&&l[b](l)}function v(){l.remaining&&l.remaining!==!0&&l.remaining--}function x(b){var y=l.duration,w=l.delay,_=y-l.endDelay,D=u(b);l.progress=nn(D/y*100,0,100),l.reversePlayback=D<l.currentTime,s&&g(D),!l.began&&l.currentTime>=0&&(l.began=!0,f("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,f("loopBegin")),D<=w&&l.currentTime!==0&&(m(0),f("change")),(D>=_&&l.currentTime!==y||!y)&&(m(y),f("change")),D>w&&D<_?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,f("changeBegin")),f("change"),m(D)):l.changeBegan?(l.changeCompleted=!0,l.changeBegan=!1,f("change"),f("changeComplete")):l.began&&D>_&&(f("change"),f("changeComplete")),l.currentTime=nn(D,0,y),l.began&&f("update"),b>=y&&(r=0,v(),l.remaining?(t=i,f("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&h()):(l.paused=!0,l.completed||(l.completed=!0,f("loopComplete"),f("complete"),!l.passThrough&&"Promise"in window&&(a(),c=o(l)))))}return l.reset=function(){var b=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=b==="reverse",l.remaining=l.loop,s=l.children,n=s.length;for(var y=n;y--;)l.children[y].reset();(l.reversed&&l.loop!==!0||b==="alternate"&&l.loop===1)&&l.remaining++,m(l.reversed?l.duration:0)},l.set=function(b,y){return gL(b,y),l},l.tick=function(b){i=b,t||(t=i),x((i+(r-t))*gr.speed)},l.seek=function(b){x(u(b))},l.pause=function(){l.paused=!0,d()},l.play=function(){!l.paused||(l.completed&&l.reset(),l.paused=!1,ii.push(l),d(),qp||gee())},l.reverse=function(){h(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.reset(),l.autoplay&&l.play(),l}function TC(e,t){for(var r=t.length;r--;)Z1(e,t[r].animatable.target)&&t.splice(r,1)}function yee(e){for(var t=pL(e),r=ii.length;r--;){var i=ii[r],s=i.animations,n=i.children;TC(t,s);for(var a=n.length;a--;){var o=n[a],l=o.animations;TC(t,l),!l.length&&!o.children.length&&n.splice(a,1)}!s.length&&!n.length&&i.pause()}}function xee(e,t){t===void 0&&(t={});var r=t.direction||"normal",i=t.easing?Q1(t.easing):null,s=t.grid,n=t.axis,a=t.from||0,o=a==="first",l=a==="center",c=a==="last",h=rt.arr(e),u=parseFloat(h?e[0]:e),d=h?parseFloat(e[1]):0,p=jn(h?e[1]:e)||0,g=t.start||0+(h?u:0),m=[],f=0;return function(v,x,b){if(o&&(a=0),l&&(a=(b-1)/2),c&&(a=b-1),!m.length){for(var y=0;y<b;y++){if(!s)m.push(Math.abs(a-y));else{var w=l?(s[0]-1)/2:a%s[0],_=l?(s[1]-1)/2:Math.floor(a/s[0]),D=y%s[0],S=Math.floor(y/s[0]),A=w-D,E=_-S,M=Math.sqrt(A*A+E*E);n==="x"&&(M=-A),n==="y"&&(M=-E),m.push(M)}f=Math.max.apply(Math,m)}i&&(m=m.map(function(V){return i(V/f)*f})),r==="reverse"&&(m=m.map(function(V){return n?V<0?V*-1:-V:Math.abs(f-V)}))}var I=h?(d-u)/f:u;return g+I*(Math.round(m[x]*100)/100)+p}}function bee(e){e===void 0&&(e={});var t=gr(e);return t.duration=0,t.add=function(r,i){var s=ii.indexOf(t),n=t.children;s>-1&&ii.splice(s,1);function a(d){d.passThrough=!0}for(var o=0;o<n.length;o++)a(n[o]);var l=zf(r,Gy(X1,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=rt.und(i)?c:tx(i,c),a(t),l.rewind=t.rewind,t.seek(l.timelineOffset);var h=gr(l);a(h),n.push(h);var u=vL(n,e);return t.delay=u.delay,t.endDelay=u.endDelay,t.duration=u.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}function Js(e,t,r){return r.min.x=t[e],r.min.y=t[e+1],r.min.z=t[e+2],r.max.x=t[e+3],r.max.y=t[e+4],r.max.z=t[e+5],r}function LC(e){let t=-1,r=-1/0;for(let i=0;i<3;i++){let s=e[i+3]-e[i];s>r&&(r=s,t=i)}return t}function kC(e,t){t.set(e)}function PC(e,t,r){let i,s;for(let n=0;n<3;n++){let a=n+3;i=e[n],s=t[n],r[n]=i<s?i:s,i=e[a],s=t[a],r[a]=i>s?i:s}}function Pp(e,t,r){for(let i=0;i<3;i++){let s=t[e+2*i],n=t[e+2*i+1],a=s-n,o=s+n;a<r[i]&&(r[i]=a),o>r[i+3]&&(r[i+3]=o)}}function Ou(e){let t=e[3]-e[0],r=e[4]-e[1],i=e[5]-e[2];return 2*(t*r+r*i+i*t)}function Dee(e,t){if(!e.index){let r=e.attributes.position.count,i=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,s;r>65535?s=new Uint32Array(new i(4*r)):s=new Uint16Array(new i(2*r)),e.setIndex(new wt(s,1));for(let n=0;n<r;n++)s[n]=n}}function See(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];let t=[],r=new Set;for(let s of e.groups)r.add(s.start),r.add(s.start+s.count);let i=Array.from(r.values()).sort((s,n)=>s-n);for(let s=0;s<i.length-1;s++){let n=i[s],a=i[s+1];t.push({offset:n/3,count:(a-n)/3})}return t}function k0(e,t,r,i,s=null){let n=1/0,a=1/0,o=1/0,l=-1/0,c=-1/0,h=-1/0,u=1/0,d=1/0,p=1/0,g=-1/0,m=-1/0,f=-1/0,v=s!==null;for(let x=t*6,b=(t+r)*6;x<b;x+=6){let y=e[x+0],w=e[x+1],_=y-w,D=y+w;_<n&&(n=_),D>l&&(l=D),v&&y<u&&(u=y),v&&y>g&&(g=y);let S=e[x+2],A=e[x+3],E=S-A,M=S+A;E<a&&(a=E),M>c&&(c=M),v&&S<d&&(d=S),v&&S>m&&(m=S);let I=e[x+4],V=e[x+5],P=I-V,Q=I+V;P<o&&(o=P),Q>h&&(h=Q),v&&I<p&&(p=I),v&&I>f&&(f=I)}i[0]=n,i[1]=a,i[2]=o,i[3]=l,i[4]=c,i[5]=h,v&&(s[0]=u,s[1]=d,s[2]=p,s[3]=g,s[4]=m,s[5]=f)}function Aee(e,t,r,i){let s=1/0,n=1/0,a=1/0,o=-1/0,l=-1/0,c=-1/0;for(let h=t*6,u=(t+r)*6;h<u;h+=6){let d=e[h+0];d<s&&(s=d),d>o&&(o=d);let p=e[h+2];p<n&&(n=p),p>l&&(l=p);let g=e[h+4];g<a&&(a=g),g>c&&(c=g)}i[0]=s,i[1]=n,i[2]=a,i[3]=o,i[4]=l,i[5]=c}function Eee(e,t,r,i,s){let n=r,a=r+i-1,o=s.pos,l=s.axis*2;for(;;){for(;n<=a&&t[n*6+l]<o;)n++;for(;n<=a&&t[a*6+l]>=o;)a--;if(n<a){for(let c=0;c<3;c++){let h=e[n*3+c];e[n*3+c]=e[a*3+c],e[a*3+c]=h;let u=t[n*6+c*2+0];t[n*6+c*2+0]=t[a*6+c*2+0],t[a*6+c*2+0]=u;let d=t[n*6+c*2+1];t[n*6+c*2+1]=t[a*6+c*2+1],t[a*6+c*2+1]=d}n++,a--}else return n}}function Tee(e,t,r,i,s,n){let a=-1,o=0;if(n===0)a=LC(t),a!==-1&&(o=(t[a]+t[a+3])/2);else if(n===1)a=LC(e),a!==-1&&(o=Mee(r,i,s,a));else if(n===2){let l=Ou(e),c=1.25*s,h=i*6,u=(i+s)*6;for(let d=0;d<3;d++){let p=t[d],g=(t[d+3]-p)/In;if(s<In/4){let m=[..._a];m.length=s;let f=0;for(let x=h;x<u;x+=6,f++){let b=m[f];b.candidate=r[x+2*d],b.count=0;let{bounds:y,leftCacheBounds:w,rightCacheBounds:_}=b;for(let D=0;D<3;D++)_[D]=1/0,_[D+3]=-1/0,w[D]=1/0,w[D+3]=-1/0,y[D]=1/0,y[D+3]=-1/0;Pp(x,r,y)}m.sort(Cee);let v=s;for(let x=0;x<v;x++){let b=m[x];for(;x+1<v&&m[x+1].candidate===b.candidate;)m.splice(x+1,1),v--}for(let x=h;x<u;x+=6){let b=r[x+2*d];for(let y=0;y<v;y++){let w=m[y];b>=w.candidate?Pp(x,r,w.rightCacheBounds):(Pp(x,r,w.leftCacheBounds),w.count++)}}for(let x=0;x<v;x++){let b=m[x],y=b.count,w=s-b.count,_=b.leftCacheBounds,D=b.rightCacheBounds,S=0;y!==0&&(S=Ou(_)/l);let A=0;w!==0&&(A=Ou(D)/l);let E=1+1.25*(S*y+A*w);E<c&&(a=d,c=E,o=b.candidate)}}else{for(let v=0;v<In;v++){let x=_a[v];x.count=0,x.candidate=p+g+v*g;let b=x.bounds;for(let y=0;y<3;y++)b[y]=1/0,b[y+3]=-1/0}for(let v=h;v<u;v+=6){let x=~~((r[v+2*d]-p)/g);x>=In&&(x=In-1);let b=_a[x];b.count++,Pp(v,r,b.bounds)}let m=_a[In-1];kC(m.bounds,m.rightCacheBounds);for(let v=In-2;v>=0;v--){let x=_a[v],b=_a[v+1];PC(x.bounds,b.rightCacheBounds,x.rightCacheBounds)}let f=0;for(let v=0;v<In-1;v++){let x=_a[v],b=x.count,y=x.bounds,w=_a[v+1].rightCacheBounds;b!==0&&(f===0?kC(y,Bp):PC(y,Bp,Bp)),f+=b;let _=0,D=0;f!==0&&(_=Ou(Bp)/l);let S=s-f;S!==0&&(D=Ou(w)/l);let A=1+1.25*(_*f+D*S);A<c&&(a=d,c=A,o=x.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${n} used.`);return{axis:a,pos:o}}function Mee(e,t,r,i){let s=0;for(let n=t,a=t+r;n<a;n++)s+=e[n*6+i*2];return s/r}function Lee(e,t){let r=e.attributes.position,i=r.array,s=e.index.array,n=s.length/3,a=new Float32Array(n*6),o=r.offset||0,l=3;r.isInterleavedBufferAttribute&&(l=r.data.stride);for(let c=0;c<n;c++){let h=c*3,u=c*6,d=s[h+0]*l+o,p=s[h+1]*l+o,g=s[h+2]*l+o;for(let m=0;m<3;m++){let f=i[d+m],v=i[p+m],x=i[g+m],b=f;v<b&&(b=v),x<b&&(b=x);let y=f;v>y&&(y=v),x>y&&(y=x);let w=(y-b)/2,_=m*2;a[u+_+0]=b+w,a[u+_+1]=w+(Math.abs(b)+w)*_ee,b<t[m]&&(t[m]=b),y>t[m+3]&&(t[m+3]=y)}}return a}function kee(e,t){function r(v){d&&d(v/p)}function i(v,x,b,y=null,w=0){if(!g&&w>=l&&(g=!0,c&&(console.warn(`MeshBVH: Max depth of ${l} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),b<=h||w>=l)return r(x+b),v.offset=x,v.count=b,v;let _=Tee(v.boundingData,y,a,x,b,u);if(_.axis===-1)return r(x+b),v.offset=x,v.count=b,v;let D=Eee(o,a,x,b,_);if(D===x||D===x+b)r(x+b),v.offset=x,v.count=b;else{v.splitAxis=_.axis;let S=new kp,A=x,E=D-x;v.left=S,S.boundingData=new Float32Array(6),k0(a,A,E,S.boundingData,n),i(S,A,E,n,w+1);let M=new kp,I=D,V=b-E;v.right=M,M.boundingData=new Float32Array(6),k0(a,I,V,M.boundingData,n),i(M,I,V,n,w+1)}return v}Dee(e,t);let s=new Float32Array(6),n=new Float32Array(6),a=Lee(e,s),o=e.index.array,l=t.maxDepth,c=t.verbose,h=t.maxLeafTris,u=t.strategy,d=t.onProgress,p=e.index.count/3,g=!1,m=[],f=See(e);if(f.length===1){let v=f[0],x=new kp;x.boundingData=s,Aee(a,v.offset,v.count,n),i(x,v.offset,v.count,n),m.push(x)}else for(let v of f){let x=new kp;x.boundingData=new Float32Array(6),k0(a,v.offset,v.count,x.boundingData,n),i(x,v.offset,v.count,n),m.push(x)}return m}function Pee(e,t){let r=kee(e,t),i,s,n,a=[],o=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let h=0;h<r.length;h++){let u=r[h],d=l(u),p=new o(32*d);i=new Float32Array(p),s=new Uint32Array(p),n=new Uint16Array(p),c(0,u),a.push(p)}return a;function l(h){return h.count?1:1+l(h.left)+l(h.right)}function c(h,u){let d=h/4,p=h/2,g=!!u.count,m=u.boundingData;for(let f=0;f<6;f++)i[d+f]=m[f];if(g){let f=u.offset,v=u.count;return s[d+6]=f,n[p+14]=v,n[p+15]=65535,h+32}else{let f=u.left,v=u.right,x=u.splitAxis,b;if(b=c(h+32,f),b/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return s[d+6]=b/4,b=c(b,v),s[d+7]=x,b}}}function Bl(e){return Math.abs(e)<Oee}function Iee(e,t,r,i,s,n){let a;return n===yi?a=e.intersectTriangle(i,r,t,!0,s):a=e.intersectTriangle(t,r,i,n!==Ts,s),a===null?null:{distance:e.origin.distanceTo(s),point:s.clone()}}function Ree(e,t,r,i,s,n,a){Fp.fromBufferAttribute(t,i),Op.fromBufferAttribute(t,s),Ip.fromBufferAttribute(t,n);let o=Iee(e,Fp,Op,Ip,IC,a);if(o){r&&(BC.fromBufferAttribute(r,i),FC.fromBufferAttribute(r,s),OC.fromBufferAttribute(r,n),o.uv=Xi.getUV(IC,Fp,Op,Ip,BC,FC,OC,new se));let l={a:i,b:s,c:n,normal:new C,materialIndex:0};Xi.getNormal(Fp,Op,Ip,l.normal),o.face=l,o.faceIndex=i}return o}function yL(e,t,r,i,s){let n=i*3,a=e.index.getX(n),o=e.index.getX(n+1),l=e.index.getX(n+2),c=Ree(r,e.attributes.position,e.attributes.uv,a,o,l,t);return c?(c.faceIndex=i,s&&s.push(c),c):null}function Nee(e,t,r,i,s,n){for(let a=i,o=i+s;a<o;a++)yL(e,t,r,a,n)}function Uee(e,t,r,i,s){let n=1/0,a=null;for(let o=i,l=i+s;o<l;o++){let c=yL(e,t,r,o);c&&c.distance<n&&(a=c,n=c.distance)}return a}function xL(e,t,r){return e===null||(e.point.applyMatrix4(t.matrixWorld),e.distance=e.point.distanceTo(r.ray.origin),e.object=t,e.distance<r.near||e.distance>r.far)?null:e}function Qs(e,t,r,i){let s=e.a,n=e.b,a=e.c,o=t,l=t+1,c=t+2;r&&(o=r.getX(t),l=r.getX(t+1),c=r.getX(t+2)),s.x=i.getX(o),s.y=i.getY(o),s.z=i.getZ(o),n.x=i.getX(l),n.y=i.getY(l),n.z=i.getZ(l),a.x=i.getX(c),a.y=i.getY(c),a.z=i.getZ(c)}function RC(e,t,r,i,s,n,a){let o=r.index,l=r.attributes.position;for(let c=e,h=t+e;c<h;c++)if(Qs(a,c*3,o,l),a.needsUpdate=!0,i(a,c,s,n))return!0;return!1}function Ca(e,t){return t[e+15]===65535}function Jl(e,t){return t[e+6]}function fd(e,t){return t[e+14]}function md(e){return e+8}function gd(e,t){return t[e+6]}function zee(e,t){return t[e+7]}function qy(e,t,r,i,s){let n=e*2,a=xc,o=Fa,l=Oa;if(Ca(n,o)){let c=Jl(e,l),h=fd(n,o);Nee(t,r,i,c,h,s)}else{let c=md(e);pf(c,a,i,hf)&&qy(c,t,r,i,s);let h=gd(e,l);pf(h,a,i,hf)&&qy(h,t,r,i,s)}}function Yy(e,t,r,i){let s=e*2,n=xc,a=Fa,o=Oa;if(Ca(s,a)){let l=Jl(e,o),c=fd(s,a);return Uee(t,r,i,l,c)}else{let l=zee(e,o),c=jee[l],h=i.direction[c]>=0,u,d;h?(u=md(e),d=gd(e,o)):(u=gd(e,o),d=md(e));let p=pf(u,n,i,hf)?Yy(u,t,r,i):null;if(p){let m=p.point[c];if(h?m<=n[d+l]:m>=n[d+l+3])return p}let g=pf(d,n,i,hf)?Yy(d,t,r,i):null;return p&&g?p.distance<=g.distance?p:g:p||g||null}}function pf(e,t,r,i){return Js(e,t,Gl),r.intersectBox(Gl,i)}function qu(e){Yp&&Xy.push(Yp),Yp=e,xc=new Float32Array(e),Fa=new Uint16Array(e),Oa=new Uint32Array(e)}function Rp(){Yp=null,xc=null,Fa=null,Oa=null,Xy.length&&qu(Xy.pop())}function GC(e,t,r,i){let s=e.position.array,n=e.normal.array,a=wL.makeScale(t,r,i).invert().elements,o,l,c;for(var h=0,u=s.length;h<u;h+=3)s[h]*=t,s[h+1]*=r,s[h+2]*=i,o=n[h],l=n[h+1],c=n[h+2],n[h]=a[0]*o+a[4]*l+a[8]*c,n[h+1]=a[1]*o+a[5]*l+a[9]*c,n[h+2]=a[2]*o+a[6]*l+a[10]*c}function WC(e,t){t.flatShading!==void 0&&(e.flatShading=t.flatShading,e.needsUpdate=!0),t.wireframe!==void 0&&(e.wireframe=t.wireframe),t.side!==void 0&&(t.side===0?e.side=Ia:t.side===1?e.side=yi:e.side=Ts)}function Jee(e,t){if(Array.isArray(e.material))for(let r of e.material)WC(r,t);else{let r=e.material;WC(r,t)}e.objectType==="SubdivObject"&&t.flatShading!==void 0&&(e.material.flatShading=!1,e.smoothShading=!t.flatShading,e.updateMesh())}function Kee(e,t,r){let i;if(t.geometry.type==="SubdivGeometry")i=_L.createFromState(e,t,r);else{let s=t.geometry.type==="BooleanGeometry"?new ft:zM(t.geometry,r),n="materials"in t?t.materials.map(a=>r.material(a)):r.material(t.material);Ay.is2DParametricMesh(s.userData.type)?i=new IK(s,n):s?.userData.type==="VectorGeometry"?i=new UM(s,n):t.geometry.type==="NonParametricGeometry"?i=new RK(s,n):t.geometry.type==="BooleanGeometry"?(i=new BK(void 0,n),i.booleanOp=t.geometry.operation,t.geometry.phongAngle!==void 0&&(i.phongAngle=t.geometry.phongAngle)):i=new eL(s,n),i.uuid=e,i.fromState(t,r)}return Jee(i,t),i}function ete(e,t,r){return t.type==="Mesh"?Kee(e,t,r):t.type==="TextFrame"?Gp.createFromState(e,t,r):t.type==="Empty"?jy.createFromState(e,t):t.type==="PointLight"?$M.createFromState(e,t,r):t.type==="SpotLight"?JM.createFromState(e,t,r):t.type==="DirectionalLight"?ZM.createFromState(e,t,r):tf.is(t.type)?uf.createFromState(e,t):(console.error(t),new jy)}function qC(e,t){let r=!1,i=t.getLayersOfType("transmission"),s=t.getLayersOfType("outline");return s.length>0&&(e.layers.set(8),i.length>0&&e.layers.enable(3),r=!0,Rf(e),If(e)),i.length===0&&s.length===0&&e.layers.set(0),r}function YC(e,t){if(!t.layers)return!1;let r=!1,i=t.getLayersOfType("transmission"),s=t.getLayersOfType("outline");return i.length>0&&(e.layers.set(3),s.length>0&&e.layers.enable(8),r=!0),i.length===0&&s.length===0&&e.layers.set(0),r}function tte(e){let t=!1;return e.traverseEntity(r=>{if(r instanceof vi&&r.objectType!=="TextFrame")if(Array.isArray(r.material))for(let i=0;i<r.material.length;i++)qC(r,r.material[i])&&(t=!0);else qC(r,r.material)&&(t=!0)}),t}function rte(e){let t=!1;return e.traverseEntity(r=>{if(r instanceof vi)if(Array.isArray(r.material))for(let i=0;i<r.material.length;i++)YC(r,r.material[i])&&(t=!0);else YC(r,r.material)&&(t=!0)}),t}function ite(e){"material"in e&&ste(e.material),"geometry"in e&&e.geometry.dispose()}function ste(e){zZ(e).forEach(t=>{t instanceof Vy||t.dispose()})}function lte(e,t,r){let i=e.cloner;if(i)for(let s of i.children){let n=ate.copy(s.matrixWorld).invert(),a=ote.copy(t.ray).applyMatrix4(n),o=e.matrixWorld;a.applyMatrix4(o);let l=nte;l.set(a.origin,a.direction),l.near=t.near,l.far=t.far,l.intersectObject(e,!1).length>0&&r.push({object:e})}}function Ho(){}function vr(e,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),this.options.mode==="dynamic"&&(this.options.restOpacity=0),this.id=vr.id,vr.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}function lr(e,t){var r=this;r.nipples=[],r.idles=[],r.actives=[],r.ids=[],r.pressureIntervals={},r.manager=e,r.id=lr.id,lr.id+=1,r.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},r.config(t),(r.options.mode==="static"||r.options.mode==="semi")&&(r.options.multitouch=!1),r.options.multitouch||(r.options.maxNumberOfNipples=1);let i=getComputedStyle(r.options.zone.parentElement);return i&&i.display==="flex"&&(r.parentIsFlex=!0),r.updateBox(),r.prepareNipples(),r.bindings(),r.begin(),r.nipples}function Tr(e){var t=this;t.ids={},t.index=0,t.collections=[],t.scroll=$C(),t.config(e),t.prepareCollections();var r=function(){var s;t.collections.forEach(function(n){n.forEach(function(a){s=a.el.getBoundingClientRect(),a.position={x:t.scroll.x+s.left,y:t.scroll.y+s.top}})})};if(typeof window>"u")return t.collections;ff(window,"resize",function(){QC(r)});var i=function(){t.scroll=$C()};return ff(window,"scroll",function(){QC(i)}),t.collections}function R0(e,t,r){return e+(t-e)*r}function Rr(e,t,r,i){let s=R0(e,t,.75),n=R0(r,i,1-.25);return R0(s,n,1-.125)}var N5,Ky,U5,z5,j5,H5,JC,V5,G5,KC,W5,q5,e1,Y5,J2,X5,e3,Q5,Uu,Ia,yi,Ts,Z5,Pa,Eo,K2,eS,tS,$5,Ol,J5,K5,rS,iS,eU,tU,rU,iU,t3,r3,sU,nU,aU,oU,lU,cU,uU,dU,N0,hU,pU,fU,mU,i3,gU,vU,Un,yU,xU,bU,wU,_U,s3,Po,Bo,U0,z0,yd,j0,As,H0,Kr,sS,nS,Wi,DU,mf,Fo,SU,AU,n3,EU,_o,Do,id,CU,TU,ql,MU,LU,Ks,kU,PU,Co,Kl,BU,FU,OU,IU,RU,Sv,Av,Ev,Cv,aS,oS,lS,cS,NU,uS,dS,hS,pS,fS,mS,gS,vS,yS,xS,bS,wS,_S,DS,SS,AS,ES,Qp,Zp,Tv,CS,TS,MS,UU,cn,Yt,zU,jU,HU,VU,Rn,So,Mv,GU,V0,LS,G0,gn,Or,kS,Yu,sd,Lt,se,zr,oz,Lv,vs,o3,hr,ys,Gh,lt,ml,l3,c3,lz,xi,yt,Oo,u3,cz,Xt,C,Bv,PS,yr,Mn,co,Fv,gl,vl,yl,fa,ma,uo,Du,qh,Yh,ho,uz,BS,Xh,Iv,Ms,Ln,Rv,Qh,ga,Nv,Zh,Uv,xd,Xe,xl,xs,dz,hz,va,$h,fi,FS,OS,Yi,r1,pz,IS,bl,kn,Jh,Su,fz,mz,RS,NS,US,gz,zS,Nt,bs,Pn,zv,Bn,wl,_l,jS,jv,Hv,Vv,Xi,vz,bd,ec,cr,Kh,wt,d3,Qu,Ve,yz,Ri,Gv,Dl,mi,Au,Ar,ft,HS,Sl,Wv,ya,xa,ba,qv,Yv,Xv,ep,tp,rp,ip,sp,np,Qv,ap,vi,Ra,lc,bz,wz,un,cc,ei,Al,El,_z,i1,Dz,Zv,Sz,Az,qi,Cl,lp,s1,gf,Cz,Tz,Mz,Lz,kz,Pz,Bz,Fz,Oz,Iz,Rz,Nz,Uz,zz,jz,Hz,Vz,Gz,Wz,qz,Yz,Xz,Qz,Zz,$z,Jz,Kz,e8,t8,r8,i8,s8,n8,a8,o8,l8,c8,u8,d8,h8,p8,f8,m8,g8,v8,y8,x8,b8,w8,_8,D8,S8,A8,E8,C8,T8,M8,L8,k8,P8,B8,F8,O8,I8,R8,N8,U8,z8,j8,H8,V8,G8,W8,q8,Y8,X8,Q8,Z8,$8,J8,K8,e7,t7,r7,i7,s7,n7,a7,o7,l7,c7,u7,d7,h7,p7,f7,m7,g7,v7,y7,x7,b7,w7,_7,D7,S7,A7,E7,C7,T7,M7,L7,k7,P7,B7,F7,O7,I7,R7,N7,U7,z7,j7,H7,V7,G7,W7,q7,Y7,X7,Q7,Z7,$7,J7,K7,ej,tj,mt,Re,Xs,n1,zl,VS,bo,$v,GS,Jv,go,Tl,WS,qS,p3,f3,m3,g3,ZS,$S,JS,KS,eA,n9,a9,o9,e0,zp,c9,v9,x9,b9,T9,M9,L9,R9,j9,H9,V9,G9,Q9,ju,Z9,t0,$9,J9,rH,y3,x3,iH,Wr,Y0,sH,No,dA,hA,pA,r0,up,X0,fA,mA,wd,vn,yf,nH,dp,i0,s0,n0,aH,en,fH,ln,b3,Io,mH,l1,gH,vH,Q0,w3,c1,_3,u1,D3,Mo,yH,Ju,C3,T3,d1,M3,mr,bf,IH,RH,NH,Wn,_d,UH,zH,jH,h1,Dd,HH,bA,VH,GH,p1,Fn,L3,wf,J0,wA,_A,DA,f1,WH,qH,SA,Eu,a0,YH,XH,QH,ZH,$H,k3,m1,JH,g1,KH,eV,tV,rV,iV,sV,nV,aV,Rt,oV,EA,fp,Ji,CA,lV,cV,TA,mp,MA,uV,gp,Jt,Ta,vp,dV,hV,o_e,l_e,c_e,u_e,d_e,h_e,p_e,Cu,v1,P3,Zs,mV,ji,yV,B3,xV,F3,bV,O3,I3,R3,wV,_V,N3,DV,Ua,kA,SV,PA,BA,AV,EV,Il,CV,U3,TV,z3,MV,LV,yn,kV,dn,j3,PV,BV,Tu,OV,IV,RV,UV,zV,jV,FA,Uo,ja,GV,x1,H3,YV,hn,XV,OA,IA,QV,pn,f_e,G3,JV,KV,eG,tG,b1,iG,o0,RA,nG,aG,oG,zo,cG,uG,dG,hG,pG,fG,mG,vG,xG,jo,wG,ry,NA,_G,DG,AG,W3,CG,TG,MG,kG,BG,FG,Kp,OG,IG,RG,q3,UG,zG,jG,_f,w1,Df,WG,qG,_1,dc,UA,Y3,$G,JG,D1,Sf,rW,sW,nW,S1,lW,cW,zA,X3,dW,hW,pW,ld,mW,Q3,jA,gW,HA,vW,yW,A1,xW,bW,wW,_W,DW,SW,AW,EW,CW,TW,MW,LW,kW,PW,BW,FW,OW,IW,RW,NW,UW,zW,jW,HW,Wt,GW,E1,Z3,Ku,qW,l0,YW,rc,VA,XW,$3,QW,ZW,J3,K3,KW,eq,tq,rq,sq,C1,oq,lq,cq,dq,Sd,pq,fq,gq,vq,cd,xq,wq,_q,Dq,Sq,Eq,Cq,Tq,Lq,kq,Bq,GA,Oq,Af,Rq,Nq,zq,Hq,Gq,qq,Ef,Yq,ud,Qq,$q,Cf,eY,rY,sY,aY,T1,oY,lY,cY,dY,hY,pY,fY,mY,vY,mc,xY,Tf,eT,L1,WA,SY,AY,CY,rT,MY,k1,LY,kY,PY,iT,BY,FY,sT,RY,UY,jY,VY,WY,qY,XY,nT,ZY,JY,aT,qA,KY,YA,XA,oT,rX,lT,sX,nX,QA,aX,P1,lX,cX,uX,cT,hX,uT,mX,dT,vX,iy,yX,sy,xX,ny,ZA,bX,$A,JA,KA,eE,wX,_X,DX,SX,AX,vo,B1,EX,CX,MX,LX,tE,F1,BX,FX,IX,rE,iE,NX,hT,zX,jX,HX,VX,GX,WX,qX,YX,XX,QX,ZX,$X,JX,KX,eQ,tQ,rQ,iQ,sQ,aQ,pT,lQ,uQ,sE,dQ,hQ,pQ,mQ,nE,gQ,vQ,yQ,xQ,bQ,fT,wQ,_Q,DQ,SQ,mT,AQ,EQ,CQ,gT,TQ,MQ,LQ,kQ,PQ,BQ,FQ,OQ,IQ,RQ,NQ,UQ,zQ,jQ,HQ,VQ,Ht,vT,GQ,WQ,yT,XQ,ZQ,JQ,eZ,tZ,rZ,ay,nZ,oy,lZ,uZ,dZ,pZ,mZ,gZ,ef,yZ,bZ,wZ,_Z,DZ,SZ,ly,EZ,TZ,LZ,m_e,PZ,BZ,FZ,OZ,IZ,RZ,NZ,g_e,UZ,v_e,y_e,aE,oE,lE,tf,dd,cE,ed,uE,ic,Qi,tn,cy,dE,hE,uy,Zi,HZ,sc,dy,ni,DT,Mf,Lf,GZ,WZ,ST,qZ,YZ,I1,R1,AT,hy,ET,fE,mE,py,je,Ba,K,CT,fy,my,ti,At,La,Hi,$s,gi,zn,Zr,Mt,gE,TT,MT,nc,rf,ZZ,yE,gy,$Z,JZ,KZ,Er,wE,_E,BT,FT,z1,Bf,x_e,b_e,w_e,t$,r$,__e,Hp,sf,j1,Ff,d0,IT,DE,we,ar,ue,js,Hs,i$,Mu,RT,NT,D_e,S_e,A_e,E_e,C_e,T_e,a$,o$,EE,CE,TE,xy,by,wy,_y,Dy,UT,zT,jT,Sy,Ao,ac,nf,Ay,af,hd,Hn,ME,of,LE,Ey,kE,PE,BE,Cy,FE,Ty,My,OE,IE,RE,M_e,L_e,k_e,h0,c$,u$,d$,h$,ws,fo,NE,p0,UE,p$,f$,Lu,m$,zE,f0,g$,v$,y$,x$,b$,Ir,Ni,Ly,w$,Cs,_$,HT,D$,S$,m0,A$,H1,E$,VT,ku,V1,ky,Yl,G1,vc,Of,C$,T$,M$,L$,GT,WT,g0,H$,V$,G$,W$,q$,or,By,er,Pr,$e,Pu,_p,Rl,YE,XE,QE,Z$,y0,ZE,$$,J$,K$,P_e,B_e,F_e,O_e,I_e,R_e,N_e,U_e,YT,Fy,XT,x0,QT,za,ZT,eJ,sJ,eM,nJ,tM,aJ,Vs,b0,Sp,lf,oJ,Oy,lJ,dJ,pr,hJ,pJ,fJ,gJ,vJ,yJ,xJ,bJ,wJ,_J,rM,DJ,AJ,EJ,CJ,iM,JE,pd,Ro,sM,nM,kl,qs,Ys,Ql,aM,PJ,BJ,KE,eC,Nn,OJ,yc,IJ,RJ,tC,rC,Ha,NJ,ri,Ut,bi,Vi,zi,wo,UJ,iC,Ye,zJ,oM,Pt,jJ,HJ,lM,W1,Nl,rn,qt,ka,Ge,sC,cM,sn,kt,ot,Gu,Iy,Ul,si,On,Es,Ws,Zl,VJ,GJ,nC,WJ,qJ,YJ,XJ,tr,Ft,uM,Fu,dM,yo,xo,q1,$i,hM,QJ,pM,fM,mM,gM,vM,yM,xM,bM,Wu,wM,aC,Ry,_M,DM,SM,AM,Vp,EM,CM,TM,Gi,ZJ,$J,JJ,cf,S0,td,Hl,oC,MM,Ny,Y1,LM,kM,BM,FM,lC,fK,OM,IM,mK,ko,Ur,RM,Vl,oc,z_e,j_e,xK,bK,H_e,Vn,DK,uC,dC,hC,UM,it,pC,fC,mC,Ss,gC,Cp,A0,E0,C0,Sa,AK,EK,gt,$l,WM,Uy,vC,BK,Ed,Tp,T0,yC,Cd,Mp,Ui,FK,OK,qM,YM,XM,zy,QM,Td,Pl,M0,uf,jy,ZM,$M,xC,bC,wC,JM,_C,KM,IK,eL,RK,NK,UK,ur,Aa,Lp,Hy,tL,Gp,Vy,HK,DC,Wp,GK,V_e,rL,X1,WK,df,rt,YK,nL,mL,EC,ii,CC,qp,gee,G_e,W_e,q_e,Y_e,X_e,Q_e,Z_e,$_e,J_e,K_e,MC,Ea,wee,_ee,kp,In,Cee,_a,Bp,fn,eDe,Bee,ix,Fee,Oee,Gn,mn,Fp,Op,Ip,BC,FC,OC,IC,bL,Gl,hf,jee,Hee,Vee,Xy,Yp,xc,Fa,Oa,P0,B0,F0,Fl,mo,Iu,Ru,Np,Gee,Wee,qee,NC,Gs,Yr,UC,zC,jC,HC,VC,Yee,Qy,wL,Xee,Qee,Ds,Da,Zee,$ee,_L,nte,ate,ote,XC,DL,cte,Xp,ute,dte,Zy,hte,pte,O0,QC,ff,ZC,SL,$C,$y,sx,fte,AL,I0,mte,Jy,gte,EL,CL,TL,Nu,Wl,vd,nx,vte,yte,xte,tDe,rDe,iDe,sDe,nDe,aDe,oDe,lDe,cDe,fr,bte,wte,_te,Dte,Ste,Ate,Ete,Cte,Tte,Mte,Lte,kte,Pte,Bte,Fte,Ote,Ite,Rte,uDe,dDe,hDe,pDe,fDe,mDe,gDe,vDe,yDe,xDe,bDe,wDe,_De,DDe,SDe,ADe,EDe,CDe,TDe,MDe,LDe,kDe,Ki=ce(()=>{N5=Object.create,Ky=Object.defineProperty,U5=Object.getOwnPropertyDescriptor,z5=Object.getOwnPropertyNames,j5=Object.getPrototypeOf,H5=Object.prototype.hasOwnProperty,JC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),V5=(e,t)=>{for(var r in t)Ky(e,r,{get:t[r],enumerable:!0})},G5=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of z5(t))!H5.call(e,s)&&s!==r&&Ky(e,s,{get:()=>t[s],enumerable:!(i=U5(t,s))||i.enumerable});return e},KC=(e,t,r)=>(r=e!=null?N5(j5(e)):{},G5(t||!e||!e.__esModule?Ky(r,"default",{value:e,enumerable:!0}):r,e)),W5=JC(e=>{(function(){"use strict";var t=function(){this.init()};t.prototype={init:function(){var u=this||r;return u._counter=1e3,u._html5AudioPool=[],u.html5PoolSize=10,u._codecs={},u._howls=[],u._muted=!1,u._volume=1,u._canPlayEvent="canplaythrough",u._navigator=typeof window<"u"&&window.navigator?window.navigator:null,u.masterGain=null,u.noAudio=!1,u.usingWebAudio=!0,u.autoSuspend=!0,u.ctx=null,u.autoUnlock=!0,u._setup(),u},volume:function(u){var d=this||r;if(u=parseFloat(u),d.ctx||h(),typeof u<"u"&&u>=0&&u<=1){if(d._volume=u,d._muted)return d;d.usingWebAudio&&d.masterGain.gain.setValueAtTime(u,r.ctx.currentTime);for(var p=0;p<d._howls.length;p++)if(!d._howls[p]._webAudio)for(var g=d._howls[p]._getSoundIds(),m=0;m<g.length;m++){var f=d._howls[p]._soundById(g[m]);f&&f._node&&(f._node.volume=f._volume*u)}return d}return d._volume},mute:function(u){var d=this||r;d.ctx||h(),d._muted=u,d.usingWebAudio&&d.masterGain.gain.setValueAtTime(u?0:d._volume,r.ctx.currentTime);for(var p=0;p<d._howls.length;p++)if(!d._howls[p]._webAudio)for(var g=d._howls[p]._getSoundIds(),m=0;m<g.length;m++){var f=d._howls[p]._soundById(g[m]);f&&f._node&&(f._node.muted=u?!0:f._muted)}return d},stop:function(){for(var u=this||r,d=0;d<u._howls.length;d++)u._howls[d].stop();return u},unload:function(){for(var u=this||r,d=u._howls.length-1;d>=0;d--)u._howls[d].unload();return u.usingWebAudio&&u.ctx&&typeof u.ctx.close<"u"&&(u.ctx.close(),u.ctx=null,h()),u},codecs:function(u){return(this||r)._codecs[u.replace(/^x-/,"")]},_setup:function(){var u=this||r;if(u.state=u.ctx&&u.ctx.state||"suspended",u._autoSuspend(),!u.usingWebAudio)if(typeof Audio<"u")try{var d=new Audio;typeof d.oncanplaythrough>"u"&&(u._canPlayEvent="canplay")}catch{u.noAudio=!0}else u.noAudio=!0;try{var d=new Audio;d.muted&&(u.noAudio=!0)}catch{}return u.noAudio||u._setupCodecs(),u},_setupCodecs:function(){var u=this||r,d=null;try{d=typeof Audio<"u"?new Audio:null}catch{return u}if(!d||typeof d.canPlayType!="function")return u;var p=d.canPlayType("audio/mpeg;").replace(/^no$/,""),g=u._navigator?u._navigator.userAgent:"",m=g.match(/OPR\/([0-6].)/g),f=m&&parseInt(m[0].split("/")[1],10)<33,v=g.indexOf("Safari")!==-1&&g.indexOf("Chrome")===-1,x=g.match(/Version\/(.*?) /),b=v&&x&&parseInt(x[1],10)<15;return u._codecs={mp3:!!(!f&&(p||d.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!p,opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(d.canPlayType('audio/wav; codecs="1"')||d.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!d.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(d.canPlayType("audio/x-m4b;")||d.canPlayType("audio/m4b;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!b&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!b&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!d.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(d.canPlayType("audio/x-flac;")||d.canPlayType("audio/flac;")).replace(/^no$/,"")},u},_unlockAudio:function(){var u=this||r;if(!(u._audioUnlocked||!u.ctx)){u._audioUnlocked=!1,u.autoUnlock=!1,!u._mobileUnloaded&&u.ctx.sampleRate!==44100&&(u._mobileUnloaded=!0,u.unload()),u._scratchBuffer=u.ctx.createBuffer(1,1,22050);var d=function(p){for(;u._html5AudioPool.length<u.html5PoolSize;)try{var g=new Audio;g._unlocked=!0,u._releaseHtml5Audio(g)}catch{u.noAudio=!0;break}for(var m=0;m<u._howls.length;m++)if(!u._howls[m]._webAudio)for(var f=u._howls[m]._getSoundIds(),v=0;v<f.length;v++){var x=u._howls[m]._soundById(f[v]);x&&x._node&&!x._node._unlocked&&(x._node._unlocked=!0,x._node.load())}u._autoResume();var b=u.ctx.createBufferSource();b.buffer=u._scratchBuffer,b.connect(u.ctx.destination),typeof b.start>"u"?b.noteOn(0):b.start(0),typeof u.ctx.resume=="function"&&u.ctx.resume(),b.onended=function(){b.disconnect(0),u._audioUnlocked=!0,document.removeEventListener("touchstart",d,!0),document.removeEventListener("touchend",d,!0),document.removeEventListener("click",d,!0),document.removeEventListener("keydown",d,!0);for(var y=0;y<u._howls.length;y++)u._howls[y]._emit("unlock")}};return document.addEventListener("touchstart",d,!0),document.addEventListener("touchend",d,!0),document.addEventListener("click",d,!0),document.addEventListener("keydown",d,!0),u}},_obtainHtml5Audio:function(){var u=this||r;if(u._html5AudioPool.length)return u._html5AudioPool.pop();var d=new Audio().play();return d&&typeof Promise<"u"&&(d instanceof Promise||typeof d.then=="function")&&d.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(u){var d=this||r;return u._unlocked&&d._html5AudioPool.push(u),d},_autoSuspend:function(){var u=this;if(!(!u.autoSuspend||!u.ctx||typeof u.ctx.suspend>"u"||!r.usingWebAudio)){for(var d=0;d<u._howls.length;d++)if(u._howls[d]._webAudio){for(var p=0;p<u._howls[d]._sounds.length;p++)if(!u._howls[d]._sounds[p]._paused)return u}return u._suspendTimer&&clearTimeout(u._suspendTimer),u._suspendTimer=setTimeout(function(){if(u.autoSuspend){u._suspendTimer=null,u.state="suspending";var g=function(){u.state="suspended",u._resumeAfterSuspend&&(delete u._resumeAfterSuspend,u._autoResume())};u.ctx.suspend().then(g,g)}},3e4),u}},_autoResume:function(){var u=this;if(!(!u.ctx||typeof u.ctx.resume>"u"||!r.usingWebAudio))return u.state==="running"&&u.ctx.state!=="interrupted"&&u._suspendTimer?(clearTimeout(u._suspendTimer),u._suspendTimer=null):u.state==="suspended"||u.state==="running"&&u.ctx.state==="interrupted"?(u.ctx.resume().then(function(){u.state="running";for(var d=0;d<u._howls.length;d++)u._howls[d]._emit("resume")}),u._suspendTimer&&(clearTimeout(u._suspendTimer),u._suspendTimer=null)):u.state==="suspending"&&(u._resumeAfterSuspend=!0),u}};var r=new t,i=function(u){var d=this;if(!u.src||u.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}d.init(u)};i.prototype={init:function(u){var d=this;return r.ctx||h(),d._autoplay=u.autoplay||!1,d._format=typeof u.format!="string"?u.format:[u.format],d._html5=u.html5||!1,d._muted=u.mute||!1,d._loop=u.loop||!1,d._pool=u.pool||5,d._preload=typeof u.preload=="boolean"||u.preload==="metadata"?u.preload:!0,d._rate=u.rate||1,d._sprite=u.sprite||{},d._src=typeof u.src!="string"?u.src:[u.src],d._volume=u.volume!==void 0?u.volume:1,d._xhr={method:u.xhr&&u.xhr.method?u.xhr.method:"GET",headers:u.xhr&&u.xhr.headers?u.xhr.headers:null,withCredentials:u.xhr&&u.xhr.withCredentials?u.xhr.withCredentials:!1},d._duration=0,d._state="unloaded",d._sounds=[],d._endTimers={},d._queue=[],d._playLock=!1,d._onend=u.onend?[{fn:u.onend}]:[],d._onfade=u.onfade?[{fn:u.onfade}]:[],d._onload=u.onload?[{fn:u.onload}]:[],d._onloaderror=u.onloaderror?[{fn:u.onloaderror}]:[],d._onplayerror=u.onplayerror?[{fn:u.onplayerror}]:[],d._onpause=u.onpause?[{fn:u.onpause}]:[],d._onplay=u.onplay?[{fn:u.onplay}]:[],d._onstop=u.onstop?[{fn:u.onstop}]:[],d._onmute=u.onmute?[{fn:u.onmute}]:[],d._onvolume=u.onvolume?[{fn:u.onvolume}]:[],d._onrate=u.onrate?[{fn:u.onrate}]:[],d._onseek=u.onseek?[{fn:u.onseek}]:[],d._onunlock=u.onunlock?[{fn:u.onunlock}]:[],d._onresume=[],d._webAudio=r.usingWebAudio&&!d._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(d),d._autoplay&&d._queue.push({event:"play",action:function(){d.play()}}),d._preload&&d._preload!=="none"&&d.load(),d},load:function(){var u=this,d=null;if(r.noAudio){u._emit("loaderror",null,"No audio support.");return}typeof u._src=="string"&&(u._src=[u._src]);for(var p=0;p<u._src.length;p++){var g,m;if(u._format&&u._format[p])g=u._format[p];else{if(m=u._src[p],typeof m!="string"){u._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}g=/^data:audio\/([^;,]+);/i.exec(m),g||(g=/\.([^.]+)$/.exec(m.split("?",1)[0])),g&&(g=g[1].toLowerCase())}if(g||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),g&&r.codecs(g)){d=u._src[p];break}}if(!d){u._emit("loaderror",null,"No codec support for selected audio sources.");return}return u._src=d,u._state="loading",window.location.protocol==="https:"&&d.slice(0,5)==="http:"&&(u._html5=!0,u._webAudio=!1),new s(u),u._webAudio&&a(u),u},play:function(u,d){var p=this,g=null;if(typeof u=="number")g=u,u=null;else{if(typeof u=="string"&&p._state==="loaded"&&!p._sprite[u])return null;if(typeof u>"u"&&(u="__default",!p._playLock)){for(var m=0,f=0;f<p._sounds.length;f++)p._sounds[f]._paused&&!p._sounds[f]._ended&&(m++,g=p._sounds[f]._id);m===1?u=null:g=null}}var v=g?p._soundById(g):p._inactiveSound();if(!v)return null;if(g&&!u&&(u=v._sprite||"__default"),p._state!=="loaded"){v._sprite=u,v._ended=!1;var x=v._id;return p._queue.push({event:"play",action:function(){p.play(x)}}),x}if(g&&!v._paused)return d||p._loadQueue("play"),v._id;p._webAudio&&r._autoResume();var b=Math.max(0,v._seek>0?v._seek:p._sprite[u][0]/1e3),y=Math.max(0,(p._sprite[u][0]+p._sprite[u][1])/1e3-b),w=y*1e3/Math.abs(v._rate),_=p._sprite[u][0]/1e3,D=(p._sprite[u][0]+p._sprite[u][1])/1e3;v._sprite=u,v._ended=!1;var S=function(){v._paused=!1,v._seek=b,v._start=_,v._stop=D,v._loop=!!(v._loop||p._sprite[u][2])};if(b>=D){p._ended(v);return}var A=v._node;if(p._webAudio){var E=function(){p._playLock=!1,S(),p._refreshBuffer(v);var P=v._muted||p._muted?0:v._volume;A.gain.setValueAtTime(P,r.ctx.currentTime),v._playStart=r.ctx.currentTime,typeof A.bufferSource.start>"u"?v._loop?A.bufferSource.noteGrainOn(0,b,86400):A.bufferSource.noteGrainOn(0,b,y):v._loop?A.bufferSource.start(0,b,86400):A.bufferSource.start(0,b,y),w!==1/0&&(p._endTimers[v._id]=setTimeout(p._ended.bind(p,v),w)),d||setTimeout(function(){p._emit("play",v._id),p._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?E():(p._playLock=!0,p.once("resume",E),p._clearTimer(v._id))}else{var M=function(){A.currentTime=b,A.muted=v._muted||p._muted||r._muted||A.muted,A.volume=v._volume*r.volume(),A.playbackRate=v._rate;try{var P=A.play();if(P&&typeof Promise<"u"&&(P instanceof Promise||typeof P.then=="function")?(p._playLock=!0,S(),P.then(function(){p._playLock=!1,A._unlocked=!0,d?p._loadQueue():p._emit("play",v._id)}).catch(function(){p._playLock=!1,p._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),v._ended=!0,v._paused=!0})):d||(p._playLock=!1,S(),p._emit("play",v._id)),A.playbackRate=v._rate,A.paused){p._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}u!=="__default"||v._loop?p._endTimers[v._id]=setTimeout(p._ended.bind(p,v),w):(p._endTimers[v._id]=function(){p._ended(v),A.removeEventListener("ended",p._endTimers[v._id],!1)},A.addEventListener("ended",p._endTimers[v._id],!1))}catch(Q){p._emit("playerror",v._id,Q)}};A.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(A.src=p._src,A.load());var I=window&&window.ejecta||!A.readyState&&r._navigator.isCocoonJS;if(A.readyState>=3||I)M();else{p._playLock=!0,p._state="loading";var V=function(){p._state="loaded",M(),A.removeEventListener(r._canPlayEvent,V,!1)};A.addEventListener(r._canPlayEvent,V,!1),p._clearTimer(v._id)}}return v._id},pause:function(u){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"pause",action:function(){d.pause(u)}}),d;for(var p=d._getSoundIds(u),g=0;g<p.length;g++){d._clearTimer(p[g]);var m=d._soundById(p[g]);if(m&&!m._paused&&(m._seek=d.seek(p[g]),m._rateSeek=0,m._paused=!0,d._stopFade(p[g]),m._node))if(d._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),d._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||d._emit("pause",m?m._id:null)}return d},stop:function(u,d){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"stop",action:function(){p.stop(u)}}),p;for(var g=p._getSoundIds(u),m=0;m<g.length;m++){p._clearTimer(g[m]);var f=p._soundById(g[m]);f&&(f._seek=f._start||0,f._rateSeek=0,f._paused=!0,f._ended=!0,p._stopFade(g[m]),f._node&&(p._webAudio?f._node.bufferSource&&(typeof f._node.bufferSource.stop>"u"?f._node.bufferSource.noteOff(0):f._node.bufferSource.stop(0),p._cleanBuffer(f._node)):(!isNaN(f._node.duration)||f._node.duration===1/0)&&(f._node.currentTime=f._start||0,f._node.pause(),f._node.duration===1/0&&p._clearSound(f._node))),d||p._emit("stop",f._id))}return p},mute:function(u,d){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"mute",action:function(){p.mute(u,d)}}),p;if(typeof d>"u")if(typeof u=="boolean")p._muted=u;else return p._muted;for(var g=p._getSoundIds(d),m=0;m<g.length;m++){var f=p._soundById(g[m]);f&&(f._muted=u,f._interval&&p._stopFade(f._id),p._webAudio&&f._node?f._node.gain.setValueAtTime(u?0:f._volume,r.ctx.currentTime):f._node&&(f._node.muted=r._muted?!0:u),p._emit("mute",f._id))}return p},volume:function(){var u=this,d=arguments,p,g;if(d.length===0)return u._volume;if(d.length===1||d.length===2&&typeof d[1]>"u"){var m=u._getSoundIds(),f=m.indexOf(d[0]);f>=0?g=parseInt(d[0],10):p=parseFloat(d[0])}else d.length>=2&&(p=parseFloat(d[0]),g=parseInt(d[1],10));var v;if(typeof p<"u"&&p>=0&&p<=1){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"volume",action:function(){u.volume.apply(u,d)}}),u;typeof g>"u"&&(u._volume=p),g=u._getSoundIds(g);for(var x=0;x<g.length;x++)v=u._soundById(g[x]),v&&(v._volume=p,d[2]||u._stopFade(g[x]),u._webAudio&&v._node&&!v._muted?v._node.gain.setValueAtTime(p,r.ctx.currentTime):v._node&&!v._muted&&(v._node.volume=p*r.volume()),u._emit("volume",v._id))}else return v=g?u._soundById(g):u._sounds[0],v?v._volume:0;return u},fade:function(u,d,p,g){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(u,d,p,g)}}),m;u=Math.min(Math.max(0,parseFloat(u)),1),d=Math.min(Math.max(0,parseFloat(d)),1),p=parseFloat(p),m.volume(u,g);for(var f=m._getSoundIds(g),v=0;v<f.length;v++){var x=m._soundById(f[v]);if(x){if(g||m._stopFade(f[v]),m._webAudio&&!x._muted){var b=r.ctx.currentTime,y=b+p/1e3;x._volume=u,x._node.gain.setValueAtTime(u,b),x._node.gain.linearRampToValueAtTime(d,y)}m._startFadeInterval(x,u,d,p,f[v],typeof g>"u")}}return m},_startFadeInterval:function(u,d,p,g,m,f){var v=this,x=d,b=p-d,y=Math.abs(b/.01),w=Math.max(4,y>0?g/y:g),_=Date.now();u._fadeTo=p,u._interval=setInterval(function(){var D=(Date.now()-_)/g;_=Date.now(),x+=b*D,x=Math.round(x*100)/100,b<0?x=Math.max(p,x):x=Math.min(p,x),v._webAudio?u._volume=x:v.volume(x,u._id,!0),f&&(v._volume=x),(p<d&&x<=p||p>d&&x>=p)&&(clearInterval(u._interval),u._interval=null,u._fadeTo=null,v.volume(p,u._id),v._emit("fade",u._id))},w)},_stopFade:function(u){var d=this,p=d._soundById(u);return p&&p._interval&&(d._webAudio&&p._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(p._interval),p._interval=null,d.volume(p._fadeTo,u),p._fadeTo=null,d._emit("fade",u)),d},loop:function(){var u=this,d=arguments,p,g,m;if(d.length===0)return u._loop;if(d.length===1)if(typeof d[0]=="boolean")p=d[0],u._loop=p;else return m=u._soundById(parseInt(d[0],10)),m?m._loop:!1;else d.length===2&&(p=d[0],g=parseInt(d[1],10));for(var f=u._getSoundIds(g),v=0;v<f.length;v++)m=u._soundById(f[v]),m&&(m._loop=p,u._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=p,p&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,u.playing(f[v])&&(u.pause(f[v],!0),u.play(f[v],!0)))));return u},rate:function(){var u=this,d=arguments,p,g;if(d.length===0)g=u._sounds[0]._id;else if(d.length===1){var m=u._getSoundIds(),f=m.indexOf(d[0]);f>=0?g=parseInt(d[0],10):p=parseFloat(d[0])}else d.length===2&&(p=parseFloat(d[0]),g=parseInt(d[1],10));var v;if(typeof p=="number"){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"rate",action:function(){u.rate.apply(u,d)}}),u;typeof g>"u"&&(u._rate=p),g=u._getSoundIds(g);for(var x=0;x<g.length;x++)if(v=u._soundById(g[x]),v){u.playing(g[x])&&(v._rateSeek=u.seek(g[x]),v._playStart=u._webAudio?r.ctx.currentTime:v._playStart),v._rate=p,u._webAudio&&v._node&&v._node.bufferSource?v._node.bufferSource.playbackRate.setValueAtTime(p,r.ctx.currentTime):v._node&&(v._node.playbackRate=p);var b=u.seek(g[x]),y=(u._sprite[v._sprite][0]+u._sprite[v._sprite][1])/1e3-b,w=y*1e3/Math.abs(v._rate);(u._endTimers[g[x]]||!v._paused)&&(u._clearTimer(g[x]),u._endTimers[g[x]]=setTimeout(u._ended.bind(u,v),w)),u._emit("rate",v._id)}}else return v=u._soundById(g),v?v._rate:u._rate;return u},seek:function(){var u=this,d=arguments,p,g;if(d.length===0)u._sounds.length&&(g=u._sounds[0]._id);else if(d.length===1){var m=u._getSoundIds(),f=m.indexOf(d[0]);f>=0?g=parseInt(d[0],10):u._sounds.length&&(g=u._sounds[0]._id,p=parseFloat(d[0]))}else d.length===2&&(p=parseFloat(d[0]),g=parseInt(d[1],10));if(typeof g>"u")return 0;if(typeof p=="number"&&(u._state!=="loaded"||u._playLock))return u._queue.push({event:"seek",action:function(){u.seek.apply(u,d)}}),u;var v=u._soundById(g);if(v)if(typeof p=="number"&&p>=0){var x=u.playing(g);x&&u.pause(g,!0),v._seek=p,v._ended=!1,u._clearTimer(g),!u._webAudio&&v._node&&!isNaN(v._node.duration)&&(v._node.currentTime=p);var b=function(){x&&u.play(g,!0),u._emit("seek",g)};if(x&&!u._webAudio){var y=function(){u._playLock?setTimeout(y,0):b()};setTimeout(y,0)}else b()}else if(u._webAudio){var w=u.playing(g)?r.ctx.currentTime-v._playStart:0,_=v._rateSeek?v._rateSeek-v._seek:0;return v._seek+(_+w*Math.abs(v._rate))}else return v._node.currentTime;return u},playing:function(u){var d=this;if(typeof u=="number"){var p=d._soundById(u);return p?!p._paused:!1}for(var g=0;g<d._sounds.length;g++)if(!d._sounds[g]._paused)return!0;return!1},duration:function(u){var d=this,p=d._duration,g=d._soundById(u);return g&&(p=d._sprite[g._sprite][1]/1e3),p},state:function(){return this._state},unload:function(){for(var u=this,d=u._sounds,p=0;p<d.length;p++)d[p]._paused||u.stop(d[p]._id),u._webAudio||(u._clearSound(d[p]._node),d[p]._node.removeEventListener("error",d[p]._errorFn,!1),d[p]._node.removeEventListener(r._canPlayEvent,d[p]._loadFn,!1),d[p]._node.removeEventListener("ended",d[p]._endFn,!1),r._releaseHtml5Audio(d[p]._node)),delete d[p]._node,u._clearTimer(d[p]._id);var g=r._howls.indexOf(u);g>=0&&r._howls.splice(g,1);var m=!0;for(p=0;p<r._howls.length;p++)if(r._howls[p]._src===u._src||u._src.indexOf(r._howls[p]._src)>=0){m=!1;break}return n&&m&&delete n[u._src],r.noAudio=!1,u._state="unloaded",u._sounds=[],u=null,null},on:function(u,d,p,g){var m=this,f=m["_on"+u];return typeof d=="function"&&f.push(g?{id:p,fn:d,once:g}:{id:p,fn:d}),m},off:function(u,d,p){var g=this,m=g["_on"+u],f=0;if(typeof d=="number"&&(p=d,d=null),d||p)for(f=0;f<m.length;f++){var v=p===m[f].id;if(d===m[f].fn&&v||!d&&v){m.splice(f,1);break}}else if(u)g["_on"+u]=[];else{var x=Object.keys(g);for(f=0;f<x.length;f++)x[f].indexOf("_on")===0&&Array.isArray(g[x[f]])&&(g[x[f]]=[])}return g},once:function(u,d,p){var g=this;return g.on(u,d,p,1),g},_emit:function(u,d,p){for(var g=this,m=g["_on"+u],f=m.length-1;f>=0;f--)(!m[f].id||m[f].id===d||u==="load")&&(setTimeout(function(v){v.call(this,d,p)}.bind(g,m[f].fn),0),m[f].once&&g.off(u,m[f].fn,m[f].id));return g._loadQueue(u),g},_loadQueue:function(u){var d=this;if(d._queue.length>0){var p=d._queue[0];p.event===u&&(d._queue.shift(),d._loadQueue()),u||p.action()}return d},_ended:function(u){var d=this,p=u._sprite;if(!d._webAudio&&u._node&&!u._node.paused&&!u._node.ended&&u._node.currentTime<u._stop)return setTimeout(d._ended.bind(d,u),100),d;var g=!!(u._loop||d._sprite[p][2]);if(d._emit("end",u._id),!d._webAudio&&g&&d.stop(u._id,!0).play(u._id),d._webAudio&&g){d._emit("play",u._id),u._seek=u._start||0,u._rateSeek=0,u._playStart=r.ctx.currentTime;var m=(u._stop-u._start)*1e3/Math.abs(u._rate);d._endTimers[u._id]=setTimeout(d._ended.bind(d,u),m)}return d._webAudio&&!g&&(u._paused=!0,u._ended=!0,u._seek=u._start||0,u._rateSeek=0,d._clearTimer(u._id),d._cleanBuffer(u._node),r._autoSuspend()),!d._webAudio&&!g&&d.stop(u._id,!0),d},_clearTimer:function(u){var d=this;if(d._endTimers[u]){if(typeof d._endTimers[u]!="function")clearTimeout(d._endTimers[u]);else{var p=d._soundById(u);p&&p._node&&p._node.removeEventListener("ended",d._endTimers[u],!1)}delete d._endTimers[u]}return d},_soundById:function(u){for(var d=this,p=0;p<d._sounds.length;p++)if(u===d._sounds[p]._id)return d._sounds[p];return null},_inactiveSound:function(){var u=this;u._drain();for(var d=0;d<u._sounds.length;d++)if(u._sounds[d]._ended)return u._sounds[d].reset();return new s(u)},_drain:function(){var u=this,d=u._pool,p=0,g=0;if(!(u._sounds.length<d)){for(g=0;g<u._sounds.length;g++)u._sounds[g]._ended&&p++;for(g=u._sounds.length-1;g>=0;g--){if(p<=d)return;u._sounds[g]._ended&&(u._webAudio&&u._sounds[g]._node&&u._sounds[g]._node.disconnect(0),u._sounds.splice(g,1),p--)}}},_getSoundIds:function(u){var d=this;if(typeof u>"u"){for(var p=[],g=0;g<d._sounds.length;g++)p.push(d._sounds[g]._id);return p}else return[u]},_refreshBuffer:function(u){var d=this;return u._node.bufferSource=r.ctx.createBufferSource(),u._node.bufferSource.buffer=n[d._src],u._panner?u._node.bufferSource.connect(u._panner):u._node.bufferSource.connect(u._node),u._node.bufferSource.loop=u._loop,u._loop&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop||0),u._node.bufferSource.playbackRate.setValueAtTime(u._rate,r.ctx.currentTime),d},_cleanBuffer:function(u){var d=this,p=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&u.bufferSource&&(u.bufferSource.onended=null,u.bufferSource.disconnect(0),p))try{u.bufferSource.buffer=r._scratchBuffer}catch{}return u.bufferSource=null,d},_clearSound:function(u){var d=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);d||(u.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(u){this._parent=u,this.init()};s.prototype={init:function(){var u=this,d=u._parent;return u._muted=d._muted,u._loop=d._loop,u._volume=d._volume,u._rate=d._rate,u._seek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++r._counter,d._sounds.push(u),u.create(),u},create:function(){var u=this,d=u._parent,p=r._muted||u._muted||u._parent._muted?0:u._volume;return d._webAudio?(u._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),u._node.gain.setValueAtTime(p,r.ctx.currentTime),u._node.paused=!0,u._node.connect(r.masterGain)):r.noAudio||(u._node=r._obtainHtml5Audio(),u._errorFn=u._errorListener.bind(u),u._node.addEventListener("error",u._errorFn,!1),u._loadFn=u._loadListener.bind(u),u._node.addEventListener(r._canPlayEvent,u._loadFn,!1),u._endFn=u._endListener.bind(u),u._node.addEventListener("ended",u._endFn,!1),u._node.src=d._src,u._node.preload=d._preload===!0?"auto":d._preload,u._node.volume=p*r.volume(),u._node.load()),u},reset:function(){var u=this,d=u._parent;return u._muted=d._muted,u._loop=d._loop,u._volume=d._volume,u._rate=d._rate,u._seek=0,u._rateSeek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++r._counter,u},_errorListener:function(){var u=this;u._parent._emit("loaderror",u._id,u._node.error?u._node.error.code:0),u._node.removeEventListener("error",u._errorFn,!1)},_loadListener:function(){var u=this,d=u._parent;d._duration=Math.ceil(u._node.duration*10)/10,Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue()),u._node.removeEventListener(r._canPlayEvent,u._loadFn,!1)},_endListener:function(){var u=this,d=u._parent;d._duration===1/0&&(d._duration=Math.ceil(u._node.duration*10)/10,d._sprite.__default[1]===1/0&&(d._sprite.__default[1]=d._duration*1e3),d._ended(u)),u._node.removeEventListener("ended",u._endFn,!1)}};var n={},a=function(u){var d=u._src;if(n[d]){u._duration=n[d].duration,c(u);return}if(/^data:[^;]+;base64,/.test(d)){for(var p=atob(d.split(",")[1]),g=new Uint8Array(p.length),m=0;m<p.length;++m)g[m]=p.charCodeAt(m);l(g.buffer,u)}else{var f=new XMLHttpRequest;f.open(u._xhr.method,d,!0),f.withCredentials=u._xhr.withCredentials,f.responseType="arraybuffer",u._xhr.headers&&Object.keys(u._xhr.headers).forEach(function(v){f.setRequestHeader(v,u._xhr.headers[v])}),f.onload=function(){var v=(f.status+"")[0];if(v!=="0"&&v!=="2"&&v!=="3"){u._emit("loaderror",null,"Failed loading audio file with status: "+f.status+".");return}l(f.response,u)},f.onerror=function(){u._webAudio&&(u._html5=!0,u._webAudio=!1,u._sounds=[],delete n[d],u.load())},o(f)}},o=function(u){try{u.send()}catch{u.onerror()}},l=function(u,d){var p=function(){d._emit("loaderror",null,"Decoding audio data failed.")},g=function(m){m&&d._sounds.length>0?(n[d._src]=m,c(d,m)):p()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(u).then(g).catch(p):r.ctx.decodeAudioData(u,g,p)},c=function(u,d){d&&!u._duration&&(u._duration=d.duration),Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue())},h=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var u=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),d=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),p=d?parseInt(d[1],10):null;if(u&&p&&p<9){var g=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!g&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:r,Howl:i}}),typeof e<"u"&&(e.Howler=r,e.Howl=i),typeof global<"u"?(global.HowlerGlobal=t,global.Howler=r,global.Howl=i,global.Sound=s):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=r,window.Howl=i,window.Sound=s)})(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var s=i._howls.length-1;s>=0;s--)i._howls[s].stereo(r);return i},HowlerGlobal.prototype.pos=function(r,i,s){var n=this;if(!n.ctx||!n.ctx.listener)return n;if(i=typeof i!="number"?n._pos[1]:i,s=typeof s!="number"?n._pos[2]:s,typeof r=="number")n._pos=[r,i,s],typeof n.ctx.listener.positionX<"u"?(n.ctx.listener.positionX.setTargetAtTime(n._pos[0],Howler.ctx.currentTime,.1),n.ctx.listener.positionY.setTargetAtTime(n._pos[1],Howler.ctx.currentTime,.1),n.ctx.listener.positionZ.setTargetAtTime(n._pos[2],Howler.ctx.currentTime,.1)):n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2]);else return n._pos;return n},HowlerGlobal.prototype.orientation=function(r,i,s,n,a,o){var l=this;if(!l.ctx||!l.ctx.listener)return l;var c=l._orientation;if(i=typeof i!="number"?c[1]:i,s=typeof s!="number"?c[2]:s,n=typeof n!="number"?c[3]:n,a=typeof a!="number"?c[4]:a,o=typeof o!="number"?c[5]:o,typeof r=="number")l._orientation=[r,i,s,n,a,o],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(r,i,s,n,a,o);else return c;return l},Howl.prototype.init=function(r){return function(i){var s=this;return s._orientation=i.orientation||[1,0,0],s._stereo=i.stereo||null,s._pos=i.pos||null,s._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},s._onstereo=i.onstereo?[{fn:i.onstereo}]:[],s._onpos=i.onpos?[{fn:i.onpos}]:[],s._onorientation=i.onorientation?[{fn:i.onorientation}]:[],r.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,i){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"stereo",action:function(){s.stereo(r,i)}}),s;var n=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof r=="number")s._stereo=r,s._pos=[r,0,0];else return s._stereo;for(var a=s._getSoundIds(i),o=0;o<a.length;o++){var l=s._soundById(a[o]);if(l)if(typeof r=="number")l._stereo=r,l._pos=[r,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&t(l,n),n==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(r,0,0):l._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),s._emit("stereo",l._id);else return l._stereo}return s},Howl.prototype.pos=function(r,i,s,n){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(r,i,s,n)}}),a;if(i=typeof i!="number"?0:i,s=typeof s!="number"?-.5:s,typeof n>"u")if(typeof r=="number")a._pos=[r,i,s];else return a._pos;for(var o=a._getSoundIds(n),l=0;l<o.length;l++){var c=a._soundById(o[l]);if(c)if(typeof r=="number")c._pos=[r,i,s],c._node&&((!c._panner||c._panner.pan)&&t(c,"spatial"),typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):c._panner.setPosition(r,i,s)),a._emit("pos",c._id);else return c._pos}return a},Howl.prototype.orientation=function(r,i,s,n){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(r,i,s,n)}}),a;if(i=typeof i!="number"?a._orientation[1]:i,s=typeof s!="number"?a._orientation[2]:s,typeof n>"u")if(typeof r=="number")a._orientation=[r,i,s];else return a._orientation;for(var o=a._getSoundIds(n),l=0;l<o.length;l++){var c=a._soundById(o[l]);if(c)if(typeof r=="number")c._orientation=[r,i,s],c._node&&(c._panner||(c._pos||(c._pos=a._pos||[0,0,-.5]),t(c,"spatial")),typeof c._panner.orientationX<"u"?(c._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):c._panner.setOrientation(r,i,s)),a._emit("orientation",c._id);else return c._orientation}return a},Howl.prototype.pannerAttr=function(){var r=this,i=arguments,s,n,a;if(!r._webAudio)return r;if(i.length===0)return r._pannerAttr;if(i.length===1)if(typeof i[0]=="object")s=i[0],typeof n>"u"&&(s.pannerAttr||(s.pannerAttr={coneInnerAngle:s.coneInnerAngle,coneOuterAngle:s.coneOuterAngle,coneOuterGain:s.coneOuterGain,distanceModel:s.distanceModel,maxDistance:s.maxDistance,refDistance:s.refDistance,rolloffFactor:s.rolloffFactor,panningModel:s.panningModel}),r._pannerAttr={coneInnerAngle:typeof s.pannerAttr.coneInnerAngle<"u"?s.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof s.pannerAttr.coneOuterAngle<"u"?s.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof s.pannerAttr.coneOuterGain<"u"?s.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof s.pannerAttr.distanceModel<"u"?s.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof s.pannerAttr.maxDistance<"u"?s.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof s.pannerAttr.refDistance<"u"?s.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof s.pannerAttr.rolloffFactor<"u"?s.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof s.pannerAttr.panningModel<"u"?s.pannerAttr.panningModel:r._panningModel});else return a=r._soundById(parseInt(i[0],10)),a?a._pannerAttr:r._pannerAttr;else i.length===2&&(s=i[0],n=parseInt(i[1],10));for(var o=r._getSoundIds(n),l=0;l<o.length;l++)if(a=r._soundById(o[l]),a){var c=a._pannerAttr;c={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:c.coneOuterAngle,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:c.coneOuterGain,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:c.distanceModel,maxDistance:typeof s.maxDistance<"u"?s.maxDistance:c.maxDistance,refDistance:typeof s.refDistance<"u"?s.refDistance:c.refDistance,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:c.rolloffFactor,panningModel:typeof s.panningModel<"u"?s.panningModel:c.panningModel};var h=a._panner;h?(h.coneInnerAngle=c.coneInnerAngle,h.coneOuterAngle=c.coneOuterAngle,h.coneOuterGain=c.coneOuterGain,h.distanceModel=c.distanceModel,h.maxDistance=c.maxDistance,h.refDistance=c.refDistance,h.rolloffFactor=c.rolloffFactor,h.panningModel=c.panningModel):(a._pos||(a._pos=r._pos||[0,0,-.5]),t(a,"spatial"))}return r},Sound.prototype.init=function(r){return function(){var i=this,s=i._parent;i._orientation=s._orientation,i._stereo=s._stereo,i._pos=s._pos,i._pannerAttr=s._pannerAttr,r.call(this),i._stereo?s.stereo(i._stereo):i._pos&&s.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var i=this,s=i._parent;return i._orientation=s._orientation,i._stereo=s._stereo,i._pos=s._pos,i._pannerAttr=s._pannerAttr,i._stereo?s.stereo(i._stereo):i._pos?s.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,s._refreshBuffer(i)),r.call(this)}}(Sound.prototype.reset);var t=function(r,i){i=i||"spatial",i==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}}()}),q5=JC((e,t)=>{(function(r,i){typeof e=="object"&&typeof t<"u"?i(e):typeof define=="function"&&define.amd?define(["exports"],i):i((r=typeof globalThis<"u"?globalThis:r||self).SVDJS={})})(e,function(r){"use strict";r.SVD=function(i,s,n,a,o){if(s=s===void 0||s,n=n===void 0||n,o=1e-64/(a=a||Math.pow(2,-52)),!i)throw new TypeError("Matrix a is not defined");var l,c,h,u,d,p,g,m,f,v,x,b,y=i[0].length,w=i.length;if(w<y)throw new TypeError("Invalid matrix: m < n");for(var _=[],D=[],S=[],A=s==="f"?w:y,E=v=g=0;E<w;E++)D[E]=new Array(A).fill(0);for(E=0;E<y;E++)S[E]=new Array(y).fill(0);var M,I=new Array(y).fill(0);for(E=0;E<w;E++)for(l=0;l<y;l++)D[E][l]=i[E][l];for(E=0;E<y;E++){for(_[E]=g,f=0,h=E+1,l=E;l<w;l++)f+=Math.pow(D[l][E],2);if(f<o)g=0;else for(m=(p=D[E][E])*(g=p<0?Math.sqrt(f):-Math.sqrt(f))-f,D[E][E]=p-g,l=h;l<y;l++){for(f=0,c=E;c<w;c++)f+=D[c][E]*D[c][l];for(p=f/m,c=E;c<w;c++)D[c][l]=D[c][l]+p*D[c][E]}for(I[E]=g,f=0,l=h;l<y;l++)f+=Math.pow(D[E][l],2);if(f<o)g=0;else{for(m=(p=D[E][E+1])*(g=p<0?Math.sqrt(f):-Math.sqrt(f))-f,D[E][E+1]=p-g,l=h;l<y;l++)_[l]=D[E][l]/m;for(l=h;l<w;l++){for(f=0,c=h;c<y;c++)f+=D[l][c]*D[E][c];for(c=h;c<y;c++)D[l][c]=D[l][c]+f*_[c]}}v<(x=Math.abs(I[E])+Math.abs(_[E]))&&(v=x)}if(n)for(E=y-1;0<=E;E--){if(g!==0){for(m=D[E][E+1]*g,l=h;l<y;l++)S[l][E]=D[E][l]/m;for(l=h;l<y;l++){for(f=0,c=h;c<y;c++)f+=D[E][c]*S[c][l];for(c=h;c<y;c++)S[c][l]=S[c][l]+f*S[c][E]}}for(l=h;l<y;l++)S[E][l]=0,S[l][E]=0;S[E][E]=1,g=_[E],h=E}if(s){if(s==="f")for(E=y;E<w;E++){for(l=y;l<w;l++)D[E][l]=0;D[E][E]=1}for(E=y-1;0<=E;E--){for(h=E+1,g=I[E],l=h;l<A;l++)D[E][l]=0;if(g!==0){for(m=D[E][E]*g,l=h;l<A;l++){for(f=0,c=h;c<w;c++)f+=D[c][E]*D[c][l];for(p=f/m,c=E;c<w;c++)D[c][l]=D[c][l]+p*D[c][E]}for(l=E;l<w;l++)D[l][E]=D[l][E]/g}else for(l=E;l<w;l++)D[l][E]=0;D[E][E]=D[E][E]+1}}for(a*=v,c=y-1;0<=c;c--)for(var V=0;V<50;V++){for(M=!1,h=c;0<=h;h--){if(Math.abs(_[h])<=a){M=!0;break}if(Math.abs(I[h-1])<=a)break}if(!M){for(d=0,u=h-(f=1),E=h;E<c+1&&(p=f*_[E],_[E]=d*_[E],!(Math.abs(p)<=a));E++)if(g=I[E],I[E]=Math.sqrt(p*p+g*g),d=g/(m=I[E]),f=-p/m,s)for(l=0;l<w;l++)x=D[l][u],b=D[l][E],D[l][u]=x*d+b*f,D[l][E]=-x*f+b*d}if(b=I[c],h===c){if(b<0&&(I[c]=-b,n))for(l=0;l<y;l++)S[l][c]=-S[l][c];break}for(v=I[h],p=(((x=I[c-1])-b)*(x+b)+((g=_[c-1])-(m=_[c]))*(g+m))/(2*m*x),g=Math.sqrt(p*p+1),p=((v-b)*(v+b)+m*(x/(p<0?p-g:p+g)-m))/v,E=h+(f=d=1);E<c+1;E++){if(g=_[E],x=I[E],m=f*g,g*=d,b=Math.sqrt(p*p+m*m),p=v*(d=p/(_[E-1]=b))+g*(f=m/b),g=-v*f+g*d,m=x*f,x*=d,n)for(l=0;l<y;l++)v=S[l][E-1],b=S[l][E],S[l][E-1]=v*d+b*f,S[l][E]=-v*f+b*d;if(b=Math.sqrt(p*p+m*m),p=(d=p/(I[E-1]=b))*g+(f=m/b)*x,v=-f*g+d*x,s)for(l=0;l<w;l++)x=D[l][E-1],b=D[l][E],D[l][E-1]=x*d+b*f,D[l][E]=-x*f+b*d}_[h]=0,_[c]=p,I[c]=v}for(E=0;E<y;E++)I[E]<a&&(I[E]=0);return{u:D,q:I,v:S}},r.VERSION="1.1.1",Object.defineProperty(r,"__esModule",{value:!0})})}),e1="142",Y5=0,J2=1,X5=2,e3=1,Q5=2,Uu=3,Ia=0,yi=1,Ts=2,Z5=1,Pa=0,Eo=1,K2=2,eS=3,tS=4,$5=5,Ol=100,J5=101,K5=102,rS=103,iS=104,eU=200,tU=201,rU=202,iU=203,t3=204,r3=205,sU=206,nU=207,aU=208,oU=209,lU=210,cU=0,uU=1,dU=2,N0=3,hU=4,pU=5,fU=6,mU=7,i3=0,gU=1,vU=2,Un=0,yU=1,xU=2,bU=3,wU=4,_U=5,s3=300,Po=301,Bo=302,U0=303,z0=304,yd=306,j0=1e3,As=1001,H0=1002,Kr=1003,sS=1004,nS=1005,Wi=1006,DU=1007,mf=1008,Fo=1009,SU=1010,AU=1011,n3=1012,EU=1013,_o=1014,Do=1015,id=1016,CU=1017,TU=1018,ql=1020,MU=1021,LU=1022,Ks=1023,kU=1024,PU=1025,Co=1026,Kl=1027,BU=1028,FU=1029,OU=1030,IU=1031,RU=1033,Sv=33776,Av=33777,Ev=33778,Cv=33779,aS=35840,oS=35841,lS=35842,cS=35843,NU=36196,uS=37492,dS=37496,hS=37808,pS=37809,fS=37810,mS=37811,gS=37812,vS=37813,yS=37814,xS=37815,bS=37816,wS=37817,_S=37818,DS=37819,SS=37820,AS=37821,ES=36492,Qp=2300,Zp=2301,Tv=2302,CS=2400,TS=2401,MS=2402,UU=2501,cn=3e3,Yt=3001,zU=3200,jU=3201,HU=0,VU=1,Rn="srgb",So="srgb-linear",Mv=7680,GU=519,V0=35044,LS="300 es",G0=1035,gn=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let r=this._listeners[e];if(r!==void 0){let i=r.indexOf(t);i!==-1&&r.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let t=this._listeners[e.type];if(t!==void 0){e.target=this;let r=t.slice(0);for(let i=0,s=r.length;i<s;i++)r[i].call(this,e);e.target=null}}},Or=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],kS=1234567,Yu=Math.PI/180,sd=180/Math.PI;Lt=Object.freeze({__proto__:null,DEG2RAD:Yu,RAD2DEG:sd,generateUUID:on,clamp:Cr,euclideanModulo:t1,mapLinear:WU,inverseLerp:qU,lerp:Xu,damp:YU,pingpong:XU,smoothstep:QU,smootherstep:ZU,randInt:$U,randFloat:JU,randFloatSpread:KU,seededRandom:ez,degToRad:tz,radToDeg:rz,isPowerOfTwo:W0,ceilPowerOfTwo:iz,floorPowerOfTwo:$p,setQuaternionFromProperEuler:sz,normalize:az,denormalize:nz}),se=class{constructor(e=0,t=0){se.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,n=this.y-e.y;return this.x=s*r-n*i+e.x,this.y=s*i+n*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},zr=class{constructor(){zr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,n,a,o,l){let c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=s,c[5]=o,c[6]=r,c[7]=n,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,i=t.elements,s=this.elements,n=r[0],a=r[3],o=r[6],l=r[1],c=r[4],h=r[7],u=r[2],d=r[5],p=r[8],g=i[0],m=i[3],f=i[6],v=i[1],x=i[4],b=i[7],y=i[2],w=i[5],_=i[8];return s[0]=n*g+a*v+o*y,s[3]=n*m+a*x+o*w,s[6]=n*f+a*b+o*_,s[1]=l*g+c*v+h*y,s[4]=l*m+c*x+h*w,s[7]=l*f+c*b+h*_,s[2]=u*g+d*v+p*y,s[5]=u*m+d*x+p*w,s[8]=u*f+d*b+p*_,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],n=e[4],a=e[5],o=e[6],l=e[7],c=e[8];return t*n*c-t*a*l-r*s*c+r*a*o+i*s*l-i*n*o}invert(){let e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],n=e[4],a=e[5],o=e[6],l=e[7],c=e[8],h=c*n-a*l,u=a*o-c*s,d=l*s-n*o,p=t*h+r*u+i*d;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);let g=1/p;return e[0]=h*g,e[1]=(i*l-c*r)*g,e[2]=(a*r-i*n)*g,e[3]=u*g,e[4]=(c*t-i*o)*g,e[5]=(i*s-a*t)*g,e[6]=d*g,e[7]=(r*o-l*t)*g,e[8]=(n*t-r*s)*g,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,n,a){let o=Math.cos(s),l=Math.sin(s);return this.set(r*o,r*l,-r*(o*n+l*a)+n+e,-i*l,i*o,-i*(-l*n+o*a)+a+t,0,0,1),this}scale(e,t){let r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){let t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],n=i[3],a=i[6],o=i[1],l=i[4],c=i[7];return i[0]=t*s+r*o,i[3]=t*n+r*l,i[6]=t*a+r*c,i[1]=-r*s+t*o,i[4]=-r*n+t*l,i[7]=-r*a+t*c,this}translate(e,t){let r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){let t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}};oz={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};Lv={[Rn]:{[So]:To},[So]:{[Rn]:Up}},vs={legacyMode:!0,get workingColorSpace(){return So},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,r){if(this.legacyMode||t===r||!t||!r)return e;if(Lv[t]&&Lv[t][r]!==void 0){let i=Lv[t][r];return e.r=i(e.r),e.g=i(e.g),e.b=i(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},o3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hr={r:0,g:0,b:0},ys={h:0,s:0,l:0},Gh={h:0,s:0,l:0};lt=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Rn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,vs.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=So){return this.r=e,this.g=t,this.b=r,vs.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=So){if(e=t1(e,1),t=Cr(t,0,1),r=Cr(r,0,1),t===0)this.r=this.g=this.b=r;else{let s=r<=.5?r*(1+t):r+t-r*t,n=2*r-s;this.r=kv(n,s,e+1/3),this.g=kv(n,s,e),this.b=kv(n,s,e-1/3)}return vs.toWorkingColorSpace(this,i),this}setStyle(e,t=Rn){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s,n=i[1],a=i[2];switch(n){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,vs.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,vs.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){let o=parseFloat(s[1])/360,l=parseInt(s[2],10)/100,c=parseInt(s[3],10)/100;return r(s[4]),this.setHSL(o,l,c,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){let s=i[1],n=s.length;if(n===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,vs.toWorkingColorSpace(this,t),this;if(n===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,vs.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Rn){let r=o3[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=To(e.r),this.g=To(e.g),this.b=To(e.b),this}copyLinearToSRGB(e){return this.r=Up(e.r),this.g=Up(e.g),this.b=Up(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Rn){return vs.fromWorkingColorSpace(Wh(this,hr),e),Cr(hr.r*255,0,255)<<16^Cr(hr.g*255,0,255)<<8^Cr(hr.b*255,0,255)<<0}getHexString(e=Rn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=So){vs.fromWorkingColorSpace(Wh(this,hr),t);let r=hr.r,i=hr.g,s=hr.b,n=Math.max(r,i,s),a=Math.min(r,i,s),o,l,c=(a+n)/2;if(a===n)o=0,l=0;else{let h=n-a;switch(l=c<=.5?h/(n+a):h/(2-n-a),n){case r:o=(i-s)/h+(i<s?6:0);break;case i:o=(s-r)/h+2;break;case s:o=(r-i)/h+4;break}o/=6}return e.h=o,e.s=l,e.l=c,e}getRGB(e,t=So){return vs.fromWorkingColorSpace(Wh(this,hr),t),e.r=hr.r,e.g=hr.g,e.b=hr.b,e}getStyle(e=Rn){return vs.fromWorkingColorSpace(Wh(this,hr),e),e!==Rn?`color(${e} ${hr.r} ${hr.g} ${hr.b})`:`rgb(${hr.r*255|0},${hr.g*255|0},${hr.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(ys),ys.h+=e,ys.s+=t,ys.l+=r,this.setHSL(ys.h,ys.s,ys.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ys),e.getHSL(Gh);let r=Xu(ys.h,Gh.h,t),i=Xu(ys.s,Gh.s,t),s=Xu(ys.l,Gh.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};lt.NAMES=o3;l3=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ml===void 0&&(ml=Jp("canvas")),ml.width=e.width,ml.height=e.height;let r=ml.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=ml}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=Jp("canvas");t.width=e.width,t.height=e.height;let r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);let i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let n=0;n<s.length;n++)s[n]=To(s[n]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){let t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(To(t[r]/255)*255):t[r]=To(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},c3=class{constructor(e=null){this.isSource=!0,this.uuid=on(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let n=0,a=i.length;n<a;n++)i[n].isDataTexture?s.push(Pv(i[n].image)):s.push(Pv(i[n]))}else s=Pv(i);r.url=s}return t||(e.images[this.uuid]=r),r}};lz=0,xi=class extends gn{constructor(e=xi.DEFAULT_IMAGE,t=xi.DEFAULT_MAPPING,r=As,i=As,s=Wi,n=mf,a=Ks,o=Fo,l=1,c=cn){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:lz++}),this.uuid=on(),this.name="",this.source=new c3(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=n,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=o,this.offset=new se(0,0),this.repeat=new se(1,1),this.center=new se(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new zr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==s3)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case j0:e.x=e.x-Math.floor(e.x);break;case As:e.x=e.x<0?0:1;break;case H0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case j0:e.y=e.y-Math.floor(e.y);break;case As:e.y=e.y<0?0:1;break;case H0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}};xi.DEFAULT_IMAGE=null;xi.DEFAULT_MAPPING=s3;yt=class{constructor(e=0,t=0,r=0,i=1){yt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,r=this.y,i=this.z,s=this.w,n=e.elements;return this.x=n[0]*t+n[4]*r+n[8]*i+n[12]*s,this.y=n[1]*t+n[5]*r+n[9]*i+n[13]*s,this.z=n[2]*t+n[6]*r+n[10]*i+n[14]*s,this.w=n[3]*t+n[7]*r+n[11]*i+n[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s,n=e.elements,a=n[0],o=n[4],l=n[8],c=n[1],h=n[5],u=n[9],d=n[2],p=n[6],g=n[10];if(Math.abs(o-c)<.01&&Math.abs(l-d)<.01&&Math.abs(u-p)<.01){if(Math.abs(o+c)<.1&&Math.abs(l+d)<.1&&Math.abs(u+p)<.1&&Math.abs(a+h+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let f=(a+1)/2,v=(h+1)/2,x=(g+1)/2,b=(o+c)/4,y=(l+d)/4,w=(u+p)/4;return f>v&&f>x?f<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(f),i=b/r,s=y/r):v>x?v<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(v),r=b/i,s=w/i):x<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(x),r=y/s,i=w/s),this.set(r,i,s,t),this}let m=Math.sqrt((p-u)*(p-u)+(l-d)*(l-d)+(c-o)*(c-o));return Math.abs(m)<.001&&(m=1),this.x=(p-u)/m,this.y=(l-d)/m,this.z=(c-o)/m,this.w=Math.acos((a+h+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},Oo=class extends gn{constructor(e,t,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new yt(0,0,e,t),this.scissorTest=!1,this.viewport=new yt(0,0,e,t);let i={width:e,height:t,depth:1};this.texture=new xi(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Wi,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new c3(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},u3=class extends xi{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Kr,this.minFilter=Kr,this.wrapR=As,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},cz=class extends xi{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Kr,this.minFilter=Kr,this.wrapR=As,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},Xt=class{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,s,n,a){let o=r[i+0],l=r[i+1],c=r[i+2],h=r[i+3],u=s[n+0],d=s[n+1],p=s[n+2],g=s[n+3];if(a===0){e[t+0]=o,e[t+1]=l,e[t+2]=c,e[t+3]=h;return}if(a===1){e[t+0]=u,e[t+1]=d,e[t+2]=p,e[t+3]=g;return}if(h!==g||o!==u||l!==d||c!==p){let m=1-a,f=o*u+l*d+c*p+h*g,v=f>=0?1:-1,x=1-f*f;if(x>Number.EPSILON){let y=Math.sqrt(x),w=Math.atan2(y,f*v);m=Math.sin(m*w)/y,a=Math.sin(a*w)/y}let b=a*v;if(o=o*m+u*b,l=l*m+d*b,c=c*m+p*b,h=h*m+g*b,m===1-a){let y=1/Math.sqrt(o*o+l*l+c*c+h*h);o*=y,l*=y,c*=y,h*=y}}e[t]=o,e[t+1]=l,e[t+2]=c,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,n){let a=r[i],o=r[i+1],l=r[i+2],c=r[i+3],h=s[n],u=s[n+1],d=s[n+2],p=s[n+3];return e[t]=a*p+c*h+o*d-l*u,e[t+1]=o*p+c*u+l*h-a*d,e[t+2]=l*p+c*d+a*u-o*h,e[t+3]=c*p-a*h-o*u-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");let r=e._x,i=e._y,s=e._z,n=e._order,a=Math.cos,o=Math.sin,l=a(r/2),c=a(i/2),h=a(s/2),u=o(r/2),d=o(i/2),p=o(s/2);switch(n){case"XYZ":this._x=u*c*h+l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h-u*d*p;break;case"YXZ":this._x=u*c*h+l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h+u*d*p;break;case"ZXY":this._x=u*c*h-l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h-u*d*p;break;case"ZYX":this._x=u*c*h-l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h+u*d*p;break;case"YZX":this._x=u*c*h+l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h-u*d*p;break;case"XZY":this._x=u*c*h-l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h+u*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+n)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,r=t[0],i=t[4],s=t[8],n=t[1],a=t[5],o=t[9],l=t[2],c=t[6],h=t[10],u=r+a+h;if(u>0){let d=.5/Math.sqrt(u+1);this._w=.25/d,this._x=(c-o)*d,this._y=(s-l)*d,this._z=(n-i)*d}else if(r>a&&r>h){let d=2*Math.sqrt(1+r-a-h);this._w=(c-o)/d,this._x=.25*d,this._y=(i+n)/d,this._z=(s+l)/d}else if(a>h){let d=2*Math.sqrt(1+a-r-h);this._w=(s-l)/d,this._x=(i+n)/d,this._y=.25*d,this._z=(o+c)/d}else{let d=2*Math.sqrt(1+h-r-a);this._w=(n-i)/d,this._x=(s+l)/d,this._y=(o+c)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Cr(this.dot(e),-1,1)))}rotateTowards(e,t){let r=this.angleTo(e);if(r===0)return this;let i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let r=e._x,i=e._y,s=e._z,n=e._w,a=t._x,o=t._y,l=t._z,c=t._w;return this._x=r*c+n*a+i*l-s*o,this._y=i*c+n*o+s*a-r*l,this._z=s*c+n*l+r*o-i*a,this._w=n*c-r*a-i*o-s*l,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let r=this._x,i=this._y,s=this._z,n=this._w,a=n*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=n,this._x=r,this._y=i,this._z=s,this;let o=1-a*a;if(o<=Number.EPSILON){let d=1-t;return this._w=d*n+t*this._w,this._x=d*r+t*this._x,this._y=d*i+t*this._y,this._z=d*s+t*this._z,this.normalize(),this._onChangeCallback(),this}let l=Math.sqrt(o),c=Math.atan2(l,a),h=Math.sin((1-t)*c)/l,u=Math.sin(t*c)/l;return this._w=n*h+this._w*u,this._x=r*h+this._x*u,this._y=i*h+this._y*u,this._z=s*h+this._z*u,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){let e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},C=class{constructor(e=0,t=0,r=0){C.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(PS.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(PS.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,r=this.y,i=this.z,s=e.elements,n=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*n,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*n,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*n,this}applyQuaternion(e){let t=this.x,r=this.y,i=this.z,s=e.x,n=e.y,a=e.z,o=e.w,l=o*t+n*i-a*r,c=o*r+a*t-s*i,h=o*i+s*r-n*t,u=-s*t-n*r-a*i;return this.x=l*o+u*-s+c*-a-h*-n,this.y=c*o+u*-n+h*-s-l*-a,this.z=h*o+u*-a+l*-n-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){let r=e.x,i=e.y,s=e.z,n=t.x,a=t.y,o=t.z;return this.x=i*o-s*a,this.y=s*n-r*o,this.z=r*a-i*n,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Bv.copy(this).projectOnVector(e),this.sub(Bv)}reflect(e){return this.sub(Bv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let r=this.dot(e)/t;return Math.acos(Cr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){let i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},Bv=new C,PS=new Xt,yr=class{constructor(e=new C(1/0,1/0,1/0),t=new C(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,n=-1/0,a=-1/0;for(let o=0,l=e.length;o<l;o+=3){let c=e[o],h=e[o+1],u=e[o+2];c<t&&(t=c),h<r&&(r=h),u<i&&(i=u),c>s&&(s=c),h>n&&(n=h),u>a&&(a=u)}return this.min.set(t,r,i),this.max.set(s,n,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,n=-1/0,a=-1/0;for(let o=0,l=e.count;o<l;o++){let c=e.getX(o),h=e.getY(o),u=e.getZ(o);c<t&&(t=c),h<r&&(r=h),u<i&&(i=u),c>s&&(s=c),h>n&&(n=h),u>a&&(a=u)}return this.min.set(t,r,i),this.max.set(s,n,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=co.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){let s=r.attributes.position;for(let n=0,a=s.count;n<a;n++)co.fromBufferAttribute(s,n).applyMatrix4(e.matrixWorld),this.expandByPoint(co)}else r.boundingBox===null&&r.computeBoundingBox(),Fv.copy(r.boundingBox),Fv.applyMatrix4(e.matrixWorld),this.union(Fv);let i=e.children;for(let s=0,n=i.length;s<n;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,co),co.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Du),qh.subVectors(this.max,Du),gl.subVectors(e.a,Du),vl.subVectors(e.b,Du),yl.subVectors(e.c,Du),fa.subVectors(vl,gl),ma.subVectors(yl,vl),uo.subVectors(gl,yl);let t=[0,-fa.z,fa.y,0,-ma.z,ma.y,0,-uo.z,uo.y,fa.z,0,-fa.x,ma.z,0,-ma.x,uo.z,0,-uo.x,-fa.y,fa.x,0,-ma.y,ma.x,0,-uo.y,uo.x,0];return!Ov(t,gl,vl,yl,qh)||(t=[1,0,0,0,1,0,0,0,1],!Ov(t,gl,vl,yl,qh))?!1:(Yh.crossVectors(fa,ma),t=[Yh.x,Yh.y,Yh.z],Ov(t,gl,vl,yl,qh))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return co.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(co).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Mn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mn),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Mn=[new C,new C,new C,new C,new C,new C,new C,new C],co=new C,Fv=new yr,gl=new C,vl=new C,yl=new C,fa=new C,ma=new C,uo=new C,Du=new C,qh=new C,Yh=new C,ho=new C;uz=new yr,BS=new C,Xh=new C,Iv=new C,Ms=class{constructor(e=new C,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let r=this.center;t!==void 0?r.copy(t):uz.setFromPoints(e).getCenter(r);let i=0;for(let s=0,n=e.length;s<n;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){Iv.subVectors(e,this.center);let t=Iv.lengthSq();if(t>this.radius*this.radius){let r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(Iv.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?Xh.set(0,0,1).multiplyScalar(e.radius):Xh.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(BS.copy(e.center).add(Xh)),this.expandByPoint(BS.copy(e.center).sub(Xh)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},Ln=new C,Rv=new C,Qh=new C,ga=new C,Nv=new C,Zh=new C,Uv=new C,xd=class{constructor(e=new C,t=new C(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ln)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=Ln.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ln.copy(this.direction).multiplyScalar(t).add(this.origin),Ln.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Rv.copy(e).add(t).multiplyScalar(.5),Qh.copy(t).sub(e).normalize(),ga.copy(this.origin).sub(Rv);let s=e.distanceTo(t)*.5,n=-this.direction.dot(Qh),a=ga.dot(this.direction),o=-ga.dot(Qh),l=ga.lengthSq(),c=Math.abs(1-n*n),h,u,d,p;if(c>0)if(h=n*o-a,u=n*a-o,p=s*c,h>=0)if(u>=-p)if(u<=p){let g=1/c;h*=g,u*=g,d=h*(h+n*u+2*a)+u*(n*h+u+2*o)+l}else u=s,h=Math.max(0,-(n*u+a)),d=-h*h+u*(u+2*o)+l;else u=-s,h=Math.max(0,-(n*u+a)),d=-h*h+u*(u+2*o)+l;else u<=-p?(h=Math.max(0,-(-n*s+a)),u=h>0?-s:Math.min(Math.max(-s,-o),s),d=-h*h+u*(u+2*o)+l):u<=p?(h=0,u=Math.min(Math.max(-s,-o),s),d=u*(u+2*o)+l):(h=Math.max(0,-(n*s+a)),u=h>0?s:Math.min(Math.max(-s,-o),s),d=-h*h+u*(u+2*o)+l);else u=n>0?-s:s,h=Math.max(0,-(n*u+a)),d=-h*h+u*(u+2*o)+l;return r&&r.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(Qh).multiplyScalar(u).add(Rv),d}intersectSphere(e,t){Ln.subVectors(e.center,this.origin);let r=Ln.dot(this.direction),i=Ln.dot(Ln)-r*r,s=e.radius*e.radius;if(i>s)return null;let n=Math.sqrt(s-i),a=r-n,o=r+n;return a<0&&o<0?null:a<0?this.at(o,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){let r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,n,a,o,l=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,u=this.origin;return l>=0?(r=(e.min.x-u.x)*l,i=(e.max.x-u.x)*l):(r=(e.max.x-u.x)*l,i=(e.min.x-u.x)*l),c>=0?(s=(e.min.y-u.y)*c,n=(e.max.y-u.y)*c):(s=(e.max.y-u.y)*c,n=(e.min.y-u.y)*c),r>n||s>i||((s>r||r!==r)&&(r=s),(n<i||i!==i)&&(i=n),h>=0?(a=(e.min.z-u.z)*h,o=(e.max.z-u.z)*h):(a=(e.max.z-u.z)*h,o=(e.min.z-u.z)*h),r>o||a>i)||((a>r||r!==r)&&(r=a),(o<i||i!==i)&&(i=o),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Ln)!==null}intersectTriangle(e,t,r,i,s){Nv.subVectors(t,e),Zh.subVectors(r,e),Uv.crossVectors(Nv,Zh);let n=this.direction.dot(Uv),a;if(n>0){if(i)return null;a=1}else if(n<0)a=-1,n=-n;else return null;ga.subVectors(this.origin,e);let o=a*this.direction.dot(Zh.crossVectors(ga,Zh));if(o<0)return null;let l=a*this.direction.dot(Nv.cross(ga));if(l<0||o+l>n)return null;let c=-a*ga.dot(Uv);return c<0?null:this.at(c/n,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Xe=class{constructor(){Xe.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,n,a,o,l,c,h,u,d,p,g,m){let f=this.elements;return f[0]=e,f[4]=t,f[8]=r,f[12]=i,f[1]=s,f[5]=n,f[9]=a,f[13]=o,f[2]=l,f[6]=c,f[10]=h,f[14]=u,f[3]=d,f[7]=p,f[11]=g,f[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xe().fromArray(this.elements)}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){let t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,r=e.elements,i=1/xl.setFromMatrixColumn(e,0).length(),s=1/xl.setFromMatrixColumn(e,1).length(),n=1/xl.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*n,t[9]=r[9]*n,t[10]=r[10]*n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");let t=this.elements,r=e.x,i=e.y,s=e.z,n=Math.cos(r),a=Math.sin(r),o=Math.cos(i),l=Math.sin(i),c=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){let u=n*c,d=n*h,p=a*c,g=a*h;t[0]=o*c,t[4]=-o*h,t[8]=l,t[1]=d+p*l,t[5]=u-g*l,t[9]=-a*o,t[2]=g-u*l,t[6]=p+d*l,t[10]=n*o}else if(e.order==="YXZ"){let u=o*c,d=o*h,p=l*c,g=l*h;t[0]=u+g*a,t[4]=p*a-d,t[8]=n*l,t[1]=n*h,t[5]=n*c,t[9]=-a,t[2]=d*a-p,t[6]=g+u*a,t[10]=n*o}else if(e.order==="ZXY"){let u=o*c,d=o*h,p=l*c,g=l*h;t[0]=u-g*a,t[4]=-n*h,t[8]=p+d*a,t[1]=d+p*a,t[5]=n*c,t[9]=g-u*a,t[2]=-n*l,t[6]=a,t[10]=n*o}else if(e.order==="ZYX"){let u=n*c,d=n*h,p=a*c,g=a*h;t[0]=o*c,t[4]=p*l-d,t[8]=u*l+g,t[1]=o*h,t[5]=g*l+u,t[9]=d*l-p,t[2]=-l,t[6]=a*o,t[10]=n*o}else if(e.order==="YZX"){let u=n*o,d=n*l,p=a*o,g=a*l;t[0]=o*c,t[4]=g-u*h,t[8]=p*h+d,t[1]=h,t[5]=n*c,t[9]=-a*c,t[2]=-l*c,t[6]=d*h+p,t[10]=u-g*h}else if(e.order==="XZY"){let u=n*o,d=n*l,p=a*o,g=a*l;t[0]=o*c,t[4]=-h,t[8]=l*c,t[1]=u*h+g,t[5]=n*c,t[9]=d*h-p,t[2]=p*h-d,t[6]=a*c,t[10]=g*h+u}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(dz,e,hz)}lookAt(e,t,r){let i=this.elements;return fi.subVectors(e,t),fi.lengthSq()===0&&(fi.z=1),fi.normalize(),va.crossVectors(r,fi),va.lengthSq()===0&&(Math.abs(r.z)===1?fi.x+=1e-4:fi.z+=1e-4,fi.normalize(),va.crossVectors(r,fi)),va.normalize(),$h.crossVectors(fi,va),i[0]=va.x,i[4]=$h.x,i[8]=fi.x,i[1]=va.y,i[5]=$h.y,i[9]=fi.y,i[2]=va.z,i[6]=$h.z,i[10]=fi.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,i=t.elements,s=this.elements,n=r[0],a=r[4],o=r[8],l=r[12],c=r[1],h=r[5],u=r[9],d=r[13],p=r[2],g=r[6],m=r[10],f=r[14],v=r[3],x=r[7],b=r[11],y=r[15],w=i[0],_=i[4],D=i[8],S=i[12],A=i[1],E=i[5],M=i[9],I=i[13],V=i[2],P=i[6],Q=i[10],G=i[14],X=i[3],F=i[7],z=i[11],j=i[15];return s[0]=n*w+a*A+o*V+l*X,s[4]=n*_+a*E+o*P+l*F,s[8]=n*D+a*M+o*Q+l*z,s[12]=n*S+a*I+o*G+l*j,s[1]=c*w+h*A+u*V+d*X,s[5]=c*_+h*E+u*P+d*F,s[9]=c*D+h*M+u*Q+d*z,s[13]=c*S+h*I+u*G+d*j,s[2]=p*w+g*A+m*V+f*X,s[6]=p*_+g*E+m*P+f*F,s[10]=p*D+g*M+m*Q+f*z,s[14]=p*S+g*I+m*G+f*j,s[3]=v*w+x*A+b*V+y*X,s[7]=v*_+x*E+b*P+y*F,s[11]=v*D+x*M+b*Q+y*z,s[15]=v*S+x*I+b*G+y*j,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],n=e[1],a=e[5],o=e[9],l=e[13],c=e[2],h=e[6],u=e[10],d=e[14],p=e[3],g=e[7],m=e[11],f=e[15];return p*(+s*o*h-i*l*h-s*a*u+r*l*u+i*a*d-r*o*d)+g*(+t*o*d-t*l*u+s*n*u-i*n*d+i*l*c-s*o*c)+m*(+t*l*h-t*a*d-s*n*h+r*n*d+s*a*c-r*l*c)+f*(-i*a*c-t*o*h+t*a*u+i*n*h-r*n*u+r*o*c)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){let i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){let e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],n=e[4],a=e[5],o=e[6],l=e[7],c=e[8],h=e[9],u=e[10],d=e[11],p=e[12],g=e[13],m=e[14],f=e[15],v=h*m*l-g*u*l+g*o*d-a*m*d-h*o*f+a*u*f,x=p*u*l-c*m*l-p*o*d+n*m*d+c*o*f-n*u*f,b=c*g*l-p*h*l+p*a*d-n*g*d-c*a*f+n*h*f,y=p*h*o-c*g*o-p*a*u+n*g*u+c*a*m-n*h*m,w=t*v+r*x+i*b+s*y;if(w===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let _=1/w;return e[0]=v*_,e[1]=(g*u*s-h*m*s-g*i*d+r*m*d+h*i*f-r*u*f)*_,e[2]=(a*m*s-g*o*s+g*i*l-r*m*l-a*i*f+r*o*f)*_,e[3]=(h*o*s-a*u*s-h*i*l+r*u*l+a*i*d-r*o*d)*_,e[4]=x*_,e[5]=(c*m*s-p*u*s+p*i*d-t*m*d-c*i*f+t*u*f)*_,e[6]=(p*o*s-n*m*s-p*i*l+t*m*l+n*i*f-t*o*f)*_,e[7]=(n*u*s-c*o*s+c*i*l-t*u*l-n*i*d+t*o*d)*_,e[8]=b*_,e[9]=(p*h*s-c*g*s-p*r*d+t*g*d+c*r*f-t*h*f)*_,e[10]=(n*g*s-p*a*s+p*r*l-t*g*l-n*r*f+t*a*f)*_,e[11]=(c*a*s-n*h*s-c*r*l+t*h*l+n*r*d-t*a*d)*_,e[12]=y*_,e[13]=(c*g*i-p*h*i+p*r*u-t*g*u-c*r*m+t*h*m)*_,e[14]=(p*a*i-n*g*i-p*r*o+t*g*o+n*r*m-t*a*m)*_,e[15]=(n*h*i-c*a*i+c*r*o-t*h*o-n*r*u+t*a*u)*_,this}scale(e){let t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let r=Math.cos(t),i=Math.sin(t),s=1-r,n=e.x,a=e.y,o=e.z,l=s*n,c=s*a;return this.set(l*n+r,l*a-i*o,l*o+i*a,0,l*a+i*o,c*a+r,c*o-i*n,0,l*o-i*a,c*o+i*n,s*o*o+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,n){return this.set(1,r,s,0,e,1,n,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){let i=this.elements,s=t._x,n=t._y,a=t._z,o=t._w,l=s+s,c=n+n,h=a+a,u=s*l,d=s*c,p=s*h,g=n*c,m=n*h,f=a*h,v=o*l,x=o*c,b=o*h,y=r.x,w=r.y,_=r.z;return i[0]=(1-(g+f))*y,i[1]=(d+b)*y,i[2]=(p-x)*y,i[3]=0,i[4]=(d-b)*w,i[5]=(1-(u+f))*w,i[6]=(m+v)*w,i[7]=0,i[8]=(p+x)*_,i[9]=(m-v)*_,i[10]=(1-(u+g))*_,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){let i=this.elements,s=xl.set(i[0],i[1],i[2]).length(),n=xl.set(i[4],i[5],i[6]).length(),a=xl.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],xs.copy(this);let o=1/s,l=1/n,c=1/a;return xs.elements[0]*=o,xs.elements[1]*=o,xs.elements[2]*=o,xs.elements[4]*=l,xs.elements[5]*=l,xs.elements[6]*=l,xs.elements[8]*=c,xs.elements[9]*=c,xs.elements[10]*=c,t.setFromRotationMatrix(xs),r.x=s,r.y=n,r.z=a,this}makePerspective(e,t,r,i,s,n){n===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");let a=this.elements,o=2*s/(t-e),l=2*s/(r-i),c=(t+e)/(t-e),h=(r+i)/(r-i),u=-(n+s)/(n-s),d=-2*n*s/(n-s);return a[0]=o,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,n){let a=this.elements,o=1/(t-e),l=1/(r-i),c=1/(n-s),h=(t+e)*o,u=(r+i)*l,d=(n+s)*c;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){let t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}},xl=new C,xs=new Xe,dz=new C(0,0,0),hz=new C(1,1,1),va=new C,$h=new C,fi=new C,FS=new Xe,OS=new Xt,Yi=class{constructor(e=0,t=0,r=0,i=Yi.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){let i=e.elements,s=i[0],n=i[4],a=i[8],o=i[1],l=i[5],c=i[9],h=i[2],u=i[6],d=i[10];switch(t){case"XYZ":this._y=Math.asin(Cr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-n,s)):(this._x=Math.atan2(u,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Cr(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Cr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-n,l)):(this._y=0,this._z=Math.atan2(o,s));break;case"ZYX":this._y=Math.asin(-Cr(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(u,d),this._z=Math.atan2(o,s)):(this._x=0,this._z=Math.atan2(-n,l));break;case"YZX":this._z=Math.asin(Cr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-Cr(n,-1,1)),Math.abs(n)<.9999999?(this._x=Math.atan2(u,l),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return FS.makeRotationFromQuaternion(e),this.setFromRotationMatrix(FS,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return OS.setFromEuler(this),this.setFromQuaternion(OS,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}};Yi.DefaultOrder="XYZ";Yi.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];r1=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},pz=0,IS=new C,bl=new Xt,kn=new Xe,Jh=new C,Su=new C,fz=new C,mz=new Xt,RS=new C(1,0,0),NS=new C(0,1,0),US=new C(0,0,1),gz={type:"added"},zS={type:"removed"},Nt=class extends gn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:pz++}),this.uuid=on(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Nt.DefaultUp.clone();let e=new C,t=new Yi,r=new Xt,i=new C(1,1,1);function s(){r.setFromEuler(t,!1)}function n(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(n),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Xe},normalMatrix:{value:new zr}}),this.matrix=new Xe,this.matrixWorld=new Xe,this.matrixAutoUpdate=Nt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new r1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return bl.setFromAxisAngle(e,t),this.quaternion.multiply(bl),this}rotateOnWorldAxis(e,t){return bl.setFromAxisAngle(e,t),this.quaternion.premultiply(bl),this}rotateX(e){return this.rotateOnAxis(RS,e)}rotateY(e){return this.rotateOnAxis(NS,e)}rotateZ(e){return this.rotateOnAxis(US,e)}translateOnAxis(e,t){return IS.copy(e).applyQuaternion(this.quaternion),this.position.add(IS.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(RS,e)}translateY(e){return this.translateOnAxis(NS,e)}translateZ(e){return this.translateOnAxis(US,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(kn.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Jh.copy(e):Jh.set(e,t,r);let i=this.parent;this.updateWorldMatrix(!0,!1),Su.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?kn.lookAt(Su,Jh,this.up):kn.lookAt(Jh,Su,this.up),this.quaternion.setFromRotationMatrix(kn),i&&(kn.extractRotation(i.matrixWorld),bl.setFromRotationMatrix(kn),this.quaternion.premultiply(bl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(gz)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(zS)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(zS)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),kn.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),kn.multiply(e.parent.matrixWorld)),e.applyMatrix4(kn),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){let s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Su,e,fz),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Su,mz,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){let r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let i=this.children;for(let s=0,n=i.length;s<n;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){let t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,o){return a[o.uuid]===void 0&&(a[o.uuid]=o.toJSON(e)),o.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);let a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){let o=a.shapes;if(Array.isArray(o))for(let l=0,c=o.length;l<c;l++){let h=o[l];s(e.shapes,h)}else s(e.shapes,o)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let a=[];for(let o=0,l=this.material.length;o<l;o++)a.push(s(e.materials,this.material[o]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){let o=this.animations[a];i.animations.push(s(e.animations,o))}}if(t){let a=n(e.geometries),o=n(e.materials),l=n(e.textures),c=n(e.images),h=n(e.shapes),u=n(e.skeletons),d=n(e.animations),p=n(e.nodes);a.length>0&&(r.geometries=a),o.length>0&&(r.materials=o),l.length>0&&(r.textures=l),c.length>0&&(r.images=c),h.length>0&&(r.shapes=h),u.length>0&&(r.skeletons=u),d.length>0&&(r.animations=d),p.length>0&&(r.nodes=p)}return r.object=i,r;function n(a){let o=[];for(let l in a){let c=a[l];delete c.metadata,o.push(c)}return o}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){let i=e.children[r];this.add(i.clone())}return this}};Nt.DefaultUp=new C(0,1,0);Nt.DefaultMatrixAutoUpdate=!0;bs=new C,Pn=new C,zv=new C,Bn=new C,wl=new C,_l=new C,jS=new C,jv=new C,Hv=new C,Vv=new C,Xi=class{constructor(e=new C,t=new C,r=new C){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),bs.subVectors(e,t),i.cross(bs);let s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){bs.subVectors(i,t),Pn.subVectors(r,t),zv.subVectors(e,t);let n=bs.dot(bs),a=bs.dot(Pn),o=bs.dot(zv),l=Pn.dot(Pn),c=Pn.dot(zv),h=n*l-a*a;if(h===0)return s.set(-2,-1,-1);let u=1/h,d=(l*o-a*c)*u,p=(n*c-a*o)*u;return s.set(1-d-p,p,d)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Bn),Bn.x>=0&&Bn.y>=0&&Bn.x+Bn.y<=1}static getUV(e,t,r,i,s,n,a,o){return this.getBarycoord(e,t,r,i,Bn),o.set(0,0),o.addScaledVector(s,Bn.x),o.addScaledVector(n,Bn.y),o.addScaledVector(a,Bn.z),o}static isFrontFacing(e,t,r,i){return bs.subVectors(r,t),Pn.subVectors(e,t),bs.cross(Pn).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return bs.subVectors(this.c,this.b),Pn.subVectors(this.a,this.b),bs.cross(Pn).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Xi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Xi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Xi.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Xi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Xi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let r=this.a,i=this.b,s=this.c,n,a;wl.subVectors(i,r),_l.subVectors(s,r),jv.subVectors(e,r);let o=wl.dot(jv),l=_l.dot(jv);if(o<=0&&l<=0)return t.copy(r);Hv.subVectors(e,i);let c=wl.dot(Hv),h=_l.dot(Hv);if(c>=0&&h<=c)return t.copy(i);let u=o*h-c*l;if(u<=0&&o>=0&&c<=0)return n=o/(o-c),t.copy(r).addScaledVector(wl,n);Vv.subVectors(e,s);let d=wl.dot(Vv),p=_l.dot(Vv);if(p>=0&&d<=p)return t.copy(s);let g=d*l-o*p;if(g<=0&&l>=0&&p<=0)return a=l/(l-p),t.copy(r).addScaledVector(_l,a);let m=c*p-d*h;if(m<=0&&h-c>=0&&d-p>=0)return jS.subVectors(s,i),a=(h-c)/(h-c+(d-p)),t.copy(i).addScaledVector(jS,a);let f=1/(m+g+u);return n=g*f,a=u*f,t.copy(r).addScaledVector(wl,n).addScaledVector(_l,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},vz=0,bd=class extends gn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:vz++}),this.uuid=on(),this.name="",this.type="Material",this.blending=Eo,this.side=Ia,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=t3,this.blendDst=r3,this.blendEquation=Ol,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=N0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=GU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Mv,this.stencilZFail=Mv,this.stencilZPass=Mv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===Z5;continue}let i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Eo&&(r.blending=this.blending),this.side!==Ia&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){let n=[];for(let a in s){let o=s[a];delete o.metadata,n.push(o)}return n}if(t){let s=i(e.textures),n=i(e.images);s.length>0&&(r.textures=s),n.length>0&&(r.images=n)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,r=null;if(t!==null){let i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},ec=class extends bd{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=i3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},cr=new C,Kh=new se,wt=class{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=V0,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){let t=this.array,r=0;for(let i=0,s=e.length;i<s;i++){let n=e[i];n===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),n=new lt),t[r++]=n.r,t[r++]=n.g,t[r++]=n.b}return this}copyVector2sArray(e){let t=this.array,r=0;for(let i=0,s=e.length;i<s;i++){let n=e[i];n===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),n=new se),t[r++]=n.x,t[r++]=n.y}return this}copyVector3sArray(e){let t=this.array,r=0;for(let i=0,s=e.length;i<s;i++){let n=e[i];n===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),n=new C),t[r++]=n.x,t[r++]=n.y,t[r++]=n.z}return this}copyVector4sArray(e){let t=this.array,r=0;for(let i=0,s=e.length;i<s;i++){let n=e[i];n===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),n=new yt),t[r++]=n.x,t[r++]=n.y,t[r++]=n.z,t[r++]=n.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Kh.fromBufferAttribute(this,t),Kh.applyMatrix3(e),this.setXY(t,Kh.x,Kh.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.applyMatrix3(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.applyMatrix4(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.applyNormalMatrix(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.transformDirection(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==V0&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}},d3=class extends wt{constructor(e,t,r){super(new Uint16Array(e),t,r)}},Qu=class extends wt{constructor(e,t,r){super(new Uint32Array(e),t,r)}},Ve=class extends wt{constructor(e,t,r){super(new Float32Array(e),t,r)}},yz=0,Ri=new Xe,Gv=new Nt,Dl=new C,mi=new yr,Au=new yr,Ar=new C,ft=class extends gn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:yz++}),this.uuid=on(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(a3(e)?Qu:d3)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let r=this.attributes.normal;if(r!==void 0){let s=new zr().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}let i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ri.makeRotationFromQuaternion(e),this.applyMatrix4(Ri),this}rotateX(e){return Ri.makeRotationX(e),this.applyMatrix4(Ri),this}rotateY(e){return Ri.makeRotationY(e),this.applyMatrix4(Ri),this}rotateZ(e){return Ri.makeRotationZ(e),this.applyMatrix4(Ri),this}translate(e,t,r){return Ri.makeTranslation(e,t,r),this.applyMatrix4(Ri),this}scale(e,t,r){return Ri.makeScale(e,t,r),this.applyMatrix4(Ri),this}lookAt(e){return Gv.lookAt(e),Gv.updateMatrix(),this.applyMatrix4(Gv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Dl).negate(),this.translate(Dl.x,Dl.y,Dl.z),this}setFromPoints(e){let t=[];for(let r=0,i=e.length;r<i;r++){let s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ve(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new yr);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new C(-1/0,-1/0,-1/0),new C(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){let s=t[r];mi.setFromBufferAttribute(s),this.morphTargetsRelative?(Ar.addVectors(this.boundingBox.min,mi.min),this.boundingBox.expandByPoint(Ar),Ar.addVectors(this.boundingBox.max,mi.max),this.boundingBox.expandByPoint(Ar)):(this.boundingBox.expandByPoint(mi.min),this.boundingBox.expandByPoint(mi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ms);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new C,1/0);return}if(e){let r=this.boundingSphere.center;if(mi.setFromBufferAttribute(e),t)for(let s=0,n=t.length;s<n;s++){let a=t[s];Au.setFromBufferAttribute(a),this.morphTargetsRelative?(Ar.addVectors(mi.min,Au.min),mi.expandByPoint(Ar),Ar.addVectors(mi.max,Au.max),mi.expandByPoint(Ar)):(mi.expandByPoint(Au.min),mi.expandByPoint(Au.max))}mi.getCenter(r);let i=0;for(let s=0,n=e.count;s<n;s++)Ar.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Ar));if(t)for(let s=0,n=t.length;s<n;s++){let a=t[s],o=this.morphTargetsRelative;for(let l=0,c=a.count;l<c;l++)Ar.fromBufferAttribute(a,l),o&&(Dl.fromBufferAttribute(e,l),Ar.add(Dl)),i=Math.max(i,r.distanceToSquared(Ar))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let r=e.array,i=t.position.array,s=t.normal.array,n=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new wt(new Float32Array(4*a),4));let o=this.getAttribute("tangent").array,l=[],c=[];for(let A=0;A<a;A++)l[A]=new C,c[A]=new C;let h=new C,u=new C,d=new C,p=new se,g=new se,m=new se,f=new C,v=new C;function x(A,E,M){h.fromArray(i,A*3),u.fromArray(i,E*3),d.fromArray(i,M*3),p.fromArray(n,A*2),g.fromArray(n,E*2),m.fromArray(n,M*2),u.sub(h),d.sub(h),g.sub(p),m.sub(p);let I=1/(g.x*m.y-m.x*g.y);!isFinite(I)||(f.copy(u).multiplyScalar(m.y).addScaledVector(d,-g.y).multiplyScalar(I),v.copy(d).multiplyScalar(g.x).addScaledVector(u,-m.x).multiplyScalar(I),l[A].add(f),l[E].add(f),l[M].add(f),c[A].add(v),c[E].add(v),c[M].add(v))}let b=this.groups;b.length===0&&(b=[{start:0,count:r.length}]);for(let A=0,E=b.length;A<E;++A){let M=b[A],I=M.start,V=M.count;for(let P=I,Q=I+V;P<Q;P+=3)x(r[P+0],r[P+1],r[P+2])}let y=new C,w=new C,_=new C,D=new C;function S(A){_.fromArray(s,A*3),D.copy(_);let E=l[A];y.copy(E),y.sub(_.multiplyScalar(_.dot(E))).normalize(),w.crossVectors(D,E);let M=w.dot(c[A])<0?-1:1;o[A*4]=y.x,o[A*4+1]=y.y,o[A*4+2]=y.z,o[A*4+3]=M}for(let A=0,E=b.length;A<E;++A){let M=b[A],I=M.start,V=M.count;for(let P=I,Q=I+V;P<Q;P+=3)S(r[P+0]),S(r[P+1]),S(r[P+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new wt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let u=0,d=r.count;u<d;u++)r.setXYZ(u,0,0,0);let i=new C,s=new C,n=new C,a=new C,o=new C,l=new C,c=new C,h=new C;if(e)for(let u=0,d=e.count;u<d;u+=3){let p=e.getX(u+0),g=e.getX(u+1),m=e.getX(u+2);i.fromBufferAttribute(t,p),s.fromBufferAttribute(t,g),n.fromBufferAttribute(t,m),c.subVectors(n,s),h.subVectors(i,s),c.cross(h),a.fromBufferAttribute(r,p),o.fromBufferAttribute(r,g),l.fromBufferAttribute(r,m),a.add(c),o.add(c),l.add(c),r.setXYZ(p,a.x,a.y,a.z),r.setXYZ(g,o.x,o.y,o.z),r.setXYZ(m,l.x,l.y,l.z)}else for(let u=0,d=t.count;u<d;u+=3)i.fromBufferAttribute(t,u+0),s.fromBufferAttribute(t,u+1),n.fromBufferAttribute(t,u+2),c.subVectors(n,s),h.subVectors(i,s),c.cross(h),r.setXYZ(u+0,c.x,c.y,c.z),r.setXYZ(u+1,c.x,c.y,c.z),r.setXYZ(u+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));let r=this.attributes;for(let i in r){if(e.attributes[i]===void 0)continue;let s=r[i].array,n=e.attributes[i],a=n.array,o=n.itemSize*t,l=Math.min(a.length,s.length-o);for(let c=0,h=o;c<l;c++,h++)s[h]=a[c]}return this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ar.fromBufferAttribute(e,t),Ar.normalize(),e.setXYZ(t,Ar.x,Ar.y,Ar.z)}toNonIndexed(){function e(a,o){let l=a.array,c=a.itemSize,h=a.normalized,u=new l.constructor(o.length*c),d=0,p=0;for(let g=0,m=o.length;g<m;g++){a.isInterleavedBufferAttribute?d=o[g]*a.data.stride+a.offset:d=o[g]*c;for(let f=0;f<c;f++)u[p++]=l[d++]}return new wt(u,c,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new ft,r=this.index.array,i=this.attributes;for(let a in i){let o=i[a],l=e(o,r);t.setAttribute(a,l)}let s=this.morphAttributes;for(let a in s){let o=[],l=s[a];for(let c=0,h=l.length;c<h;c++){let u=l[c],d=e(u,r);o.push(d)}t.morphAttributes[a]=o}t.morphTargetsRelative=this.morphTargetsRelative;let n=this.groups;for(let a=0,o=n.length;a<o;a++){let l=n[a];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let o=this.parameters;for(let l in o)o[l]!==void 0&&(e[l]=o[l]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let r=this.attributes;for(let o in r){let l=r[o];e.data.attributes[o]=l.toJSON(e.data)}let i={},s=!1;for(let o in this.morphAttributes){let l=this.morphAttributes[o],c=[];for(let h=0,u=l.length;h<u;h++){let d=l[h];c.push(d.toJSON(e.data))}c.length>0&&(i[o]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let n=this.groups;n.length>0&&(e.data.groups=JSON.parse(JSON.stringify(n)));let a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let r=e.index;r!==null&&this.setIndex(r.clone(t));let i=e.attributes;for(let l in i){let c=i[l];this.setAttribute(l,c.clone(t))}let s=e.morphAttributes;for(let l in s){let c=[],h=s[l];for(let u=0,d=h.length;u<d;u++)c.push(h[u].clone(t));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;let n=e.groups;for(let l=0,c=n.length;l<c;l++){let h=n[l];this.addGroup(h.start,h.count,h.materialIndex)}let a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());let o=e.boundingSphere;return o!==null&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}},HS=new Xe,Sl=new xd,Wv=new Ms,ya=new C,xa=new C,ba=new C,qv=new C,Yv=new C,Xv=new C,ep=new C,tp=new C,rp=new C,ip=new se,sp=new se,np=new se,Qv=new C,ap=new C,vi=class extends Nt{constructor(e=new ft,t=new ec){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let r=e[t[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,s=r.length;i<s;i++){let n=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=i}}}}raycast(e,t){let r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Wv.copy(r.boundingSphere),Wv.applyMatrix4(s),e.ray.intersectsSphere(Wv)===!1)||(HS.copy(s).invert(),Sl.copy(e.ray).applyMatrix4(HS),r.boundingBox!==null&&Sl.intersectsBox(r.boundingBox)===!1))return;let n,a=r.index,o=r.attributes.position,l=r.morphAttributes.position,c=r.morphTargetsRelative,h=r.attributes.uv,u=r.attributes.uv2,d=r.groups,p=r.drawRange;if(a!==null)if(Array.isArray(i))for(let g=0,m=d.length;g<m;g++){let f=d[g],v=i[f.materialIndex],x=Math.max(f.start,p.start),b=Math.min(a.count,Math.min(f.start+f.count,p.start+p.count));for(let y=x,w=b;y<w;y+=3){let _=a.getX(y),D=a.getX(y+1),S=a.getX(y+2);n=op(this,v,e,Sl,o,l,c,h,u,_,D,S),n&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=f.materialIndex,t.push(n))}}else{let g=Math.max(0,p.start),m=Math.min(a.count,p.start+p.count);for(let f=g,v=m;f<v;f+=3){let x=a.getX(f),b=a.getX(f+1),y=a.getX(f+2);n=op(this,i,e,Sl,o,l,c,h,u,x,b,y),n&&(n.faceIndex=Math.floor(f/3),t.push(n))}}else if(o!==void 0)if(Array.isArray(i))for(let g=0,m=d.length;g<m;g++){let f=d[g],v=i[f.materialIndex],x=Math.max(f.start,p.start),b=Math.min(o.count,Math.min(f.start+f.count,p.start+p.count));for(let y=x,w=b;y<w;y+=3){let _=y,D=y+1,S=y+2;n=op(this,v,e,Sl,o,l,c,h,u,_,D,S),n&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=f.materialIndex,t.push(n))}}else{let g=Math.max(0,p.start),m=Math.min(o.count,p.start+p.count);for(let f=g,v=m;f<v;f+=3){let x=f,b=f+1,y=f+2;n=op(this,i,e,Sl,o,l,c,h,u,x,b,y),n&&(n.faceIndex=Math.floor(f/3),t.push(n))}}}};Ra=class extends ft{constructor(e=1,t=1,r=1,i=1,s=1,n=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:n};let a=this;i=Math.floor(i),s=Math.floor(s),n=Math.floor(n);let o=[],l=[],c=[],h=[],u=0,d=0;p("z","y","x",-1,-1,r,t,e,n,s,0),p("z","y","x",1,-1,r,t,-e,n,s,1),p("x","z","y",1,1,e,r,t,i,n,2),p("x","z","y",1,-1,e,r,-t,i,n,3),p("x","y","z",1,-1,e,t,r,i,s,4),p("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(o),this.setAttribute("position",new Ve(l,3)),this.setAttribute("normal",new Ve(c,3)),this.setAttribute("uv",new Ve(h,2));function p(g,m,f,v,x,b,y,w,_,D,S){let A=b/_,E=y/D,M=b/2,I=y/2,V=w/2,P=_+1,Q=D+1,G=0,X=0,F=new C;for(let z=0;z<Q;z++){let j=z*E-I;for(let Z=0;Z<P;Z++){let U=Z*A-M;F[g]=U*v,F[m]=j*x,F[f]=V,l.push(F.x,F.y,F.z),F[g]=0,F[m]=0,F[f]=w>0?1:-1,c.push(F.x,F.y,F.z),h.push(Z/_),h.push(1-z/D),G+=1}}for(let z=0;z<D;z++)for(let j=0;j<_;j++){let Z=u+j+P*z,U=u+j+P*(z+1),J=u+(j+1)+P*(z+1),oe=u+(j+1)+P*z;o.push(Z,U,oe),o.push(U,J,oe),X+=6}a.addGroup(d,X,S),d+=X,u+=G}}static fromJSON(e){return new Ra(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};lc={clone:tc,merge:Nr},bz=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,wz=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,un=class extends bd{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=bz,this.fragmentShader=wz,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=tc(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let i in this.uniforms){let s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let r={};for(let i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}},cc=class extends Nt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Xe,this.projectionMatrix=new Xe,this.projectionMatrixInverse=new Xe}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},ei=class extends cc{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=sd*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(Yu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return sd*2*Math.atan(Math.tan(Yu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,n){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=n,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(Yu*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i,n=this.view;if(this.view!==null&&this.view.enabled){let o=n.fullWidth,l=n.fullHeight;s+=n.offsetX*i/o,t-=n.offsetY*r/l,i*=n.width/o,r*=n.height/l}let a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}},Al=90,El=1,_z=class extends Nt{constructor(e,t,r){if(super(),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;let i=new ei(Al,El,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new C(1,0,0)),this.add(i);let s=new ei(Al,El,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new C(-1,0,0)),this.add(s);let n=new ei(Al,El,e,t);n.layers=this.layers,n.up.set(0,0,1),n.lookAt(new C(0,1,0)),this.add(n);let a=new ei(Al,El,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new C(0,-1,0)),this.add(a);let o=new ei(Al,El,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new C(0,0,1)),this.add(o);let l=new ei(Al,El,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new C(0,0,-1)),this.add(l)}update(e,t){this.parent===null&&this.updateMatrixWorld();let r=this.renderTarget,[i,s,n,a,o,l]=this.children,c=e.getRenderTarget(),h=e.toneMapping,u=e.xr.enabled;e.toneMapping=Un,e.xr.enabled=!1;let d=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,n),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,o),r.texture.generateMipmaps=d,e.setRenderTarget(r,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=h,e.xr.enabled=u,r.texture.needsPMREMUpdate=!0}},i1=class extends xi{constructor(e,t,r,i,s,n,a,o,l,c){e=e!==void 0?e:[],t=t!==void 0?t:Po,super(e,t,r,i,s,n,a,o,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},Dz=class extends Oo{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new i1(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Wi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Ra(5,5,5),s=new un({name:"CubemapFromEquirect",uniforms:tc(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:yi,blending:Pa});s.uniforms.tEquirect.value=t;let n=new vi(i,s),a=t.minFilter;return t.minFilter===mf&&(t.minFilter=Wi),new _z(1,10,this).update(e,n),t.minFilter=a,n.geometry.dispose(),n.material.dispose(),this}clear(e,t,r,i){let s=e.getRenderTarget();for(let n=0;n<6;n++)e.setRenderTarget(this,n),e.clear(t,r,i);e.setRenderTarget(s)}},Zv=new C,Sz=new C,Az=new zr,qi=class{constructor(e=new C(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){let i=Zv.subVectors(r,t).cross(Sz.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let r=e.delta(Zv),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let r=t||Az.getNormalMatrix(e),i=this.coplanarPoint(Zv).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}},Cl=new Ms,lp=new C,s1=class{constructor(e=new qi,t=new qi,r=new qi,i=new qi,s=new qi,n=new qi){this.planes=[e,t,r,i,s,n]}set(e,t,r,i,s,n){let a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(n),this}copy(e){let t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){let t=this.planes,r=e.elements,i=r[0],s=r[1],n=r[2],a=r[3],o=r[4],l=r[5],c=r[6],h=r[7],u=r[8],d=r[9],p=r[10],g=r[11],m=r[12],f=r[13],v=r[14],x=r[15];return t[0].setComponents(a-i,h-o,g-u,x-m).normalize(),t[1].setComponents(a+i,h+o,g+u,x+m).normalize(),t[2].setComponents(a+s,h+l,g+d,x+f).normalize(),t[3].setComponents(a-s,h-l,g-d,x-f).normalize(),t[4].setComponents(a-n,h-c,g-p,x-v).normalize(),t[5].setComponents(a+n,h+c,g+p,x+v).normalize(),this}intersectsObject(e){let t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Cl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Cl)}intersectsSprite(e){return Cl.center.set(0,0,0),Cl.radius=.7071067811865476,Cl.applyMatrix4(e.matrixWorld),this.intersectsSphere(Cl)}intersectsSphere(e){let t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){let t=this.planes;for(let r=0;r<6;r++){let i=t[r];if(lp.x=i.normal.x>0?e.max.x:e.min.x,lp.y=i.normal.y>0?e.max.y:e.min.y,lp.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(lp)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};gf=class extends ft{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};let s=e/2,n=t/2,a=Math.floor(r),o=Math.floor(i),l=a+1,c=o+1,h=e/a,u=t/o,d=[],p=[],g=[],m=[];for(let f=0;f<c;f++){let v=f*u-n;for(let x=0;x<l;x++){let b=x*h-s;p.push(b,-v,0),g.push(0,0,1),m.push(x/a),m.push(1-f/o)}}for(let f=0;f<o;f++)for(let v=0;v<a;v++){let x=v+l*f,b=v+l*(f+1),y=v+1+l*(f+1),w=v+1+l*f;d.push(x,b,w),d.push(b,y,w)}this.setIndex(d),this.setAttribute("position",new Ve(p,3)),this.setAttribute("normal",new Ve(g,3)),this.setAttribute("uv",new Ve(m,2))}static fromJSON(e){return new gf(e.width,e.height,e.widthSegments,e.heightSegments)}},Cz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Tz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Mz=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Lz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,kz=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Pz=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Bz="vec3 transformed = vec3( position );",Fz=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Oz=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Iz=`#ifdef USE_IRIDESCENCE
const mat3 XYZ_TO_REC709 = mat3(
    3.2404542, -0.9692660,  0.0556434,
   -1.5371385,  1.8760108, -0.2040259,
   -0.4985314,  0.0415560,  1.0572252
);
vec3 Fresnel0ToIor( vec3 fresnel0 ) {
   vec3 sqrtF0 = sqrt( fresnel0 );
   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
}
vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
}
float IorToFresnel0( float transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
}
vec3 evalSensitivity( float OPD, vec3 shift ) {
   float phase = 2.0 * PI * OPD * 1.0e-9;
   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );
   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );
   xyz /= 1.0685e-7;
   vec3 srgb = XYZ_TO_REC709 * xyz;
   return srgb;
}
vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
   vec3 I;
   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
   float cosTheta2Sq = 1.0 - sinTheta2Sq;
   if ( cosTheta2Sq < 0.0 ) {
       return vec3( 1.0 );
   }
   float cosTheta2 = sqrt( cosTheta2Sq );
   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
   float R12 = F_Schlick( R0, 1.0, cosTheta1 );
   float R21 = R12;
   float T121 = 1.0 - R12;
   float phi12 = 0.0;
   if ( iridescenceIOR < outsideIOR ) phi12 = PI;
   float phi21 = PI - phi12;
   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
   vec3 phi23 = vec3( 0.0 );
   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;
   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;
   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;
   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
   vec3 phi = vec3( phi21 ) + phi23;
   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
   vec3 r123 = sqrt( R123 );
   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
   vec3 C0 = R12 + Rs;
   I = C0;
   vec3 Cm = Rs - T121;
   for ( int m = 1; m <= 2; ++m ) {
       Cm *= r123;
       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
       I += Cm * Sm;
   }
   return max( I, vec3( 0.0 ) );
}
#endif`,Rz=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Nz=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Uz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,zz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,jz=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Hz=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Vz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Gz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Wz=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,qz=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Yz=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Xz=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Qz=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Zz=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,$z=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Jz=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Kz="gl_FragColor = linearToOutputTexel( gl_FragColor );",e8=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,t8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,r8=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,i8=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,s8=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,n8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,a8=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,o8=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,l8=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,c8=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,u8=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,d8=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,h8=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,p8=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,f8=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,m8=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,g8=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,v8=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,y8=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,x8=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,b8=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,w8=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,_8=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
float dotNVi = saturate( dot( normal, geometry.viewDir ) );
if ( material.iridescenceThickness == 0.0 ) {
	material.iridescence = 0.0;
} else {
	material.iridescence = saturate( material.iridescence );
}
if ( material.iridescence > 0.0 ) {
	material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
	material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,D8=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,S8=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,A8=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,E8=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,C8=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,T8=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,M8=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,L8=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,k8=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,P8=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,B8=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,F8=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,O8=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,I8=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,R8=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,N8=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,U8=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,z8=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,j8=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,H8=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,V8=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,G8=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,W8=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,q8=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Y8=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,X8=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Q8=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Z8=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,$8=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,J8=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,K8=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,e7=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,t7=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,r7=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,i7=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,s7=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,n7=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,a7=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,o7=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,l7=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,c7=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,u7=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,d7=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,h7=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,p7=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,f7=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,m7=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,g7=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,v7=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,y7=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,x7=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,b7=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,w7=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,_7=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,D7=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,S7=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,A7=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,E7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,C7=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,T7=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,M7=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,L7=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,k7=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,P7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,B7=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,F7=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,O7=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,I7=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,R7=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,N7=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,U7=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,z7=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,j7=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,H7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,V7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,G7=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,W7=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,q7=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Y7=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,X7=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Q7=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Z7=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,$7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,J7=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,K7=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ej=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,mt={alphamap_fragment:Cz,alphamap_pars_fragment:Tz,alphatest_fragment:Mz,alphatest_pars_fragment:Lz,aomap_fragment:kz,aomap_pars_fragment:Pz,begin_vertex:Bz,beginnormal_vertex:Fz,bsdfs:Oz,iridescence_fragment:Iz,bumpmap_pars_fragment:Rz,clipping_planes_fragment:Nz,clipping_planes_pars_fragment:Uz,clipping_planes_pars_vertex:zz,clipping_planes_vertex:jz,color_fragment:Hz,color_pars_fragment:Vz,color_pars_vertex:Gz,color_vertex:Wz,common:qz,cube_uv_reflection_fragment:Yz,defaultnormal_vertex:Xz,displacementmap_pars_vertex:Qz,displacementmap_vertex:Zz,emissivemap_fragment:$z,emissivemap_pars_fragment:Jz,encodings_fragment:Kz,encodings_pars_fragment:e8,envmap_fragment:t8,envmap_common_pars_fragment:r8,envmap_pars_fragment:i8,envmap_pars_vertex:s8,envmap_physical_pars_fragment:m8,envmap_vertex:n8,fog_vertex:a8,fog_pars_vertex:o8,fog_fragment:l8,fog_pars_fragment:c8,gradientmap_pars_fragment:u8,lightmap_fragment:d8,lightmap_pars_fragment:h8,lights_lambert_vertex:p8,lights_pars_begin:f8,lights_toon_fragment:g8,lights_toon_pars_fragment:v8,lights_phong_fragment:y8,lights_phong_pars_fragment:x8,lights_physical_fragment:b8,lights_physical_pars_fragment:w8,lights_fragment_begin:_8,lights_fragment_maps:D8,lights_fragment_end:S8,logdepthbuf_fragment:A8,logdepthbuf_pars_fragment:E8,logdepthbuf_pars_vertex:C8,logdepthbuf_vertex:T8,map_fragment:M8,map_pars_fragment:L8,map_particle_fragment:k8,map_particle_pars_fragment:P8,metalnessmap_fragment:B8,metalnessmap_pars_fragment:F8,morphcolor_vertex:O8,morphnormal_vertex:I8,morphtarget_pars_vertex:R8,morphtarget_vertex:N8,normal_fragment_begin:U8,normal_fragment_maps:z8,normal_pars_fragment:j8,normal_pars_vertex:H8,normal_vertex:V8,normalmap_pars_fragment:G8,clearcoat_normal_fragment_begin:W8,clearcoat_normal_fragment_maps:q8,clearcoat_pars_fragment:Y8,iridescence_pars_fragment:X8,output_fragment:Q8,packing:Z8,premultiplied_alpha_fragment:$8,project_vertex:J8,dithering_fragment:K8,dithering_pars_fragment:e7,roughnessmap_fragment:t7,roughnessmap_pars_fragment:r7,shadowmap_pars_fragment:i7,shadowmap_pars_vertex:s7,shadowmap_vertex:n7,shadowmask_pars_fragment:a7,skinbase_vertex:o7,skinning_pars_vertex:l7,skinning_vertex:c7,skinnormal_vertex:u7,specularmap_fragment:d7,specularmap_pars_fragment:h7,tonemapping_fragment:p7,tonemapping_pars_fragment:f7,transmission_fragment:m7,transmission_pars_fragment:g7,uv_pars_fragment:v7,uv_pars_vertex:y7,uv_vertex:x7,uv2_pars_fragment:b7,uv2_pars_vertex:w7,uv2_vertex:_7,worldpos_vertex:D7,background_vert:S7,background_frag:A7,cube_vert:E7,cube_frag:C7,depth_vert:T7,depth_frag:M7,distanceRGBA_vert:L7,distanceRGBA_frag:k7,equirect_vert:P7,equirect_frag:B7,linedashed_vert:F7,linedashed_frag:O7,meshbasic_vert:I7,meshbasic_frag:R7,meshlambert_vert:N7,meshlambert_frag:U7,meshmatcap_vert:z7,meshmatcap_frag:j7,meshnormal_vert:H7,meshnormal_frag:V7,meshphong_vert:G7,meshphong_frag:W7,meshphysical_vert:q7,meshphysical_frag:Y7,meshtoon_vert:X7,meshtoon_frag:Q7,points_vert:Z7,points_frag:$7,shadow_vert:J7,shadow_frag:K7,sprite_vert:ej,sprite_frag:tj},Re={common:{diffuse:{value:new lt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new zr},uv2Transform:{value:new zr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new se(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new zr}},sprite:{diffuse:{value:new lt(16777215)},opacity:{value:1},center:{value:new se(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new zr}}},Xs={basic:{uniforms:Nr([Re.common,Re.specularmap,Re.envmap,Re.aomap,Re.lightmap,Re.fog]),vertexShader:mt.meshbasic_vert,fragmentShader:mt.meshbasic_frag},lambert:{uniforms:Nr([Re.common,Re.specularmap,Re.envmap,Re.aomap,Re.lightmap,Re.emissivemap,Re.fog,Re.lights,{emissive:{value:new lt(0)}}]),vertexShader:mt.meshlambert_vert,fragmentShader:mt.meshlambert_frag},phong:{uniforms:Nr([Re.common,Re.specularmap,Re.envmap,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.fog,Re.lights,{emissive:{value:new lt(0)},specular:{value:new lt(1118481)},shininess:{value:30}}]),vertexShader:mt.meshphong_vert,fragmentShader:mt.meshphong_frag},standard:{uniforms:Nr([Re.common,Re.envmap,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.roughnessmap,Re.metalnessmap,Re.fog,Re.lights,{emissive:{value:new lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mt.meshphysical_vert,fragmentShader:mt.meshphysical_frag},toon:{uniforms:Nr([Re.common,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.gradientmap,Re.fog,Re.lights,{emissive:{value:new lt(0)}}]),vertexShader:mt.meshtoon_vert,fragmentShader:mt.meshtoon_frag},matcap:{uniforms:Nr([Re.common,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.fog,{matcap:{value:null}}]),vertexShader:mt.meshmatcap_vert,fragmentShader:mt.meshmatcap_frag},points:{uniforms:Nr([Re.points,Re.fog]),vertexShader:mt.points_vert,fragmentShader:mt.points_frag},dashed:{uniforms:Nr([Re.common,Re.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mt.linedashed_vert,fragmentShader:mt.linedashed_frag},depth:{uniforms:Nr([Re.common,Re.displacementmap]),vertexShader:mt.depth_vert,fragmentShader:mt.depth_frag},normal:{uniforms:Nr([Re.common,Re.bumpmap,Re.normalmap,Re.displacementmap,{opacity:{value:1}}]),vertexShader:mt.meshnormal_vert,fragmentShader:mt.meshnormal_frag},sprite:{uniforms:Nr([Re.sprite,Re.fog]),vertexShader:mt.sprite_vert,fragmentShader:mt.sprite_frag},background:{uniforms:{uvTransform:{value:new zr},t2D:{value:null}},vertexShader:mt.background_vert,fragmentShader:mt.background_frag},cube:{uniforms:Nr([Re.envmap,{opacity:{value:1}}]),vertexShader:mt.cube_vert,fragmentShader:mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mt.equirect_vert,fragmentShader:mt.equirect_frag},distanceRGBA:{uniforms:Nr([Re.common,Re.displacementmap,{referencePosition:{value:new C},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mt.distanceRGBA_vert,fragmentShader:mt.distanceRGBA_frag},shadow:{uniforms:Nr([Re.lights,Re.fog,{color:{value:new lt(0)},opacity:{value:1}}]),vertexShader:mt.shadow_vert,fragmentShader:mt.shadow_frag}};Xs.physical={uniforms:Nr([Xs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new se(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new lt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new se},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new lt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new lt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:mt.meshphysical_vert,fragmentShader:mt.meshphysical_frag};n1=class extends cc{constructor(e=-1,t=1,r=1,i=-1,s=.1,n=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=n,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,n){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=n,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2,s=r-e,n=r+e,a=i+t,o=i-t;if(this.view!==null&&this.view.enabled){let l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=l*this.view.offsetX,n=s+l*this.view.width,a-=c*this.view.offsetY,o=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,n,a,o,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}},zl=4,VS=[.125,.215,.35,.446,.526,.582],bo=20,$v=new n1,GS=new lt,Jv=null,go=(1+Math.sqrt(5))/2,Tl=1/go,WS=[new C(1,1,1),new C(-1,1,1),new C(1,1,-1),new C(-1,1,-1),new C(0,go,Tl),new C(0,go,-Tl),new C(Tl,0,go),new C(-Tl,0,go),new C(go,Tl,0),new C(-go,Tl,0)],qS=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){Jv=this._renderer.getRenderTarget(),this._setSize(256);let s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=QS(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=XS(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Jv),e.scissorTest=!1,cp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Po||e.mapping===Bo?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Jv=this._renderer.getRenderTarget();let r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Wi,minFilter:Wi,generateMipmaps:!1,type:id,format:Ks,encoding:cn,depthBuffer:!1},i=YS(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=YS(e,t,r);let{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=lj(s)),this._blurMaterial=cj(s,e,t)}return i}_compileMaterial(e){let t=new vi(this._lodPlanes[0],e);this._renderer.compile(t,$v)}_sceneToCubeUV(e,t,r,i){let s=new ei(90,1,t,r),n=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],o=this._renderer,l=o.autoClear,c=o.toneMapping;o.getClearColor(GS),o.toneMapping=Un,o.autoClear=!1;let h=new ec({name:"PMREM.Background",side:yi,depthWrite:!1,depthTest:!1}),u=new vi(new Ra,h),d=!1,p=e.background;p?p.isColor&&(h.color.copy(p),e.background=null,d=!0):(h.color.copy(GS),d=!0);for(let g=0;g<6;g++){let m=g%3;m===0?(s.up.set(0,n[g],0),s.lookAt(a[g],0,0)):m===1?(s.up.set(0,0,n[g]),s.lookAt(0,a[g],0)):(s.up.set(0,n[g],0),s.lookAt(0,0,a[g]));let f=this._cubeSize;cp(i,m*f,g>2?f:0,f,f),o.setRenderTarget(i),d&&o.render(u,s),o.render(e,s)}u.geometry.dispose(),u.material.dispose(),o.toneMapping=c,o.autoClear=l,e.background=p}_textureToCubeUV(e,t){let r=this._renderer,i=e.mapping===Po||e.mapping===Bo;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=QS()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=XS());let s=i?this._cubemapMaterial:this._equirectMaterial,n=new vi(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;let o=this._cubeSize;cp(t,0,0,3*o,2*o),r.setRenderTarget(t),r.render(n,$v)}_applyPMREM(e){let t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){let s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),n=WS[(i-1)%WS.length];this._blur(e,i-1,i,s,n)}t.autoClear=r}_blur(e,t,r,i,s){let n=this._pingPongRenderTarget;this._halfBlur(e,n,t,r,i,"latitudinal",s),this._halfBlur(n,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,n,a){let o=this._renderer,l=this._blurMaterial;n!=="latitudinal"&&n!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let c=3,h=new vi(this._lodPlanes[i],l),u=l.uniforms,d=this._sizeLods[r]-1,p=isFinite(s)?Math.PI/(2*d):2*Math.PI/(2*bo-1),g=s/p,m=isFinite(s)?1+Math.floor(c*g):bo;m>bo&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${bo}`);let f=[],v=0;for(let _=0;_<bo;++_){let D=_/g,S=Math.exp(-D*D/2);f.push(S),_===0?v+=S:_<m&&(v+=2*S)}for(let _=0;_<f.length;_++)f[_]=f[_]/v;u.envMap.value=e.texture,u.samples.value=m,u.weights.value=f,u.latitudinal.value=n==="latitudinal",a&&(u.poleAxis.value=a);let{_lodMax:x}=this;u.dTheta.value=p,u.mipInt.value=x-r;let b=this._sizeLods[i],y=3*b*(i>x-zl?i-x+zl:0),w=4*(this._cubeSize-b);cp(t,y,w,3*b,2*b),o.setRenderTarget(t),o.render(h,$v)}};p3=new xi,f3=new u3,m3=new cz,g3=new i1,ZS=[],$S=[],JS=new Float32Array(16),KS=new Float32Array(9),eA=new Float32Array(4);n9=class{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=Nj(t.type)}},a9=class{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=s9(t.type)}},o9=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){let i=this.seq;for(let s=0,n=i.length;s!==n;++s){let a=i[s];a.setValue(e,t[a.id],r)}}},e0=/(\w+)(\])?(\[|\.)?/g;zp=class{constructor(e,t){this.seq=[],this.map={};let r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){let s=e.getActiveUniform(t,i),n=e.getUniformLocation(t,s.name);l9(s,n,this)}}setValue(e,t,r,i){let s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){let i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,n=t.length;s!==n;++s){let a=t[s],o=r[a.id];o.needsUpdate!==!1&&a.setValue(e,o.value,i)}}static seqWithValue(e,t){let r=[];for(let i=0,s=e.length;i!==s;++i){let n=e[i];n.id in t&&r.push(n)}return r}};c9=0;v9=/^[ \t]*#include +<([\w\d./]+)>/gm;x9=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,b9=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;T9=0,M9=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),n=this._getShaderCacheForMaterial(e);return n.has(i)===!1&&(n.add(i),i.usedTimes++),n.has(s)===!1&&(n.add(s),s.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){let t=this.shaderCache;if(t.has(e)===!1){let r=new L9(e);t.set(e,r)}return t.get(e)}},L9=class{constructor(e){this.id=T9++,this.code=e,this.usedTimes=0}};R9=0;j9=class extends bd{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=zU,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},H9=class extends bd{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new C,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},V9=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,G9=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;Q9=class extends ei{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},ju=class extends Nt{constructor(){super(),this.isGroup=!0,this.type="Group"}},Z9={type:"move"},t0=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ju,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ju,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new C,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new C),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ju,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new C,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new C),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,n=null,a=this._targetRay,o=this._grip,l=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(l&&e.hand){n=!0;for(let g of e.hand.values()){let m=t.getJointPose(g,r);if(l.joints[g.jointName]===void 0){let v=new ju;v.matrixAutoUpdate=!1,v.visible=!1,l.joints[g.jointName]=v,l.add(v)}let f=l.joints[g.jointName];m!==null&&(f.matrix.fromArray(m.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.jointRadius=m.radius),f.visible=m!==null}let c=l.joints["index-finger-tip"],h=l.joints["thumb-tip"],u=c.position.distanceTo(h.position),d=.02,p=.005;l.inputState.pinching&&u>d+p?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&u<=d-p&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else o!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(o.matrix.fromArray(s.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),s.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(s.linearVelocity)):o.hasLinearVelocity=!1,s.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(s.angularVelocity)):o.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Z9)))}return a!==null&&(a.visible=i!==null),o!==null&&(o.visible=s!==null),l!==null&&(l.visible=n!==null),this}},$9=class extends xi{constructor(e,t,r,i,s,n,a,o,l,c){if(c=c!==void 0?c:Co,c!==Co&&c!==Kl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Co&&(r=_o),r===void 0&&c===Kl&&(r=ql),super(null,i,s,n,a,o,c,r,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Kr,this.minFilter=o!==void 0?o:Kr,this.flipY=!1,this.generateMipmaps=!1}},J9=class extends gn{constructor(e,t){super();let r=this,i=null,s=1,n=null,a="local-floor",o=null,l=null,c=null,h=null,u=null,d=null,p=t.getContextAttributes(),g=null,m=null,f=[],v=[],x=new ei;x.layers.enable(1),x.viewport=new yt;let b=new ei;b.layers.enable(2),b.viewport=new yt;let y=[x,b],w=new Q9;w.layers.enable(1),w.layers.enable(2);let _=null,D=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let z=f[F];return z===void 0&&(z=new t0,f[F]=z),z.getTargetRaySpace()},this.getControllerGrip=function(F){let z=f[F];return z===void 0&&(z=new t0,f[F]=z),z.getGripSpace()},this.getHand=function(F){let z=f[F];return z===void 0&&(z=new t0,f[F]=z),z.getHandSpace()};function S(F){let z=v.indexOf(F.inputSource);if(z===-1)return;let j=f[z];j!==void 0&&j.dispatchEvent({type:F.type,data:F.inputSource})}function A(){i.removeEventListener("select",S),i.removeEventListener("selectstart",S),i.removeEventListener("selectend",S),i.removeEventListener("squeeze",S),i.removeEventListener("squeezestart",S),i.removeEventListener("squeezeend",S),i.removeEventListener("end",A),i.removeEventListener("inputsourceschange",E);for(let F=0;F<f.length;F++){let z=v[F];z!==null&&(v[F]=null,f[F].disconnect(z))}_=null,D=null,e.setRenderTarget(g),u=null,h=null,c=null,i=null,m=null,X.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(F){s=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){a=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o||n},this.setReferenceSpace=function(F){o=F},this.getBaseLayer=function(){return h!==null?h:u},this.getBinding=function(){return c},this.getFrame=function(){return d},this.getSession=function(){return i},this.setSession=async function(F){if(i=F,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",S),i.addEventListener("selectstart",S),i.addEventListener("selectend",S),i.addEventListener("squeeze",S),i.addEventListener("squeezestart",S),i.addEventListener("squeezeend",S),i.addEventListener("end",A),i.addEventListener("inputsourceschange",E),p.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let z={antialias:i.renderState.layers===void 0?p.antialias:!0,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:s};u=new XRWebGLLayer(i,t,z),i.updateRenderState({baseLayer:u}),m=new Oo(u.framebufferWidth,u.framebufferHeight,{format:Ks,type:Fo,encoding:e.outputEncoding})}else{let z=null,j=null,Z=null;p.depth&&(Z=p.stencil?35056:33190,z=p.stencil?Kl:Co,j=p.stencil?ql:_o);let U={colorFormat:32856,depthFormat:Z,scaleFactor:s};c=new XRWebGLBinding(i,t),h=c.createProjectionLayer(U),i.updateRenderState({layers:[h]}),m=new Oo(h.textureWidth,h.textureHeight,{format:Ks,type:Fo,depthTexture:new $9(h.textureWidth,h.textureHeight,j,void 0,void 0,void 0,void 0,void 0,void 0,z),stencilBuffer:p.stencil,encoding:e.outputEncoding,samples:p.antialias?4:0});let J=e.properties.get(m);J.__ignoreDepthValues=h.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(1),o=null,n=await i.requestReferenceSpace(a),X.setContext(i),X.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function E(F){for(let z=0;z<F.removed.length;z++){let j=F.removed[z],Z=v.indexOf(j);Z>=0&&(v[Z]=null,f[Z].dispatchEvent({type:"disconnected",data:j}))}for(let z=0;z<F.added.length;z++){let j=F.added[z],Z=v.indexOf(j);if(Z===-1){for(let J=0;J<f.length;J++)if(J>=v.length){v.push(j),Z=J;break}else if(v[J]===null){v[J]=j,Z=J;break}if(Z===-1)break}let U=f[Z];U&&U.dispatchEvent({type:"connected",data:j})}}let M=new C,I=new C;function V(F,z,j){M.setFromMatrixPosition(z.matrixWorld),I.setFromMatrixPosition(j.matrixWorld);let Z=M.distanceTo(I),U=z.projectionMatrix.elements,J=j.projectionMatrix.elements,oe=U[14]/(U[10]-1),he=U[14]/(U[10]+1),q=(U[9]+1)/U[5],Ee=(U[9]-1)/U[5],$=(U[8]-1)/U[0],fe=(J[8]+1)/J[0],te=oe*$,Oe=oe*fe,ge=Z/(-$+fe),be=ge*-$;z.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(be),F.translateZ(ge),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert();let W=oe+ge,ne=he+ge,xe=te-be,ae=Oe+(Z-be),_e=q*he/ne*W,Ce=Ee*he/ne*W;F.projectionMatrix.makePerspective(xe,ae,_e,Ce,W,ne)}function P(F,z){z===null?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(z.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(i===null)return;w.near=b.near=x.near=F.near,w.far=b.far=x.far=F.far,(_!==w.near||D!==w.far)&&(i.updateRenderState({depthNear:w.near,depthFar:w.far}),_=w.near,D=w.far);let z=F.parent,j=w.cameras;P(w,z);for(let U=0;U<j.length;U++)P(j[U],z);w.matrixWorld.decompose(w.position,w.quaternion,w.scale),F.position.copy(w.position),F.quaternion.copy(w.quaternion),F.scale.copy(w.scale),F.matrix.copy(w.matrix),F.matrixWorld.copy(w.matrixWorld);let Z=F.children;for(let U=0,J=Z.length;U<J;U++)Z[U].updateMatrixWorld(!0);j.length===2?V(w,x,b):w.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return w},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(u!==null)return u.fixedFoveation},this.setFoveation=function(F){h!==null&&(h.fixedFoveation=F),u!==null&&u.fixedFoveation!==void 0&&(u.fixedFoveation=F)};let Q=null;function G(F,z){if(l=z.getViewerPose(o||n),d=z,l!==null){let j=l.views;u!==null&&(e.setRenderTargetFramebuffer(m,u.framebuffer),e.setRenderTarget(m));let Z=!1;j.length!==w.cameras.length&&(w.cameras.length=0,Z=!0);for(let U=0;U<j.length;U++){let J=j[U],oe=null;if(u!==null)oe=u.getViewport(J);else{let q=c.getViewSubImage(h,J);oe=q.viewport,U===0&&(e.setRenderTargetTextures(m,q.colorTexture,h.ignoreDepthValues?void 0:q.depthStencilTexture),e.setRenderTarget(m))}let he=y[U];he===void 0&&(he=new ei,he.layers.enable(U),he.viewport=new yt,y[U]=he),he.matrix.fromArray(J.transform.matrix),he.projectionMatrix.fromArray(J.projectionMatrix),he.viewport.set(oe.x,oe.y,oe.width,oe.height),U===0&&w.matrix.copy(he.matrix),Z===!0&&w.cameras.push(he)}}for(let j=0;j<f.length;j++){let Z=v[j],U=f[j];Z!==null&&U!==void 0&&U.update(Z,z,o||n)}Q&&Q(F,z),d=null}let X=new h3;X.setAnimationLoop(G),this.setAnimationLoop=function(F){Q=F},this.dispose=function(){}}};rH=class extends tH{};rH.prototype.isWebGL1Renderer=!0;y3=class{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new lt(e),this.near=t,this.far=r}clone(){return new y3(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},x3=class extends Nt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}},iH=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=V0,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=on()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=on()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=on()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},Wr=new C,Y0=class{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Wr.fromBufferAttribute(this,t),Wr.applyMatrix4(e),this.setXYZ(t,Wr.x,Wr.y,Wr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Wr.fromBufferAttribute(this,t),Wr.applyNormalMatrix(e),this.setXYZ(t,Wr.x,Wr.y,Wr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Wr.fromBufferAttribute(this,t),Wr.transformDirection(e),this.setXYZ(t,Wr.x,Wr.y,Wr.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new wt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Y0(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},sH=class extends wt{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},No=class extends bd{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new lt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},dA=new C,hA=new C,pA=new Xe,r0=new xd,up=new Ms,X0=class extends Nt{constructor(e=new ft,t=new No){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)dA.fromBufferAttribute(t,i-1),hA.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=dA.distanceTo(hA);e.setAttribute("lineDistance",new Ve(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,n=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),up.copy(r.boundingSphere),up.applyMatrix4(i),up.radius+=s,e.ray.intersectsSphere(up)===!1)return;pA.copy(i).invert(),r0.copy(e.ray).applyMatrix4(pA);let a=s/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,l=new C,c=new C,h=new C,u=new C,d=this.isLineSegments?2:1,p=r.index,g=r.attributes.position;if(p!==null){let m=Math.max(0,n.start),f=Math.min(p.count,n.start+n.count);for(let v=m,x=f-1;v<x;v+=d){let b=p.getX(v),y=p.getX(v+1);if(l.fromBufferAttribute(g,b),c.fromBufferAttribute(g,y),r0.distanceSqToSegment(l,c,u,h)>o)continue;u.applyMatrix4(this.matrixWorld);let w=e.ray.origin.distanceTo(u);w<e.near||w>e.far||t.push({distance:w,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else{let m=Math.max(0,n.start),f=Math.min(g.count,n.start+n.count);for(let v=m,x=f-1;v<x;v+=d){if(l.fromBufferAttribute(g,v),c.fromBufferAttribute(g,v+1),r0.distanceSqToSegment(l,c,u,h)>o)continue;u.applyMatrix4(this.matrixWorld);let b=e.ray.origin.distanceTo(u);b<e.near||b>e.far||t.push({distance:b,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let r=e[t[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,s=r.length;i<s;i++){let n=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=i}}}}},fA=new C,mA=new C,wd=class extends X0{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)fA.fromBufferAttribute(t,i),mA.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+fA.distanceTo(mA);e.setAttribute("lineDistance",new Ve(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},vn=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],r,i=this.getPoint(0),s=0;t.push(0);for(let n=1;n<=e;n++)r=this.getPoint(n/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let r=this.getLengths(),i=0,s=r.length,n;t?n=t:n=e*r[s-1];let a=0,o=s-1,l;for(;a<=o;)if(i=Math.floor(a+(o-a)/2),l=r[i]-n,l<0)a=i+1;else if(l>0)o=i-1;else{o=i;break}if(i=o,r[i]===n)return i/(s-1);let c=r[i],h=r[i+1]-c,u=(n-c)/h;return(i+u)/(s-1)}getTangent(e,t){let r=e-1e-4,i=e+1e-4;r<0&&(r=0),i>1&&(i=1);let s=this.getPoint(r),n=this.getPoint(i),a=t||(s.isVector2?new se:new C);return a.copy(n).sub(s).normalize(),a}getTangentAt(e,t){let r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){let r=new C,i=[],s=[],n=[],a=new C,o=new Xe;for(let d=0;d<=e;d++){let p=d/e;i[d]=this.getTangentAt(p,new C)}s[0]=new C,n[0]=new C;let l=Number.MAX_VALUE,c=Math.abs(i[0].x),h=Math.abs(i[0].y),u=Math.abs(i[0].z);c<=l&&(l=c,r.set(1,0,0)),h<=l&&(l=h,r.set(0,1,0)),u<=l&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),n[0].crossVectors(i[0],s[0]);for(let d=1;d<=e;d++){if(s[d]=s[d-1].clone(),n[d]=n[d-1].clone(),a.crossVectors(i[d-1],i[d]),a.length()>Number.EPSILON){a.normalize();let p=Math.acos(Cr(i[d-1].dot(i[d]),-1,1));s[d].applyMatrix4(o.makeRotationAxis(a,p))}n[d].crossVectors(i[d],s[d])}if(t===!0){let d=Math.acos(Cr(s[0].dot(s[e]),-1,1));d/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(d=-d);for(let p=1;p<=e;p++)s[p].applyMatrix4(o.makeRotationAxis(i[p],d*p)),n[p].crossVectors(i[p],s[p])}return{tangents:i,normals:s,binormals:n}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},yf=class extends vn{constructor(e=0,t=0,r=1,i=1,s=0,n=Math.PI*2,a=!1,o=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=n,this.aClockwise=a,this.aRotation=o}getPoint(e,t){let r=t||new se,i=Math.PI*2,s=this.aEndAngle-this.aStartAngle,n=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(n?s=0:s=i),this.aClockwise===!0&&!n&&(s===i?s=-i:s=s-i);let a=this.aStartAngle+e*s,o=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){let c=Math.cos(this.aRotation),h=Math.sin(this.aRotation),u=o-this.aX,d=l-this.aY;o=u*c-d*h+this.aX,l=u*h+d*c+this.aY}return r.set(o,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},nH=class extends yf{constructor(e,t,r,i,s,n){super(e,t,r,r,i,s,n),this.isArcCurve=!0,this.type="ArcCurve"}};dp=new C,i0=new o1,s0=new o1,n0=new o1,aH=class extends vn{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new C){let r=t,i=this.points,s=i.length,n=(s-(this.closed?0:1))*e,a=Math.floor(n),o=n-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:o===0&&a===s-1&&(a=s-2,o=1);let l,c;this.closed||a>0?l=i[(a-1)%s]:(dp.subVectors(i[0],i[1]).add(i[0]),l=dp);let h=i[a%s],u=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(dp.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=dp),this.curveType==="centripetal"||this.curveType==="chordal"){let d=this.curveType==="chordal"?.5:.25,p=Math.pow(l.distanceToSquared(h),d),g=Math.pow(h.distanceToSquared(u),d),m=Math.pow(u.distanceToSquared(c),d);g<1e-4&&(g=1),p<1e-4&&(p=g),m<1e-4&&(m=g),i0.initNonuniformCatmullRom(l.x,h.x,u.x,c.x,p,g,m),s0.initNonuniformCatmullRom(l.y,h.y,u.y,c.y,p,g,m),n0.initNonuniformCatmullRom(l.z,h.z,u.z,c.z,p,g,m)}else this.curveType==="catmullrom"&&(i0.initCatmullRom(l.x,h.x,u.x,c.x,this.tension),s0.initCatmullRom(l.y,h.y,u.y,c.y,this.tension),n0.initCatmullRom(l.z,h.z,u.z,c.z,this.tension));return r.set(i0.calc(o),s0.calc(o),n0.calc(o)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(new C().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};en=class extends vn{constructor(e=new se,t=new se,r=new se,i=new se){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new se){let r=t,i=this.v0,s=this.v1,n=this.v2,a=this.v3;return r.set($u(e,i.x,s.x,n.x,a.x),$u(e,i.y,s.y,n.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},fH=class extends vn{constructor(e=new C,t=new C,r=new C,i=new C){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new C){let r=t,i=this.v0,s=this.v1,n=this.v2,a=this.v3;return r.set($u(e,i.x,s.x,n.x,a.x),$u(e,i.y,s.y,n.y,a.y),$u(e,i.z,s.z,n.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},ln=class extends vn{constructor(e=new se,t=new se){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new se){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let r=t||new se;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},b3=class extends vn{constructor(e=new C,t=new C){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new C){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Io=class extends vn{constructor(e=new se,t=new se,r=new se){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new se){let r=t,i=this.v0,s=this.v1,n=this.v2;return r.set(Zu(e,i.x,s.x,n.x),Zu(e,i.y,s.y,n.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},mH=class extends vn{constructor(e=new C,t=new C,r=new C){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new C){let r=t,i=this.v0,s=this.v1,n=this.v2;return r.set(Zu(e,i.x,s.x,n.x),Zu(e,i.y,s.y,n.y),Zu(e,i.z,s.z,n.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},l1=class extends vn{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new se){let r=t,i=this.points,s=(i.length-1)*e,n=Math.floor(s),a=s-n,o=i[n===0?n:n-1],l=i[n],c=i[n>i.length-2?i.length-1:n+1],h=i[n>i.length-3?i.length-1:n+2];return r.set(gA(a,o.x,l.x,c.x,h.x),gA(a,o.y,l.y,c.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(new se().fromArray(i))}return this}},gH=Object.freeze({__proto__:null,ArcCurve:nH,CatmullRomCurve3:aH,CubicBezierCurve:en,CubicBezierCurve3:fH,EllipseCurve:yf,LineCurve:ln,LineCurve3:b3,QuadraticBezierCurve:Io,QuadraticBezierCurve3:mH,SplineCurve:l1}),vH=class extends vn{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new ln(t,e))}getPoint(e,t){let r=e*this.getLength(),i=this.getCurveLengths(),s=0;for(;s<i.length;){if(i[s]>=r){let n=i[s]-r,a=this.curves[s],o=a.getLength(),l=o===0?0:1-n/o;return a.getPointAt(l,t)}s++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],r;for(let i=0,s=this.curves;i<s.length;i++){let n=s[i],a=n.isEllipseCurve?e*2:n.isLineCurve||n.isLineCurve3?1:n.isSplineCurve?e*n.points.length:e,o=n.getPoints(a);for(let l=0;l<o.length;l++){let c=o[l];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){let i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let i=e.curves[t];this.curves.push(new gH[i.type]().fromJSON(i))}return this}},Q0=class extends vH{constructor(e){super(),this.type="Path",this.currentPoint=new se,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let r=new ln(this.currentPoint.clone(),new se(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){let s=new Io(this.currentPoint.clone(),new se(e,t),new se(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,n){let a=new en(this.currentPoint.clone(),new se(e,t),new se(r,i),new se(s,n));return this.curves.push(a),this.currentPoint.set(s,n),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),r=new l1(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,n){let a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+a,t+o,r,i,s,n),this}absarc(e,t,r,i,s,n){return this.absellipse(e,t,r,r,i,s,n),this}ellipse(e,t,r,i,s,n,a,o){let l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,r,i,s,n,a,o),this}absellipse(e,t,r,i,s,n,a,o){let l=new yf(e,t,r,i,s,n,a,o);if(this.curves.length>0){let h=l.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(l);let c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},w3=class extends ft{constructor(e=[new se(0,.5),new se(.5,0),new se(0,-.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Cr(i,0,Math.PI*2);let s=[],n=[],a=[],o=[],l=[],c=1/t,h=new C,u=new se,d=new C,p=new C,g=new C,m=0,f=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:m=e[v+1].x-e[v].x,f=e[v+1].y-e[v].y,d.x=f*1,d.y=-m,d.z=f*0,g.copy(d),d.normalize(),o.push(d.x,d.y,d.z);break;case e.length-1:o.push(g.x,g.y,g.z);break;default:m=e[v+1].x-e[v].x,f=e[v+1].y-e[v].y,d.x=f*1,d.y=-m,d.z=f*0,p.copy(d),d.x+=g.x,d.y+=g.y,d.z+=g.z,d.normalize(),o.push(d.x,d.y,d.z),g.copy(p)}for(let v=0;v<=t;v++){let x=r+v*c*i,b=Math.sin(x),y=Math.cos(x);for(let w=0;w<=e.length-1;w++){h.x=e[w].x*b,h.y=e[w].y,h.z=e[w].x*y,n.push(h.x,h.y,h.z),u.x=v/t,u.y=w/(e.length-1),a.push(u.x,u.y);let _=o[3*w+0]*b,D=o[3*w+1],S=o[3*w+0]*y;l.push(_,D,S)}}for(let v=0;v<t;v++)for(let x=0;x<e.length-1;x++){let b=x+v*e.length,y=b,w=b+e.length,_=b+e.length+1,D=b+1;s.push(y,w,D),s.push(_,D,w)}this.setIndex(s),this.setAttribute("position",new Ve(n,3)),this.setAttribute("uv",new Ve(a,2)),this.setAttribute("normal",new Ve(l,3))}static fromJSON(e){return new w3(e.points,e.segments,e.phiStart,e.phiLength)}},c1=class extends ft{constructor(e=1,t=1,r=1,i=8,s=1,n=!1,a=0,o=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:n,thetaStart:a,thetaLength:o};let l=this;i=Math.floor(i),s=Math.floor(s);let c=[],h=[],u=[],d=[],p=0,g=[],m=r/2,f=0;v(),n===!1&&(e>0&&x(!0),t>0&&x(!1)),this.setIndex(c),this.setAttribute("position",new Ve(h,3)),this.setAttribute("normal",new Ve(u,3)),this.setAttribute("uv",new Ve(d,2));function v(){let b=new C,y=new C,w=0,_=(t-e)/r;for(let D=0;D<=s;D++){let S=[],A=D/s,E=A*(t-e)+e;for(let M=0;M<=i;M++){let I=M/i,V=I*o+a,P=Math.sin(V),Q=Math.cos(V);y.x=E*P,y.y=-A*r+m,y.z=E*Q,h.push(y.x,y.y,y.z),b.set(P,_,Q).normalize(),u.push(b.x,b.y,b.z),d.push(I,1-A),S.push(p++)}g.push(S)}for(let D=0;D<i;D++)for(let S=0;S<s;S++){let A=g[S][D],E=g[S+1][D],M=g[S+1][D+1],I=g[S][D+1];c.push(A,E,I),c.push(E,M,I),w+=6}l.addGroup(f,w,0),f+=w}function x(b){let y=p,w=new se,_=new C,D=0,S=b===!0?e:t,A=b===!0?1:-1;for(let M=1;M<=i;M++)h.push(0,m*A,0),u.push(0,A,0),d.push(.5,.5),p++;let E=p;for(let M=0;M<=i;M++){let I=M/i*o+a,V=Math.cos(I),P=Math.sin(I);_.x=S*P,_.y=m*A,_.z=S*V,h.push(_.x,_.y,_.z),u.push(0,A,0),w.x=V*.5+.5,w.y=P*.5*A+.5,d.push(w.x,w.y),p++}for(let M=0;M<i;M++){let I=y+M,V=E+M;b===!0?c.push(V,V+1,I):c.push(V+1,V,I),D+=3}l.addGroup(f,D,b===!0?1:2),f+=D}}static fromJSON(e){return new c1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},_3=class extends c1{constructor(e=1,t=1,r=8,i=1,s=!1,n=0,a=Math.PI*2){super(0,e,t,r,i,s,n,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:n,thetaLength:a}}static fromJSON(e){return new _3(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},u1=class extends ft{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};let s=[],n=[];a(i),l(r),c(),this.setAttribute("position",new Ve(s,3)),this.setAttribute("normal",new Ve(s.slice(),3)),this.setAttribute("uv",new Ve(n,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(v){let x=new C,b=new C,y=new C;for(let w=0;w<t.length;w+=3)d(t[w+0],x),d(t[w+1],b),d(t[w+2],y),o(x,b,y,v)}function o(v,x,b,y){let w=y+1,_=[];for(let D=0;D<=w;D++){_[D]=[];let S=v.clone().lerp(b,D/w),A=x.clone().lerp(b,D/w),E=w-D;for(let M=0;M<=E;M++)M===0&&D===w?_[D][M]=S:_[D][M]=S.clone().lerp(A,M/E)}for(let D=0;D<w;D++)for(let S=0;S<2*(w-D)-1;S++){let A=Math.floor(S/2);S%2===0?(u(_[D][A+1]),u(_[D+1][A]),u(_[D][A])):(u(_[D][A+1]),u(_[D+1][A+1]),u(_[D+1][A]))}}function l(v){let x=new C;for(let b=0;b<s.length;b+=3)x.x=s[b+0],x.y=s[b+1],x.z=s[b+2],x.normalize().multiplyScalar(v),s[b+0]=x.x,s[b+1]=x.y,s[b+2]=x.z}function c(){let v=new C;for(let x=0;x<s.length;x+=3){v.x=s[x+0],v.y=s[x+1],v.z=s[x+2];let b=m(v)/2/Math.PI+.5,y=f(v)/Math.PI+.5;n.push(b,1-y)}p(),h()}function h(){for(let v=0;v<n.length;v+=6){let x=n[v+0],b=n[v+2],y=n[v+4],w=Math.max(x,b,y),_=Math.min(x,b,y);w>.9&&_<.1&&(x<.2&&(n[v+0]+=1),b<.2&&(n[v+2]+=1),y<.2&&(n[v+4]+=1))}}function u(v){s.push(v.x,v.y,v.z)}function d(v,x){let b=v*3;x.x=e[b+0],x.y=e[b+1],x.z=e[b+2]}function p(){let v=new C,x=new C,b=new C,y=new C,w=new se,_=new se,D=new se;for(let S=0,A=0;S<s.length;S+=9,A+=6){v.set(s[S+0],s[S+1],s[S+2]),x.set(s[S+3],s[S+4],s[S+5]),b.set(s[S+6],s[S+7],s[S+8]),w.set(n[A+0],n[A+1]),_.set(n[A+2],n[A+3]),D.set(n[A+4],n[A+5]),y.copy(v).add(x).add(b).divideScalar(3);let E=m(y);g(w,A+0,v,E),g(_,A+2,x,E),g(D,A+4,b,E)}}function g(v,x,b,y){y<0&&v.x===1&&(n[x]=v.x-1),b.x===0&&b.z===0&&(n[x]=y/2/Math.PI+.5)}function m(v){return Math.atan2(v.z,-v.x)}function f(v){return Math.atan2(-v.y,Math.sqrt(v.x*v.x+v.z*v.z))}}static fromJSON(e){return new u1(e.vertices,e.indices,e.radius,e.details)}},D3=class extends u1{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],n=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,n,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new D3(e.radius,e.detail)}},Mo=class extends Q0{constructor(e){super(e),this.uuid=on(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){let i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let i=e.holes[t];this.holes.push(new Q0().fromJSON(i))}return this}},yH={triangulate:function(e,t,r=2){let i=t&&t.length,s=i?t[0]*r:e.length,n=S3(e,0,s,r,!0),a=[];if(!n||n.next===n.prev)return a;let o,l,c,h,u,d,p;if(i&&(n=DH(e,t,n,r)),e.length>80*r){o=c=e[0],l=h=e[1];for(let g=r;g<s;g+=r)u=e[g],d=e[g+1],u<o&&(o=u),d<l&&(l=d),u>c&&(c=u),d>h&&(h=d);p=Math.max(c-o,h-l),p=p!==0?1/p:0}return nd(n,a,r,o,l,p),a}};Ju=class{static area(e){let t=e.length,r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ju.area(e)<0}static triangulateShape(e,t){let r=[],i=[],s=[];yA(e),xA(r,e);let n=e.length;t.forEach(yA);for(let o=0;o<t.length;o++)i.push(n),n+=t[o].length,xA(r,t[o]);let a=yH.triangulate(r,i);for(let o=0;o<a.length;o+=3)s.push(a.slice(o,o+3));return s}};C3=class extends u1{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new C3(e.radius,e.detail)}},T3=class extends ft{constructor(e=new Mo([new se(0,.5),new se(-.5,-.5),new se(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};let r=[],i=[],s=[],n=[],a=0,o=0;if(Array.isArray(e)===!1)l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(a,o,c),a+=o,o=0;this.setIndex(r),this.setAttribute("position",new Ve(i,3)),this.setAttribute("normal",new Ve(s,3)),this.setAttribute("uv",new Ve(n,2));function l(c){let h=i.length/3,u=c.extractPoints(t),d=u.shape,p=u.holes;Ju.isClockWise(d)===!1&&(d=d.reverse());for(let m=0,f=p.length;m<f;m++){let v=p[m];Ju.isClockWise(v)===!0&&(p[m]=v.reverse())}let g=Ju.triangulateShape(d,p);for(let m=0,f=p.length;m<f;m++){let v=p[m];d=d.concat(v)}for(let m=0,f=d.length;m<f;m++){let v=d[m];i.push(v.x,v.y,0),s.push(0,0,1),n.push(v.x,v.y)}for(let m=0,f=g.length;m<f;m++){let v=g[m],x=v[0]+h,b=v[1]+h,y=v[2]+h;r.push(x,b,y),o+=3}}}toJSON(){let e=super.toJSON(),t=this.parameters.shapes;return OH(t,e)}static fromJSON(e,t){let r=[];for(let i=0,s=e.shapes.length;i<s;i++){let n=t[e.shapes[i]];r.push(n)}return new T3(r,e.curveSegments)}};d1=class extends ft{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,n=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:n,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));let o=Math.min(n+a,Math.PI),l=0,c=[],h=new C,u=new C,d=[],p=[],g=[],m=[];for(let f=0;f<=r;f++){let v=[],x=f/r,b=0;f==0&&n==0?b=.5/t:f==r&&o==Math.PI&&(b=-.5/t);for(let y=0;y<=t;y++){let w=y/t;h.x=-e*Math.cos(i+w*s)*Math.sin(n+x*a),h.y=e*Math.cos(n+x*a),h.z=e*Math.sin(i+w*s)*Math.sin(n+x*a),p.push(h.x,h.y,h.z),u.copy(h).normalize(),g.push(u.x,u.y,u.z),m.push(w+b,1-x),v.push(l++)}c.push(v)}for(let f=0;f<r;f++)for(let v=0;v<t;v++){let x=c[f][v+1],b=c[f][v],y=c[f+1][v],w=c[f+1][v+1];(f!==0||n>0)&&d.push(x,b,w),(f!==r-1||o<Math.PI)&&d.push(b,y,w)}this.setIndex(d),this.setAttribute("position",new Ve(p,3)),this.setAttribute("normal",new Ve(g,3)),this.setAttribute("uv",new Ve(m,2))}static fromJSON(e){return new d1(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},M3=class extends ft{constructor(e=1,t=.4,r=64,i=8,s=2,n=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:n},r=Math.floor(r),i=Math.floor(i);let a=[],o=[],l=[],c=[],h=new C,u=new C,d=new C,p=new C,g=new C,m=new C,f=new C;for(let x=0;x<=r;++x){let b=x/r*s*Math.PI*2;v(b,s,n,e,d),v(b+.01,s,n,e,p),m.subVectors(p,d),f.addVectors(p,d),g.crossVectors(m,f),f.crossVectors(g,m),g.normalize(),f.normalize();for(let y=0;y<=i;++y){let w=y/i*Math.PI*2,_=-t*Math.cos(w),D=t*Math.sin(w);h.x=d.x+(_*f.x+D*g.x),h.y=d.y+(_*f.y+D*g.y),h.z=d.z+(_*f.z+D*g.z),o.push(h.x,h.y,h.z),u.subVectors(h,d).normalize(),l.push(u.x,u.y,u.z),c.push(x/r),c.push(y/i)}}for(let x=1;x<=r;x++)for(let b=1;b<=i;b++){let y=(i+1)*(x-1)+(b-1),w=(i+1)*x+(b-1),_=(i+1)*x+b,D=(i+1)*(x-1)+b;a.push(y,w,D),a.push(w,_,D)}this.setIndex(a),this.setAttribute("position",new Ve(o,3)),this.setAttribute("normal",new Ve(l,3)),this.setAttribute("uv",new Ve(c,2));function v(x,b,y,w,_){let D=Math.cos(x),S=Math.sin(x),A=y/b*x,E=Math.cos(A);_.x=w*(2+E)*.5*D,_.y=w*(2+E)*S*.5,_.z=w*Math.sin(A)*.5}}static fromJSON(e){return new M3(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}},mr={arraySlice:function(e,t,r){return mr.isTypedArray(e)?new e.constructor(e.subarray(t,r!==void 0?r:e.length)):e.slice(t,r)},convertArray:function(e,t,r){return!e||!r&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(s,n){return e[s]-e[n]}let r=e.length,i=new Array(r);for(let s=0;s!==r;++s)i[s]=s;return i.sort(t),i},sortedArray:function(e,t,r){let i=e.length,s=new e.constructor(i);for(let n=0,a=0;a!==i;++n){let o=r[n]*t;for(let l=0;l!==t;++l)s[a++]=e[o+l]}return s},flattenJSON:function(e,t,r,i){let s=1,n=e[0];for(;n!==void 0&&n[i]===void 0;)n=e[s++];if(n===void 0)return;let a=n[i];if(a!==void 0)if(Array.isArray(a))do a=n[i],a!==void 0&&(t.push(n.time),r.push.apply(r,a)),n=e[s++];while(n!==void 0);else if(a.toArray!==void 0)do a=n[i],a!==void 0&&(t.push(n.time),a.toArray(r,r.length)),n=e[s++];while(n!==void 0);else do a=n[i],a!==void 0&&(t.push(n.time),r.push(a)),n=e[s++];while(n!==void 0)},subclip:function(e,t,r,i,s=30){let n=e.clone();n.name=t;let a=[];for(let l=0;l<n.tracks.length;++l){let c=n.tracks[l],h=c.getValueSize(),u=[],d=[];for(let p=0;p<c.times.length;++p){let g=c.times[p]*s;if(!(g<r||g>=i)){u.push(c.times[p]);for(let m=0;m<h;++m)d.push(c.values[p*h+m])}}u.length!==0&&(c.times=mr.convertArray(u,c.times.constructor),c.values=mr.convertArray(d,c.values.constructor),a.push(c))}n.tracks=a;let o=1/0;for(let l=0;l<n.tracks.length;++l)o>n.tracks[l].times[0]&&(o=n.tracks[l].times[0]);for(let l=0;l<n.tracks.length;++l)n.tracks[l].shift(-1*o);return n.resetDuration(),n},makeClipAdditive:function(e,t=0,r=e,i=30){i<=0&&(i=30);let s=r.tracks.length,n=t/i;for(let a=0;a<s;++a){let o=r.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;let c=e.tracks.find(function(v){return v.name===o.name&&v.ValueTypeName===l});if(c===void 0)continue;let h=0,u=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=u/3);let d=0,p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);let g=o.times.length-1,m;if(n<=o.times[0]){let v=h,x=u-h;m=mr.arraySlice(o.values,v,x)}else if(n>=o.times[g]){let v=g*u+h,x=v+u-h;m=mr.arraySlice(o.values,v,x)}else{let v=o.createInterpolant(),x=h,b=u-h;v.evaluate(n),m=mr.arraySlice(v.resultBuffer,x,b)}l==="quaternion"&&new Xt().fromArray(m).normalize().conjugate().toArray(m);let f=c.times.length;for(let v=0;v<f;++v){let x=v*p+d;if(l==="quaternion")Xt.multiplyQuaternionsFlat(c.values,x,m,0,c.values,x);else{let b=p-d*2;for(let y=0;y<b;++y)c.values[x+y]-=m[y]}}}return e.blendMode=UU,e}},bf=class{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,r=this._cachedIndex,i=t[r],s=t[r-1];r:{e:{let n;t:{i:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break i;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break e}n=t.length;break t}if(!(e>=s)){let a=t[1];e<a&&(r=2,s=a);for(let o=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===o)break;if(i=s,s=t[--r-1],e>=s)break e}n=r,r=0;break t}break r}for(;r<n;){let a=r+n>>>1;e<t[a]?n=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let n=0;n!==i;++n)t[n]=r[s+n];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},IH=class extends bf{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:CS,endingEnd:CS}}intervalChanged_(e,t,r){let i=this.parameterPositions,s=e-2,n=e+1,a=i[s],o=i[n];if(a===void 0)switch(this.getSettings_().endingStart){case TS:s=e,a=2*t-r;break;case MS:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(o===void 0)switch(this.getSettings_().endingEnd){case TS:n=e,o=2*r-t;break;case MS:n=1,o=r+i[1]-i[0];break;default:n=e-1,o=t}let l=(r-t)*.5,c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(o-r),this._offsetPrev=s*c,this._offsetNext=n*c}interpolate_(e,t,r,i){let s=this.resultBuffer,n=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,c=this._offsetPrev,h=this._offsetNext,u=this._weightPrev,d=this._weightNext,p=(r-t)/(i-t),g=p*p,m=g*p,f=-u*m+2*u*g-u*p,v=(1+u)*m+(-1.5-2*u)*g+(-.5+u)*p+1,x=(-1-d)*m+(1.5+d)*g+.5*p,b=d*m-d*g;for(let y=0;y!==a;++y)s[y]=f*n[c+y]+v*n[l+y]+x*n[o+y]+b*n[h+y];return s}},RH=class extends bf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){let s=this.resultBuffer,n=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,c=(r-t)/(i-t),h=1-c;for(let u=0;u!==a;++u)s[u]=n[l+u]*h+n[o+u]*c;return s}},NH=class extends bf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}},Wn=class{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=mr.convertArray(t,this.TimeBufferType),this.values=mr.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:mr.convertArray(e.times,Array),values:mr.convertArray(e.values,Array)};let i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new NH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new RH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new IH(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Qp:t=this.InterpolantFactoryMethodDiscrete;break;case Zp:t=this.InterpolantFactoryMethodLinear;break;case Tv:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Qp;case this.InterpolantFactoryMethodLinear:return Zp;case this.InterpolantFactoryMethodSmooth:return Tv}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){let r=this.times,i=r.length,s=0,n=i-1;for(;s!==i&&r[s]<e;)++s;for(;n!==-1&&r[n]>t;)--n;if(++n,s!==0||n!==i){s>=n&&(n=Math.max(n,1),s=n-1);let a=this.getValueSize();this.times=mr.arraySlice(r,s,n),this.values=mr.arraySlice(this.values,s*a,n*a)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let n=null;for(let a=0;a!==s;a++){let o=r[a];if(typeof o=="number"&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,o),e=!1;break}if(n!==null&&n>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,o,n),e=!1;break}n=o}if(i!==void 0&&mr.isTypedArray(i))for(let a=0,o=i.length;a!==o;++a){let l=i[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}return e}optimize(){let e=mr.arraySlice(this.times),t=mr.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===Tv,s=e.length-1,n=1;for(let a=1;a<s;++a){let o=!1,l=e[a],c=e[a+1];if(l!==c&&(a!==1||l!==e[0]))if(i)o=!0;else{let h=a*r,u=h-r,d=h+r;for(let p=0;p!==r;++p){let g=t[h+p];if(g!==t[u+p]||g!==t[d+p]){o=!0;break}}}if(o){if(a!==n){e[n]=e[a];let h=a*r,u=n*r;for(let d=0;d!==r;++d)t[u+d]=t[h+d]}++n}}if(s>0){e[n]=e[s];for(let a=s*r,o=n*r,l=0;l!==r;++l)t[o+l]=t[a+l];++n}return n!==e.length?(this.times=mr.arraySlice(e,0,n),this.values=mr.arraySlice(t,0,n*r)):(this.times=e,this.values=t),this}clone(){let e=mr.arraySlice(this.times,0),t=mr.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}};Wn.prototype.TimeBufferType=Float32Array;Wn.prototype.ValueBufferType=Float32Array;Wn.prototype.DefaultInterpolation=Zp;_d=class extends Wn{};_d.prototype.ValueTypeName="bool";_d.prototype.ValueBufferType=Array;_d.prototype.DefaultInterpolation=Qp;_d.prototype.InterpolantFactoryMethodLinear=void 0;_d.prototype.InterpolantFactoryMethodSmooth=void 0;UH=class extends Wn{};UH.prototype.ValueTypeName="color";zH=class extends Wn{};zH.prototype.ValueTypeName="number";jH=class extends bf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){let s=this.resultBuffer,n=this.sampleValues,a=this.valueSize,o=(r-t)/(i-t),l=e*a;for(let c=l+a;l!==c;l+=4)Xt.slerpFlat(s,0,n,l-a,n,l,o);return s}},h1=class extends Wn{InterpolantFactoryMethodLinear(e){return new jH(this.times,this.values,this.getValueSize(),e)}};h1.prototype.ValueTypeName="quaternion";h1.prototype.DefaultInterpolation=Zp;h1.prototype.InterpolantFactoryMethodSmooth=void 0;Dd=class extends Wn{};Dd.prototype.ValueTypeName="string";Dd.prototype.ValueBufferType=Array;Dd.prototype.DefaultInterpolation=Qp;Dd.prototype.InterpolantFactoryMethodLinear=void 0;Dd.prototype.InterpolantFactoryMethodSmooth=void 0;HH=class extends Wn{};HH.prototype.ValueTypeName="vector";bA={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},VH=class{constructor(e,t,r){let i=this,s=!1,n=0,a=0,o,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,n,a),s=!0},this.itemEnd=function(c){n++,i.onProgress!==void 0&&i.onProgress(c,n,a),n===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return o?o(c):c},this.setURLModifier=function(c){return o=c,this},this.addHandler=function(c,h){return l.push(c,h),this},this.removeHandler=function(c){let h=l.indexOf(c);return h!==-1&&l.splice(h,2),this},this.getHandler=function(c){for(let h=0,u=l.length;h<u;h+=2){let d=l[h],p=l[h+1];if(d.global&&(d.lastIndex=0),d.test(c))return p}return null}}},GH=new VH,p1=class{constructor(e){this.manager=e!==void 0?e:GH,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},Fn={},L3=class extends p1{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let s=bA.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Fn[e]!==void 0){Fn[e].push({onLoad:t,onProgress:r,onError:i});return}Fn[e]=[],Fn[e].push({onLoad:t,onProgress:r,onError:i});let n=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,o=this.responseType;fetch(n).then(l=>{if(l.status===200||l.status===0){if(l.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||l.body===void 0||l.body.getReader===void 0)return l;let c=Fn[e],h=l.body.getReader(),u=l.headers.get("Content-Length"),d=u?parseInt(u):0,p=d!==0,g=0,m=new ReadableStream({start(f){v();function v(){h.read().then(({done:x,value:b})=>{if(x)f.close();else{g+=b.byteLength;let y=new ProgressEvent("progress",{lengthComputable:p,loaded:g,total:d});for(let w=0,_=c.length;w<_;w++){let D=c[w];D.onProgress&&D.onProgress(y)}f.enqueue(b),v()}})}}});return new Response(m)}else throw Error(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`)}).then(l=>{switch(o){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return l.json();default:if(a===void 0)return l.text();{let c=/charset="?([^;"\s]*)"?/i.exec(a),h=c&&c[1]?c[1].toLowerCase():void 0,u=new TextDecoder(h);return l.arrayBuffer().then(d=>u.decode(d))}}}).then(l=>{bA.add(e,l);let c=Fn[e];delete Fn[e];for(let h=0,u=c.length;h<u;h++){let d=c[h];d.onLoad&&d.onLoad(l)}}).catch(l=>{let c=Fn[e];if(c===void 0)throw this.manager.itemError(e),l;delete Fn[e];for(let h=0,u=c.length;h<u;h++){let d=c[h];d.onError&&d.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},wf=class extends Nt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new lt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}},J0=class extends wf{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Nt.DefaultUp),this.updateMatrix(),this.groundColor=new lt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}},wA=new Xe,_A=new C,DA=new C,f1=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new se(512,512),this.map=null,this.mapPass=null,this.matrix=new Xe,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new s1,this._frameExtents=new se(1,1),this._viewportCount=1,this._viewports=[new yt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,r=this.matrix;_A.setFromMatrixPosition(e.matrixWorld),t.position.copy(_A),DA.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(DA),t.updateMatrixWorld(),wA.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wA),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},WH=class extends f1{constructor(){super(new ei(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let t=this.camera,r=sd*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},qH=class extends wf{constructor(e,t,r=0,i=Math.PI/3,s=0,n=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Nt.DefaultUp),this.updateMatrix(),this.target=new Nt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=n,this.shadow=new WH}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},SA=new Xe,Eu=new C,a0=new C,YH=class extends f1{constructor(){super(new ei(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new se(4,2),this._viewportCount=6,this._viewports=[new yt(2,1,1,1),new yt(0,1,1,1),new yt(3,1,1,1),new yt(1,1,1,1),new yt(3,0,1,1),new yt(1,0,1,1)],this._cubeDirections=[new C(1,0,0),new C(-1,0,0),new C(0,0,1),new C(0,0,-1),new C(0,1,0),new C(0,-1,0)],this._cubeUps=[new C(0,1,0),new C(0,1,0),new C(0,1,0),new C(0,1,0),new C(0,0,1),new C(0,0,-1)]}updateMatrices(e,t=0){let r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Eu.setFromMatrixPosition(e.matrixWorld),r.position.copy(Eu),a0.copy(r.position),a0.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(a0),r.updateMatrixWorld(),i.makeTranslation(-Eu.x,-Eu.y,-Eu.z),SA.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(SA)}},XH=class extends wf{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new YH}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},QH=class extends f1{constructor(){super(new n1(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},ZH=class extends wf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Nt.DefaultUp),this.updateMatrix(),this.target=new Nt,this.shadow=new QH}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},$H=class extends ft{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){let e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},k3=class extends p1{constructor(e){super(e)}load(e,t,r,i){let s=this,n=new L3(s.manager);n.setPath(s.path),n.setRequestHeader(s.requestHeader),n.setWithCredentials(s.withCredentials),n.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(o){i?i(o):console.error(o),s.manager.itemError(e)}},r,i)}parse(e){let t={},r={};function i(u,d){if(t[d]!==void 0)return t[d];let p=u.interleavedBuffers[d],g=s(u,p.buffer),m=Vh(p.type,g),f=new iH(m,p.stride);return f.uuid=p.uuid,t[d]=f,f}function s(u,d){if(r[d]!==void 0)return r[d];let p=u.arrayBuffers[d],g=new Uint32Array(p).buffer;return r[d]=g,g}let n=e.isInstancedBufferGeometry?new $H:new ft,a=e.data.index;if(a!==void 0){let u=Vh(a.type,a.array);n.setIndex(new wt(u,1))}let o=e.data.attributes;for(let u in o){let d=o[u],p;if(d.isInterleavedBufferAttribute){let g=i(e.data,d.data);p=new Y0(g,d.itemSize,d.offset,d.normalized)}else{let g=Vh(d.type,d.array),m=d.isInstancedBufferAttribute?sH:wt;p=new m(g,d.itemSize,d.normalized)}d.name!==void 0&&(p.name=d.name),d.usage!==void 0&&p.setUsage(d.usage),d.updateRange!==void 0&&(p.updateRange.offset=d.updateRange.offset,p.updateRange.count=d.updateRange.count),n.setAttribute(u,p)}let l=e.data.morphAttributes;if(l)for(let u in l){let d=l[u],p=[];for(let g=0,m=d.length;g<m;g++){let f=d[g],v;if(f.isInterleavedBufferAttribute){let x=i(e.data,f.data);v=new Y0(x,f.itemSize,f.offset,f.normalized)}else{let x=Vh(f.type,f.array);v=new wt(x,f.itemSize,f.normalized)}f.name!==void 0&&(v.name=f.name),p.push(v)}n.morphAttributes[u]=p}e.data.morphTargetsRelative&&(n.morphTargetsRelative=!0);let c=e.data.groups||e.data.drawcalls||e.data.offsets;if(c!==void 0)for(let u=0,d=c.length;u!==d;++u){let p=c[u];n.addGroup(p.start,p.count,p.materialIndex)}let h=e.data.boundingSphere;if(h!==void 0){let u=new C;h.center!==void 0&&u.fromArray(h.center),n.boundingSphere=new Ms(u,h.radius)}return e.name&&(n.name=e.name),e.userData&&(n.userData=e.userData),n}},m1="\\[\\]\\.:\\/",JH=new RegExp("["+m1+"]","g"),g1="[^"+m1+"]",KH="[^"+m1.replace("\\.","")+"]",eV=/((?:WC+[\/:])*)/.source.replace("WC",g1),tV=/(WCOD+)?/.source.replace("WCOD",KH),rV=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",g1),iV=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",g1),sV=new RegExp("^"+eV+tV+rV+iV+"$"),nV=["material","materials","bones"],aV=class{constructor(e,t,r){let i=r||Rt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();let r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){let r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}},Rt=class{constructor(e,t,r){this.path=t,this.parsedPath=r||Rt.parseTrackName(t),this.node=Rt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Rt.Composite(e,t,r):new Rt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(JH,"")}static parseTrackName(e){let t=sV.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){let s=r.nodeName.substring(i+1);nV.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){let r=function(s){for(let n=0;n<s.length;n++){let a=s[n];if(a.name===t||a.uuid===t)return a;let o=r(a.children);if(o)return o}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,r=t.objectName,i=t.propertyName,s=t.propertyIndex;if(e||(e=Rt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let l=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===l){l=c;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(l!==void 0){if(e[l]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[l]}}let n=e[i];if(n===void 0){let l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}o=this.BindingType.ArrayElement,this.resolvedProperty=n,this.propertyIndex=s}else n.fromArray!==void 0&&n.toArray!==void 0?(o=this.BindingType.HasFromToArray,this.resolvedProperty=n):Array.isArray(n)?(o=this.BindingType.EntireArray,this.resolvedProperty=n):this.propertyName=i;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};Rt.Composite=aV;Rt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Rt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Rt.prototype.GetterByBindingType=[Rt.prototype._getValue_direct,Rt.prototype._getValue_array,Rt.prototype._getValue_arrayElement,Rt.prototype._getValue_toArray];Rt.prototype.SetterByBindingTypeAndVersioning=[[Rt.prototype._setValue_direct,Rt.prototype._setValue_direct_setNeedsUpdate,Rt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_array,Rt.prototype._setValue_array_setNeedsUpdate,Rt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_arrayElement,Rt.prototype._setValue_arrayElement_setNeedsUpdate,Rt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_fromArray,Rt.prototype._setValue_fromArray_setNeedsUpdate,Rt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];oV=class{constructor(e,t,r=0,i=1/0){this.ray=new xd(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new r1,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return K0(e,this,r,t),r.sort(AA),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)K0(e[i],this,r,t);return r.sort(AA),r}};EA=new C,fp=new C,Ji=class{constructor(e=new C,t=new C){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){EA.subVectors(e,this.start),fp.subVectors(this.end,this.start);let r=fp.dot(fp),i=fp.dot(EA)/r;return t&&(i=Cr(i,0,1)),i}closestPointToPoint(e,t,r){let i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},CA=new C,lV=class extends Nt{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;let r=new ft,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let n=0,a=1,o=32;n<o;n++,a++){let l=n/o*Math.PI*2,c=a/o*Math.PI*2;i.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new Ve(i,3));let s=new No({fog:!1,toneMapped:!1});this.cone=new wd(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),CA.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(CA),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},cV=class extends vi{constructor(e,t,r){let i=new d1(t,4,2),s=new ec({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},TA=new C,mp=new C,MA=new C,uV=class extends Nt{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new ft;i.setAttribute("position",new Ve([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let s=new No({fog:!1,toneMapped:!1});this.lightPlane=new X0(i,s),this.add(this.lightPlane),i=new ft,i.setAttribute("position",new Ve([0,0,0,0,0,1],3)),this.targetLine=new X0(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){TA.setFromMatrixPosition(this.light.matrixWorld),mp.setFromMatrixPosition(this.light.target.matrixWorld),MA.subVectors(mp,TA),this.lightPlane.lookAt(mp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(mp),this.targetLine.scale.z=MA.length()}},gp=new C,Jt=new cc,Ta=class extends wd{constructor(e){let t=new ft,r=new No({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],n={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(p,g){o(p),o(g)}function o(p){i.push(0,0,0),s.push(0,0,0),n[p]===void 0&&(n[p]=[]),n[p].push(i.length/3-1)}t.setAttribute("position",new Ve(i,3)),t.setAttribute("color",new Ve(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=n,this.update();let l=new lt(16755200),c=new lt(16711680),h=new lt(43775),u=new lt(16777215),d=new lt(3355443);this.setColors(l,c,h,u,d)}setColors(e,t,r,i,s){let n=this.geometry.getAttribute("color");n.setXYZ(0,e.r,e.g,e.b),n.setXYZ(1,e.r,e.g,e.b),n.setXYZ(2,e.r,e.g,e.b),n.setXYZ(3,e.r,e.g,e.b),n.setXYZ(4,e.r,e.g,e.b),n.setXYZ(5,e.r,e.g,e.b),n.setXYZ(6,e.r,e.g,e.b),n.setXYZ(7,e.r,e.g,e.b),n.setXYZ(8,e.r,e.g,e.b),n.setXYZ(9,e.r,e.g,e.b),n.setXYZ(10,e.r,e.g,e.b),n.setXYZ(11,e.r,e.g,e.b),n.setXYZ(12,e.r,e.g,e.b),n.setXYZ(13,e.r,e.g,e.b),n.setXYZ(14,e.r,e.g,e.b),n.setXYZ(15,e.r,e.g,e.b),n.setXYZ(16,e.r,e.g,e.b),n.setXYZ(17,e.r,e.g,e.b),n.setXYZ(18,e.r,e.g,e.b),n.setXYZ(19,e.r,e.g,e.b),n.setXYZ(20,e.r,e.g,e.b),n.setXYZ(21,e.r,e.g,e.b),n.setXYZ(22,e.r,e.g,e.b),n.setXYZ(23,e.r,e.g,e.b),n.setXYZ(24,t.r,t.g,t.b),n.setXYZ(25,t.r,t.g,t.b),n.setXYZ(26,t.r,t.g,t.b),n.setXYZ(27,t.r,t.g,t.b),n.setXYZ(28,t.r,t.g,t.b),n.setXYZ(29,t.r,t.g,t.b),n.setXYZ(30,t.r,t.g,t.b),n.setXYZ(31,t.r,t.g,t.b),n.setXYZ(32,r.r,r.g,r.b),n.setXYZ(33,r.r,r.g,r.b),n.setXYZ(34,r.r,r.g,r.b),n.setXYZ(35,r.r,r.g,r.b),n.setXYZ(36,r.r,r.g,r.b),n.setXYZ(37,r.r,r.g,r.b),n.setXYZ(38,i.r,i.g,i.b),n.setXYZ(39,i.r,i.g,i.b),n.setXYZ(40,s.r,s.g,s.b),n.setXYZ(41,s.r,s.g,s.b),n.setXYZ(42,s.r,s.g,s.b),n.setXYZ(43,s.r,s.g,s.b),n.setXYZ(44,s.r,s.g,s.b),n.setXYZ(45,s.r,s.g,s.b),n.setXYZ(46,s.r,s.g,s.b),n.setXYZ(47,s.r,s.g,s.b),n.setXYZ(48,s.r,s.g,s.b),n.setXYZ(49,s.r,s.g,s.b),n.needsUpdate=!0}update(){let e=this.geometry,t=this.pointMap,r=1,i=1;Jt.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),nr("c",t,e,Jt,0,0,-1),nr("t",t,e,Jt,0,0,1),nr("n1",t,e,Jt,-r,-i,-1),nr("n2",t,e,Jt,r,-i,-1),nr("n3",t,e,Jt,-r,i,-1),nr("n4",t,e,Jt,r,i,-1),nr("f1",t,e,Jt,-r,-i,1),nr("f2",t,e,Jt,r,-i,1),nr("f3",t,e,Jt,-r,i,1),nr("f4",t,e,Jt,r,i,1),nr("u1",t,e,Jt,r*.7,i*1.1,-1),nr("u2",t,e,Jt,-r*.7,i*1.1,-1),nr("u3",t,e,Jt,0,i*2,-1),nr("cf1",t,e,Jt,-r,0,1),nr("cf2",t,e,Jt,r,0,1),nr("cf3",t,e,Jt,0,-i,1),nr("cf4",t,e,Jt,0,i,1),nr("cn1",t,e,Jt,-r,0,-1),nr("cn2",t,e,Jt,r,0,-1),nr("cn3",t,e,Jt,0,-i,-1),nr("cn4",t,e,Jt,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};vp=class extends wd{constructor(e,t=16776960){let r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ft;s.setIndex(new wt(r,1)),s.setAttribute("position",new Ve(i,3)),super(s,new No({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}},dV=class extends wd{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new ft;i.setAttribute("position",new Ve(t,3)),i.setAttribute("color",new Ve(r,3));let s=new No({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){let i=new lt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},hV=class{constructor(){this.type="ShapePath",this.color=new lt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Q0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,n){return this.currentPath.bezierCurveTo(e,t,r,i,s,n),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function r(v){let x=[];for(let b=0,y=v.length;b<y;b++){let w=v[b],_=new Mo;_.curves=w.curves,x.push(_)}return x}function i(v,x){let b=x.length,y=!1;for(let w=b-1,_=0;_<b;w=_++){let D=x[w],S=x[_],A=S.x-D.x,E=S.y-D.y;if(Math.abs(E)>Number.EPSILON){if(E<0&&(D=x[_],A=-A,S=x[w],E=-E),v.y<D.y||v.y>S.y)continue;if(v.y===D.y){if(v.x===D.x)return!0}else{let M=E*(v.x-D.x)-A*(v.y-D.y);if(M===0)return!0;if(M<0)continue;y=!y}}else{if(v.y!==D.y)continue;if(S.x<=v.x&&v.x<=D.x||D.x<=v.x&&v.x<=S.x)return!0}}return y}let s=Ju.isClockWise,n=this.subPaths;if(n.length===0)return[];if(t===!0)return r(n);let a,o,l,c=[];if(n.length===1)return o=n[0],l=new Mo,l.curves=o.curves,c.push(l),c;let h=!s(n[0].getPoints());h=e?!h:h;let u=[],d=[],p=[],g=0,m;d[g]=void 0,p[g]=[];for(let v=0,x=n.length;v<x;v++)o=n[v],m=o.getPoints(),a=s(m),a=e?!a:a,a?(!h&&d[g]&&g++,d[g]={s:new Mo,p:m},d[g].s.curves=o.curves,h&&g++,p[g]=[]):p[g].push({h:o,p:m[0]});if(!d[0])return r(n);if(d.length>1){let v=!1,x=0;for(let b=0,y=d.length;b<y;b++)u[b]=[];for(let b=0,y=d.length;b<y;b++){let w=p[b];for(let _=0;_<w.length;_++){let D=w[_],S=!0;for(let A=0;A<d.length;A++)i(D.p,d[A].p)&&(b!==A&&x++,S?(S=!1,u[A].push(D)):v=!0);S&&u[b].push(D)}}x>0&&v===!1&&(p=u)}let f;for(let v=0,x=d.length;v<x;v++){l=d[v].s,c.push(l),f=p[v];for(let b=0,y=f.length;b<y;b++)l.holes.push(f[b].h)}return c}},{floatView:o_e,uint32View:l_e,baseTable:c_e,shiftTable:u_e,mantissaTable:d_e,exponentTable:h_e,offsetTable:p_e}=pV();typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:e1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=e1);Cu=".",v1=Symbol("target"),P3=Symbol("unsubscribe");Zs=Array.isArray;mV={after:(e,t)=>Zs(e)?e.slice(t.length):t===""?e:e.slice(t.length+1),concat:(e,t)=>Zs(e)?(e=[...e],t&&e.push(t),e):t&&t.toString!==void 0?(e!==""&&(e+=Cu),y1(t)?e+t.toString():e+t):e,initial:e=>{if(Zs(e))return e.slice(0,-1);if(e==="")return e;let t=e.lastIndexOf(Cu);return t===-1?"":e.slice(0,t)},last:e=>{if(Zs(e))return e[e.length-1]||"";if(e==="")return e;let t=e.lastIndexOf(Cu);return t===-1?e:e.slice(t+1)},walk:(e,t)=>{if(Zs(e))for(let r of e)t(r);else if(e!==""){let r=0,i=e.indexOf(Cu);if(i===-1)t(e);else for(;r<e.length;)i===-1&&(i=e.length),t(e.slice(r,i)),r=i+1,i=e.indexOf(Cu,r)}},get(e,t){return this.walk(t,r=>{e&&(e=e[r])}),e}},ji=mV;yV=class{constructor(e){this._equals=e,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return this._descriptorCache===void 0&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(e){let t=this._getDescriptorCache(),r=t.get(e);return r===void 0&&(r={},t.set(e,r)),r}_getOwnPropertyDescriptor(e,t){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(e,t);let r=this._getProperties(e),i=r[t];return i===void 0&&(i=Reflect.getOwnPropertyDescriptor(e,t),r[t]=i),i}getProxy(e,t,r,i){if(this.isUnsubscribed)return e;let s=e[i],n=s||e;this._pathCache.set(n,t);let a=this._proxyCache.get(n);return a===void 0&&(a=s===void 0?new Proxy(e,r):e,this._proxyCache.set(n,a)),a}getPath(e){return this.isUnsubscribed?void 0:this._pathCache.get(e)}isDetached(e,t){return!Object.is(e,ji.get(t,this.getPath(e)))}defineProperty(e,t,r){return Reflect.defineProperty(e,t,r)?(this.isUnsubscribed||(this._getProperties(e)[t]=r),!0):!1}setProperty(e,t,r,i,s){if(!this._equals(s,r)||!(t in e)){let n=this._getOwnPropertyDescriptor(e,t);return n!==void 0&&"set"in n?Reflect.set(e,t,r,i):Reflect.set(e,t,r)}return!0}deleteProperty(e,t,r){if(Reflect.deleteProperty(e,t)){if(!this.isUnsubscribed){let i=this._getDescriptorCache().get(e);i&&(delete i[t],this._pathCache.delete(r))}return!0}return!1}isSameDescriptor(e,t,r){let i=this._getOwnPropertyDescriptor(t,r);return e!==void 0&&i!==void 0&&Object.is(e.value,i.value)&&(e.writable||!1)===(i.writable||!1)&&(e.enumerable||!1)===(i.enumerable||!1)&&(e.configurable||!1)===(i.configurable||!1)&&e.get===i.get&&e.set===i.set}isGetInvariant(e,t){let r=this._getOwnPropertyDescriptor(e,t);return r!==void 0&&r.configurable!==!0&&r.writable!==!0}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}};B3=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),xV=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),F3={push:yp,pop:yp,shift:yp,unshift:yp,copyWithin:Ml,reverse:Ml,sort:Ml,splice:Ml,flat:Ml,fill:Ml},bV=new Set([...B3,...xV,...Object.keys(F3)]);O3=["keys","values","entries"],I3=new Set(["has","toString"]),R3={add:xp,clear:xp,delete:xp,forEach:xp},wV=new Set([...I3,...Object.keys(R3),...O3]);_V=new Set([...I3,"get"]),N3={set:bp,clear:bp,delete:bp,forEach:bp},DV=new Set([..._V,...Object.keys(N3),...O3]),Ua=class{constructor(e,t,r,i){this._path=t,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=i,this._changes=i?[]:null,this.clone=t===void 0?e:this._shallowClone(e)}static isHandledMethod(e){return B3.has(e)}_shallowClone(e){let t=e;if(ty(e))t={...e};else if(Zs(e))t=[...e];else if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set([...e].map(r=>this._shallowClone(r)));else if(e instanceof Map){t=new Map;for(let[r,i]of e.entries())t.set(r,this._shallowClone(i))}return this._clonedCache.add(t),t}preferredThisArg(e,t,r,i){return e?(Zs(i)?this._onIsChanged=F3[t]:i instanceof Set?this._onIsChanged=R3[t]:i instanceof Map&&(this._onIsChanged=N3[t]),i):r}update(e,t,r){let i=ji.after(e,this._path);if(t!=="length"){let s=this.clone;ji.walk(i,n=>{s&&s[n]&&(this._clonedCache.has(s[n])||(s[n]=this._shallowClone(s[n])),s=s[n])}),this._hasOnValidate&&this._changes.push({path:i,property:t,previous:r}),s&&s[t]&&(s[t]=r)}this._isChanged=!0}undo(e){let t;for(let r=this._changes.length-1;r!==-1;r--)t=this._changes[r],ji.get(e,t.path)[t.property]=t.previous}isChanged(e){return this._onIsChanged===void 0?this._isChanged:this._onIsChanged(this.clone,e)}},kA=class extends Ua{static isHandledMethod(e){return bV.has(e)}},SV=class extends Ua{undo(e){e.setTime(this.clone.getTime())}isChanged(e,t){return!t(this.clone.valueOf(),e.valueOf())}},PA=class extends Ua{static isHandledMethod(e){return wV.has(e)}undo(e){for(let t of this.clone)e.add(t);for(let t of e)this.clone.has(t)||e.delete(t)}},BA=class extends Ua{static isHandledMethod(e){return DV.has(e)}undo(e){for(let[t,r]of this.clone.entries())e.set(t,r);for(let t of e.keys())this.clone.has(t)||e.delete(t)}},AV=class extends Ua{constructor(e,t,r,i){super(void 0,t,r,i),this._arg1=r[0],this._weakValue=e.has(this._arg1)}isChanged(e){return this._weakValue!==e.has(this._arg1)}undo(e){this._weakValue&&!e.has(this._arg1)?e.add(this._arg1):e.delete(this._arg1)}},EV=class extends Ua{constructor(e,t,r,i){super(void 0,t,r,i),this._weakKey=r[0],this._weakHas=e.has(this._weakKey),this._weakValue=e.get(this._weakKey)}isChanged(e){return this._weakValue!==e.get(this._weakKey)}undo(e){let t=e.has(this._weakKey);this._weakHas&&!t?e.set(this._weakKey,this._weakValue):!this._weakHas&&t?e.delete(this._weakKey):this._weakValue!==e.get(this._weakKey)&&e.set(this._weakKey,this._weakValue)}},Il=class{constructor(e){this._stack=[],this._hasOnValidate=e}static isHandledType(e){return ty(e)||Zs(e)||ey(e)}static isHandledMethod(e,t){return ty(e)?Ua.isHandledMethod(t):Zs(e)?kA.isHandledMethod(t):e instanceof Set?PA.isHandledMethod(t):e instanceof Map?BA.isHandledMethod(t):ey(e)}get isCloning(){return this._stack.length>0}start(e,t,r){let i=Ua;Zs(e)?i=kA:e instanceof Date?i=SV:e instanceof Set?i=PA:e instanceof Map?i=BA:e instanceof WeakSet?i=AV:e instanceof WeakMap&&(i=EV),this._stack.push(new i(e,t,r,this._hasOnValidate))}update(e,t,r){this._stack[this._stack.length-1].update(e,t,r)}preferredThisArg(e,t,r){let{name:i}=e,s=Il.isHandledMethod(r,i);return this._stack[this._stack.length-1].preferredThisArg(s,i,t,r)}isChanged(e,t,r){return this._stack[this._stack.length-1].isChanged(e,t,r)}undo(e){this._previousClone!==void 0&&this._previousClone.undo(e)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}},CV={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},U3=(e,t,r={})=>{r={...CV,...r};let i=Symbol("ProxyTarget"),{equals:s,isShallow:n,ignoreDetached:a,details:o}=r,l=new yV(s),c=typeof r.onValidate=="function",h=new Il(c),u=(x,b,y,w,_)=>!c||h.isCloning||r.onValidate(ji.concat(l.getPath(x),b),y,w,_)===!0,d=(x,b,y,w)=>{!LA(l,r,b)&&!(a&&l.isDetached(x,e))&&p(l.getPath(x),b,y,w)},p=(x,b,y,w,_)=>{h.isCloning?h.update(x,b,w):t(ji.concat(x,b),y,w,_)},g=x=>x&&(x[i]||x),m=(x,b,y,w)=>fV(x)||y==="constructor"||n&&!Il.isHandledMethod(b,y)||LA(l,r,y)||l.isGetInvariant(b,y)||a&&l.isDetached(b,e)?x:(w===void 0&&(w=l.getPath(b)),l.getProxy(x,ji.concat(w,y),f,i)),f={get(x,b,y){if(y1(b)){if(b===i||b===v1)return x;if(b===P3&&!l.isUnsubscribed&&l.getPath(x).length===0)return l.unsubscribe(),x}let w=ey(x)?Reflect.get(x,b):Reflect.get(x,b,y);return m(w,x,b)},set(x,b,y,w){y=g(y);let _=x[i]||x,D=_[b];if(s(D,y)&&b in x)return!0;let S=u(x,b,y,D);return S&&l.setProperty(_,b,y,w,D)?(d(x,b,x[b],D),!0):!S},defineProperty(x,b,y){if(!l.isSameDescriptor(y,x,b)){let w=x[b];u(x,b,y.value,w)&&l.defineProperty(x,b,y,w)&&d(x,b,y.value,w)}return!0},deleteProperty(x,b){if(!Reflect.has(x,b))return!0;let y=Reflect.get(x,b),w=u(x,b,void 0,y);return w&&l.deleteProperty(x,b,y)?(d(x,b,void 0,y),!0):!w},apply(x,b,y){let w=b[i]||b;if(l.isUnsubscribed)return Reflect.apply(x,w,y);if((o===!1||o!==!0&&!o.includes(x.name))&&Il.isHandledType(w)){let _=ji.initial(l.getPath(x)),D=Il.isHandledMethod(w,x.name);h.start(w,_,y);let S=Reflect.apply(x,h.preferredThisArg(x,b,w),D?y.map(M=>g(M)):y),A=h.isChanged(w,s),E=h.stop();if(Il.isHandledType(S)&&D&&(b instanceof Map&&x.name==="get"&&(_=ji.concat(_,y[0])),S=l.getProxy(S,_,f)),A){let M={name:x.name,args:y,result:S},I=h.isCloning?ji.initial(_):_,V=h.isCloning?ji.last(_):"";u(ji.get(e,I),V,w,E,M)?p(I,V,w,E,M):h.undo(w)}return(b instanceof Map||b instanceof Set)&&gV(S)?vV(S,x,b,_,m):S}return Reflect.apply(x,b,y)}},v=l.getProxy(e,r.pathAsArray?[]:"",f);return t=t.bind(v),c&&(r.onValidate=r.onValidate.bind(v)),v};U3.target=e=>e&&e[v1]||e;U3.unsubscribe=e=>e[P3]||e;TV=typeof global=="object"&&global&&global.Object===Object&&global,z3=TV,MV=typeof self=="object"&&self&&self.Object===Object&&self,LV=z3||MV||Function("return this")(),yn=LV,kV=yn.Symbol,dn=kV,j3=Object.prototype,PV=j3.hasOwnProperty,BV=j3.toString,Tu=dn?dn.toStringTag:void 0;OV=FV,IV=Object.prototype,RV=IV.toString;UV=NV,zV="[object Null]",jV="[object Undefined]",FA=dn?dn.toStringTag:void 0;Uo=HV;ja=VV,GV="[object Symbol]";x1=WV;H3=qV,YV=Array.isArray,hn=YV,XV=1/0,OA=dn?dn.prototype:void 0,IA=OA?OA.toString:void 0;QV=V3;pn=ZV,f_e=0/0;G3=$V,JV="[object AsyncFunction]",KV="[object Function]",eG="[object GeneratorFunction]",tG="[object Proxy]";b1=rG,iG=yn["__core-js_shared__"],o0=iG,RA=function(){var e=/[^.]+$/.exec(o0&&o0.keys&&o0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();nG=sG,aG=Function.prototype,oG=aG.toString;zo=lG,cG=/[\\^$.*+?()[\]{}|]/g,uG=/^\[object .+?Constructor\]$/,dG=Function.prototype,hG=Object.prototype,pG=dG.toString,fG=hG.hasOwnProperty,mG=RegExp("^"+pG.call(fG).replace(cG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");vG=gG;xG=yG;jo=bG,wG=jo(yn,"WeakMap"),ry=wG,NA=Object.create,_G=function(){function e(){}return function(t){if(!pn(t))return{};if(NA)return NA(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),DG=_G;AG=SG;W3=EG,CG=800,TG=16,MG=Date.now;kG=LG;BG=PG,FG=function(){try{var e=jo(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Kp=FG,OG=Kp?function(e,t){return Kp(e,"toString",{configurable:!0,enumerable:!1,value:BG(t),writable:!0})}:G3,IG=OG,RG=kG(IG),q3=RG;UG=NG,zG=9007199254740991,jG=/^(?:0|[1-9]\d*)$/;_f=HG;w1=VG;Df=GG,WG=Object.prototype,qG=WG.hasOwnProperty;_1=YG;dc=XG,UA=Math.max;Y3=QG;$G=ZG,JG=9007199254740991;D1=KG;Sf=eW;rW=tW;sW=iW,nW=Object.prototype;S1=aW;lW=oW,cW="[object Arguments]";zA=uW,X3=Object.prototype,dW=X3.hasOwnProperty,hW=X3.propertyIsEnumerable,pW=zA(function(){return arguments}())?zA:function(e){return ja(e)&&dW.call(e,"callee")&&!hW.call(e,"callee")},ld=pW;mW=fW,Q3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jA=Q3&&typeof module=="object"&&module&&!module.nodeType&&module,gW=jA&&jA.exports===Q3,HA=gW?yn.Buffer:void 0,vW=HA?HA.isBuffer:void 0,yW=vW||mW,A1=yW,xW="[object Arguments]",bW="[object Array]",wW="[object Boolean]",_W="[object Date]",DW="[object Error]",SW="[object Function]",AW="[object Map]",EW="[object Number]",CW="[object Object]",TW="[object RegExp]",MW="[object Set]",LW="[object String]",kW="[object WeakMap]",PW="[object ArrayBuffer]",BW="[object DataView]",FW="[object Float32Array]",OW="[object Float64Array]",IW="[object Int8Array]",RW="[object Int16Array]",NW="[object Int32Array]",UW="[object Uint8Array]",zW="[object Uint8ClampedArray]",jW="[object Uint16Array]",HW="[object Uint32Array]",Wt={};Wt[FW]=Wt[OW]=Wt[IW]=Wt[RW]=Wt[NW]=Wt[UW]=Wt[zW]=Wt[jW]=Wt[HW]=!0;Wt[xW]=Wt[bW]=Wt[PW]=Wt[wW]=Wt[BW]=Wt[_W]=Wt[DW]=Wt[SW]=Wt[AW]=Wt[EW]=Wt[CW]=Wt[TW]=Wt[MW]=Wt[LW]=Wt[kW]=!1;GW=VW;E1=WW,Z3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ku=Z3&&typeof module=="object"&&module&&!module.nodeType&&module,qW=Ku&&Ku.exports===Z3,l0=qW&&z3.process,YW=function(){try{var e=Ku&&Ku.require&&Ku.require("util").types;return e||l0&&l0.binding&&l0.binding("util")}catch{}}(),rc=YW,VA=rc&&rc.isTypedArray,XW=VA?E1(VA):GW,$3=XW,QW=Object.prototype,ZW=QW.hasOwnProperty;J3=$W;K3=JW,KW=K3(Object.keys,Object),eq=KW,tq=Object.prototype,rq=tq.hasOwnProperty;sq=iq;C1=nq;oq=aq,lq=Object.prototype,cq=lq.hasOwnProperty;dq=uq;Sd=hq,pq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fq=/^\w*$/;gq=mq,vq=jo(Object,"create"),cd=vq;xq=yq;wq=bq,_q="__lodash_hash_undefined__",Dq=Object.prototype,Sq=Dq.hasOwnProperty;Eq=Aq,Cq=Object.prototype,Tq=Cq.hasOwnProperty;Lq=Mq,kq="__lodash_hash_undefined__";Bq=Pq;hc.prototype.clear=xq;hc.prototype.delete=wq;hc.prototype.get=Eq;hc.prototype.has=Lq;hc.prototype.set=Bq;GA=hc;Oq=Fq;Af=Iq,Rq=Array.prototype,Nq=Rq.splice;zq=Uq;Hq=jq;Gq=Vq;qq=Wq;pc.prototype.clear=Oq;pc.prototype.delete=zq;pc.prototype.get=Hq;pc.prototype.has=Gq;pc.prototype.set=qq;Ef=pc,Yq=jo(yn,"Map"),ud=Yq;Qq=Xq;$q=Zq;Cf=Jq;eY=Kq;rY=tY;sY=iY;aY=nY;fc.prototype.clear=Qq;fc.prototype.delete=eY;fc.prototype.get=rY;fc.prototype.has=sY;fc.prototype.set=aY;T1=fc,oY="Expected a function";M1.Cache=T1;lY=M1,cY=500;dY=uY,hY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pY=/\\(\\)?/g,fY=dY(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(hY,function(r,i,s,n){t.push(s?n.replace(pY,"$1"):i||r)}),t}),mY=fY;vY=gY;mc=yY,xY=1/0;Tf=bY;eT=wY;L1=_Y,WA=dn?dn.isConcatSpreadable:void 0;SY=DY;AY=tT;CY=EY;rT=TY,MY=K3(Object.getPrototypeOf,Object),k1=MY,LY="[object Object]",kY=Function.prototype,PY=Object.prototype,iT=kY.toString,BY=PY.hasOwnProperty,FY=iT.call(Object);sT=OY;RY=IY;UY=NY;jY=zY;VY=HY;WY=GY,qY=200;XY=YY;gc.prototype.clear=UY;gc.prototype.delete=jY;gc.prototype.get=VY;gc.prototype.has=WY;gc.prototype.set=XY;nT=gc;ZY=QY;JY=$Y,aT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qA=aT&&typeof module=="object"&&module&&!module.nodeType&&module,KY=qA&&qA.exports===aT,YA=KY?yn.Buffer:void 0,XA=YA?YA.allocUnsafe:void 0;oT=eX;rX=tX;lT=iX,sX=Object.prototype,nX=sX.propertyIsEnumerable,QA=Object.getOwnPropertySymbols,aX=QA?function(e){return e==null?[]:(e=Object(e),rX(QA(e),function(t){return nX.call(e,t)}))}:lT,P1=aX;lX=oX,cX=Object.getOwnPropertySymbols,uX=cX?function(e){for(var t=[];e;)L1(t,P1(e)),e=k1(e);return t}:lT,cT=uX;hX=dX;uT=pX;mX=fX;dT=gX,vX=jo(yn,"DataView"),iy=vX,yX=jo(yn,"Promise"),sy=yX,xX=jo(yn,"Set"),ny=xX,ZA="[object Map]",bX="[object Object]",$A="[object Promise]",JA="[object Set]",KA="[object WeakMap]",eE="[object DataView]",wX=zo(iy),_X=zo(ud),DX=zo(sy),SX=zo(ny),AX=zo(ry),vo=Uo;(iy&&vo(new iy(new ArrayBuffer(1)))!=eE||ud&&vo(new ud)!=ZA||sy&&vo(sy.resolve())!=$A||ny&&vo(new ny)!=JA||ry&&vo(new ry)!=KA)&&(vo=function(e){var t=Uo(e),r=t==bX?e.constructor:void 0,i=r?zo(r):"";if(i)switch(i){case wX:return eE;case _X:return ZA;case DX:return $A;case SX:return JA;case AX:return KA}return t});B1=vo,EX=Object.prototype,CX=EX.hasOwnProperty;MX=TX,LX=yn.Uint8Array,tE=LX;F1=kX;BX=PX,FX=/\w*$/;IX=OX,rE=dn?dn.prototype:void 0,iE=rE?rE.valueOf:void 0;NX=RX;hT=UX,zX="[object Boolean]",jX="[object Date]",HX="[object Map]",VX="[object Number]",GX="[object RegExp]",WX="[object Set]",qX="[object String]",YX="[object Symbol]",XX="[object ArrayBuffer]",QX="[object DataView]",ZX="[object Float32Array]",$X="[object Float64Array]",JX="[object Int8Array]",KX="[object Int16Array]",eQ="[object Int32Array]",tQ="[object Uint8Array]",rQ="[object Uint8ClampedArray]",iQ="[object Uint16Array]",sQ="[object Uint32Array]";aQ=nQ;pT=oQ,lQ="[object Map]";uQ=cQ,sE=rc&&rc.isMap,dQ=sE?E1(sE):uQ,hQ=dQ,pQ="[object Set]";mQ=fQ,nE=rc&&rc.isSet,gQ=nE?E1(nE):mQ,vQ=gQ,yQ=1,xQ=2,bQ=4,fT="[object Arguments]",wQ="[object Array]",_Q="[object Boolean]",DQ="[object Date]",SQ="[object Error]",mT="[object Function]",AQ="[object GeneratorFunction]",EQ="[object Map]",CQ="[object Number]",gT="[object Object]",TQ="[object RegExp]",MQ="[object Set]",LQ="[object String]",kQ="[object Symbol]",PQ="[object WeakMap]",BQ="[object ArrayBuffer]",FQ="[object DataView]",OQ="[object Float32Array]",IQ="[object Float64Array]",RQ="[object Int8Array]",NQ="[object Int16Array]",UQ="[object Int32Array]",zQ="[object Uint8Array]",jQ="[object Uint8ClampedArray]",HQ="[object Uint16Array]",VQ="[object Uint32Array]",Ht={};Ht[fT]=Ht[wQ]=Ht[BQ]=Ht[FQ]=Ht[_Q]=Ht[DQ]=Ht[OQ]=Ht[IQ]=Ht[RQ]=Ht[NQ]=Ht[UQ]=Ht[EQ]=Ht[CQ]=Ht[gT]=Ht[TQ]=Ht[MQ]=Ht[LQ]=Ht[kQ]=Ht[zQ]=Ht[jQ]=Ht[HQ]=Ht[VQ]=!0;Ht[SQ]=Ht[mT]=Ht[PQ]=!1;vT=jp,GQ=1,WQ=4;yT=qQ;XQ=YQ;ZQ=QQ;JQ=$Q;eZ=KQ,tZ=eZ(),rZ=tZ;ay=iZ;nZ=sZ;oy=aZ;lZ=oZ;uZ=cZ;dZ=xT;pZ=hZ;mZ=fZ,gZ=sW(function(e,t,r){dZ(e,t,r)}),ef=gZ;yZ=vZ;bZ=xZ,wZ=1,_Z=2,DZ=4,SZ=rT(function(e,t){var r={};if(e==null)return r;var i=!1;t=H3(t,function(n){return n=mc(n,e),i||(i=n.length>1),n}),dc(e,dT(e),r),i&&(r=vT(r,wZ|_Z|DZ,bZ));for(var s=t.length;s--;)yZ(r,t[s]);return r}),ly=SZ;EZ=AZ;TZ=CZ;LZ=MZ,m_e=rT(function(e,t){return e==null?{}:LZ(e,t)});PZ=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes(" electron/"),BZ=()=>typeof window>"u"?!1:window.navigator.platform.toUpperCase().includes("MAC"),FZ=()=>typeof window>"u"?!1:/iPad|iPhone|iPod/.test(window.navigator.userAgent)||UZ&&"ontouchend"in document,OZ=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,IZ=()=>typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0,RZ=()=>{if(typeof window>"u")return!1;let e=navigator.userAgent,t=navigator.vendor;return/Safari/i.test(e)&&/Apple Computer/.test(t)},NZ=()=>{if(typeof window>"u")return null;let e=navigator.userAgent.match(/Version\/(\d+\.\d)/);return e&&e[1]},g_e=PZ(),UZ=BZ(),v_e=FZ(),y_e=OZ(),aE=IZ(),oE=RZ(),lE=Number(NZ());(e=>{e.all=["PerspectiveCamera","OrthographicCamera"];function t(r){return e.all.includes(r)}e.is=t})(tf||(tf={}));(e=>{e.DefaultUp=[0,1,0],e.DefaultTargetOffset=1e3,e.defaultData={far:1e5,type:"OrthographicCamera",perspective:{near:5,fov:45,zoom:1},orthographic:{near:-1e5,zoom:1},up:e.DefaultUp,isUpVectorFlipped:!1,targetOffset:e.DefaultTargetOffset};function t(r){return r.type==="PerspectiveCamera"?r.perspective.zoom:r.orthographic.zoom}e.getZoom=t})(dd||(dd={}));(e=>{function t(i,s){return i[0]===s[0]&&i[1]===s[1]}e.isEqual=t;function r(i,s,n){return[i[0]+(s[0]-i[0])*n,i[1]+(s[1]-i[1])*n]}e.lerp=r})(cE||(cE={}));(e=>{function t(n,a){return n[0]===a[0]&&n[1]===a[1]&&n[2]===a[2]}e.isEqual=t;function r(n,a){return[n[0]+a[0],n[1]+a[1],n[2]+a[2]]}e.add=r;function i(n,a){return[n[0]-a[0],n[1]-a[1],n[2]-a[2]]}e.sub=i;function s(n,a,o){return[n[0]+(a[0]-n[0])*o,n[1]+(a[1]-n[1])*o,n[2]+(a[2]-n[2])*o]}e.lerp=s})(ed||(ed={}));(e=>{function t(i,s){return i[0]===s[0]&&i[1]===s[1]&&i[2]===s[2]&&i[3]===s[3]}e.isEqual=t;function r(i,s,n){return[i[0]+(s[0]-i[0])*n,i[1]+(s[1]-i[1])*n,i[2]+(s[2]-i[2])*n,i[3]+(s[3]-i[3])*n]}e.lerp=r})(uE||(uE={}));(e=>{e.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function t(s,n){for(let a=0;a<16;a++)if(s[a]!==n[a])return!1;return!0}e.isEqual=t;function r(s){return s??e.identity}e.simplify=r;function i(s,n){let a=n.slice(0);for(var o=0,l=n.length;o<l;o+=3){let c=s[3]*n[o]+s[7]*n[o+1]+s[11]*n[o+2]+s[15];a[o]=(s[0]*n[o]+s[4]*n[o+1]+s[8]*n[o+2]+s[12])/c,a[o+1]=(s[1]*n[o]+s[5]*n[o+1]+s[9]*n[o+2]+s[13])/c,a[o+2]=(s[2]*n[o]+s[6]*n[o+1]+s[10]*n[o+2]+s[14])/c}return a}e.applyMatrix4=i})(ic||(ic={}));(e=>{e.white={r:1,g:1,b:1},e.red={r:1,g:0,b:0},e.black={r:0,g:0,b:0};function t(a){return{r:Math.round(a.r*255),g:Math.round(a.g*255),b:Math.round(a.b*255),a:1}}e.toRgb255a1=t;function r(a){return{r:a.r,g:a.g,b:a.b}}e.clone=r;function i(a){return a=Math.floor(a),{r:(a>>16&255)/255,g:(a>>8&255)/255,b:(a&255)/255}}e.fromHex=i;function s(a,o){return a.r===o.r&&a.g===o.g&&a.b===o.b}e.equals=s;function n(a,o,l){return{r:a.r+(o.r-a.r)*l,g:a.g+(o.g-a.g)*l,b:a.b+(o.b-a.b)*l}}e.lerp=n})(Qi||(Qi={}));(e=>{e.white={...Qi.white,a:1},e.transparent={...Qi.white,a:0};function t(a){return{r:a[0],g:a[1],b:a[2],a:a[3]}}e.from0to1=t;function r(a,o){return{...Qi.fromHex(a),a:o}}e.fromHexAndA=r;function i(a){return{r:Math.round(a.r*255),g:Math.round(a.g*255),b:Math.round(a.b*255),a:a.a}}e.toRgb255a1=i;function s(a,o){return Qi.equals(a,o)&&a.a===o.a}e.equals=s;function n(a,o,l){return{r:a.r+(o.r-a.r)*l,g:a.g+(o.g-a.g)*l,b:a.b+(o.b-a.b)*l,a:a.a+(o.a-a.a)*l}}e.lerp=n})(tn||(tn={}));(e=>e.identity={position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]})(cy||(cy={}));(e=>e.defaultData={mass:1,stiffness:80,damping:10,velocity:0})(dE||(dE={}));(e=>e.defaultData={control1:[.5,.05],control2:[.1,.3]})(hE||(hE={}));(e=>{function t(r,i=.1){return{type:"radial",hideBase:!1,count:3,radial:{radius:Math.max(r[0],r[1])*2,start:0,end:360,alignment:!1,axis:"y",scale:[1,1,1],rotation:[0,0,0],position:[0,0,0]},linear:{scale:[1,1,1],rotation:[0,0,0],position:[r[0]+r[0]*i,0,0]},grid:{count:[2,2,2],size:r.map(s=>s*(1+i)),useCenter:!0}}}e.defaultData=t})(uy||(uy={}));Zi=class{modifyById(e,t){let r=this;if(r[e]===void 0)throw new Error("not expected");{let i={...r,[e]:t};return Object.setPrototypeOf(i,Zi.prototype),i}}add(e,t){return this.runOp({type:1,id:e,data:t})?.data??this}runOp(e){let t=this;if(e.type===1){let r=t[e.id],i;r===void 0?i={type:2,id:e.id}:i={type:1,id:e.id,data:r};let{id:s,data:n}=e,a={...t,[s]:n};return Object.setPrototypeOf(a,Zi.prototype),{data:a,actual:e,reverse:i}}else if(e.type===2){let{id:r}=e,i=t[r];if(i===void 0)return null;{let s={...t};return Object.setPrototypeOf(s,Zi.prototype),delete s[r],{data:s,actual:e,reverse:{type:1,id:r,data:i}}}}throw new Error("illegal arg")}};HZ=class extends Error{};sc=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,sc.prototype)}deepFreeze(){let e=0;for(;e<this.length;)O1(this[e]),e++}fillCaches0(e,t){this.objCaches.set(e.id,e),this.parentCaches.set(e.id,t);for(let r of e.children)this.fillCaches0(r,e.id)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,this.parentCaches=new Map;for(let e of this)this.fillCaches0(e,null)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(e.length!==0)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}isDescendantOf(e,t){for(;e;){let r=this.parent(e);if(r===t)return!0;e=r}return!1}data(e){return this.get(e)?.data}has(e){return this.childrenOf(e)!==void 0}get(e){return this.fillCaches(),this.objCaches.get(e)}childrenOf(e){return e===null?this:this.get(e)?.children}traverseFrom(e,t){if(e===null)this.traverse(t);else{let r=this.get(e);r&&_T(r,t)}}traverse(e){wT(this,e)}totalSize(){return this.fillCaches(),this.objCaches.size}parent(e){return this.fillCaches(),this.parentCaches.get(e)}childrenArray(e){return e===null?this:this.get(e).children}modifyById(e,t){if(this.get(e)===void 0)throw new Error("not expected");{let r=this.parent(e),i=this.childrenArray(r),s=i.findIndex(a=>a.id===e);if(s<0)throw new Error("not expected");let n=i[s];return i=[...i],i[s]={...n,data:t},this.modifyArrayBy(r,i)}}modifyArrayBy(e,t){let r=e,i=t;for(;r!==null;){let n=i,a=r;if(r=this.parent(r),r===void 0)throw new Error;i=this.childrenArray(r);let o=i.findIndex(l=>l.id===a);if(o<0)throw new Error;i=[...i],i[o]={...i[o],children:n}}Object.setPrototypeOf(i,sc.prototype);let s=i;return s.fillCaches(),s}runOp(e){switch(e.type){case 7:return this.addOp(e);case 8:return this.deleteOp(e);case 9:return this.moveOp(e)}}checkDuplicatedIdRec({id:e,children:t}){if(this.get(e)!==void 0)return!0;for(let r of t)if(this.checkDuplicatedIdRec(r))return!0;return!1}addOp(e){let{parent:t,fi:r,id:i,data:s,children:n}=e;if(t!==null&&this.get(t)===void 0||this.checkDuplicatedIdRec(e))return null;{let a=t,o=this.childrenArray(a),l={fi:r,id:i,data:s,children:n};return o=[...o,l],o.sort((c,h)=>c.fi-h.fi),e.localIndex=o.indexOf(l),{data:this.modifyArrayBy(a,o),actual:e,reverse:{type:8,id:i}}}}deleteOp(e){let{id:t}=e;if(this.get(t)===null)return null;{let r=this.parent(t);if(r===void 0)return null;let i=this.childrenArray(r),s=i.findIndex(a=>a.id===t);e.localIndex=s,i=[...i];let n=i.splice(s,1)[0];return{data:this.modifyArrayBy(r,i),actual:e,reverse:{type:7,...n,parent:r}}}}moveOp(e){let{parent:t,fi:r,id:i}=e;if(t!==null&&this.get(t)===void 0)return this.deleteOp({type:8,id:i});if(t!==null){let u=t;for(;u!==null;){if(u===void 0)throw new Error;if(u===i)throw new HZ("cyclic tree");u=this.parent(u)}}let s=this.parent(i);if(s===void 0)return null;let n=s,a=this.childrenArray(s),o=a.findIndex(u=>u.id===i);a=[...a];let l=a.splice(o,1)[0],c=this.modifyArrayBy(s,a);s=t,a=c.childrenArray(s);let h=l.fi;return l={...l,fi:r},a=[...a,l],a.sort((u,d)=>u.fi-d.fi),e.localIndex=a.indexOf(l),c=c.modifyArrayBy(s,a),{data:c,actual:e,reverse:{type:9,parent:n,fi:h,id:i}}}previous(e,t){if(t===null){let i=this.childrenArray(e);return i.length===0?null:i[i.length-1].id}let r=null;for(let i of this.childrenArray(e)){if(i.id===t)return r;r=i.id}return null}traverseSortNext(e){let t=this.parent(e);if(t!==void 0){let r=this.childrenArray(t),i=r.findIndex(s=>s.id===e)+1;if(i<r.length)return r[i].id;if(t)return this.traverseSortNext(t)}}sortNext(e){let t=this.childrenArray(e);return t.length>0?t[0].id:this.traverseSortNext(e)}traverseSortPrevious(e){let t=this.childrenArray(e);return t.length>0?this.traverseSortPrevious(t[t.length-1].id):e}sortPrevious(e){let t=this.parent(e);if(t!==void 0){let r=this.childrenArray(t),i=r.findIndex(s=>s.id===e)-1;return i>=0?this.traverseSortPrevious(r[i].id):t}}getAllSorted(e){let t=[];for(let r of e){let i=this.getWithSortKey(r.id);i!==void 0&&t.push({...r,...i})}t.sort((r,i)=>jZ(r.sortKey,i.sortKey));for(let r of t)delete r.sortKey;return t}getWithSortKey(e){var t=e;let r=[],i=this.get(t),s=i;if(i!==void 0){for(;t;)r.splice(0,0,i.fi),t=this.parent(t),t!==null&&(i=this.get(t));return{...s,sortKey:r}}}insertBeforeHelper(e,t,r){return this.insertAfterHelper(e,this.previous(e,t),r)}insertAfterHelper(e,t,r){let i=this.childrenArray(e);if(t===null){if(i.length===0)return Ma(0,r,r);{let s=i[0].fi;return Ma(s-r,s,r)}}else{let s=this.get(t);if(s===void 0||this.parent(t)!==e)throw new Error("illegal args");let n=i.find(a=>a.fi>s.fi);if(n===void 0){let a=i[i.length-1].fi;return Ma(a,a+r,r)}else return Ma(s.fi,n.fi,r)}}};(e=>{function t(r,i){if(Array.isArray(r)){let s=i.props,n={},a=[...r],o=!1;if(s)for(let l of Object.keys(s)){let c=parseInt(l);if(isNaN(c))throw new Error("wrong index");n[l]=a[c],a[c]=s[l],o=!0}return o?{data:a,actual:i,reverse:{type:0,props:n}}:null}else{let s=i.props,n={},a={...r},o=!1;if(s)for(let l of Object.keys(s)){n[l]=a[l];let c=s[l];c===void 0?delete a[l]:a[l]=c,o=!0}return o?{data:a,actual:i,reverse:{type:0,props:n}}:null}}e.runOp=t})(dy||(dy={}));ni=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ni.prototype)}deepFreeze(){let e=0;for(;e<this.length;)O1(this[e]),e++}fillCaches0(e){this.objCaches.set(e.id,e)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,Object.getOwnPropertyDescriptor(this,"objCaches").enumerable=!1;for(let e of this)this.fillCaches0(e)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(e.length!==0)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}data(e){return this.get(e)?.data}get(e){return this.fillCaches(),this.objCaches.get(e)}modifyById(e,t){if(this.get(e)===void 0)throw new Error("not expected");{let r=this,i=r.findIndex(n=>n.id===e);if(i<0)throw new Error("not expected");let s=r[i];return r=[...r],r[i]={...s,data:t},this.modifyArrayBy(r)}}modifyArrayBy(e){Object.setPrototypeOf(e,ni.prototype);let t=e;return VZ()||t.fillCaches(),t}runOp(e){switch(e.type){case 4:return this.addOp(e);case 5:return this.deleteOp(e);case 6:return this.moveOp(e)}}addOp(e){let{fi:t,id:r,data:i}=e,s=this,n={fi:t,id:r,data:i};return s=[...s,n],s.sort((a,o)=>a.fi-o.fi),e.localIndex=s.indexOf(n),{data:this.modifyArrayBy(s),actual:e,reverse:{type:5,id:r}}}deleteOp(e){let{id:t}=e,r=this,i=r.findIndex(n=>n.id===t);if(i===-1)return null;e.localIndex=i,r=[...r];let s=r.splice(i,1)[0];return{data:this.modifyArrayBy(r),actual:e,reverse:{type:4,...s}}}moveOp(e){let{fi:t,id:r}=e,i=this;i=[...i];let s=i.findIndex(o=>o.id===r);if(s===-1)return null;let n=i[s].fi,a={...i[s],fi:t};return i[s]=a,i.sort((o,l)=>o.fi-l.fi),e.localIndex=i.indexOf(a),{data:this.modifyArrayBy(i),actual:e,reverse:{type:6,fi:n,id:r}}}previous(e){if(e===null)return this.length===0?null:this[this.length-1].id;let t=null;for(let r of this){if(r.id===e)return t;t=r.id}return null}insertBeforeHelper(e,t){return this.insertAfterHelper(this.previous(e),t)}insertAfterHelper(e,t){let r=this;if(e===null){if(r.length===0)return Ma(0,t,t);{let i=r[0].fi;return Ma(i-t,i,t)}}else{let i=this.get(e);if(i===void 0)throw new Error("illegal args");let s=r.find(n=>n.fi>i.fi);if(s===void 0){let n=r[r.length-1].fi;return Ma(n,n+t,t)}else return Ma(i.fi,s.fi,t)}}},DT=Symbol(),Mf=Symbol(),Lf=class{reportOp(e,t){let r=this;if(t===null)return;r._current=t.data;let i=[];for(;!(r instanceof AT);){let s=r._path,n=r._current;if(s!==""&&i.splice(0,0,s),r=r._parent,r===null)return;r.update(s,n)}r.push(i,e,t.actual,t.reverse)}deleteChildren(e){if(this._children){let t=this._children[e];if(t){let r=t[Mf];r&&r(),delete this._children[e]}}}},GZ=class extends Lf{constructor(e,t,r){super(),this._parent=e,this._path=t,this._current=r}update(e,t){if(Array.isArray(this._current)){if(typeof e=="string"&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid path");this._current=[...this._current],this._current[e]=t}else this._current={...this._current,[e]:t}}runOp(e){this.reportOp(e,dy.runOp(this._current,e))}},WZ=class extends Lf{constructor(e,t,r){super(),this._parent=e,this._path=t,this._current=r}update(e,t){this._current={...this._current,[e]:t},Object.setPrototypeOf(this._current,Zi.prototype)}runOp(e){this.reportOp(e,this._current.runOp(e))}},ST={get(e,t){if(t===Mf)return()=>{e._parent=null};if(t===DT)return e._current;let{_current:r,_children:i}=e;if(t==="push"&&Array.isArray(r))throw new Error("not supported to expand array");let s=i===void 0?void 0:i[t];if(s!==void 0)return s;let n=r[t],a=kf(e,t,n);return a!==n?(i===void 0&&(i={},e._children=i),i[t]=a,a):n},has(e,t){return t in e._current},ownKeys(e){return Reflect.ownKeys(e._current)},defineProperty(){throw Error("not supported")},getPrototypeOf(e){return Object.getPrototypeOf(e._current)},setPrototypeOf(){throw Error("not supported")},getOwnPropertyDescriptor(e,t){let r=e._current,i=Reflect.getOwnPropertyDescriptor(r,t);return i&&{writable:!0,configurable:!0,enumerable:i.enumerable,value:r[t]}}},qZ={...ST,set(e,t,r){let i={type:0,props:{[t]:QZ(r)??r}};return e.deleteChildren(t),e.runOp(i),!0},deleteProperty(e,t){let r={type:0,props:{[t]:void 0}};return e.deleteChildren(t),e.runOp(r),!0}},YZ={...ST,set(e,t,r){return r===void 0?this.deleteProperty(e,t):(e.deleteChildren(t),e.runOp({type:1,id:t,data:r})),!0},deleteProperty(e,t){return e.runOp({type:2,id:t}),!0}},I1=class extends Lf{constructor(e,t,r){super(),this._children={},this._parent=e,this._path=t,this._current=r,this[Mf]=()=>{this._parent=null}}unproxy(){return this._current}update(e,t){this._current=this._current.modifyById(e,t)}runOp(e){this.reportOp(e,this._current.runOp(e))}randomId(){return this._current.randomId()}isDescendantOf(e,t){return this._current.isDescendantOf(e,t)}childrenOf(e){return this._current.childrenOf(e)}traverse(e){return this._current.traverse(e)}get(e){return this._current.get(e)}parent(e){return this._current.parent(e)}traverse(e){this._current.traverse((t,r)=>{e(t,this.data(t))})}data(e){let{_current:t,_children:r}=this,i=r===void 0?void 0:r[e];if(i!==void 0)return i;let s=t.get(e)?.data,n=kf(this,e,s);return n!==s?(r===void 0&&(r={},this._children=r),r[e]=n,n):s}add(e,t,r,i,s){this.runOp({type:7,parent:e,fi:t,id:r,data:i,children:s})}move(e,t,r){this.runOp({type:9,parent:e,fi:t,id:r})}insertAfter(e,t,r){let i=this._current.insertAfterHelper(e,t,r.length);for(let s=0;s<r.length;s++){let n=r[s];this.add(e,i[s],n.id,n.data,n.children)}}insertBefore(e,t,r){let i=this._current.insertBeforeHelper(e,t,r.length);for(let s=0;s<r.length;s++){let n=r[s];this.add(e,i[s],n.id,n.data,n.children)}}moveAfter(e,t,r){let i=this._current.insertAfterHelper(e,t,r.length);for(let s=0;s<r.length;s++){let n=r[s];this.move(e,i[s],n)}}moveBefore(e,t,r){let i=this._current.insertBeforeHelper(e,t,r.length);for(let s=0;s<r.length;s++){let n=r[s];this.move(e,i[s],n)}}delete(e){this.deleteChildren(e),this.runOp({type:8,id:e})}sortNext(e){return this._current.sortNext(e)}sortPrevious(e){return this._current.sortPrevious(e)}getAllSorted(e){return this._current.getAllSorted(e)}},R1=class extends Lf{constructor(e,t,r){super(),this._children={},this._parent=e,this._path=t,this._current=r,this[Mf]=()=>{this._parent=null}}unproxy(){return this._current}get length(){return this._current.length}forEach(e){let t=this.length;for(let r=0;r<t;r++){let i=this._current[r].id;e(this.data(this._current[r].id),i)}}update(e,t){this._current=this._current.modifyById(e,t)}randomId(){return this._current.randomId()}get(e){return{...this._current.get(e),data:this.data(e)}}data(e){let{_current:t,_children:r}=this,i=r===void 0?void 0:r[e];if(i!==void 0)return i;let s=t.get(e)?.data,n=kf(this,e,s);return n!==s?(r===void 0&&(r={},this._children=r),r[e]=n,n):s}runOp(e){this.reportOp(e,this._current.runOp(e))}add(e,t,r){this.runOp({type:4,fi:e,id:t,data:r})}move(e,t){this.runOp({type:6,fi:e,id:t})}insertAfter(e,t){let r=this._current.insertAfterHelper(e,t.length);for(let i=0;i<t.length;i++){let s=t[i];this.add(r[i],s.id,s.data)}}insertBefore(e,t){let r=this._current.insertBeforeHelper(e,t.length);for(let i=0;i<t.length;i++){let s=t[i];this.add(r[i],s.id,s.data)}}moveAfter(e,t){let r=this._current.insertAfterHelper(e,t.length);for(let i=0;i<t.length;i++){let s=t[i];this.move(r[i],s)}}moveBefore(e,t){let r=this._current.insertBeforeHelper(e,t.length);for(let i=0;i<t.length;i++){let s=t[i];this.move(r[i],s)}}delete(e){this.deleteChildren(e),this.runOp({type:5,id:e})}};AT=class{constructor(e){this.ts=[],this.actual=[],this.reverse=[],this._current=e}update(e,t){if(e!=="")throw new Error("");this._current=t}push(e,t,r,i){c0(this.ts,t,e),c0(this.actual,r,e),c0(this.reverse,i,e)}result(){return{data:this._current,ts:this.ts,actual:this.actual,reverse:this.reverse.reverse()}}};(e=>{function t(s,n){if(n.length===s.length)for(var a=0;a<s.length;){if(s[a]!==n[a])return!1;a+=1}else return!1;return!0}e.equal=t;function r(s,n,a){let o=i(a,s);if(o!==void 0&&typeof o=="object"&&o!==null){let l={...n};return Object.keys(o).forEach(c=>{delete l[c]}),l}else return n}e.removeOverridden=r;function i(s,n,a=0){if(n.length<=a)return s;if((s instanceof sc||s instanceof I1)&&typeof n[a]=="string"||(s instanceof ni||s instanceof R1)&&typeof n[a]=="string")return i(s.data(n[a]),n,a+1);if(typeof n[a]=="number"&&Array.isArray(s)||typeof n[a]=="string"&&typeof s=="object")return i(s[n[a]],n,a+1)}e.zoom=i})(hy||(hy={}));ET=class{},fE=class extends ET{constructor(e){super(),this.id=e}},mE=class extends ET{constructor(e){super(),this.data=e}};try{py=new TextDecoder}catch{}K=0,CT=[],fy=CT,my=0,ti={},Hi=0,$s=0,Zr=[],gE={useRecords:!1,mapsAsObjects:!0},TT=class{},MT=new TT;MT.name="MessagePack 0xC1";nc=!1,rf=class{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(je)return OT(()=>(vy(),this?this.unpack(e,t):rf.prototype.unpack.call(gE,e,t)));Ba=t>-1?t:e.length,K=0,my=0,$s=0,La=null,fy=CT,gi=null,je=e;try{Mt=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(r){throw je=null,e instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof rf){if(ti=this,this.structures)return At=this.structures,wp();(!At||At.length>0)&&(At=[])}else ti=gE,(!At||At.length>0)&&(At=[]);return wp()}unpackMultiple(e,t){let r,i=0;try{nc=!0;let s=e.length,n=this?this.unpack(e,s):Bf.unpack(e,s);if(t){for(t(n);K<s;)if(i=K,t(wp())===!1)return}else{for(r=[n];K<s;)i=K,r.push(wp());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{nc=!1,vy()}}_mergeStructures(e,t){e=e||[];for(let r=0,i=e.length;r<i;r++){let s=e[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}e.sharedLength=e.length;for(let r in t||[])if(r>=0){let i=e[r],s=t[r];s&&(i&&((e.restoreStructures||(e.restoreStructures=[]))[r]=i),e[r]=s)}return this.structures=e}decode(e,t){return this.unpack(e,t)}};ZZ=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;yE=(e,t)=>function(){let r=je[K++];if(r===0)return t();let i=e<32?-(e+(r<<5)):e+(r<<5),s=At[i]||LT()[i];if(!s)throw new Error("Record id is not defined for "+i);return s.read||(s.read=N1(s,e)),s.read()};gy=Pf,$Z=Pf,JZ=Pf,KZ=Pf;Er=String.fromCharCode;wE=new Array(4096);_E=(e,t)=>{var r=Kt();let i=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,r.highByte=t);let s=At[e];return s&&s.isShared&&((At.restoreStructures||(At.restoreStructures=[]))[e]=s),At[e]=r,r.read=N1(r,i),r.read()},BT=typeof self=="object"?self:global;Zr[0]=()=>{};Zr[0].noBuffer=!0;Zr[101]=()=>{let e=Kt();return(BT[e[0]]||Error)(e[1])};Zr[105]=e=>{let t=Mt.getUint32(K-4);zn||(zn=new Map);let r=je[K],i;r>=144&&r<160||r==220||r==221?i=[]:i={};let s={target:i};zn.set(t,s);let n=Kt();return s.used?Object.assign(i,n):(s.target=n,n)};Zr[112]=e=>{let t=Mt.getUint32(K-4),r=zn.get(t);return r.used=!0,r.target};Zr[115]=()=>new Set(Kt());FT=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");Zr[116]=e=>{let t=e[0],r=FT[t];if(!r)throw new Error("Could not find typed array for code "+t);return new BT[r](Uint8Array.prototype.slice.call(e,1).buffer)};Zr[120]=()=>{let e=Kt();return new RegExp(e[0],e[1])};Zr[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],r=K;K+=t-4,gi=[Kt(),Kt()],gi.position0=0,gi.position1=0;let i=K;K=r;try{return Kt()}finally{K=i}};Zr[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");z1=new Array(147);for(let e=0;e<256;e++)z1[e]=+("1e"+Math.floor(45.15-e*.30103));Bf=new rf({useRecords:!1}),x_e=Bf.unpack,b_e=Bf.unpackMultiple,w_e=Bf.unpack,t$={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4},r$=new Float32Array(1),__e=new Uint8Array(r$.buffer,0,4);try{Hp=new TextEncoder}catch{}Ff=typeof Buffer<"u",d0=Ff?Buffer.allocUnsafeSlow:Uint8Array,IT=Ff?Buffer:Uint8Array,DE=Ff?4294967296:2144337920,ue=0,Hs=null,i$=/[\u0080-\uFFFF]/,Mu=Symbol("record-id"),RT=class extends rf{constructor(e){super(e),this.offset=0;let t,r,i,s,n,a,o=0,l=IT.prototype.utf8Write?function(D,S,A){return we.utf8Write(D,S,A)}:Hp&&Hp.encodeInto?function(D,S){return Hp.encodeInto(D,we.subarray(S)).written}:!1,c=this;e||(e={});let h=e&&e.sequential,u=e.structures||e.saveStructures,d=e.maxSharedStructures;if(d==null&&(d=u?32:0),d>8160)throw new Error("Maximum maxSharedStructure is 8160");let p=e.maxOwnStructures;p==null&&(p=u?32:64),h&&!e.saveStructures&&(this.structures=[]);let g=d>32||p+d>64,m=d+64,f=d+p+64;if(f>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let v=[],x=0,b=0;this.pack=this.encode=function(D,S){if(we||(we=new d0(8192),ar=new DataView(we.buffer,0,8192),ue=0),js=we.length-10,js-ue<2048?(we=new d0(we.length),ar=new DataView(we.buffer,0,we.length),js=we.length-10,ue=0):ue=ue+7&2147483640,r=ue,a=c.structuredClone?new Map:null,c.bundleStrings?(Hs=["",""],we[ue++]=214,we[ue++]=98,Hs.position=ue-r,ue+=4):Hs=null,i=c.structures,i){i.uninitialized&&(i=c._mergeStructures(c.getStructures()));let A=i.sharedLength||0;if(A>d)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let E=0;E<A;E++){let M=i[E];if(!M)continue;let I,V=i.transitions;for(let P=0,Q=M.length;P<Q;P++){let G=M[P];I=V[G],I||(I=V[G]=Object.create(null)),V=I}V[Mu]=E+64}o=A}h||(i.nextId=A+64)}s&&(s=!1),n=i||[];try{if(y(D),Hs){ar.setUint32(Hs.position+r,ue-Hs.position-r);let A=Hs;Hs=null,y(A[0]),y(A[1])}if(c.offset=ue,a&&a.idsToInsert){ue+=a.idsToInsert.length*6,ue>js&&_(ue),c.offset=ue;let A=n$(we.subarray(r,ue),a.idsToInsert);return a=null,A}return S&a$?(we.start=r,we.end=ue,we):we.subarray(r,ue)}finally{if(i){if(b<10&&b++,x>1e4)i.transitions=null,b=0,x=0,v.length>0&&(v=[]);else if(v.length>0&&!h){for(let A=0,E=v.length;A<E;A++)v[A][Mu]=0;v=[]}if(s&&c.saveStructures){let A=i.sharedLength||d;i.length>A&&(i=i.slice(0,A));let E=we.subarray(r,ue);return c.saveStructures(i,o)===!1?(c._mergeStructures(c.getStructures()),c.pack(D)):(o=A,E)}}S&o$&&(ue=r)}};let y=D=>{ue>js&&(we=_(ue));var S=typeof D,A;if(S==="string"){let E=D.length;if(Hs&&E>=8&&E<4096){let V=i$.test(D);Hs[V?0:1]+=D,we[ue++]=193,y(V?-E:E);return}let M;E<32?M=1:E<256?M=2:E<65536?M=3:M=5;let I=E*3;if(ue+I>js&&(we=_(ue+I)),E<64||!l){let V,P,Q,G=ue+M;for(V=0;V<E;V++)P=D.charCodeAt(V),P<128?we[G++]=P:P<2048?(we[G++]=P>>6|192,we[G++]=P&63|128):(P&64512)===55296&&((Q=D.charCodeAt(V+1))&64512)===56320?(P=65536+((P&1023)<<10)+(Q&1023),V++,we[G++]=P>>18|240,we[G++]=P>>12&63|128,we[G++]=P>>6&63|128,we[G++]=P&63|128):(we[G++]=P>>12|224,we[G++]=P>>6&63|128,we[G++]=P&63|128);A=G-ue-M}else A=l(D,ue+M,I);A<32?we[ue++]=160|A:A<256?(M<2&&we.copyWithin(ue+2,ue+1,ue+1+A),we[ue++]=217,we[ue++]=A):A<65536?(M<3&&we.copyWithin(ue+3,ue+2,ue+2+A),we[ue++]=218,we[ue++]=A>>8,we[ue++]=A&255):(M<5&&we.copyWithin(ue+5,ue+3,ue+3+A),we[ue++]=219,ar.setUint32(ue,A),ue+=4),ue+=A}else if(S==="number")if(D>>>0===D)D<64?we[ue++]=D:D<256?(we[ue++]=204,we[ue++]=D):D<65536?(we[ue++]=205,we[ue++]=D>>8,we[ue++]=D&255):(we[ue++]=206,ar.setUint32(ue,D),ue+=4);else if(D>>0===D)D>=-32?we[ue++]=256+D:D>=-128?(we[ue++]=208,we[ue++]=D+256):D>=-32768?(we[ue++]=209,ar.setInt16(ue,D),ue+=2):(we[ue++]=210,ar.setInt32(ue,D),ue+=4);else{let E;if((E=this.useFloat32)>0&&D<4294967296&&D>=-2147483648){we[ue++]=202,ar.setFloat32(ue,D);let M;if(E<4||(M=D*z1[(we[ue]&127)<<1|we[ue+1]>>7])>>0===M){ue+=4;return}else ue--}we[ue++]=203,ar.setFloat64(ue,D),ue+=8}else if(S==="object")if(!D)we[ue++]=192;else{if(a){let M=a.get(D);if(M){if(!M.id){let I=a.idsToInsert||(a.idsToInsert=[]);M.id=I.push(M)}we[ue++]=214,we[ue++]=112,ar.setUint32(ue,M.id),ue+=4;return}else a.set(D,{offset:ue-r})}let E=D.constructor;if(E===Object)w(D,!0);else if(E===Array){A=D.length,A<16?we[ue++]=144|A:A<65536?(we[ue++]=220,we[ue++]=A>>8,we[ue++]=A&255):(we[ue++]=221,ar.setUint32(ue,A),ue+=4);for(let M=0;M<A;M++)y(D[M])}else if(E===Map){A=D.size,A<16?we[ue++]=128|A:A<65536?(we[ue++]=222,we[ue++]=A>>8,we[ue++]=A&255):(we[ue++]=223,ar.setUint32(ue,A),ue+=4);for(let[M,I]of D)y(M),y(I)}else{for(let M=0,I=sf.length;M<I;M++){let V=j1[M];if(D instanceof V){let P=sf[M];if(P.write){P.type&&(we[ue++]=212,we[ue++]=P.type,we[ue++]=0),y(P.write.call(this,D));return}let Q=we,G=ar,X=ue;we=null;let F;try{F=P.pack.call(this,D,z=>(we=Q,Q=null,ue+=z,ue>js&&_(ue),{target:we,targetView:ar,position:ue-z}),y)}finally{Q&&(we=Q,ar=G,ue=X,js=we.length-10)}F&&(F.length+ue>js&&_(F.length+ue),ue=s$(F,we,ue,P.type));return}}w(D,!D.hasOwnProperty)}}else if(S==="boolean")we[ue++]=D?195:194;else if(S==="bigint"){if(D<BigInt(1)<<BigInt(63)&&D>=-(BigInt(1)<<BigInt(63)))we[ue++]=211,ar.setBigInt64(ue,D);else if(D<BigInt(1)<<BigInt(64)&&D>0)we[ue++]=207,ar.setBigUint64(ue,D);else if(this.largeBigIntToFloat)we[ue++]=203,ar.setFloat64(ue,Number(D));else throw new RangeError(D+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");ue+=8}else if(S==="undefined")this.encodeUndefinedAsNil?we[ue++]=192:(we[ue++]=212,we[ue++]=0,we[ue++]=0);else if(S==="function")y(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+S)},w=this.useRecords===!1?this.variableMapSize?D=>{let S=Object.keys(D),A=S.length;A<16?we[ue++]=128|A:A<65536?(we[ue++]=222,we[ue++]=A>>8,we[ue++]=A&255):(we[ue++]=223,ar.setUint32(ue,A),ue+=4);let E;for(let M=0;M<A;M++)y(E=S[M]),y(D[E])}:(D,S)=>{we[ue++]=222;let A=ue-r;ue+=2;let E=0;for(let M in D)(S||D.hasOwnProperty(M))&&(y(M),y(D[M]),E++);we[A+++r]=E>>8,we[A+r]=E&255}:D=>{let S=Object.keys(D),A,E=n.transitions||(n.transitions=Object.create(null)),M=0;for(let V=0,P=S.length;V<P;V++){let Q=S[V];A=E[Q],A||(A=E[Q]=Object.create(null),M++),E=A}let I=E[Mu];if(I)I>=96&&g?(we[ue++]=((I-=96)&31)+96,we[ue++]=I>>5):we[ue++]=I;else{I=n.nextId,I||(I=64),I<m&&this.shouldShareStructure&&!this.shouldShareStructure(S)?(I=n.nextOwnId,I<f||(I=m),n.nextOwnId=I+1):(I>=f&&(I=m),n.nextId=I+1);let V=S.highByte=I>=96&&g?I-96>>5:-1;E[Mu]=I,n[I-64]=S,I<m?(S.isShared=!0,n.sharedLength=I-63,s=!0,V>=0?(we[ue++]=(I&31)+96,we[ue++]=V):we[ue++]=I):(V>=0?(we[ue++]=213,we[ue++]=114,we[ue++]=(I&31)+96,we[ue++]=V):(we[ue++]=212,we[ue++]=114,we[ue++]=I),M&&(x+=b*M),v.length>=p&&(v.shift()[Mu]=0),v.push(E),y(S))}for(let V=0,P=S.length;V<P;V++)y(D[S[V]])},_=D=>{let S;if(D>16777216){if(D-r>DE)throw new Error("Packed buffer would be larger than maximum buffer size");S=Math.min(DE,Math.round(Math.max((D-r)*(D>67108864?1.25:2),4194304)/4096)*4096)}else S=(Math.max(D-r<<2,we.length-1)>>12)+1<<12;let A=new d0(S);return ar=new DataView(A.buffer,0,S),we.copy?we.copy(A,0,r,D):A.set(we.slice(r,D)),ue-=r,r=0,js=A.length-10,we=A}}useBuffer(e){we=e,ar=new DataView(we.buffer,we.byteOffset,we.byteLength),ue=0}};j1=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,TT];sf=[{pack(e,t,r){let i=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&i>=0&&i<4294967296){let{target:s,targetView:n,position:a}=t(6);s[a++]=214,s[a++]=255,n.setUint32(a,i)}else if(i>0&&i<17179869184){let{target:s,targetView:n,position:a}=t(10);s[a++]=215,s[a++]=255,n.setUint32(a,e.getMilliseconds()*4e6+(i/1e3/4294967296>>0)),n.setUint32(a+4,i)}else if(isNaN(i)){if(this.onInvalidDate)return t(0),r(this.onInvalidDate());let{target:s,targetView:n,position:a}=t(3);s[a++]=212,s[a++]=255,s[a++]=255}else{let{target:s,targetView:n,position:a}=t(15);s[a++]=199,s[a++]=12,s[a++]=255,n.setUint32(a,e.getMilliseconds()*1e6),n.setBigInt64(a+4,BigInt(Math.floor(i)))}}},{pack(e,t,r){let i=Array.from(e),{target:s,position:n}=t(this.structuredClone?3:0);this.structuredClone&&(s[n++]=212,s[n++]=115,s[n++]=0),r(i)}},{pack(e,t,r){let{target:i,position:s}=t(this.structuredClone?3:0);this.structuredClone&&(i[s++]=212,i[s++]=101,i[s++]=0),r([e.name,e.message])}},{pack(e,t,r){let{target:i,position:s}=t(this.structuredClone?3:0);this.structuredClone&&(i[s++]=212,i[s++]=120,i[s++]=0),r([e.source,e.flags])}},{pack(e,t){this.structuredClone?SE(e,16,t):AE(Ff?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let r=e.constructor;r!==IT&&this.structuredClone?SE(e,FT.indexOf(r.name),t):AE(e,t)}},{pack(e,t){let{target:r,position:i}=t(1);r[i]=193}}];NT=new RT({useRecords:!1}),D_e=NT.pack,S_e=NT.pack,{NEVER:A_e,ALWAYS:E_e,DECIMAL_ROUND:C_e,DECIMAL_FIT:T_e}=t$,a$=512,o$=1024,EE=new RT({structuredClone:!0});Ad({Class:Zi.prototype.constructor,type:1,write(e){return{...e}},read(e){return Object.setPrototypeOf(e,Zi.prototype),e}});Ad({Class:ni.prototype.constructor,type:2,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,ni.prototype),e}});Ad({Class:sc.prototype.constructor,type:3,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,sc.prototype),e}});Ad({Class:fE.prototype.constructor,type:4,write(e){return e.id},read(e){return new fE(e)}});Ad({Class:mE.prototype.constructor,type:5,write(e){return e.data},read(e){return new mE(e)}});(e=>{function t(s){return EE.pack(s)}e.serialize=t;function r(s){return EE.unpack(s)}e.deserialize=r;function i(s){return l$(t(yy(s))).toString()}e.checksum=i})(CE||(CE={}));(e=>{let t={opacity:1,blendFunction:13,enabled:!1};e.defaultData={enabled:!1,pixelation:{...t,blendFunction:16,granularity:15},bloom:{...t,blendFunction:16,intensity:1,blurScale:1,luminanceThreshold:.25,luminanceSmoothing:.025},chromaticAberration:{...t,offset:[2,2]},vignette:{...t,darkness:1,offset:0},hueSaturation:{...t,hue:3,saturation:0},brightnessContrast:{...t,brightness:.25,contrast:0},depthOfField:{...t,focalLength:2,focusDistance:2,bokehScale:2},noise:{...t,blendFunction:16}}})(TE||(TE={}));(e=>{e.all=["PointLight","SpotLight","DirectionalLight","HemisphereLight"];function t(r){return e.all.includes(r)}e.is=t})(xy||(xy={}));(e=>{function t(i){return r(i)}e.defaultData=t;function r(i){if(i==="PointLight")return{type:i,color:tn.white,intensity:1,distance:2e3,decay:1,shadows:!0,shadowResolution:1024,shadowRadius:1,depth:1e5};if(i==="SpotLight")return{type:i,color:tn.white,intensity:1,distance:2e3,decay:1,shadows:!0,penumbra:0,angle:30/180*Math.PI,depth:1e5,shadowResolution:1024,shadowRadius:1};if(i==="DirectionalLight")return{type:i,color:tn.white,intensity:1,shadows:!0,size:1e3,depth:1e5,shadowResolution:1024,shadowRadius:1};throw new Error("not implemented")}})(by||(by={}));(e=>{e.defaultData={castShadow:!0,receiveShadow:!0};function t(r,i){return r.castShadow===i.castShadow&&r.receiveShadow===i.receiveShadow}e.equals=t})(wy||(wy={}));(e=>{e.defaultData={flatShading:!1,wireframe:!1,side:0};function t(r,i){return r.flatShading===i.flatShading&&r.side===i.side&&r.wireframe===i.wireframe}e.equals=t})(_y||(_y={}));(e=>e.defaultData={..._y.defaultData,...wy.defaultData,cloner:null,booleanExclude:null})(Dy||(Dy={}));UT=(e=>(e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.Center=3]="Center",e[e.Justify=4]="Justify",e))(UT||{}),zT=(e=>(e[e.Top=1]="Top",e[e.Center=2]="Center",e[e.Bottom=3]="Bottom",e))(zT||{}),jT=(e=>(e[e.None=1]="None",e[e.Upper=2]="Upper",e[e.Lower=3]="Lower",e))(jT||{});(e=>e.defaultData={width:100,height:100,horizontalAlign:1,verticalAlign:1,fontSize:16,lineHeight:1.5,letterSpacing:1,text:"",textTransform:1,color:tn.fromHexAndA(6974058,1),alpha:1,font:"roboto_regular"})(Sy||(Sy={}));(e=>{function t(s,n){return s==="light"&&n?r(n):i(s)}e.defaultData=t;function r(s){switch(s){case"basic":return{type:"light",category:"basic",alpha:1,visible:!0,mode:0};case"phong":return{category:"phong",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1,visible:!0,mode:0};case"toon":return{category:"toon",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1,visible:!0,mode:0};case"lambert":return{category:"lambert",emissive:{r:0,g:0,b:0},type:"light",alpha:1,visible:!0,mode:0};case"physical":return{category:"physical",roughness:.2,metalness:.2,reflectivity:.2,type:"light",alpha:1,visible:!0,mode:0}}}function i(s){switch(s){case"texture":return{alpha:1,visible:!0,size:[128,128],mode:0,axis:"x",side:2,type:"texture",projection:0,texture:{image:"image_0",wrapping:1001,repeat:[1,1],offset:[0,0]},crop:!0};case"color":return{type:"color",alpha:1,visible:!0,mode:0,color:Qi.fromHex(4737101)};case"depth":return{type:"depth",alpha:1,visible:!0,mode:0,gradientType:1,smooth:!1,isVector:!0,isWorldSpace:!1,origin:[0,0,0],direction:[1,0,0],colors:[[1,1,1,1],[0,0,0,1]],steps:[0,1],near:50,far:200};case"normal":return{type:"normal",alpha:1,visible:!0,mode:0,cnormal:[1,1,1]};case"gradient":return{type:"gradient",alpha:1,visible:!0,mode:0,gradientType:0,smooth:!1,colors:[[0,0,0,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,1,1,1,1,1,1,1,1,1],num:2,angle:0,offset:[0,0],morph:[0,0]};case"noise":return{type:"noise",alpha:1,visible:!0,mode:0,size:[100,100,100],noiseType:0,scale:1,move:1,colorA:{...Qi.fromHex(6710886),a:1},colorB:{...Qi.fromHex(6710886),a:1},colorC:{...Qi.fromHex(16777215),a:1},colorD:{...Qi.fromHex(16777215),a:1},distortion:[1,1],fA:[1.7,9.2],fB:[8.3,2.8]};case"fresnel":return{type:"fresnel",alpha:1,visible:!0,mode:0,color:tn.fromHexAndA(16777215,1),bias:.1,scale:1,intensity:2,factor:1};case"rainbow":return{type:"rainbow",alpha:1,visible:!0,mode:0,filmThickness:30,movement:0,wavelengths:[0,0,0],noiseStrength:0,noiseScale:1,offset:[0,0,0]};case"toon":return{type:"toon",alpha:1,visible:!0,mode:0,positioning:2,colors:[[0,0,0,1],[.5,.5,.5,1],[.5,.5,.5,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,.475,.525,1,1,1,1,1,1,1],num:4,source:[0,1e3,0],isWorldSpace:!0,noiseStrength:0,noiseScale:1,shadowColor:tn.fromHexAndA(0,0),offset:[0,0,0]};case"outline":return{type:"outline",alpha:1,visible:!0,mode:0,outlineColor:tn.fromHexAndA(0,1),contourColor:tn.fromHexAndA(0,1),outlineWidth:2,contourWidth:5,outlineThreshold:.4,contourThreshold:0,outlineSmoothing:0,contourFrequency:10,contourDirection:[0,1,0],positionalLines:!1,compensation:!0};case"matcap":return{type:"matcap",alpha:1,visible:!0,mode:0,texture:{image:"matcap_0",wrapping:1001,repeat:[1,1],offset:[0,0]}};case"transmission":return{type:"transmission",alpha:1,visible:!0,mode:0,thickness:10,ior:1.5,roughness:1};case"displace":return{type:"displace",displacementType:"noise",noiseType:0,scale:10,movement:1,offset:[0,0,0],intensity:8,visible:!0}}}})(Ao||(Ao={}));(e=>{function t(l){return!l.layers.some(c=>{if(c.data.type==="texture"&&c.data.projection!==0||c.data.type==="depth"&&!c.data.isWorldSpace||c.data.type==="noise"||c.data.type==="displace")return!0})&&!i(l)}e.isMergable=t;function r(l){let c="";return l.layers.forEach(h=>{Object.entries(h.data).forEach(([u,d])=>{c+=`${u}${d}`,Array.isArray(d)?d.forEach(p=>c+=`${p}`):typeof d=="object"?Object.values(d).forEach(p=>{typeof p=="number"?c+=`${p.toFixed(4)}`:c+=`${p}`}):c+=`${d}`})}),c}e.getHash=r;function i(l){let c=0;for(let h of l.layers)"alpha"in h.data&&h.data.type!=="light"&&h.data.type!=="fresnel"&&(c+=(1-c)*h.data.alpha);return c<1}e.isTransparent=i;function s(){return{layers:new ni}}e.defaultEmptyData=s;function n(l="layer1",c="layer2"){return a("phong",l,c)}e.defaultData=n;function a(l,c="layer1",h="layer2"){let u=new ni;return u.push({fi:0,data:Ao.defaultData("light",l),id:c}),u.push({fi:1,data:Ao.defaultData("color"),id:h}),{layers:u}}e.defaultTwoLayerData=a;function o(l,c="basic",h="layer1",u="layer2"){let d=Ao.defaultData("texture");Object.assign(d.texture,{image:l});let p=new ni;return p.push({fi:0,data:d,id:h}),p.push({fi:1,data:Ao.defaultData("light",c),id:u}),{layers:p}}e.defaultTwoLayerTextureData=o})(ac||(ac={}));(e=>{function t(){return{points:new ni,roundness:0,shapeHoles:[],isClosed:!1}}e.defaultData=t})(nf||(nf={}));(e=>{function t(r){return r==="PolygonGeometry"||r==="RectangleGeometry"||r==="StarGeometry"||r==="TriangleGeometry"||r==="EllipseGeometry"}e.is2DParametricMesh=t})(Ay||(Ay={}));(e=>{function t(r){if(r==="RectangleGeometry")return{width:320,height:320,type:r,cornerRadius:[0,0,0,0],cornerType:0,depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(r==="VectorGeometry")return{width:1,height:1,type:r,subdivisions:12,shape:nf.defaultData(),depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(r==="BooleanGeometry")return{type:r,operation:2,width:0,height:0,depth:0,phongAngle:35};throw new Error("not implemented")}e.defaultData=t})(af||(af={}));(e=>{e.identity={...cy.identity,hiddenMatrix:ic.identity};function t(s){return{position:s.position,rotation:s.rotation,scale:s.scale,hiddenMatrix:s.hiddenMatrix}}e.fromObject=t;function r(s,n){return{position:n?.position||s.position,rotation:n?.rotation||s.rotation,scale:n?.scale||s.scale,hiddenMatrix:n?.hiddenMatrix||s.hiddenMatrix}}e.merge=r;function i(s,n){return{position:ed.isEqual(s.position,n.position)?null:n.position,rotation:ed.isEqual(s.rotation,n.rotation)?null:n.rotation,scale:ed.isEqual(s.scale,n.scale)?null:n.scale,hiddenMatrix:ic.isEqual(s.hiddenMatrix,n.hiddenMatrix)?null:n.hiddenMatrix}}e.diff=i})(hd||(hd={}));(e=>e.defaultData={states:new ni,events:new ni,visible:!0,raycastLock:!1,...hd.identity})(Hn||(Hn={}));(e=>e.defaultData={type:"Empty",...Hn.defaultData})(ME||(ME={}));(e=>e.defaultData={type:"Mesh",...Hn.defaultData,...Dy.defaultData})(of||(of={}));(e=>e.defaultData={type:"TextFrame",...Hn.defaultData,...Sy.defaultData})(LE||(LE={}));(e=>e.defaultData={...Hn.defaultData,...hd.identity,...dd.defaultData})(Ey||(Ey={}));(e=>{function t(r){return{...Hn.defaultData,...by.defaultData(r)}}e.defaultData=t})(kE||(kE={}));(e=>(e.defaultCamera={position:[0,0,1e3],scale:[1,1,1],rotation:[0,0,0],hiddenMatrix:ic.identity,name:"Play Camera",visible:!0,raycastLock:!1,states:new ni,events:new ni,...dd.defaultData},e.defaultMeshObject={name:"Rectangle",...Hn.defaultData,...of.defaultData,geometry:af.defaultData("RectangleGeometry"),material:ac.defaultTwoLayerData("basic","layer1","layer2")},e.defaultBooleanObject={name:"Boolean",...Hn.defaultData,...of.defaultData,geometry:af.defaultData("BooleanGeometry"),material:ac.defaultTwoLayerData("phong","layer1","layer2")}))(PE||(PE={}));(e=>{function t(i,s){if(s===void 0)return i;let n={...i};return"material"in n&&"material"in s&&s.material&&(n.material=pE(n.material,a=>{if(typeof a!="string")for(let[o,l]of Object.entries(s.material.layers)){let c=a.layers.data(o);c&&ef(c,l)}}).data),n.materials&&s.materials&&(n.materials=pE(n.materials,a=>{for(let o=0;o<n.materials.length;o++){let l=s.materials[o];if(typeof l!="string")for(let[c,h]of Object.entries(l.layers)){let u=a[o]?.layers?.data(c);u&&ef(u,h)}}}).data),n}e.patchMaterialState=t;function r(i,s){if(s===void 0)return i;let n={...i};if(Object.assign(n,hd.merge(n,s)),tf.is(i.type)){n.orthographic={...n.orthographic},n.perspective={...n.perspective};let a=s;a.orthographic?.zoom!==void 0&&(n.orthographic.zoom=a.orthographic.zoom),a.perspective?.zoom!==void 0&&(n.perspective.zoom=a.perspective.zoom),a.isUpVectorFlipped!==void 0&&(n.isUpVectorFlipped=a.isUpVectorFlipped),a.targetOffset!==void 0&&(n.targetOffset=a.targetOffset)}else if(i.type==="Mesh")n.geometry={...n.geometry},Object.assign(n.geometry,s.geometry),n=t(n,s);else if(xy.is(i.type)){let a=s;a.intensity!==void 0&&(n.intensity=a.intensity),a.color!==void 0&&(typeof a.color=="string"?n.color=a.color:n.color=Qi.clone(a.color))}return n}e.patch=r})(BE||(BE={}));(e=>e.defaultData={enablePan:!0,enableZoom:!0,enableRotate:!0,enableDamping:!0,rotationLimitsMode:0,rotationVerticalOffset:{min:Math.PI/4,max:Math.PI/4},rotationHorizontalOffset:{min:Math.PI/4,max:Math.PI/4},rotationSoftLimit:2,panLimitsMode:0,panVerticalOffset:{min:250,max:250},panHorizontalOffset:{min:250,max:250},panSoftLimit:2,zoomLimitsEnabled:!1,zoomLimits:{min:.1,max:2},autoRotate:!1,autoRotateSpeed:2,autoRotateClockwise:!0,hoverRotatePanMode:0,hoverRotatePanStrength:20,isTouchZoom:!0,orbitTouches:2,panTouches:3})(Cy||(Cy={}));(e=>e.defaultData={orbitControls:Cy.defaultData,playCamera:null,withBackground:!0,preventScroll:!1,settings:{image:{format:"jpg",ratio:1},video:{format:"mp4",imageFormat:"jpg",fps:30,mbps:80,stopMode:"manual",duration:5e3,transparent:!1},web:{compress:!0,preset:1,preload:!0}},stopRaycast:!0,joystickSizeAndXYOffset:Array(12).fill(0).map((t,r)=>{let i=0,s=0;return r<5?s=-30:r<10&&(s=30),r===0||r===10||r===5?i=30:(r===4||r===11||r===9)&&(i=-30),[120,[i,s],"show"]}),gameControlObject:null})(FE||(FE={}));(e=>{function t(){let i={};return i["89b10010-844c-11ec-a8a3-0242ac120002"]={r:.5,g:.5,b:.5,a:1,name:"Default Color"},kZ(i,Zi.prototype)}e.defaultColors=t;function r(){return{materials:new Zi,images:new Zi,colors:new Zi,audios:new Zi,penumbraSize:[.5,.5,.5]}}e.emptyData=r})(Ty||(Ty={}));(e=>e.emptyImage={data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII="})(My||(My={}));(e=>e.defaultData={object:null,state:null,repeat:!1,cycle:!1,rewind:!1,easing:4,delay:0,delayDirection:"start-once",duration:1e3})(OE||(OE={}));(e=>(e.defaultData={type:12,trigger:"mouseDown",interaction:"play",volume:.5,delay:0,loop:0},e.isPlayable=t=>t.type===12&&t.interaction==="play",e.isPausable=t=>t.type===12&&t.interaction!=="play"))(IE||(IE={}));(e=>{function t(r){return r.type===0||r.type===1||r.type===5||r.type===6}e.is=t})(RE||(RE={}));M_e=new Xt,L_e=new se,k_e=2*Math.PI,h0={type:"change"},c$={type:"lock"},u$={type:"unlock"},d$=new C,h$=new C,ws=new C,fo=new C,NE=new C,p0=new Xe,UE=new Xe,p$=new Xe,f$=new Xe,Lu=new Xt,m$=new Xt,zE=new C(0,1,0),f0=new C(1,1,1),g$=1,v$=.025,y$=16e-6,x$=12,b$=20,Ir=new Ji,Ni=new yr,Ly=class extends gn{constructor(e,t,r,i,s,n){if(super(),this.object=t,this.domElement=r,this.bvh=i,this.cameraFollow=s,this.camera=n,this.enableDamping=!0,this.position0=new C,this.rotation0=new Yi(0,0,0,"XYZ"),this.scale0=new C,this.hiddenMatrix0=new Xe,this.target0=new C,this.zoom0=1,this.rotForce=1,this.moveForce=1,this.euler0=new Yi(0,0,0,"YXZ"),this.position0Cam=new C,this.quat0Cam=new Xt,this.scale0Cam=new C,this.hiddenMatrix0Cam=new Xe,this.threshEndTranslate=.01,this.threshEndRotate=1e-8,this.collider={radius:40,segment:new Ji(new C(0,-40,0),new C(0,40,0)),matrix:new Xe},this.euler=new Yi(0,0,0,"YXZ"),this.eulerDelta=new C,this.lastQuaternion=new Xt,this.lastPosition=new C,this.lastCameraQuaternion=new Xt,this.lastCameraPosition=new C,this.PI_2=Math.PI/2,this.prevMouse=new se,this.velocityTarget=new C,this.velocity=new C,this.directionXZ=new C,this.rotVelocityStick=new C,this.rotVelocityTarget=new C,this.rotVelocity=new C,this.rotDirection=new C,this.parentY=new C,this.objectRot={x:0,y:0},this.firstPointerId=-1,this.actionStates={moveNegZ:0,movePosZ:0,moveNegX:0,movePosX:0,moveNegY:0,movePosY:0,rotPosX:0,rotNegX:0,rotPosY:0,rotNegY:0,jump:0},this.onObject=!1,this.keyAssignments=[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","ArrowUp"],["rotPosY","ArrowLeft"],["rotNegX","ArrowDown"],["rotNegY","ArrowRight"],["jump"," "]],this.collisionEnabled=!0,this.offsetMatrix=new Xe,this.objectToTarget=new C,this.objectToTarget0=new C,this.deltaPos=new C,this.deltaPosXZ=new C,this.objectToCamXZ=new C,this.objectToCamXZ0=new C,this.targetToCamera=new C,this.targetToCamera0=new C,this.cameraPolarAxis0=new C,this.targetPos=new C,this.targetQuat=new Xt,this.lerpFactorPos=new C().setScalar(.3),this.lerpFactorPosStart=.3,this.lerpFactorPosEnd=.3,this.lerpFactorRotStart=.3,this.lerpFactorRotEnd=.3,this.lerpFactorPosCamera=.3,this.lerpFactorRotCamera=.3,this.dummyTarget=new Nt,this.parentMatrixWorld=new Xe,this.parentWorldQuat=new Xt,this.parentWorldQuatInv=new Xt,this.parentWorldScale=new C,this.objXZQuat=new Xt,this.objXZQuatInv=new Xt,this.objXZRotMat=new Xe,this.physLoopPerFrame=1,this.isFirstPerson=!1,this.onPointerDown=l=>{l.target!==this.domElement||this.firstPointerId!==-1||(this.firstPointerId=l.pointerId,this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),this.rotBy!=="keys"&&!aE&&(!oE||lE>=15.5)&&this.domElement.requestPointerLock(),this.prevMouse.set(l.clientX,l.clientY))},this.onPointerUp=l=>{this.firstPointerId=-1,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),l.pointerType==="mouse"&&this.domElement.ownerDocument.exitPointerLock()},this.onPointerMove=l=>{if(l.pointerId!==this.firstPointerId)return;let c=l.clientX-this.prevMouse.x,h=l.clientY-this.prevMouse.y;this.prevMouse.set(l.clientX,l.clientY),l.pointerType==="mouse"&&this.rotBy!=="keys"&&(oE&&lE<15.5&&!aE?(this.eulerDelta.y=-c*this.mouseOrbitSensitivity,this.eulerDelta.x=-h*this.mouseOrbitSensitivity):(this.eulerDelta.y=-l.movementX*this.mouseOrbitSensitivity,this.eulerDelta.x=-l.movementY*this.mouseOrbitSensitivity)),l.pointerType!=="mouse"&&this.rotByTouch==="drag"&&(this.eulerDelta.y=-c*this.mouseOrbitSensitivity*5,this.eulerDelta.x=-h*this.mouseOrbitSensitivity*5),this.dispatchEvent(h0)},this.onPointerlockChange=l=>{this.domElement.ownerDocument.pointerLockElement===this.domElement?(this.dispatchEvent(c$),Ly.isLocked=!0):(this.dispatchEvent(u$),Ly.isLocked=!1)},this.onPointerlockError=()=>{console.error("SPE.GameControls: Unable to use Pointer Lock API")},this.onKeyDown=l=>{l.preventDefault();for(let c of this.keyAssignments)if(l.key.toUpperCase()===c[1]||l.key===c[1]){this.actionStates[c[0]]=1;break}this.dispatchEvent(h0)},this.onKeyUp=l=>{for(let c of this.keyAssignments)if(l.key.toUpperCase()===c[1]||l.key===c[1]||l.code.slice(3,l.code.length).toUpperCase()===c[1]){this.actionStates[c[0]]=0;break}},t.objectType==="CombinedCamera"&&(this.isFirstPerson=!0),this.position0.copy(this.object.position),this.rotation0.copy(this.object.rotation),this.scale0.copy(this.object.scale),this.hiddenMatrix0.copy(this.object.hiddenMatrix),this.object.matrix.premultiply(this.object.hiddenMatrix),this.object.hiddenMatrix.identity(),this.object.matrix.decompose(this.object.position,this.object.quaternion,this.object.scale),this.object.rotation.reorder("YXZ"),this.euler0.copy(this.object.rotation),this.objectRot.y=this.object.rotation.y,this.isFirstPerson===!1){let l=this.object.rotation.y;this.object.rotation.y=0,this.objXZQuat.copy(this.object.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.object.quaternion),this.object.rotation.set(0,l,0)}if(this.dummyTarget.matrixAutoUpdate=!1,this.dummyTarget.position.copy(this.object.position),this.dummyTarget.rotation.copy(this.object.rotation),this.dummyTarget.updateMatrix(),this.parentMatrixWorld.multiplyMatrices(this.object.matrixWorld,this.object.matrix.clone().invert()),this.parentMatrixWorld.decompose(ws,this.parentWorldQuat,this.parentWorldScale),this.parentWorldQuatInv.copy(this.parentWorldQuat).invert(),this.parentY.set(0,1,0).applyQuaternion(this.parentWorldQuat),this.isFirstPerson){let l=this.object;this.target0.copy(l.getTarget()),this.zoom0=l.zoom}else this.cameraFollow===!0&&(this.target0.copy(this.camera.getTarget()),this.zoom0=this.camera.zoom);if(this.cameraFollow===!0){this.position0Cam.copy(this.camera.position),this.quat0Cam.copy(this.camera.quaternion),this.scale0Cam.copy(this.camera.scale),this.hiddenMatrix0Cam.copy(this.camera.hiddenMatrix),this.camera.parent?.parent?this.camera.hiddenMatrix.copy(this.camera.parent.matrixWorld).invert():this.camera.hiddenMatrix.identity(),this.object.parent?.parent&&(this.camera.hiddenMatrix.multiply(this.parentMatrixWorld),this.camera.matrixWorld.premultiply(this.parentMatrixWorld.clone().invert())),this.camera.matrixWorld.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.matrixAutoUpdate=!1,this.offsetMatrix.copy(this.object.matrix).invert().multiply(this.camera.matrix);let l=new C(0,0,-1).applyQuaternion(this.camera.quaternion),c=new C().subVectors(this.object.position,this.camera.position);this.objectToCamXZ.copy(c),this.objectToCamXZ.y=0,this.objectToCamXZ0.copy(this.objectToCamXZ);let h;if(Math.abs(l.y)<1e-6){c.y=0,l.y=0;let d=c.projectOnVector(l);this.targetToCamera0.copy(d).negate(),h=this.camera.position.clone().add(d)}else{let d=l.multiplyScalar(c.y/l.y);this.targetToCamera0.copy(d).negate(),h=d.clone().add(this.camera.position)}this.objectToTarget0.subVectors(h,this.object.position);let u=new Yi().setFromQuaternion(this.camera.quaternion,"YXZ");this.cameraPolarOffset=-u.x,u.x=0,u.z=0,u.y-=Math.PI/2,this.cameraPolarAxis0.set(0,0,-1).applyEuler(u)}this.isObjectCamera=this.object.objectType==="CombinedCamera",this.euler.setFromQuaternion(this.object.quaternion,"YXZ"),this.connect(),this.rotByTouch=e.rotByTouch??"joystick",this.rotBy=e.rotBy??"keys",this.rotationMode=e.rotationMode??"normal",this.moveMode=e.moveMode??"walk",this.collisionEnabled=e.collisionEnabled,this.speedTranslate=(e.speedTranslate??250)*g$,this.speedOrbit=(e.speedRotate??100)*v$,this.mouseOrbitSensitivity=(e.speedRotate??100)*y$,this.keyAssignments=e.keyAssignments.map(l=>{let c=[l[0],l[1]];return c[1]==="\u25B2"?c[1]="ArrowUp":c[1]==="\u25C0"?c[1]="ArrowLeft":c[1]==="\u25BC"?c[1]="ArrowDown":c[1]==="\u25B6"?c[1]="ArrowRight":c[1]==="\u21E7"?c[1]="Shift":c[1]==="\u21B5"?c[1]="Enter":c[1]==="Space"?c[1]=" ":c[1]==="\u2318"?c[1]="Meta":c[1]==="Ctrl"?c[1]="Control":c[1]==="Esc"&&(c[1]="Escape"),c}),e.rotBy==="mouse"&&(this.keyAssignments[this.keyAssignments.findIndex(l=>l[0]==="rotNegX")][1]="",this.keyAssignments[this.keyAssignments.findIndex(l=>l[0]==="rotPosX")][1]="",this.keyAssignments[this.keyAssignments.findIndex(l=>l[0]==="rotPosY")][1]="",this.keyAssignments[this.keyAssignments.findIndex(l=>l[0]==="rotNegY")][1]=""),this.lerpFactorPosStart=1-.02**(1/((e.delayPos[0]??.3)*60)),this.lerpFactorPosEnd=1-.02**(1/((e.delayPos[1]??.3)*60)),this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.lerpFactorRotStart=1-.02**(1/((e.delayRot[0]??.3)*60)),this.lerpFactorRotEnd=1-.02**(1/((e.delayRot[1]??.3)*60)),this.lerpFactorPosCamera=1-.02**(1/((e.delayPosCamera??.3)*60)),this.lerpFactorRotCamera=1-.02**(1/((e.delayRotCamera??.3)*60)),this.gravity=e.gravity*x$,this.jumpPower=e.jumpPower*b$,this.resetYPosition=e.resetYPosition,this.orientMode=e.autoOrientMove?e.orientMode:"none",e.collider.type==="capsule"?(this.collider.radius=e.collider.radius,this.collider.segment.start.y=e.collider.height/2-e.collider.radius,this.collider.segment.end.y=-this.collider.segment.start.y):e.collider.type==="sphere"&&(this.collider.radius=e.collider.radius,this.collider.segment.start.y=0,this.collider.segment.end.y=0);let a=new C().fromArray(e.collider.position),o=new Xt().setFromEuler(new Yi().fromArray([...e.collider.rotation,"XYZ"]));this.collider.matrix.compose(a,o,f0),e.cameraXAxis!==void 0&&(this.cameraXAxis=e.cameraXAxis,this.cameraYAxis=e.cameraYAxis,this.minPolarAngle=e.cameraRotXLimits[0],this.maxPolarAngle=e.cameraRotXLimits[1],this.minAzimuthAngleRel=e.cameraRotYLimits[0],this.maxAzimuthAngleRel=e.cameraRotYLimits[1])}reset(e=!1){if(this.object.rotation.copy(this.rotation0),this.object.position.copy(this.position0),this.object.scale.copy(this.scale0),this.object.hiddenMatrix.copy(this.hiddenMatrix0),e===!0){if(this.object.rotation.reorder("YXZ"),this.isFirstPerson===!1){let t=this.object.rotation.y;this.object.rotation.y=0,this.objXZQuat.copy(this.object.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.object.quaternion),this.object.rotation.set(0,t,0)}this.euler.setFromQuaternion(this.object.quaternion,"YXZ"),this.dummyTarget.position.copy(this.object.position),this.dummyTarget.rotation.copy(this.object.rotation),this.dummyTarget.updateMatrix(),this.velocityTarget.set(0,0,0),this.velocity.set(0,0,0)}this.isObjectCamera||this.object.updateMatrix(),this.cameraFollow===!0&&(this.camera.quaternion.copy(this.quat0Cam),this.camera.position.copy(this.position0Cam),this.camera.scale.copy(this.scale0Cam),this.camera.hiddenMatrix.copy(this.hiddenMatrix0Cam),this.camera.matrixAutoUpdate=!0),this.dispatchEvent(h0)}connect(){this.domElement.ownerDocument.addEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.addEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.addEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError)}disconnect(){this.domElement.ownerDocument.removeEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.removeEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.removeEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError)}dispose(){this.disconnect()}resetTo(e,t,r){}update(e){if(this.gravity<0?this.object.position.y<this.resetYPosition:this.object.position.y>this.resetYPosition)return this.reset(!0),!0;let t=e/1e3,r=t*60;if(this.moveMode==="walk"&&this.collisionEnabled&&(this.actionStates.jump===1&&this.onObject&&(this.velocityTarget.y=this.jumpPower,this.actionStates.jump=0,this.onObject=!1),this.velocityTarget.y+=this.onObject?0:this.gravity*r),this.moveMode==="fly"&&(this.velocityTarget.y=(this.actionStates.movePosY-this.actionStates.moveNegY)*this.speedTranslate),this.directionXZ.z=this.actionStates.movePosZ-this.actionStates.moveNegZ,this.directionXZ.x=this.actionStates.movePosX-this.actionStates.moveNegX,this.directionXZ.normalize(),this.actionStates.moveNegZ||this.actionStates.movePosZ?this.velocityTarget.z=this.directionXZ.z*this.speedTranslate*this.moveForce:this.velocityTarget.z=0,this.actionStates.moveNegX||this.actionStates.movePosX?this.velocityTarget.x=this.directionXZ.x*this.speedTranslate*this.moveForce:this.velocityTarget.x=0,(this.moveMode==="walk"?this.velocityTarget.x+this.velocityTarget.z===0:this.velocityTarget.manhattanLength()===0)?this.lerpFactorPos.setScalar(this.lerpFactorPosEnd):this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.moveMode==="walk"&&(this.lerpFactorPos.y=1),this.velocity.x+=(this.velocityTarget.x-this.velocity.x)*(1-(1-this.lerpFactorPos.x)**r),this.velocity.y+=(this.velocityTarget.y-this.velocity.y)*(1-(1-this.lerpFactorPos.y)**r),this.velocity.z+=(this.velocityTarget.z-this.velocity.z)*(1-(1-this.lerpFactorPos.z)**r),this.orientMode!=="none"&&this.isFirstPerson===!1){let i=fo.copy(this.velocity);i.y=0,this.deltaPos.set(0,this.velocity.y*t,i.length()*t*-1)}else this.deltaPos.copy(this.velocity).multiplyScalar(t);if(this.deltaPos.applyQuaternion(this.object.quaternion),this.deltaPosXZ.copy(this.deltaPos),this.deltaPosXZ.y=0,this.rotDirection.y=Number(this.actionStates.rotPosY)-Number(this.actionStates.rotNegY),this.rotDirection.x=Number(this.actionStates.rotPosX)-Number(this.actionStates.rotNegX),this.rotDirection.normalize(),this.rotationMode==="normal"&&(this.actionStates.rotPosX||this.actionStates.rotNegX)||this.rotationMode==="steer"&&(this.actionStates.rotPosX||this.actionStates.rotNegX)&&(this.actionStates.movePosZ||this.actionStates.moveNegZ||this.moveMode==="walk")?this.rotVelocityStick.x=-this.rotDirection.x*this.speedOrbit*this.rotForce:this.rotVelocityStick.x=0,this.rotationMode==="normal"&&(this.actionStates.rotPosY||this.actionStates.rotNegY)||this.rotationMode==="steer"&&(this.actionStates.rotPosY||this.actionStates.rotNegY)&&(this.actionStates.movePosZ||this.actionStates.moveNegZ)?this.rotVelocityStick.y=-this.rotDirection.y*this.speedOrbit*this.rotForce:this.rotVelocityStick.y=0,this.rotVelocityTarget.subVectors(this.eulerDelta.divideScalar(t),this.rotVelocityStick),this.rotVelocityTarget.manhattanLength()===0?this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotEnd)**r):this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotStart)**r),this.euler.x+=this.rotVelocity.x*t,this.euler.y+=this.rotVelocity.y*t,this.isFirstPerson===!1&&this.orientMode!=="none"&&this.directionXZ.manhattanLength()>0){let i=ws,s=fo.copy(this.directionXZ).applyQuaternion(this.parentWorldQuat);s.x*=-1,this.camera.getWorldDirection(i);let n=NE.copy(this.parentY).multiplyScalar(i.dot(this.parentY));if(i.sub(n),this.dummyTarget.rotation.y=i.angleTo(s)*(i.cross(s).y>0?-1:1),this.orientMode==="radial"){this.objectToCamXZ.copy(this.objectToCamXZ0).applyAxisAngle(zE,this.euler.y-this.euler0.y);let a=fo.copy(this.objectToCamXZ).normalize(),o=this.deltaPosXZ.sub(ws.copy(a).multiplyScalar(this.deltaPosXZ.dot(a))).cross(a).y;this.euler.y-=Math.atan2(o,this.objectToCamXZ.length())}}this.cameraFollow===!0&&this.moveMode==="walk"&&this.isFirstPerson===!1?this.cameraXAxis==="Limit"?this.euler.x=Lt.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):this.euler.x=Lt.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset,this.PI_2+this.cameraPolarOffset):(this.cameraXAxis==="Limit"||this.isFirstPerson||this.cameraFollow===!0)&&(this.euler.x=Lt.clamp(this.euler.x,-this.PI_2,this.PI_2)),(this.isFirstPerson||this.moveMode!=="walk")&&(this.dummyTarget.rotation.x=this.euler.x),(this.isFirstPerson||this.orientMode==="none")&&(this.dummyTarget.rotation.y=this.euler.y),this.dummyTarget.rotation.x=Lt.clamp(this.dummyTarget.rotation.x,-this.PI_2,this.PI_2),this.objectRot.x=this.euler.x,this.objectRot.y=this.euler.y,this.object.quaternion.copy(this.dummyTarget.quaternion),this.physLoopPerFrame=this.onObject?1:5,this.deltaPos.divideScalar(this.physLoopPerFrame);for(let i=0;i<this.physLoopPerFrame;i++)this.dummyTarget.position.add(this.deltaPos),this.collisionEnabled&&this.collisionAdjustment(t/this.physLoopPerFrame);if(this.moveMode==="walk"&&this.onObject&&(this.velocityTarget.y=0,this.velocity.y=0),this.object.position.lerp(this.dummyTarget.position,1-(1-.5)**r),this.isFirstPerson===!1&&this.object.quaternion.multiply(this.objXZQuat),this.isObjectCamera||this.object.updateMatrix(),this.isFirstPerson===!1&&this.object.quaternion.multiply(this.objXZQuatInv),this.cameraFollow===!0){this.updateFollowArms();let i=this.objectToTarget.add(this.object.position),s=this.targetToCamera.add(i);p0.lookAt(s,i,zE).setPosition(s),p0.decompose(this.targetPos,this.targetQuat,ws),this.camera.quaternion.slerp(this.targetQuat,1-(1-this.lerpFactorRotCamera)**r),this.camera.position.lerp(this.targetPos,1-(1-this.lerpFactorPosCamera)**r),this.camera.updateMatrix(),this.camera.matrixWorldNeedsUpdate=!0,this.cameraYAxis==="Limit"&&this.orientMode==="cartesian"&&(this.euler.y=Lt.clamp(this.euler.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel)),this.euler.x=Lt.clamp(this.euler.x,-this.PI_2+(this.cameraPolarOffset<0?this.cameraPolarOffset:0),this.PI_2+(this.cameraPolarOffset>0?this.cameraPolarOffset:0))}return this.eulerDelta.set(0,0,0),this.lastPosition.distanceToSquared(this.object.position)<this.threshEndTranslate&&8*(1-this.lastQuaternion.dot(this.object.quaternion))<this.threshEndRotate&&(!this.camera||this.lastCameraPosition.distanceToSquared(this.camera.position)<this.threshEndTranslate&&8*(1-this.lastCameraQuaternion.dot(this.camera.quaternion))<this.threshEndRotate)&&(this.moveMode!=="walk"||this.onObject===!0||this.collisionEnabled===!1)?!1:(this.camera&&(this.lastCameraPosition.copy(this.camera.position),this.lastCameraQuaternion.copy(this.camera.quaternion)),this.lastPosition.copy(this.object.position),this.lastQuaternion.copy(this.object.quaternion),!0)}updateFollowArms(){this.objectToTarget.copy(this.objectToTarget0),this.targetToCamera.copy(this.targetToCamera0);let e=Lu.setFromAxisAngle(this.parentY,this.cameraYAxis==="Limit"&&this.orientMode!=="radial"?Lt.clamp(this.objectRot.y-this.euler0.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel):this.objectRot.y-this.euler0.y);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&this.objectToTarget.applyQuaternion(e);let t;this.cameraXAxis==="Limit"?t=Lt.clamp(this.objectRot.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):t=Lt.clamp(this.objectRot.x,-this.PI_2+this.cameraPolarOffset+1e-6,this.PI_2+this.cameraPolarOffset-1e-6);let r=ws.copy(this.cameraPolarAxis0);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&r.applyQuaternion(e);let i=m$.setFromAxisAngle(r,t);this.cameraYAxis!=="Locked"&&this.targetToCamera.applyQuaternion(e),this.cameraXAxis!=="Locked"&&this.targetToCamera.applyQuaternion(i)}collisionAdjustment(e){let t=d$.set(0,0,0);this.dummyTarget.updateMatrix();let r=p0.multiplyMatrices(this.parentMatrixWorld,this.dummyTarget.matrix).multiply(this.objXZRotMat).multiply(this.collider.matrix).decompose(ws,Lu,fo).compose(ws,Lu,f0);this.bvh.dynamic.forEach(s=>{if(s===this.object||s.isDescendantOf(this.object))return;Ni.makeEmpty();let n=f$.copy(s.matrixWorld).decompose(ws,Lu,fo).compose(ws,Lu,f0),a=UE.copy(n).invert(),o=p$.copy(UE).multiply(r);Ir.copy(this.collider.segment),Ir.start.applyMatrix4(o),Ir.end.applyMatrix4(o);let l=h$.copy(this.dummyTarget.position).applyMatrix4(a);Ni.expandByPoint(Ir.start),Ni.expandByPoint(Ir.end),Ni.min.addScalar(-this.collider.radius),Ni.max.addScalar(this.collider.radius),s.boundsTree.shapecast({intersectsBounds:c=>c.intersectsBox(Ni),intersectsTriangle:c=>{let h=ws,u=fo,d=c.closestPointToSegment(Ir,h,u);if(d<this.collider.radius){let p=this.collider.radius-d,g=u.sub(h).normalize(),m=NE.copy(l);m.addScaledVector(g,p);let f=m.applyMatrix4(n).sub(this.dummyTarget.position);t.add(f),Ir.start.addScaledVector(g,p),Ir.end.addScaledVector(g,p)}}})}),Ni.makeEmpty(),Ir.copy(this.collider.segment),Ir.start.applyMatrix4(r),Ir.end.applyMatrix4(r),Ni.expandByPoint(Ir.start),Ni.expandByPoint(Ir.end),Ni.min.addScalar(-this.collider.radius),Ni.max.addScalar(this.collider.radius),this.bvh.static?.shapecast({intersectsBounds:s=>s.intersectsBox(Ni),intersectsTriangle:s=>{let n=ws,a=fo,o=s.closestPointToSegment(Ir,n,a);if(o<this.collider.radius){let l=this.collider.radius-o,c=a.sub(n).normalize();t.addScaledVector(c,l),Ir.start.addScaledVector(c,l),Ir.end.addScaledVector(c,l)}}}),t.applyQuaternion(this.parentWorldQuatInv),t.divide(this.parentWorldScale),this.onObject=t.y>Math.abs(e*this.velocity.y*.25);let i=Math.max(0,t.length()-1e-5);t.normalize().multiplyScalar(i),this.dummyTarget.position.add(t)}},w$=Ly;w$.isLocked=!1;Cs=class extends lt{constructor(e,t,r,i){super(e,t,r),this.isColorA=!0,this.a=i}setRGBA(e,t,r,i){super.setRGB(e,t,r),this.a=i}copy(e){return super.copy(e),this.a="a"in e?e.a:1,this}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}get x(){return this.r}get y(){return this.g}get z(){return this.b}get w(){return this.a}set x(e){this.r=e}set y(e){this.g=e}set z(e){this.b=e}set w(e){this.a=e}},_$=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,radialSegments:64,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadius:0,cornerSegments:8,hollow:0},e.parameters),i=r.width/2,s=r.radiusTop??i,n=r.radiusBottom??i;return s===n?(s=i,n=i):s>n?(s=i,n=n*i/s):(s=s*i/n,n=i),{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width),radiusTop:s,radiusBottom:n})}}static build(e){let{width:t,depth:r,height:i,radialSegments:s,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:l,radiusTop:c,radiusBottom:h,cornerRadius:u,cornerSegments:d,hollow:p}=e.parameters,g;return u||p?g=new HT(c,h,i,s,n,a,o,l*Math.PI/180,u,u,d,p):g=new c1(c,h,i,s,n,a,o,l*Math.PI/180),g.scale(1,1,r/t),Object.assign(g,{userData:{...e,type:"CylinderGeometry"}})}};HT=class extends ft{constructor(e,t,r,i,s,n,a,o,l,c,h,u,d=!1){super(),this.type="RoundedCylinderBufferGeometry",e=e!==void 0?e:1,t=t!==void 0?t:1,r=r||1,i=Math.floor(i)||8,s=Math.floor(s)||1,n=n!==void 0?n:!1,a=a!==void 0?a:0,o=o!==void 0?o:Math.PI*2,n&&(l=0,c=0);let p=[],g=[],m=[],f=[],v=0,x=r/2,b=new C,y=new C;d&&e==0&&(e=l),d&&t==0&&(t=c);let w=new se(e,x),_=new se(t,-x),D=null,S=null,A=null,E=null,M=w.clone().sub(_),I=0,V=0,P=0;u>0&&(I=Math.min(e,t)*(1-u),V=e-I,P=t-I);let Q=w.clone();Q.x-=I;let G=Math.PI-M.angle(),X=M.angle(),F=Math.tan(X/2),z=Math.tan(G/2),j=F+z,Z=u?j:z,U=u?j:F;if(l=Math.min(l,(e-V)/Z,M.length()/j),c=Math.min(c,(t-P)/U,M.length()/j),l>0){let $=l/F;D=w.clone().sub(new se($,l)),u&&(A=D.clone(),A.x-=I-j*l),w.sub(M.clone().setLength($))}if(c>0){let $=c/z;S=_.clone().sub(new se($,-c)),_.add(M.clone().setLength($)),u&&(E=S.clone(),E.x-=I-j*c,Q.sub(M.clone().setLength($)))}M=w.clone().sub(_);let J=M.length()<.5,oe=[];for(let $=0;$<=i;$++){let fe=[],te=$/i,Oe=te*o+a,ge=new se(Math.sin(Oe),Math.cos(Oe));E&&S?(he(fe,te,ge,G,c,E,-1,!0),he(fe,te,ge,X,c,S,-1,!1)):S?(q(fe,ge,S.x,0,-1),he(fe,te,ge,X,c,S,-1,!1)):n||q(fe,ge,t,P,-1);let be=jE(M).normalize();if(wa(be,ge,b),!J)for(let W=0;W<=s;W++){let ne=W/s,xe=M.clone().multiplyScalar(ne).add(_);wa(xe,ge,y),g.push(y.x,y.y,y.z),m.push(b.x,b.y,b.z),f.push(te,.5+y.y/r),fe.push(v++)}if(A&&D?(he(fe,te,ge,G,l,D,1,!1),he(fe,te,ge,X,l,A,1,!0)):D?(he(fe,te,ge,G,l,D,1,!1),q(fe,ge,D.x,0,1)):n||q(fe,ge,e,V,1),u&&!J){let W=jE(M).multiplyScalar(-1).normalize();wa(W,ge,b);for(let ne=0;ne<=s;ne++){let xe=ne/s,ae=M.clone().multiplyScalar(-xe).add(Q);wa(ae,ge,y),g.push(y.x,y.y,y.z),m.push(b.x,b.y,b.z),f.push(te,.5+y.y/r),fe.push(v++)}}u&&!n&&fe.push(fe[0]),oe.push(fe)}for(let $=0;$<oe.length-1;$++)for(let fe=0;fe<oe[0].length-1;fe++){if(n&&u&&fe==s)continue;let te=oe[$][fe],Oe=oe[$+1][fe],ge=oe[$+1][fe+1],be=oe[$][fe+1],W=g[ge*3+0],ne=g[ge*3+2];p.push(te,Oe,be),(W!=0||ne!=0)&&p.push(Oe,ge,be)}o<Math.PI*2&&(Ee(-1,oe[0],a),Ee(1,oe[oe.length-1],a+o)),this.setIndex(p),this.setAttribute("position",new Ve(g,3)),this.setAttribute("normal",new Ve(m,3)),this.setAttribute("uv",new Ve(f,2));function he($,fe,te,Oe,ge,be,W,ne){for(let xe=0;xe<h+1;xe++){let ae=xe/h,_e=W<0?ae:1-ae;ne&&(_e-=1),_e*=Oe;let Ce=new se(Math.sin(_e),Math.cos(_e)*W),Ie=Ce.clone().multiplyScalar(ge).add(be);wa(Ie,te,y),g.push(y.x,y.y,y.z),wa(Ce,te,b),m.push(b.x,b.y,b.z),f.push(fe,.5+y.y/r),$.push(v++)}}function q($,fe,te,Oe,ge){let be=new C,W=new se,ne=[te,Oe];ge<0&&ne.reverse();for(let xe of ne)W.set(xe,x*ge),wa(W,fe,be),g.push(be.x,be.y,be.z),m.push(0,ge,0),f.push(.5,.5),$.push(v++)}function Ee($,fe,te){let Oe=new se(Math.sin(te),Math.cos(te)),ge=new se(-Math.cos(te),Math.sin(te)),be=new C,W=$<0?(ae,_e,Ce)=>p.push(ae,_e,Ce):(ae,_e,Ce)=>p.push(ae,Ce,_e),ne=new se((e+t+V+P)/4,0);wa(ne,Oe,be),g.push(be.x,be.y,be.z),m.push(ge.x,0,ge.y),f.push(.5,.5);let xe=v++;for(let ae of fe){let _e=g.slice(ae*3,ae*3+3);g.push(..._e),m.push(ge.x,0,ge.y);let Ce=f.slice(ae*2,ae*2+2);f.push(...Ce),v++}for(let ae=xe+1;ae<v-1;ae++)W(xe,ae,ae+1);W(xe,v-1,xe+1)}}},D$=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,radialSegments:32,heightSegments:8,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadiusTop:0,cornerRadiusBottom:0,cornerSegments:8},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,depth:r,height:i,radialSegments:s,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:l,cornerRadiusTop:c,cornerRadiusBottom:h,cornerSegments:u}=e.parameters,d;return c>0||h>0||l<360?d=new HT(0,t/2,i,s,n,a,o,l*Math.PI/180,c,h,u,0,!0):d=new _3(t/2,i,s,n,a),d.scale(1,1,r/t),Object.assign(d,{userData:{...e,type:"ConeGeometry"}})}},S$=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,widthSegments:1,heightSegments:1,depthSegments:1,cornerRadius:0,cornerSegments:8},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:i,widthSegments:s,heightSegments:n,depthSegments:a,cornerRadius:o,cornerSegments:l}=e.parameters,c;return o==0?c=new Ra(t,r,i,s,n,a):c=new A$(t,r,i,s,n,a,o,l),Object.assign(c,{userData:{...e,type:"CubeGeometry"}})}},m0=Math.PI/2,A$=class extends ft{constructor(e=1,t=1,r=1,i=1,s=1,n=1,a=0,o=4){super(),this.type="BoxBufferGeometry";let l=this;i=Math.floor(i),s=Math.floor(s),n=Math.floor(n),o=Math.floor(o),a=Math.min(a,e/2,t/2,r/2);let c=[],h=[],u=[],d=[],p=0,g=0;m("z","y","x",-1,-1,r,t,e,n,s,0),m("z","y","x",1,-1,r,t,-e,n,s,1),m("x","z","y",1,1,e,r,t,i,n,2),m("x","z","y",1,-1,e,r,-t,i,n,3),m("x","y","z",1,-1,e,t,r,i,s,4),m("x","y","z",-1,-1,e,t,-r,i,s,5),a>0&&(f("z","y","x",-1,-1,1,r,t,e,n,0),f("z","y","x",1,-1,-1,r,t,e,n,1),f("z","y","x",-1,1,-1,r,t,e,n,1),f("z","y","x",1,1,1,r,t,e,n,0),f("x","y","z",-1,-1,-1,e,t,r,i,0),f("x","y","z",1,-1,1,e,t,r,i,1),f("x","y","z",-1,1,1,e,t,r,i,0),f("x","y","z",1,1,-1,e,t,r,i,1),f("y","x","z",-1,-1,1,t,e,r,s,0),f("y","x","z",1,-1,-1,t,e,r,s,1),f("y","x","z",1,1,1,t,e,r,s,1),f("y","x","z",-1,1,-1,t,e,r,s,0),v(1,1,1),v(-1,1,1),v(1,-1,1),v(-1,-1,1),v(1,1,-1),v(-1,1,-1),v(1,-1,-1),v(-1,-1,-1)),this.setIndex(c),this.setAttribute("position",new Ve(h,3)),this.setAttribute("normal",new Ve(u,3)),this.setAttribute("uv",new Ve(d,2));function m(x,b,y,w,_,D,S,A,E,M,I){let V=(D-2*a)/E,P=(S-2*a)/M,Q=D/2-a,G=S/2-a,X=A/2,F=E+1,z=M+1,j=0,Z=0,U=new C;for(let J=0;J<z;J++){let oe=J*P-G;for(let he=0;he<F;he++){let q=he*V-Q;U[x]=q*w,U[b]=oe*_,U[y]=X,h.push(U.x,U.y,U.z),U[x]=0,U[b]=0,U[y]=A>0?1:-1,u.push(U.x,U.y,U.z),d.push(he/E),d.push(1-J/M),j+=1}}for(let J=0;J<M;J++)for(let oe=0;oe<E;oe++){let he=p+oe+F*J,q=p+oe+F*(J+1),Ee=p+(oe+1)+F*(J+1),$=p+(oe+1)+F*J;c.push(he,q,$),c.push(q,Ee,$),Z+=6}l.addGroup(g,Z,I),g+=Z,p+=j}function f(x,b,y,w,_,D,S,A,E,M,I){let V=(S-2*a)/M,P=S/2-a,Q=A/2-a,G=E/2,X=M+1,F=0,z=0,j=new C,Z=new C;for(let U=0;U<o+1;U++){let J=U/o*m0,oe=Math.sin(J)*a,he=(1-Math.cos(J))*a,q=Math.sin(J),Ee=Math.cos(J);j[b]=(Q+oe)*_,j[y]=(G-he)*D,Z[x]=0,Z[b]=q*Math.sign(j[b]),Z[y]=Ee*Math.sign(j[y]);for(let $=0;$<X;$++){let fe=$*V-P;j[x]=fe*w,h.push(j.x,j.y,j.z),u.push(Z.x,Z.y,Z.z),d.push($/M),d.push(0),F+=1}}for(let U=0;U<o;U++)for(let J=0;J<M;J++){let oe=p+J+X*U,he=p+J+X*(U+1),q=p+(J+1)+X*(U+1),Ee=p+(J+1)+X*U;c.push(oe,he,Ee),c.push(he,q,Ee),z+=6}l.addGroup(g,z,I),g+=z,p+=F}function v(x,b,y){let w=new C,_=new C(e/2,t/2,r/2);_.subScalar(a);let D=[],S=x*b*y>0?(E,M,I)=>c.push(E,M,I):(E,M,I)=>c.push(E,I,M);for(let E=0;E<=o;E++){let M=[],I=m0*(1-E/o),V=Math.cos(I),P=Math.sin(I),Q=0;for(let G=0;G<=E;G++){let X=Math.cos(Q),F=Math.sin(Q);w.x=V*X,w.y=P,w.z=V*F;let z=_.clone().addScaledVector(w,a);h.push(x*z.x,b*z.y,y*z.z),u.push(x*w.x,b*w.y,y*w.z),d.push(0,0),M.push(p++),Q+=m0/E}D.push(M)}let A=D.length-1;for(let E=0;E<A;E++){let M=D[E],I=D[E+1],V=M.length-1;S(M[0],I[1],I[0]);for(let P=1;P<=V;P++)S(M[P-1],M[P],I[P]),S(M[P],I[P+1],I[P])}}}},H1=class extends ft{constructor(e=[],t=[],r="",i=1,s=.2,n=4){super(),this.type="PolyhedronGeometryRound";let a=[],o=[],l=[];c(),h(),this.setAttribute("position",new Ve(a,3)),this.setAttribute("normal",new Ve(l,3)),this.setAttribute("uv",new Ve(o,2));return;function c(){s=Math.min(1-1e-5,s),s==0&&(n=0);let u={IcosahedronGeometry:5,DodecahedronGeometry:3,HexahedronGeometry:3,OctahedronGeometry:4,TetrahedronGeometry:3}[r],d=new C,p=d.clone(),g=new Xi,m=s*i,f=i-m,v=n+1,x=new C,b=(X,F)=>x.subVectors(X,F).normalize(),y=(X,F)=>Array(X).fill(void 0).map(F),w=y(e.length/3,(X,F)=>new C().fromArray(e,F*3).setLength(i)),_=[],D=1e6;for(let X=0;X<w.length;X++){let F=w[X],z=[],j,Z,U,J=1e10,oe=-1;for(;(oe=t.indexOf(X,oe+1))!=-1;){let $=oe-oe%3;j=t[$+(oe+1)%3],Z=t[$+(oe+2)%3],U=F.distanceToSquared(w[j]),J=Math.min(J,U),z.push([j,Z,U])}J+=1e-6;let he=[],q=0,Ee=z.length;for(let $=0;$<Ee;$++){[j,Z,U]=z[q];let fe=_[j]?.includes(X)==!0;U<=J&&he.push(j+ +fe*D),q=z.findIndex(te=>te[0]==Z)}_.push(he)}let S=[];{let X=0,F=0,z,j,Z=u==3;for(let U=0;U<=n;U++){z=U*(U+1)/2,j=(U+1)*(U+2)/2;for(let J=0;J<n-U;J++)[X,F]=[z+J+U+2,j+J+U+3],S.push(z,j,...Z?[F,z]:[X,j],F,X),[z,j]=[X,F];S.push(z,j,z+n+2)}}let A=d.clone(),E=d.clone(),M=d.clone(),I=d.clone(),V=d.clone(),P=[],Q=y(w.length,()=>y(u,()=>d.clone()));for(let X=0;X<w.length;X++){d.copy(w[X]).normalize(),A.copy(d).multiplyScalar(f);let F=_[X];for(let he=0;he<F.length;he++){let q=F[he],Ee=F[(he+1)%u];g.setFromPointsAndIndices(w,X,q%D,Ee%D),g.b.sub(g.a).setLength(1e10).add(g.a),g.c.sub(g.a).setLength(1e10).add(g.a),g.closestPointToPoint(A,Q[X][he])}let z=[],j=[],Z=[],U=new C;n==0&&[...Q[X]].reduce((he,q)=>he.add(q),U).multiplyScalar(1/u);for(let he=0;he<u;he++){let q=[],Ee=(he-1+u)%u,$=Q[X][Ee],fe=Q[X][he];d.copy($).sub(A),p.copy(fe).sub(A);let te=A.angleTo(d),Oe=d.angleTo(p),ge=Math.cos(te)*m;n==0?E.copy(U):E.copy(A).setLength(f+ge),j.push(ge);let be=[E,$,fe];for(let W=0;W<2;W++){let ne=be[W],xe=be[W+1];I.subVectors(ne,A),V.subVectors(xe,A),M.crossVectors(I,V).normalize();for(let ae=0;ae<v;ae++){let _e=[te,Oe][W]*ae/v;d.copy(I).applyAxisAngle(M,_e).add(A),z.push(d.clone()),W&&(b(d,A),q.push([ae==0?ne:d.clone(),x.clone()]))}W&&(b(xe,A),q.push([xe,x.clone()]))}Z.push(q)}P.push(Z);let J=2*v,oe=2;for(let he=0;he<u;he++){let q=J*he,Ee=J*((he+1)%u),$=[z[q]];for(let te=1;te<v;te++){I=z[q+te],V=z[Ee+te],$.push(I);for(let Oe=1,ge=te-oe+1;Oe<=ge;Oe++)d.lerpVectors(I,V,Oe/(ge+1)),d.sub(A).setLength(j[he]).add(A),$.push(d.clone());$.push(V)}for(let te=0;te<v;te++)$.push(z[te+v+q]);$.push(z[Ee+v]);let fe=S.map(te=>$[te]);a.push(...fe.map(te=>[te.x,te.y,te.z]).flat()),l.push(...fe.map(te=>(b(te,A),[x.x,x.y,x.z])).flat())}}let G=[];for(let X=0;X<_.length;X++)for(let F=0;F<u;F++){let z=_[X][F];if(z<D){let j=_[z].findIndex(J=>J%D==X),Z=P[X][F],U=P[z][j];for(let J=0;J<v;J++){let oe=Z[J],he=U[v-J],q=Z[J+1],Ee=U[v-(J+1)];[oe,he,q,q,he,Ee].forEach($=>{a.push($[0].x,$[0].y,$[0].z),l.push($[1].x,$[1].y,$[1].z)})}G.push(Z[0][0],U[v][0],Z[v][0],U[0][0])}}for(;G.length;){let X,F,z,j;[X,F]=G.splice(0,2);let Z=[X];for(;X!=F;)Z.push(F),z=G.indexOf(F),j=z%2,F=G.splice(z-j,2)[1-j];x.subVectors(Z[0],Z[1]).cross(d.subVectors(Z[0],Z[2])).normalize();let U=x.dot(Z[0])<0;U&&x.negate();for(let J=1;J<=Z.length-2;J++)[Z[J+ +U],Z[J+1-+U],Z[0]].forEach(oe=>{a.push(oe.x,oe.y,oe.z),l.push(x.x,x.y,x.z)})}}function h(){let u=new C;for(let _=0;_<a.length;_+=3){u.x=a[_+0],u.y=a[_+1],u.z=a[_+2];let D=y(u)/2/Math.PI+.5,S=w(u)/Math.PI+.5;o.push(D,1-S)}let d=new C,p=new C,g=new C,m=new C,f=new se,v=new se,x=new se,b=(_,D,S,A)=>{A<0&&_.x===1&&(o[D]=_.x-1),S.x===0&&S.z===0&&(o[D]=A/2/Math.PI+.5)};for(let _=0,D=0;_<a.length;_+=9,D+=6){d.set(a[_+0],a[_+1],a[_+2]),p.set(a[_+3],a[_+4],a[_+5]),g.set(a[_+6],a[_+7],a[_+8]),f.set(o[D+0],o[D+1]),v.set(o[D+2],o[D+3]),x.set(o[D+4],o[D+5]),m.copy(d).add(p).add(g).divideScalar(3);let S=y(m);b(f,D+0,d,S),b(v,D+2,p,S),b(x,D+4,g,S)}for(let _=0;_<o.length;_+=6){let D=o[_+0],S=o[_+2],A=o[_+4],E=Math.max(D,S,A),M=Math.min(D,S,A);E>.9&&M<.1&&(D<.2&&(o[_+0]+=1),S<.2&&(o[_+2]+=1),A<.2&&(o[_+4]+=1))}function y(_){return Math.atan2(_.z,-_.x)}function w(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}}static fromJSON(e){return new H1(e.vertices,e.indices,e.radius,e.corner,e.cornerSides)}},E$=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:i,detail:s,corner:n,cornerSides:a}=e.parameters,o=s===0&&n!==0?new VT(t*.5,n,a):new D3(t*.5,s);return o.scale(1,r/t,i/t),Object.assign(o,{userData:{...e,type:"DodecahedronGeometry"}})}},VT=class extends H1{constructor(e=1,t=.2,r=4){let i=(1+Math.sqrt(5))/2,s=1/i,n=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],o="DodecahedronGeometry";super(n,a,o,e,t,r),this.type=o}static fromJSON(e){return new VT(e.radius,e.corner,e.cornerSides)}},ku=1e-12,V1=class{constructor(e){this.position=new se,this.startPosition=new se,this.uuid=Lt.generateUUID(),this.position=e.clone()}start(){this.reset()}reset(){this.startPosition.copy(this.position)}applyOffset(e){this.position.copy(this.startPosition).add(e)}copy(e){return this.position.copy(e.position),this.startPosition.copy(e.startPosition),this}clone(){return new V1(this.position).copy(this)}toJSON(){return[this.position.x,this.position.y]}},ky=class extends V1{constructor(e){super(e.position),this.parent=e}copy(e){return super.copy(e),this}clone(){return new ky(this.parent).copy(this)}},Yl=class extends V1{constructor(e,t){super(t),this.controls=[],this.roundness=0,this.areControlsDirectionsMirrored=!0,this.uuid=e,this.controls.push(new ky(this),new ky(this))}static create(e,t){let r=new Yl(e,new se(...t.position));return r.controls[0].position.set(...t.controlPrevious.position),r.controls[1].position.set(...t.controlNext.position),r.roundness=t.roundness,r.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored,r}getOppositeControl(e){let t=this.controls.indexOf(e);return t===0?this.controls[1]:t===1?this.controls[0]:null}applyOffsetToControls(e,t=1){for(let r=0,i=this.controls.length;r<i;r++){let s=this.controls[r];this.position.distanceTo(s.position)<=t?s.position.copy(this.position):s.applyOffset(e)}}controlsMoved(){return!(this.position.equals(this.controls[0].position)&&this.position.equals(this.controls[1].position))}copy(e){return super.copy(e),this.controls[0].copy(e.controls[0]),this.controls[1].copy(e.controls[1]),this.roundness=e.roundness,this.uuid=e.uuid,this}clone(){return new Yl(this.uuid,this.position).copy(this)}toJSON(){return super.toJSON().concat(this.controls[0].toJSON(),this.controls[1].toJSON(),[this.roundness])}computeTangents(){let e=this.curveBefore?.getTangentAt(1),t=this.curveAfter?.getTangentAt(0);return[e,t]}computeNormals(e=new se,t=new se){let[r,i]=this.computeTangents();return r&&i&&(HE(r,e),HE(i,t)),[e,t]}computeTangent(e=new se){let[t,r]=this.computeTangents();return t&&r&&e.copy(t).add(r).normalize(),e}computeNormal(e=new se){let[t,r]=this.computeNormals();return e.copy(t).add(r).normalize(),e}};G1=e=>e,vc=new se,Of=new se,C$=new se,T$=new se,M$=new se,L$=new se,GT=new C,WT=new C;g0=new se,H$=new se,V$=new se,G$=new se,W$=new se,q$=new se,or=class extends Mo{constructor(e=100,t=100){super(),this.points=[],this.shapeHoles=[],this.eventDispatcher=new gn,this.plane=new qi(new C(0,0,-1)),this.subdivision=0,this.controlSnapDistance=4,this.pointIDs=0,this.isMesh2D=!1,this._roundness=0,this.isClosed=!1,this.useCubicForRoundedCorners=!0,this.uuid=Lt.generateUUID(),this.needsUpdate=!1,this.roundedCurves=[],this._width=e,this._height=t}static createFromState(e,t,r){let i=new or;return i.isClosed=e.isClosed,i.points=e.points.map(s=>Yl.create(s.id,s.data)),typeof e.roundness=="number"&&(i.roundness=e.roundness),i.shapeHoles=e.shapeHoles.map(s=>or.createFromState(s)),t!==void 0&&r!==void 0&&i.applySize(t,r),i.update(),i}get width(){return this._width}get height(){return this._height}get roundness(){return this._roundness}set roundness(e){if(this._roundness!==e){this._roundness=e;for(let t=0,r=this.points.length;t<r;t++)this.points[t].roundness=e;this.needsUpdate=!0}}getPointsIndexesByIds(e){return e.map(t=>this.getPointIndexById(t)).filter(t=>t>=0)}getPointIndexById(e){let t=this.points.length,r=this.points.findIndex(i=>i.uuid===e);if(r<0){let i=t;for(let s=0,n=this.shapeHoles.length;s<n;s++){let a=this.shapeHoles[s],o=a.points.length-1,l=a.getPointIndexById(e);if(l<0)i+=o;else return l+i}}return r}getLineIndexById(e){return this.getPointIndexById(e)}getBezierPoint(e){if(e<=this.points.length-1)return this.points[e];if(this.shapeHoles.length>0)for(let t=0,r=this.shapeHoles.length;t<r;t++){let i=this.shapeHoles[t],s=e-this.points.length;if(s<=i.points.length-1)return i.points[s]}throw new Error("This shape does not have a point for this index: "+e)}getBezierPointIndex(e){let t=this.points.indexOf(e);if(t>=0)return t;if(t=this.points.length,this.shapeHoles.length>0)for(let r=0,i=this.shapeHoles.length;r<i;r++){let s=this.shapeHoles[r],n=s.points.indexOf(e);if(n>=0)return t+n;t+=s.points.length}return-1}getAllPoints(){let e=[].concat(...this.shapeHoles.map(t=>t.points));return[...this.points,...e]}applySize(e,t){e===0&&(e=.001),t===0&&(t=.001),this._width=e,this._height=t}applyScale(e,t){let r=g0.set(e,t);for(let i=0,s=this.points.length;i<s;i++){let n=this.points[i];n.position.multiply(r),n.controls[0].position.multiply(r),n.controls[1].position.multiply(r)}for(let i=0,s=this.shapeHoles.length;i<s;i++)this.shapeHoles[i].applyScale(e,t);this._update(!1)}createPoint(e,t=0,r=Lt.generateUUID()){let i;e instanceof se?i=e:i=new se(e,t);let s=new Yl(r,i);return s.roundness=this.roundness,s}addPoint(e){this.points.push(e),this.needsUpdate=!0}addPointAt(e,t){this.points.splice(t,0,e),this.needsUpdate=!0}getPointByUuid(e){for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];if(i.uuid===e)return i}for(let t=0,r=this.shapeHoles.length;t<r;t++){let i=this.shapeHoles[t].getPointByUuid(e);if(i)return i}}getFirstPoint(){return this.points[0]}getLastPoint(){return this.points[this.points.length-1]}removePoint(e){let t=this.points.indexOf(e);t>=0&&this.points.splice(t,1),this.needsUpdate=!0}removePointById(e){let t=this.points.find(r=>r.uuid===e);t&&this.removePoint(t)}update(e=!0){for(let t=0,r=this.shapeHoles.length;t<r;t++)this.shapeHoles[t].update(!1);this._update(e)}extractShapePointsToBuffer(e,t=12,r=!1){this.subdivision=t,this.curveDivisions===void 0&&this.computeCurveDivisions(t);let i=r?this.roundedCurveDivisions:this.curveDivisions;return U$(e,r?this.roundedCurves:this.curves,t,this.autoClose),i.reduce((s,n)=>s+n,0)+1}computeCurveDivisions(e=12){return this.curveDivisions=WE(this.points,e,!1),this.roundedCurveDivisions=WE(this.points,e,!0),this.curveDivisions}extractFilteredShapePointsToBuffer(e,t,r=12){return z$(e,this.curves,t,r,this.autoClose).reduce((i,s)=>i+s,0)*2}extractShapePointsToFlatArray(e,t=12){return this.subdivision=t,this.curveDivisions===void 0&&this.computeCurveDivisions(t),j$(e,this.roundedCurves,t,this.autoClose)}getCurveIndexFromVertexId(e,t=!1){let r=0;this.curveDivisions===void 0&&this.computeCurveDivisions(this.subdivision);let i=t?this.roundedCurveDivisions:this.curveDivisions,s=0;t&&this.points[0].roundedCurveCorner!==void 0&&(s=Lo(this.points[0].roundedCurveCorner,this.subdivision)*.5);let n=e-s;n<0&&(n+=i.reduce((a,o)=>a+o,0));for(let a=0,o=i.length;a<o;a++){let l=i[a];if(n<r+l)return[a,(n-r+1)/l];r+=l}return[0,1]}getCurveT(e,t,r){let i=this.points[e],s=this.points[e>=this.points.length-1?0:e+1],n=this.curveDivisions,a=n[e];if(VE(i,s)){let l=i.position.distanceTo(s.position);return i.position.distanceTo(g0.set(r.x,r.y))/l}let o=0;for(let l=0;l<e;l++)o+=n[l];return(t-o)/a}dispose(){this.eventDispatcher=null}_applyCurveForPoint(e,t){VE(t,e)?this.lineTo(e.position.x,e.position.y):this.bezierCurveTo(t.controls[1].position.x,t.controls[1].position.y,e.controls[0].position.x,e.controls[0].position.y,e.position.x,e.position.y);let r=this.curves[this.curves.length-1];e.curveBefore=r,t.curveAfter=r;let i=r.clone();e.roundedCurveBefore=i,t.roundedCurveAfter=i,e.roundedCurveCorner=void 0,this.roundedCurves.push(i)}_update(e=!0){if(this.curves=[],this.roundedCurves=[],!this.points.length)return;for(let r=0,i=this.points.length;r<i;r++){let s=this.points[r];if(r===0)this.moveTo(s.position.x,s.position.y);else{let n=this.points[r-1];this._applyCurveForPoint(s,n)}}let t=this.getLastPoint();if(t?.curveAfter&&(t.curveAfter=void 0),this.isClosed){let r=this.points[0],i=this.points[this.points.length-1];this._applyCurveForPoint(r,i)}if(this.points.length>2){let r=0;for(let i=0,s=this.points.length;i<s;i++){let n=this.points[i],a=this.points[i-1]??this.points[this.points.length-1],o=this.points[i+1]??this.points[0],l=n.roundness,c=a&&o&&F$(a,n,o);if(!n.controlsMoved()&&l>0&&!c){let h=n.curveBefore,u=n.curveAfter;if(h===void 0||u===void 0)continue;let d=n.roundedCurveBefore,p=n.roundedCurveAfter,g=h.getLength(),m=u.getLength(),f=Math.min(l,g*.499),v=Math.min(l,m*.499),x=Math.min(f,v),b=1-x/g,y=x/m,w=h.getPointAt(b,g0),_=u.getPointAt(y,H$);this._subSplitCurve(h,d,b,w,void 0),this._subSplitCurve(u,p,y,void 0,_);let D;if(this.useCubicForRoundedCorners){let S=qT(w,n.position,_)/2,A=Math.tan(S)*w.distanceTo(n.position),[E,M]=O$(w,_,A,V$,G$),I=I$(E,M,n.position),[V,P]=R$(I,w,_,A,W$,q$);D=new en(w.clone(),V.clone(),P.clone(),_.clone())}else D=new Io(w.clone(),n.position.clone(),_.clone());n.roundedCurveCorner=D,this.roundedCurves.splice(i+r,0,D),r++}}}e&&this.eventDispatcher?.dispatchEvent({type:"update"})}_subSplitCurve(e,t,r,i,s){if(e instanceof ln)i!==void 0&&t.v2.copy(i),s!==void 0&&t.v1.copy(s);else{let n=e,a=t,o=n.getUtoTmapping(r,0),l=N$(n.v0,n.v1,n.v2,n.v3,o);return i!==void 0&&(a.v0.set(l[0],l[1]),a.v1.set(l[2],l[3]),a.v2.set(l[4],l[5]),a.v3.set(l[6],l[7])),s!==void 0&&(a.v0.set(l[6],l[7]),a.v1.set(l[8],l[9]),a.v2.set(l[10],l[11]),a.v3.set(l[12],l[13])),a}return t}clone(){let e=new or(this._width,this._height);return e.points=this.points.map(t=>t.clone()),e.isClosed=this.isClosed,e.roundness=this.roundness,e.isMesh2D=this.isMesh2D,e.shapeHoles=this.shapeHoles.map(t=>t.clone()),e}toJSON(){return{points:this.points.reduce((e,t)=>e.concat(t.toJSON()),[]),shapeHoles:this.shapeHoles.map(e=>e.toJSON()),isClosed:this.isClosed,roundness:this.roundness}}fromJSON(e){this.points=[],this.pointIDs=0;let t=e.points.length/7;for(let r=0;r<t;r++){let i=r*7,s=e.points[i+0],n=e.points[i+1],a=e.points[i+2],o=e.points[i+3],l=e.points[i+4],c=e.points[i+5],h=e.points[i+6],u=new Yl(Lt.generateUUID(),new se(s,n));u.controls[0].position.set(a,o),u.controls[1].position.set(l,c),u.roundness=h,this.points.push(u)}return this.shapeHoles=e.shapeHoles?.length?e.shapeHoles.map(r=>{let i=new or;return i.fromJSON(r),i}):[],this.isClosed=e.isClosed,this._roundness=e.roundness,this._update(),this}fromShape(e){let t=(i,s)=>{s instanceof en&&s.v3.equals(i.position)&&i.controls[0].position.copy(s.v2)},r=i=>{let s=[],n,a;for(n=0,a=i.length;n<a;n++)i[n]instanceof Io&&(i[n]=k$(i[n]));for(n=0,a=i.length;n<a;n++){let c=i[n],h=n>0?i[n-1]:null,u;c instanceof en?(u=this.createPoint(c.v0),u.controls[1].position.copy(c.v1)):c instanceof ln&&(u=this.createPoint(c.v1)),u!==void 0&&(h!==null&&t(u,h),s.push(u))}let o=i[i.length-1],l=!1;return o instanceof en?o.v3.equals(s[0].position)&&(s[0].controls[0].position.copy(o.v2),l=!0):o instanceof ln&&o.v2.equals(s[0].position)&&(l=!0),this.isClosed=l,s};return this.points=r(e.curves),e instanceof Mo&&(this.shapeHoles=e.holes.map(i=>{let s=new or;return s.fromShape(i),s})),this.update(),this}},By=Math.PI*2;(function(e){e[e.ODD=0]="ODD",e[e.NONZERO=1]="NONZERO",e[e.POSITIVE=2]="POSITIVE",e[e.NEGATIVE=3]="NEGATIVE",e[e.ABS_GEQ_TWO=4]="ABS_GEQ_TWO"})(er||(er={}));(function(e){e[e.POLYGONS=0]="POLYGONS",e[e.CONNECTED_POLYGONS=1]="CONNECTED_POLYGONS",e[e.BOUNDARY_CONTOURS=2]="BOUNDARY_CONTOURS"})(Pr||(Pr={}));$e=function(){function e(){}return e.vertEq=function(t,r){return t.s===r.s&&t.t===r.t},e.vertLeq=function(t,r){return t.s<r.s||t.s===r.s&&t.t<=r.t},e.transLeq=function(t,r){return t.t<r.t||t.t===r.t&&t.s<=r.s},e.edgeGoesLeft=function(t){return e.vertLeq(t.Dst,t.Org)},e.edgeGoesRight=function(t){return e.vertLeq(t.Org,t.Dst)},e.vertL1dist=function(t,r){return Math.abs(t.s-r.s)+Math.abs(t.t-r.t)},e.edgeEval=function(t,r,i){tt(e.vertLeq(t,r)&&e.vertLeq(r,i));var s=r.s-t.s,n=i.s-r.s;return s+n>0?s<n?r.t-t.t+(t.t-i.t)*(s/(s+n)):r.t-i.t+(i.t-t.t)*(n/(s+n)):0},e.edgeSign=function(t,r,i){tt(e.vertLeq(t,r)&&e.vertLeq(r,i));var s=r.s-t.s,n=i.s-r.s;return s+n>0?(r.t-i.t)*s+(r.t-t.t)*n:0},e.transEval=function(t,r,i){tt(e.transLeq(t,r)&&e.transLeq(r,i));var s=r.t-t.t,n=i.t-r.t;return s+n>0?s<n?r.s-t.s+(t.s-i.s)*(s/(s+n)):r.s-i.s+(i.s-t.s)*(n/(s+n)):0},e.transSign=function(t,r,i){tt(e.transLeq(t,r)&&e.transLeq(r,i));var s=r.t-t.t,n=i.t-r.t;return s+n>0?(r.s-i.s)*s+(r.s-t.s)*n:0},e.vertCCW=function(t,r,i){return t.s*(r.t-i.t)+r.s*(i.t-t.t)+i.s*(t.t-r.t)>=0},e.interpolate=function(t,r,i,s){return t=t<0?0:t,i=i<0?0:i,t<=i?i===0?(r+s)/2:r+(s-r)*(t/(t+i)):s+(r-s)*(i/(t+i))},e.intersect=function(t,r,i,s,n){var a,o,l;e.vertLeq(t,r)||(l=t,t=r,r=l),e.vertLeq(i,s)||(l=i,i=s,s=l),e.vertLeq(t,i)||(l=t,t=i,i=l,l=r,r=s,s=l),e.vertLeq(i,r)?e.vertLeq(r,s)?(a=e.edgeEval(t,i,r),o=e.edgeEval(i,r,s),a+o<0&&(a=-a,o=-o),n.s=e.interpolate(a,i.s,o,r.s)):(a=e.edgeSign(t,i,r),o=-e.edgeSign(t,s,r),a+o<0&&(a=-a,o=-o),n.s=e.interpolate(a,i.s,o,s.s)):n.s=(i.s+r.s)/2,e.transLeq(t,r)||(l=t,t=r,r=l),e.transLeq(i,s)||(l=i,i=s,s=l),e.transLeq(t,i)||(l=t,t=i,i=l,l=r,r=s,s=l),e.transLeq(i,r)?e.transLeq(r,s)?(a=e.transEval(t,i,r),o=e.transEval(i,r,s),a+o<0&&(a=-a,o=-o),n.t=e.interpolate(a,i.t,o,r.t)):(a=e.transSign(t,i,r),o=-e.transSign(t,s,r),a+o<0&&(a=-a,o=-o),n.t=e.interpolate(a,i.t,o,s.t)):n.t=(i.t+r.t)/2},e}(),Pu=function(){function e(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1}return e}(),_p=function(){function e(t){this.side=t,this.next=null,this.Org=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Lface=null,this.activeRegion=null,this.winding=0}return Object.defineProperty(e.prototype,"Rface",{get:function(){return this.Sym.Lface},set:function(t){this.Sym.Lface=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dst",{get:function(){return this.Sym.Org},set:function(t){this.Sym.Org=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Oprev",{get:function(){return this.Sym.Lnext},set:function(t){this.Sym.Lnext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Lprev",{get:function(){return this.Onext.Sym},set:function(t){this.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dprev",{get:function(){return this.Lnext.Sym},set:function(t){this.Lnext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rprev",{get:function(){return this.Sym.Onext},set:function(t){this.Sym.Onext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dnext",{get:function(){return this.Sym.Onext.Sym},set:function(t){this.Sym.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rnext",{get:function(){return this.Sym.Lnext.Sym},set:function(t){this.Sym.Lnext.Sym=t},enumerable:!0,configurable:!0}),e}(),Rl=function(){function e(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0}return e}(),YE=function(){function e(){var t=new Rl,r=new Pu,i=new _p(0),s=new _p(1);t.next=t.prev=t,t.anEdge=null,r.next=r.prev=r,i.next=i,i.Sym=s,s.next=s,s.Sym=i,this.vHead=t,this.fHead=r,this.eHead=i,this.eHeadSym=s}return e.prototype.makeEdge_=function(t){var r=new _p(0),i=new _p(1);t.Sym.side<t.side&&(t=t.Sym);var s=t.Sym.next;return i.next=s,s.Sym.next=r,r.next=t,t.Sym.next=i,r.Sym=i,r.Onext=r,r.Lnext=i,r.Org=null,r.Lface=null,r.winding=0,r.activeRegion=null,i.Sym=r,i.Onext=i,i.Lnext=r,i.Org=null,i.Lface=null,i.winding=0,i.activeRegion=null,r},e.prototype.splice_=function(t,r){var i=t.Onext,s=r.Onext;i.Sym.Lnext=r,s.Sym.Lnext=t,t.Onext=s,r.Onext=i},e.prototype.makeVertex_=function(t,r,i){var s=t;tt(s,"Vertex can't be null!");var n=i.prev;s.prev=n,n.next=s,s.next=i,i.prev=s,s.anEdge=r;var a=r;do a.Org=s,a=a.Onext;while(a!==r)},e.prototype.makeFace_=function(t,r,i){var s=t;tt(s,"Face can't be null");var n=i.prev;s.prev=n,n.next=s,s.next=i,i.prev=s,s.anEdge=r,s.trail=null,s.marked=!1,s.inside=i.inside;var a=r;do a.Lface=s,a=a.Lnext;while(a!==r)},e.prototype.killEdge_=function(t){t.Sym.side<t.side&&(t=t.Sym);var r=t.next,i=t.Sym.next;r.Sym.next=i,i.Sym.next=r},e.prototype.killVertex_=function(t,r){var i=t.anEdge,s=i;do s.Org=r,s=s.Onext;while(s!==i);var n=t.prev,a=t.next;a.prev=n,n.next=a},e.prototype.killFace_=function(t,r){var i=t.anEdge,s=i;do s.Lface=r,s=s.Lnext;while(s!==i);var n=t.prev,a=t.next;a.prev=n,n.next=a},e.prototype.makeEdge=function(){var t=new Rl,r=new Rl,i=new Pu,s=this.makeEdge_(this.eHead);return this.makeVertex_(t,s,this.vHead),this.makeVertex_(r,s.Sym,this.vHead),this.makeFace_(i,s,this.fHead),s},e.prototype.splice=function(t,r){var i=!1,s=!1;if(t!==r){if(r.Org!==t.Org&&(s=!0,this.killVertex_(r.Org,t.Org)),r.Lface!==t.Lface&&(i=!0,this.killFace_(r.Lface,t.Lface)),this.splice_(r,t),!s){var n=new Rl;this.makeVertex_(n,r,t.Org),t.Org.anEdge=t}if(!i){var a=new Pu;this.makeFace_(a,r,t.Lface),t.Lface.anEdge=t}}},e.prototype.delete=function(t){var r=t.Sym,i=!1;if(t.Lface!==t.Rface&&(i=!0,this.killFace_(t.Lface,t.Rface)),t.Onext===t)this.killVertex_(t.Org,null);else if(t.Rface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev),!i){var s=new Pu;this.makeFace_(s,t,t.Lface)}r.Onext===r?(this.killVertex_(r.Org,null),this.killFace_(r.Lface,null)):(t.Lface.anEdge=r.Oprev,r.Org.anEdge=r.Onext,this.splice_(r,r.Oprev)),this.killEdge_(t)},e.prototype.addEdgeVertex=function(t){var r=this.makeEdge_(t),i=r.Sym;this.splice_(r,t.Lnext),r.Org=t.Dst;var s=new Rl;return this.makeVertex_(s,i,r.Org),r.Lface=i.Lface=t.Lface,r},e.prototype.splitEdge=function(t){var r=this.addEdgeVertex(t),i=r.Sym;return this.splice_(t.Sym,t.Sym.Oprev),this.splice_(t.Sym,i),t.Dst=i.Org,i.Dst.anEdge=i.Sym,i.Rface=t.Rface,i.winding=t.winding,i.Sym.winding=t.Sym.winding,i.idx=t.idx,i.Sym.idx=t.Sym.idx,i},e.prototype.connect=function(t,r){var i=!1,s=this.makeEdge_(t),n=s.Sym;if(r.Lface!==t.Lface&&(i=!0,this.killFace_(r.Lface,t.Lface)),this.splice_(s,t.Lnext),this.splice_(n,r),s.Org=t.Dst,n.Org=r.Org,s.Lface=n.Lface=t.Lface,t.Lface.anEdge=n,!i){var a=new Pu;this.makeFace_(a,s,t.Lface)}return s},e.prototype.zapFace=function(t){var r=t.anEdge,i,s,n,a,o;s=r.Lnext;do i=s,s=i.Lnext,i.Lface=null,i.Rface===null&&(i.Onext===i?this.killVertex_(i.Org,null):(i.Org.anEdge=i.Onext,this.splice_(i,i.Oprev)),n=i.Sym,n.Onext===n?this.killVertex_(n.Org,null):(n.Org.anEdge=n.Onext,this.splice_(n,n.Oprev)),this.killEdge_(i));while(i!=r);a=t.prev,o=t.next,o.prev=a,a.next=o},e.prototype.countFaceVerts_=function(t){var r=t.anEdge,i=0;do i++,r=r.Lnext;while(r!==t.anEdge);return i},e.prototype.mergeConvexFaces=function(t){var r,i,s,n,a,o,l;for(r=this.fHead.next;r!==this.fHead;r=r.next)if(r.inside)for(i=r.anEdge,a=i.Org;s=i.Lnext,n=i.Sym,n&&n.Lface&&n.Lface.inside&&(o=this.countFaceVerts_(r),l=this.countFaceVerts_(n.Lface),o+l-2<=t&&$e.vertCCW(i.Lprev.Org,i.Org,n.Lnext.Lnext.Org)&&$e.vertCCW(n.Lprev.Org,n.Org,i.Lnext.Lnext.Org)&&(s=n.Lnext,this.delete(n),i=null,n=null)),!(i&&i.Lnext.Org===a);)i=s;return!0},e.prototype.check=function(){var t=this.fHead,r=this.vHead,i=this.eHead,s,n,a,o,l,c;for(n=t,n=t;(s=n.next)!==t;n=s){tt(s.prev===n),l=s.anEdge;do tt(l.Sym!==l),tt(l.Sym.Sym===l),tt(l.Lnext.Onext.Sym===l),tt(l.Onext.Sym.Lnext===l),tt(l.Lface===s),l=l.Lnext;while(l!==s.anEdge)}for(tt(s.prev===n&&s.anEdge===null),o=r,o=r;(a=o.next)!==r;o=a){tt(a.prev===o),l=a.anEdge;do tt(l.Sym!==l),tt(l.Sym.Sym===l),tt(l.Lnext.Onext.Sym===l),tt(l.Onext.Sym.Lnext===l),tt(l.Org===a),l=l.Onext;while(l!==a.anEdge)}for(tt(a.prev===o&&a.anEdge===null),c=i,c=i;(l=c.next)!==i;c=l)tt(l.Sym.next===c.Sym),tt(l.Sym!==l),tt(l.Sym.Sym===l),tt(l.Org!==null),tt(l.Dst!==null),tt(l.Lnext.Onext.Sym===l),tt(l.Onext.Sym.Lnext===l);tt(l.Sym.next===c.Sym&&l.Sym===this.eHeadSym&&l.Sym.Sym===l&&l.Org===null&&l.Dst===null&&l.Lface===null&&l.Rface===null)},e}(),XE=function(){function e(){this.handle=null}return e}(),QE=function(){function e(){this.key=null,this.node=0}return e}(),Z$=function(){function e(t,r){this.leq=r,this.max=0,this.nodes=[],this.handles=[],this.initialized=!1,this.freeList=0,this.size=0,this.max=t,this.nodes=[],this.handles=[];for(var i=0;i<t+1;i++)this.nodes[i]=new XE,this.handles[i]=new QE;this.initialized=!1,this.nodes[1].handle=1,this.handles[1].key=null}return e.prototype.floatDown_=function(t){var r=this.nodes,i=this.handles,s,n,a;for(s=r[t].handle;;){if(a=t<<1,a<this.size&&this.leq(i[r[a+1].handle].key,i[r[a].handle].key)&&++a,tt(a<=this.max),n=r[a].handle,a>this.size||this.leq(i[s].key,i[n].key)){r[t].handle=s,i[s].node=t;break}r[t].handle=n,i[n].node=t,t=a}},e.prototype.floatUp_=function(t){var r=this.nodes,i=this.handles,s,n,a;for(s=r[t].handle;;){if(a=t>>1,n=r[a].handle,a===0||this.leq(i[n].key,i[s].key)){r[t].handle=s,i[s].node=t;break}r[t].handle=n,i[n].node=t,t=a}},e.prototype.init=function(){for(var t=this.size;t>=1;--t)this.floatDown_(t);this.initialized=!0},e.prototype.min=function(){return this.handles[this.nodes[1].handle].key},e.prototype.insert=function(t){var r,i;if(r=++this.size,r*2>this.max){this.max*=2;var s,n;for(n=this.nodes.length,this.nodes.length=this.max+1,s=n;s<this.nodes.length;s++)this.nodes[s]=new XE;for(n=this.handles.length,this.handles.length=this.max+1,s=n;s<this.handles.length;s++)this.handles[s]=new QE}return this.freeList===0?i=r:(i=this.freeList,this.freeList=this.handles[i].node),this.nodes[r].handle=i,this.handles[i].node=r,this.handles[i].key=t,this.initialized&&this.floatUp_(r),i},e.prototype.extractMin=function(){var t=this.nodes,r=this.handles,i=t[1].handle,s=r[i].key;return this.size>0&&(t[1].handle=t[this.size].handle,r[t[1].handle].node=1,r[i].key=null,r[i].node=this.freeList,this.freeList=i,--this.size,this.size>0&&this.floatDown_(1)),s},e.prototype.delete=function(t){var r=this.nodes,i=this.handles,s;tt(t>=1&&t<=this.max&&i[t].key!==null),s=i[t].node,r[s].handle=r[this.size].handle,i[r[s].handle].node=s,--this.size,s<=this.size&&(s<=1||this.leq(i[r[s>>1].handle].key,i[r[s].handle].key)?this.floatDown_(s):this.floatUp_(s)),i[t].key=null,i[t].node=this.freeList,this.freeList=t},e}(),y0=function(){function e(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1}return e}(),ZE=function(){function e(){this.key=null,this.next=null,this.prev=null}return e}(),$$=function(){function e(t,r){this.frame=t,this.leq=r,this.head=new ZE,this.head.next=this.head,this.head.prev=this.head}return e.prototype.min=function(){return this.head.next},e.prototype.max=function(){return this.head.prev},e.prototype.insert=function(t){return this.insertBefore(this.head,t)},e.prototype.search=function(t){var r=this.head;do r=r.next;while(r.key!==null&&!this.leq(this.frame,t,r.key));return r},e.prototype.insertBefore=function(t,r){do t=t.prev;while(t.key!==null&&!this.leq(this.frame,t.key,r));var i=new ZE;return i.key=r,i.next=t.next,t.next.prev=i,i.prev=t,t.next=i,i},e.prototype.delete=function(t){t.next.prev=t.prev,t.prev.next=t.next},e}(),J$=function(){function e(){}return e.regionBelow=function(t){return t.nodeUp.prev.key},e.regionAbove=function(t){return t.nodeUp.next.key},e.debugEvent=function(t){},e.addWinding=function(t,r){t.winding+=r.winding,t.Sym.winding+=r.Sym.winding},e.edgeLeq=function(t,r,i){var s=t.event,n=r.eUp,a=i.eUp;if(n.Dst===s)return a.Dst===s?$e.vertLeq(n.Org,a.Org)?$e.edgeSign(a.Dst,n.Org,a.Org)<=0:$e.edgeSign(n.Dst,a.Org,n.Org)>=0:$e.edgeSign(a.Dst,s,a.Org)<=0;if(a.Dst===s)return $e.edgeSign(n.Dst,s,n.Org)>=0;var o=$e.edgeEval(n.Dst,s,n.Org),l=$e.edgeEval(a.Dst,s,a.Org);return o>=l},e.deleteRegion=function(t,r){r.fixUpperEdge&&tt(r.eUp.winding===0),r.eUp.activeRegion=null,t.dict.delete(r.nodeUp)},e.fixUpperEdge=function(t,r,i){tt(r.fixUpperEdge),t.mesh.delete(r.eUp),r.fixUpperEdge=!1,r.eUp=i,i.activeRegion=r},e.topLeftRegion=function(t,r){var i=r.eUp.Org,s;do r=e.regionAbove(r);while(r.eUp.Org===i);if(r.fixUpperEdge){if(s=t.mesh.connect(e.regionBelow(r).eUp.Sym,r.eUp.Lnext),s===null)return null;e.fixUpperEdge(t,r,s),r=e.regionAbove(r)}return r},e.topRightRegion=function(t){var r=t.eUp.Dst;do t=e.regionAbove(t);while(t.eUp.Dst===r);return t},e.addRegionBelow=function(t,r,i){var s=new y0;return s.eUp=i,s.nodeUp=t.dict.insertBefore(r.nodeUp,s),s.fixUpperEdge=!1,s.sentinel=!1,s.dirty=!1,i.activeRegion=s,s},e.isWindingInside=function(t,r){switch(t.windingRule){case er.ODD:return(r&1)!==0;case er.NONZERO:return r!==0;case er.POSITIVE:return r>0;case er.NEGATIVE:return r<0;case er.ABS_GEQ_TWO:return r>=2||r<=-2}throw new Error("Invalid winding rulle")},e.computeWinding=function(t,r){r.windingNumber=e.regionAbove(r).windingNumber+r.eUp.winding,r.inside=e.isWindingInside(t,r.windingNumber)},e.finishRegion=function(t,r){var i=r.eUp,s=i.Lface;s.inside=r.inside,s.anEdge=i,e.deleteRegion(t,r)},e.finishLeftRegions=function(t,r,i){for(var s,n=null,a=r,o=r.eUp;a!==i;){if(a.fixUpperEdge=!1,n=e.regionBelow(a),s=n.eUp,s.Org!=o.Org){if(!n.fixUpperEdge){e.finishRegion(t,a);break}s=t.mesh.connect(o.Lprev,s.Sym),e.fixUpperEdge(t,n,s)}o.Onext!==s&&(t.mesh.splice(s.Oprev,s),t.mesh.splice(o,s)),e.finishRegion(t,a),o=n.eUp,a=n}return o},e.addRightEdges=function(t,r,i,s,n,a){var o,l,c,h,u=!0;c=i;do tt($e.vertLeq(c.Org,c.Dst)),e.addRegionBelow(t,r,c.Sym),c=c.Onext;while(c!==s);for(n===null&&(n=e.regionBelow(r).eUp.Rprev),l=r,h=n;o=e.regionBelow(l),c=o.eUp.Sym,c.Org===h.Org;)c.Onext!==h&&(t.mesh.splice(c.Oprev,c),t.mesh.splice(h.Oprev,c)),o.windingNumber=l.windingNumber-c.winding,o.inside=e.isWindingInside(t,o.windingNumber),l.dirty=!0,!u&&e.checkForRightSplice(t,l)&&(e.addWinding(c,h),e.deleteRegion(t,l),t.mesh.delete(h)),u=!1,l=o,h=c;l.dirty=!0,tt(l.windingNumber-c.winding===o.windingNumber),a&&e.walkDirtyRegions(t,l)},e.spliceMergeVertices=function(t,r,i){t.mesh.splice(r,i)},e.vertexWeights=function(t,r,i){var s=$e.vertL1dist(r,t),n=$e.vertL1dist(i,t),a=.5*n/(s+n),o=.5*s/(s+n);t.coords[0]+=a*r.coords[0]+o*i.coords[0],t.coords[1]+=a*r.coords[1]+o*i.coords[1],t.coords[2]+=a*r.coords[2]+o*i.coords[2]},e.getIntersectData=function(t,r,i,s,n,a){r.coords[0]=r.coords[1]=r.coords[2]=0,r.idx=-1,e.vertexWeights(r,i,s),e.vertexWeights(r,n,a)},e.checkForRightSplice=function(t,r){var i=e.regionBelow(r),s=r.eUp,n=i.eUp;if($e.vertLeq(s.Org,n.Org)){if($e.edgeSign(n.Dst,s.Org,n.Org)>0)return!1;$e.vertEq(s.Org,n.Org)?s.Org!==n.Org&&(t.pq.delete(s.Org.pqHandle),e.spliceMergeVertices(t,n.Oprev,s)):(t.mesh.splitEdge(n.Sym),t.mesh.splice(s,n.Oprev),r.dirty=i.dirty=!0)}else{if($e.edgeSign(s.Dst,n.Org,s.Org)<0)return!1;e.regionAbove(r).dirty=r.dirty=!0,t.mesh.splitEdge(s.Sym),t.mesh.splice(n.Oprev,s)}return!0},e.checkForLeftSplice=function(t,r){var i=e.regionBelow(r),s=r.eUp,n=i.eUp,a;if(tt(!$e.vertEq(s.Dst,n.Dst)),$e.vertLeq(s.Dst,n.Dst)){if($e.edgeSign(s.Dst,n.Dst,s.Org)<0)return!1;e.regionAbove(r).dirty=r.dirty=!0,a=t.mesh.splitEdge(s),t.mesh.splice(n.Sym,a),a.Lface.inside=r.inside}else{if($e.edgeSign(n.Dst,s.Dst,n.Org)>0)return!1;r.dirty=i.dirty=!0,a=t.mesh.splitEdge(n),t.mesh.splice(s.Lnext,n.Sym),a.Rface.inside=r.inside}return!0},e.checkForIntersect=function(t,r){var i=e.regionBelow(r),s=r.eUp,n=i.eUp,a=s.Org,o=n.Org,l=s.Dst,c=n.Dst,h,u,d=new Rl,p,g;if(tt(!$e.vertEq(c,l)),tt($e.edgeSign(l,t.event,a)<=0),tt($e.edgeSign(c,t.event,o)>=0),tt(a!==t.event&&o!==t.event),tt(!r.fixUpperEdge&&!i.fixUpperEdge),a===o||(h=Math.min(a.t,l.t),u=Math.max(o.t,c.t),h>u))return!1;if($e.vertLeq(a,o)){if($e.edgeSign(c,a,o)>0)return!1}else if($e.edgeSign(l,o,a)<0)return!1;return e.debugEvent(t),$e.intersect(l,a,c,o,d),tt(Math.min(a.t,l.t)<=d.t),tt(d.t<=Math.max(o.t,c.t)),tt(Math.min(c.s,l.s)<=d.s),tt(d.s<=Math.max(o.s,a.s)),$e.vertLeq(d,t.event)&&(d.s=t.event.s,d.t=t.event.t),p=$e.vertLeq(a,o)?a:o,$e.vertLeq(p,d)&&(d.s=p.s,d.t=p.t),$e.vertEq(d,a)||$e.vertEq(d,o)?(e.checkForRightSplice(t,r),!1):!$e.vertEq(l,t.event)&&$e.edgeSign(l,t.event,d)>=0||!$e.vertEq(c,t.event)&&$e.edgeSign(c,t.event,d)<=0?c===t.event?(t.mesh.splitEdge(s.Sym),t.mesh.splice(n.Sym,s),r=e.topLeftRegion(t,r),s=e.regionBelow(r).eUp,e.finishLeftRegions(t,e.regionBelow(r),i),e.addRightEdges(t,r,s.Oprev,s,s,!0),!0):l===t.event?(t.mesh.splitEdge(n.Sym),t.mesh.splice(s.Lnext,n.Oprev),i=r,r=e.topRightRegion(r),g=e.regionBelow(r).eUp.Rprev,i.eUp=n.Oprev,n=e.finishLeftRegions(t,i,null),e.addRightEdges(t,r,n.Onext,s.Rprev,g,!0),!0):($e.edgeSign(l,t.event,d)>=0&&(e.regionAbove(r).dirty=r.dirty=!0,t.mesh.splitEdge(s.Sym),s.Org.s=t.event.s,s.Org.t=t.event.t),$e.edgeSign(c,t.event,d)<=0&&(r.dirty=i.dirty=!0,t.mesh.splitEdge(n.Sym),n.Org.s=t.event.s,n.Org.t=t.event.t),!1):(t.mesh.splitEdge(s.Sym),t.mesh.splitEdge(n.Sym),t.mesh.splice(n.Oprev,s),s.Org.s=d.s,s.Org.t=d.t,s.Org.pqHandle=t.pq.insert(s.Org),e.getIntersectData(t,s.Org,a,l,o,c),e.regionAbove(r).dirty=r.dirty=i.dirty=!0,!1)},e.walkDirtyRegions=function(t,r){for(var i=e.regionBelow(r),s,n;;){for(;i.dirty;)r=i,i=e.regionBelow(i);if(!r.dirty&&(i=r,r=e.regionAbove(r),r===null||!r.dirty))return;if(r.dirty=!1,s=r.eUp,n=i.eUp,s.Dst!==n.Dst&&e.checkForLeftSplice(t,r)&&(i.fixUpperEdge?(e.deleteRegion(t,i),t.mesh.delete(n),i=e.regionBelow(r),n=i.eUp):r.fixUpperEdge&&(e.deleteRegion(t,r),t.mesh.delete(s),r=e.regionAbove(i),s=r.eUp)),s.Org!==n.Org)if(s.Dst!==n.Dst&&!r.fixUpperEdge&&!i.fixUpperEdge&&(s.Dst===t.event||n.Dst===t.event)){if(e.checkForIntersect(t,r))return}else e.checkForRightSplice(t,r);s.Org===n.Org&&s.Dst===n.Dst&&(e.addWinding(n,s),e.deleteRegion(t,r),t.mesh.delete(s),r=e.regionAbove(i))}},e.connectRightVertex=function(t,r,i){var s,n=i.Onext,a=e.regionBelow(r),o=r.eUp,l=a.eUp,c=!1;if(o.Dst!==l.Dst&&e.checkForIntersect(t,r),$e.vertEq(o.Org,t.event)&&(t.mesh.splice(n.Oprev,o),r=e.topLeftRegion(t,r),n=e.regionBelow(r).eUp,e.finishLeftRegions(t,e.regionBelow(r),a),c=!0),$e.vertEq(l.Org,t.event)&&(t.mesh.splice(i,l.Oprev),i=e.finishLeftRegions(t,a,null),c=!0),c){e.addRightEdges(t,r,i.Onext,n,n,!0);return}$e.vertLeq(l.Org,o.Org)?s=l.Oprev:s=o,s=t.mesh.connect(i.Lprev,s),e.addRightEdges(t,r,s,s.Onext,s.Onext,!1),s.Sym.activeRegion.fixUpperEdge=!0,e.walkDirtyRegions(t,r)},e.connectLeftDegenerate=function(t,r,i){var s,n,a,o,l;if(s=r.eUp,$e.vertEq(s.Org,i)){tt(!1),e.spliceMergeVertices(t,s,i.anEdge);return}if(!$e.vertEq(s.Dst,i)){t.mesh.splitEdge(s.Sym),r.fixUpperEdge&&(t.mesh.delete(s.Onext),r.fixUpperEdge=!1),t.mesh.splice(i.anEdge,s),e.sweepEvent(t,i);return}tt(!1),r=e.topRightRegion(r),l=e.regionBelow(r),a=l.eUp.Sym,n=o=a.Onext,l.fixUpperEdge&&(tt(n!==a),e.deleteRegion(t,l),t.mesh.delete(a),a=n.Oprev),t.mesh.splice(i.anEdge,a),$e.edgeGoesLeft(n)||(n=null),e.addRightEdges(t,r,a.Onext,o,n,!0)},e.connectLeftVertex=function(t,r){var i,s,n,a,o,l,c=new y0;if(c.eUp=r.anEdge.Sym,i=t.dict.search(c).key,s=e.regionBelow(i),!!s){if(a=i.eUp,o=s.eUp,$e.edgeSign(a.Dst,r,a.Org)===0){e.connectLeftDegenerate(t,i,r);return}if(n=$e.vertLeq(o.Dst,a.Dst)?i:s,i.inside||n.fixUpperEdge){if(n===i)l=t.mesh.connect(r.anEdge.Sym,a.Lnext);else{var h=t.mesh.connect(o.Dnext,r.anEdge);l=h.Sym}n.fixUpperEdge?e.fixUpperEdge(t,n,l):e.computeWinding(t,e.addRegionBelow(t,i,l)),e.sweepEvent(t,r)}else e.addRightEdges(t,i,r.anEdge,r.anEdge,null,!0)}},e.sweepEvent=function(t,r){t.event=r,e.debugEvent(t);for(var i=r.anEdge;i.activeRegion===null;)if(i=i.Onext,i===r.anEdge){e.connectLeftVertex(t,r);return}var s=e.topLeftRegion(t,i.activeRegion);tt(s!==null);var n=e.regionBelow(s),a=n.eUp,o=e.finishLeftRegions(t,n,null);o.Onext===a?e.connectRightVertex(t,s,o):e.addRightEdges(t,s,o.Onext,a,a,!0)},e.addSentinel=function(t,r,i,s){var n=new y0,a=t.mesh.makeEdge();a.Org.s=i,a.Org.t=s,a.Dst.s=r,a.Dst.t=s,t.event=a.Dst,n.eUp=a,n.windingNumber=0,n.inside=!1,n.fixUpperEdge=!1,n.sentinel=!0,n.dirty=!1,n.nodeUp=t.dict.insert(n)},e.initEdgeDict=function(t){t.dict=new $$(t,e.edgeLeq);var r=t.bmax[0]-t.bmin[0],i=t.bmax[1]-t.bmin[1],s=t.bmin[0]-r,n=t.bmax[0]+r,a=t.bmin[1]-i,o=t.bmax[1]+i;e.addSentinel(t,s,n,a),e.addSentinel(t,s,n,o)},e.doneEdgeDict=function(t){for(var r,i=0;(r=t.dict.min().key)!==null;)r.sentinel||(tt(r.fixUpperEdge),tt(++i===1)),tt(r.windingNumber===0),e.deleteRegion(t,r)},e.removeDegenerateEdges=function(t){var r,i,s,n=t.mesh.eHead;for(r=n.next;r!==n;r=i)i=r.next,s=r.Lnext,$e.vertEq(r.Org,r.Dst)&&r.Lnext.Lnext!==r&&(e.spliceMergeVertices(t,s,r),t.mesh.delete(r),r=s,s=r.Lnext),s.Lnext===r&&(s!==r&&((s===i||s===i.Sym)&&(i=i.next),t.mesh.delete(s)),(r===i||r===i.Sym)&&(i=i.next),t.mesh.delete(r))},e.initPriorityQ=function(t){var r,i,s,n=0;for(s=t.mesh.vHead,i=s.next;i!==s;i=i.next)n++;for(n+=8,r=t.pq=new Z$(n,$e.vertLeq),s=t.mesh.vHead,i=s.next;i!==s;i=i.next)i.pqHandle=r.insert(i);return i!==s?!1:(r.init(),!0)},e.donePriorityQ=function(t){t.pq=null},e.removeDegenerateFaces=function(t,r){var i,s,n;for(i=r.fHead.next;i!==r.fHead;i=s)s=i.next,n=i.anEdge,tt(n.Lnext!==n),n.Lnext.Lnext===n&&(e.addWinding(n.Onext,n),t.mesh.delete(n));return!0},e.computeInterior=function(t,r){r===void 0&&(r=!0);var i,s;if(e.removeDegenerateEdges(t),!e.initPriorityQ(t))return!1;for(e.initEdgeDict(t);(i=t.pq.extractMin())!==null;){for(;s=t.pq.min(),!(s===null||!$e.vertEq(s,i));)s=t.pq.extractMin(),e.spliceMergeVertices(t,i.anEdge,s.anEdge);e.sweepEvent(t,i)}return t.event=t.dict.min().key.eUp.Org,e.debugEvent(t),e.doneEdgeDict(t),e.donePriorityQ(t),e.removeDegenerateFaces(t,t.mesh)?(r&&t.mesh.check(),!0):!1},e}(),K$=function(){function e(){this.mesh=new YE,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=er.ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}return e.prototype.dot_=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},e.prototype.normalize_=function(t){var r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];if(!r)throw"Zero-size vector!";r=Math.sqrt(r),t[0]/=r,t[1]/=r,t[2]/=r},e.prototype.longAxis_=function(t){var r=0;return Math.abs(t[1])>Math.abs(t[0])&&(r=1),Math.abs(t[2])>Math.abs(t[r])&&(r=2),r},e.prototype.computeNormal_=function(t){var r,i,s,n,a,o,l=[0,0,0],c=[0,0,0],h=[0,0,0],u=[0,0,0],d=[0,0,0],p=[null,null,null],g=[null,null,null],m=this.mesh.vHead;r=m.next;for(var f=0;f<3;++f)n=r.coords[f],c[f]=n,g[f]=r,l[f]=n,p[f]=r;for(r=m.next;r!==m;r=r.next)for(var v=0;v<3;++v)n=r.coords[v],n<c[v]&&(c[v]=n,g[v]=r),n>l[v]&&(l[v]=n,p[v]=r);var x=0;if(l[1]-c[1]>l[0]-c[0]&&(x=1),l[2]-c[2]>l[x]-c[x]&&(x=2),c[x]>=l[x]){t[0]=0,t[1]=0,t[2]=1;return}for(o=0,i=g[x],s=p[x],h[0]=i.coords[0]-s.coords[0],h[1]=i.coords[1]-s.coords[1],h[2]=i.coords[2]-s.coords[2],r=m.next;r!==m;r=r.next)u[0]=r.coords[0]-s.coords[0],u[1]=r.coords[1]-s.coords[1],u[2]=r.coords[2]-s.coords[2],d[0]=h[1]*u[2]-h[2]*u[1],d[1]=h[2]*u[0]-h[0]*u[2],d[2]=h[0]*u[1]-h[1]*u[0],a=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],a>o&&(o=a,t[0]=d[0],t[1]=d[1],t[2]=d[2]);o<=0&&(t[0]=t[1]=t[2]=0,t[this.longAxis_(h)]=1)},e.prototype.checkOrientation_=function(){for(var t=this.mesh.fHead,r,i=this.mesh.vHead,s,n=0,a=t.next;a!==t;a=a.next)if(s=a.anEdge,!(s.winding<=0))do n+=(s.Org.s-s.Dst.s)*(s.Org.t+s.Dst.t),s=s.Lnext;while(s!==a.anEdge);if(n<0){for(r=i.next;r!==i;r=r.next)r.t=-r.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},e.prototype.projectPolygon_=function(){var t=this.mesh.vHead,r=[0,0,0],i,s,n=!1;r[0]=this.normal[0],r[1]=this.normal[1],r[2]=this.normal[2],!r[0]&&!r[1]&&!r[2]&&(this.computeNormal_(r),n=!0),i=this.sUnit,s=this.tUnit;var a=this.longAxis_(r);i[a]=0,i[(a+1)%3]=1,i[(a+2)%3]=0,s[a]=0,s[(a+1)%3]=0,s[(a+2)%3]=r[a]>0?1:-1;for(var o=t.next;o!==t;o=o.next)o.s=this.dot_(o.coords,i),o.t=this.dot_(o.coords,s);n&&this.checkOrientation_();for(var l=!0,c=t.next;c!==t;c=c.next)l?(this.bmin[0]=this.bmax[0]=c.s,this.bmin[1]=this.bmax[1]=c.t,l=!1):(c.s<this.bmin[0]&&(this.bmin[0]=c.s),c.s>this.bmax[0]&&(this.bmax[0]=c.s),c.t<this.bmin[1]&&(this.bmin[1]=c.t),c.t>this.bmax[1]&&(this.bmax[1]=c.t))},e.prototype.addWinding_=function(t,r){t.winding+=r.winding,t.Sym.winding+=r.Sym.winding},e.prototype.tessellateMonoRegion_=function(t,r){var i,s;if(i=r.anEdge,!(i.Lnext!==i&&i.Lnext.Lnext!==i))throw"Mono region invalid";for(;$e.vertLeq(i.Dst,i.Org);i=i.Lprev);for(;$e.vertLeq(i.Org,i.Dst);i=i.Lnext);s=i.Lprev;for(var n=void 0;i.Lnext!==s;)if($e.vertLeq(i.Dst,s.Org)){for(;s.Lnext!==i&&($e.edgeGoesLeft(s.Lnext)||$e.edgeSign(s.Org,s.Dst,s.Lnext.Dst)<=0);)n=t.connect(s.Lnext,s),s=n.Sym;s=s.Lprev}else{for(;s.Lnext!==i&&($e.edgeGoesRight(i.Lprev)||$e.edgeSign(i.Dst,i.Org,i.Lprev.Org)>=0);)n=t.connect(i,i.Lprev),i=n.Sym;i=i.Lnext}if(s.Lnext===i)throw"Mono region invalid";for(;s.Lnext.Lnext!==i;)n=t.connect(s.Lnext,s),s=n.Sym;return!0},e.prototype.tessellateInterior_=function(t){for(var r,i=t.fHead.next;i!==t.fHead;i=r)if(r=i.next,i.inside&&!this.tessellateMonoRegion_(t,i))return!1;return!0},e.prototype.discardExterior_=function(t){for(var r,i=t.fHead.next;i!==t.fHead;i=r)r=i.next,i.inside||t.zapFace(i)},e.prototype.setWindingNumber_=function(t,r,i){for(var s,n=t.eHead.next;n!==t.eHead;n=s)s=n.next,n.Rface.inside!==n.Lface.inside?n.winding=n.Lface.inside?r:-r:i?t.delete(n):n.winding=0},e.prototype.getNeighbourFace_=function(t){return!t.Rface||!t.Rface.inside?-1:t.Rface.n},e.prototype.outputPolymesh_=function(t,r,i,s){var n,a=0,o=0,l;i>3&&t.mergeConvexFaces(i);for(var c=t.vHead.next;c!==t.vHead;c=c.next)c.n=-1;for(var h=t.fHead.next;h!==t.fHead;h=h.next)if(h.n=-1,!!h.inside){n=h.anEdge,l=0;do{var c=n.Org;c.n===-1&&(c.n=o,o++),l++,n=n.Lnext}while(n!==h.anEdge);if(l>i)throw"Face vertex greater that support polygon";h.n=a,++a}this.elementCount=a,r===Pr.CONNECTED_POLYGONS&&(a*=2),this.elements=[],this.elements.length=a*i,this.vertexCount=o,this.vertices=[],this.vertices.length=o*s,this.vertexIndices=[],this.vertexIndices.length=o;for(var c=t.vHead.next;c!==t.vHead;c=c.next)if(c.n!==-1){var u=c.n*s;this.vertices[u+0]=c.coords[0],this.vertices[u+1]=c.coords[1],s>2&&(this.vertices[u+2]=c.coords[2]),this.vertexIndices[c.n]=c.idx}for(var d=0,h=t.fHead.next;h!==t.fHead;h=h.next)if(h.inside){n=h.anEdge,l=0;do{var c=n.Org;this.elements[d++]=c.n,l++,n=n.Lnext}while(n!==h.anEdge);for(var p=l;p<i;++p)this.elements[d++]=-1;if(r===Pr.CONNECTED_POLYGONS){n=h.anEdge;do this.elements[d++]=this.getNeighbourFace_(n),n=n.Lnext;while(n!==h.anEdge);for(var g=l;g<i;++g)this.elements[d++]=-1}}},e.prototype.outputContours_=function(t,r){var i,s,n=0,a=0;this.vertexCount=0,this.elementCount=0;for(var o=t.fHead.next;o!==t.fHead;o=o.next)if(o.inside){s=i=o.anEdge;do this.vertexCount++,i=i.Lnext;while(i!==s);this.elementCount++}this.elements=[],this.elements.length=this.elementCount*2,this.vertices=[],this.vertices.length=this.vertexCount*r,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var l=0,c=0,h=0;n=0;for(var o=t.fHead.next;o!==t.fHead;o=o.next)if(o.inside){a=0,s=i=o.anEdge;do this.vertices[l++]=i.Org.coords[0],this.vertices[l++]=i.Org.coords[1],r>2&&(this.vertices[l++]=i.Org.coords[2]),this.vertexIndices[c++]=this.vertexIdCallback?this.vertexIdCallback(i):i.Org.idx,a++,i=i.Lnext;while(i!==s);this.elements[h++]=n,this.elements[h++]=a,n+=a}},e.prototype.addContour=function(t,r){this.mesh===null&&(this.mesh=new YE),t<2&&(t=2),t>3&&(t=3);for(var i=null,s=0;s<r.length;s+=t)i===null?(i=this.mesh.makeEdge(),this.mesh.splice(i,i.Sym)):(this.mesh.splitEdge(i),i=i.Lnext),i.Org.coords[0]=r[s+0],i.Org.coords[1]=r[s+1],t>2?i.Org.coords[2]=r[s+2]:i.Org.coords[2]=0,i.Org.idx=this.vertexIndexCounter++,this.edgeCreateCallback&&this.edgeCreateCallback(i),i.winding=1,i.Sym.winding=-1},e.prototype.tesselate=function(t,r,i,s,n,a){if(t===void 0&&(t=er.ODD),r===void 0&&(r=Pr.POLYGONS),a===void 0&&(a=!0),this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,n&&(this.normal[0]=n[0],this.normal[1]=n[1],this.normal[2]=n[2]),this.windingRule=t,s<2&&(s=2),s>3&&(s=3),!this.mesh)return!1;this.projectPolygon_(),J$.computeInterior(this,a);var o=this.mesh;return r===Pr.BOUNDARY_CONTOURS?this.setWindingNumber_(o,1,!0):this.tessellateInterior_(o),a&&o.check(),r===Pr.BOUNDARY_CONTOURS?this.outputContours_(o,s):this.outputPolymesh_(o,r,i,s),!0},e}();P_e=er.ODD,B_e=er.NONZERO,F_e=er.POSITIVE,O_e=er.NEGATIVE,I_e=er.ABS_GEQ_TWO,R_e=Pr.POLYGONS,N_e=Pr.CONNECTED_POLYGONS,U_e=Pr.BOUNDARY_CONTOURS,YT=class extends ft{constructor(e,t=12,r={}){super(),this.type="ShapeGeometry",this.windingRule=er.ODD,this.elementType=Pr.POLYGONS,this.polySize=3,this.vertexSize=2,this.strict=!0,this._shape=e,this._curveSegments=t,this._triangulationOptions=Object.assign({windingRule:er.ODD,elementType:Pr.POLYGONS,polySize:3,vertexSize:2,strict:!0},r);let i=this._shape.extractShapePointsToFlatArray([],this._curveSegments),s=this._shape.shapeHoles.map(d=>d.extractShapePointsToFlatArray([],this._curveSegments)),n,a=!0,o=!0,l,c;for(let d=0,p=i.length/2;d<p;d++){let g=d*2,m=i[g+0],f=i[g+1];if(l!==void 0&&m!==l&&(a=!1),c!==void 0&&f!==c&&(o=!1),l=m,c=f,!a&&!o)break}!a&&!o&&(n=Vu({contours:[i,...s],windingRule:this._triangulationOptions.windingRule,elementType:this._triangulationOptions.elementType,polySize:this._triangulationOptions.polySize,vertexSize:this._triangulationOptions.vertexSize,strict:this._triangulationOptions.strict}));let h=n?.vertexCount??1,u=n?.elementCount??1;if(this._positionAttribute=new wt(new Float32Array(h*3),3),this._normalAttribute=new wt(new Float32Array(h*3),3),this._uvAttribute=new wt(new Float32Array(h*2),2),this._indexAttribute=new wt(new Uint32Array(u*3),1),n){let d=1/0,p=-1/0,g=1/0,m=-1/0;for(let x=0,b=h;x<b;x++){let y=x*2,w=n.vertices[y+0],_=n.vertices[y+1];w<d&&(d=w),w>p&&(p=w),_<g&&(g=_),_>m&&(m=_)}let f=p-d,v=m-g;for(let x=0,b=h;x<b;x++){let y=x*2,w=n.vertices[y+0],_=n.vertices[y+1],D=(w-d)/f,S=(_-g)/v;this._positionAttribute.setXYZ(x,w,_,0),this._normalAttribute.setXYZ(x,0,0,1),this._uvAttribute.setXY(x,D,S)}for(let x=0,b=u;x<b;x++){let y=x*3,w=n.elements[y+0],_=n.elements[y+1],D=n.elements[y+2];this._indexAttribute.setX(y+0,w),this._indexAttribute.setX(y+1,_),this._indexAttribute.setX(y+2,D)}}this.setAttribute("position",this._positionAttribute),this.setAttribute("normal",this._normalAttribute),this.setAttribute("uv",this._uvAttribute),this.setIndex(this._indexAttribute),this.setDrawRange(0,(n?.elementCount??1)*3)}clone(){let e=new YT(this._shape,this._curveSegments);return e.userData=yT(this.userData),e}},Fy=class{constructor(e=256,t=!1){this.capacity=e,this.size=0,this.debug=t,this.debug&&console.log(`allocating with cap ${e}`);let r=e*Fy.eSize;this.buffer=new ArrayBuffer(r);let i=Float32Array.BYTES_PER_ELEMENT,s=0;this.positions=new Float32Array(this.buffer,s*i,3*e),s+=3*e,this.normals=new Float32Array(this.buffer,s*i,3*e),s+=3*e,this.uvs=new Float32Array(this.buffer,s*i,2*e)}realloc(e,t=!1){if(e<this.size)throw Error("cannot shrink buffer");if(e<=this.capacity&&!t)return;this.debug&&console.log(`resizing from ${this.capacity} \u2192 ${e}`);let r=e*Fy.eSize,i=new ArrayBuffer(r),s=Float32Array.BYTES_PER_ELEMENT,n=0,a=new Float32Array(i,n*s,3*e);n+=3*e;let o=new Float32Array(i,n*s,3*e);n+=3*e;let l=new Float32Array(i,n*s,2*e);a.set(this.positions.slice(0,this.size*3)),o.set(this.normals.slice(0,this.size*3)),l.set(this.uvs.slice(0,this.size*2)),this.buffer=i,this.positions=a,this.normals=o,this.uvs=l,this.capacity=e}get(e=1){let t=this.size+e;if(t>this.capacity){let i=this.capacity;for(;t>i;)i*=2;this.realloc(i)}let r=this.size;return this.size=t,r}reserve(e){let t=this.size+e;t>this.capacity&&this.realloc(t)}shrink(){this.debug&&console.log(`shrinking ${this.capacity} \u2192 ${this.size}`),this.realloc(this.size,!0)}},XT=Fy;XT.eSize=(3+3+2)*Float32Array.BYTES_PER_ELEMENT;x0=(e,t)=>([r,i])=>(i<r&&(i+=t),(e>=r?e:e+t)<=i),QT=class extends ft{constructor(e,t,r=0,i=12,s=3){super(),this.type="ShapeGeometry",this.vertexCache={},this._shape=e,this._depth=t,this._bevel=r,this._curveSegments=i,this._bevelSegmentsInput=s,r<=0?(this._bevelSize=0,this._bevelSegments=0):(this._bevelSize=Math.min(r,t/2-1e-12),this._bevelSegments=Math.floor(s));let n=this._shape.extractShapePointsToFlatArray([],i),a=this._shape.shapeHoles.map(w=>{let _=w.extractShapePointsToFlatArray([],i),D=[];for(let S=_.length-1;S>=1;S-=2){let A=_[S-1],E=_[S-0];D.push(A,E)}return D}),o=Vu({windingRule:er.ODD,elementType:Pr.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[n]}),l=Vu({windingRule:er.ODD,elementType:Pr.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...a]});if(!o)throw new Error("error generating geometry");let c=o.elementCount;if(l){o.elementCount+=l.elementCount;for(let w=0;w<l.elements.length;w++){let _=l.elements[w],D=w%2===0?o.vertexCount:0;o.elements.push(_+D)}for(let w=0;w<l.vertexIndices.length;w++){let _=l.vertexIndices[w],D=o.vertexCount;o.vertexIndices.push(_+D)}for(let w=0;w<l.vertices.length;w++){let _=l.vertices[w];o.vertices.push(_)}}let h=1/0,u=-1/0,d=1/0,p=-1/0;for(let w=0,_=o.vertexCount;w<_;w++){let D=w*2,S=o.vertices[D+0],A=o.vertices[D+1];S<h&&(h=S),S>u&&(u=S),A<d&&(d=A),A>p&&(p=A)}this._minX=h,this._minY=d,this._width=u-h,this._height=p-d;let g=o.vertexCount*2*(2+this._bevelSegments);this._buffer=new XT(g);let m=[],f=[];for(let w=o.elementCount-1;w>=0;w--){let _=w>=c,D=w*2,S=o.elements[D+0],A=o.elements[D+1],E=S+A,M={start:S,count:A,normals:[],continuous:[],concave:[]},I=S,V=E-1,P=S+1,Q=this._shape.roundedCurves.length;do{let z=I-S,j=o.vertices[V*2+0],Z=o.vertices[V*2+1],U=o.vertices[I*2+0],J=o.vertices[I*2+1],oe=o.vertices[P*2+0],he=o.vertices[P*2+1],q=U-j,Ee=J-Z,$=Math.sqrt(q*q+Ee*Ee);q/=$,Ee/=$;let fe=U-oe,te=J-he,Oe=Math.sqrt(fe*fe+te*te);fe/=Oe,te/=Oe,M.normals[z*2+0]=-te,M.normals[z*2+1]=fe,M.concave[z]=q*te-Ee*fe>0;let ge=o.vertexIndices[I];if(Array.isArray(ge))M.continuous[z]=!1;else{let[be,W]=this._shape.getCurveIndexFromVertexId(ge-1,!0);if(W>0&&W<1)M.continuous[z]=!0;else{let ne=W===1?be+1:be-1;ne=(ne+Q)%Q;let xe=W===1?0:1,ae=this._shape.roundedCurves[be].getTangent(W),_e=this._shape.roundedCurves[ne].getTangent(xe);M.continuous[z]=ae.dot(_e)>.95}}_&&(M.normals[z*2+0]*=-1,M.normals[z*2+1]*=-1),[V,I,P]=[I,P,P+1],P>=E&&(P-=A)}while(P!==S+1);let G=[];G.push({bevelI:0,angle:0,size:0,boundary:{vertices:o.vertices.slice(S*2,E*2),vertexCount:A,vertexIndices:new Array(A).fill(!0).map((z,j)=>[j,j]),elements:[0,A],elementCount:1,mesh:null},reverseMap:[],insetPoints:o.vertices.slice(S*2,E*2)});for(let z=1;z<=this._bevelSegments;z++){let j=z/this._bevelSegments*Math.PI/2,Z=(1-Math.cos(j))*this._bevelSize,U=[],J=[],oe=[],he=[],q=0;for(let $=0;$<A;$++){let fe=$*2,te=($-1+A)%A*2,Oe=o.vertices[M.start*2+fe+0],ge=o.vertices[M.start*2+fe+1],be=-M.normals[te+0]*Z,W=-M.normals[te+1]*Z,ne=-M.normals[fe+0]*Z,xe=-M.normals[fe+1]*Z;if(M.concave[$]||!M.concave[$]&&_){let ae=Math.atan2(W,be),_e=Math.atan2(xe,ne);_e>ae&&(_e-=Math.PI*2);let Ce=_e-ae;if(M.continuous[$]||_){let Ie=ae+Ce/2,Qe=Math.cos(Ie)*Z,B=Math.sin(Ie)*Z;U[2*q+0]=Oe+Qe*(_?-1:1),U[2*q+1]=ge+B*(_?-1:1),he[q]=$,q++}else{let Ie=Math.max(1,Math.floor(i/4*Math.abs(Ce)/Math.PI));for(let Qe=0;Qe<=Ie;Qe++){let B=ae+Ce*(Qe/Ie),k=Math.cos(B)*Z,ee=Math.sin(B)*Z;U[2*q+0]=Oe+k,U[2*q+1]=ge+ee,he[q]=$,q++}}}else U[2*q+0]=Oe+be,U[2*q+1]=ge+W,he[q]=$,J[$]=q,q++,U[2*q+0]=Oe,U[2*q+1]=ge,he[q]=$,q++,U[2*q+0]=Oe+ne,U[2*q+1]=ge+xe,he[q]=$,oe[$]=q,q++}let Ee=Vu({windingRule:er.POSITIVE,elementType:Pr.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[U],edgeCreateCallback:$=>{let fe=$.Org.idx,te=he[fe],Oe=he[(fe+1)%he.length];$.idx=[te,Oe],$.Sym.idx=[Oe,te]},vertexIdCallback:$=>{let fe=$.Lprev.idx;return[fe?fe[1]:0,$.idx[0]]}});if(!Ee)throw console.log("Error"),new Error(`error generating bevel geometry for ${z}'th loop`);if(!Ee.vertexCount)break;for(let $=0;$<Ee.vertexIndices.length;$++){let[fe,te]=Ee.vertexIndices[$];if(fe===te)continue;let Oe=te;te<fe&&(Oe+=A);for(let ge=fe;ge<Oe;ge++){let be=ge%A,W=(ge+1)%A;if(!M.continuous[be]||!M.continuous[W]){Ee.vertexIndices[$]=[fe,be],Ee.vertexIndices.splice($+1,0,[W,te]),Ee.vertices.splice(($+1)*2,0,Ee.vertices[$*2],Ee.vertices[$*2+1]);break}}}G.push({bevelI:z,angle:j,size:Z,boundary:Ee,reverseMap:he,insetPoints:U})}let X=(z,j,Z)=>{let U=0,J=z.boundary.vertexIndices.length;for(;U<J&&Z(z.boundary.vertexIndices[j]);)j=(j+1)%J,U++;return U},F=m.length;for(let z=1;z<G.length;z++){let j=G[z-1],Z=G[z],U=j.boundary.vertexIndices.length,J=Z.boundary.vertexIndices.length;if(!U||!J)break;let oe=M.concave.length,he=0,q=x0(he,A);for(;!j.boundary.vertexIndices.filter(q).length||!Z.boundary.vertexIndices.filter(q).length;)he++,q=x0(he,A);let Ee=j.boundary.vertexIndices.findIndex(q),$=Z.boundary.vertexIndices.findIndex(q);do Ee=(Ee+1)%U;while(q(j.boundary.vertexIndices[Ee]));do $=($+1)%J;while(q(Z.boundary.vertexIndices[$]));he=(he+1)%A;let fe=he,te=this.buildBevelVert(M,j,(Ee-1+U)%U),Oe=this.buildBevelVert(M,Z,($-1+J)%J),ge=te,be=Oe,W,ne,xe=!1;do{q=x0(he,A);let ae=X(j,Ee,q),_e=X(Z,$,q),Ce=xe;if(xe=!1,ae&&!_e){for(let Ie=0;Ie<ae;Ie++)W=this.buildBevelVert(M,j,(Ee+Ie)%U,Ie/(ae-1)),m.push(ge.topN,W.topP,be.topN),m.push(W.bottomP,ge.bottomN,be.bottomN),ge=W;xe=!0}else if(!ae&&_e)for(let Ie=0;Ie<_e;Ie++)ne=this.buildBevelVert(M,Z,($+Ie)%J,Ie/(_e-1)),m.push(be.topN,ge.topP,ne.topP),m.push(ge.bottomP,be.bottomN,ne.bottomP),be=ne;else if(ae&&_e)if(W=this.buildBevelVert(M,j,Ee,0),ne=this.buildBevelVert(M,Z,$,0),Ce?(m.push(ge.topN,ne.topP,be.topN),m.push(ge.topN,W.topP,ne.topP),m.push(ne.bottomP,ge.bottomN,be.bottomN),m.push(ne.bottomP,W.bottomP,ge.bottomN)):(m.push(be.topN,ge.topN,W.topP),m.push(be.topN,W.topP,ne.topP),m.push(W.bottomP,ge.bottomN,be.bottomN),m.push(W.bottomP,be.bottomN,ne.bottomP)),ge=W,be=ne,ae===_e)for(let Ie=1;Ie<ae;Ie++)W=this.buildBevelVert(M,j,(Ee+Ie)%U,Ie/(ae-1)),ne=this.buildBevelVert(M,Z,($+Ie)%J,Ie/(_e-1)),m.push(ge.topN,W.topP,be.topN),m.push(be.topN,W.topP,ne.topP),m.push(W.bottomP,ge.bottomN,be.bottomN),m.push(W.bottomP,be.bottomN,ne.bottomP),ge=W,be=ne;else if(ae>_e){let Ie=ae/_e,Qe=0;for(let B=1;B<ae;B++)W=this.buildBevelVert(M,j,(Ee+B)%U,B/(ae-1)),m.push(ge.topN,W.topP,be.topN),m.push(W.bottomP,ge.bottomN,be.bottomN),ge=W,B>(Qe+1)*Ie&&(Qe++,ne=this.buildBevelVert(M,Z,($+Qe)%J,Qe/(_e-1)),m.push(be.topN,W.topP,ne.topP),m.push(W.bottomP,be.bottomN,ne.bottomP),be=ne)}else{let Ie=_e/ae,Qe=0;for(let B=1;B<_e;B++)ne=this.buildBevelVert(M,Z,($+B)%J,B/(_e-1)),m.push(be.topN,W.topP,ne.topP),m.push(W.bottomP,be.bottomN,ne.bottomP),be=ne,B>(Qe+1)*Ie&&(Qe++,W=this.buildBevelVert(M,j,(Ee+Qe)%U,Qe/(ae-1)),m.push(ge.topN,W.topP,be.topN),m.push(W.bottomP,ge.bottomN,be.bottomN),ge=W)}Ee=(Ee+ae)%U,$=($+_e)%J,he=(he+1)%oe}while(he!==fe)}{let z=G[0];for(let j=0,Z=z.boundary.vertexCount;j<Z;j++){let U=this.buildBevelVert(M,z,j),J=this.buildBevelVert(M,z,(j+1)%Z);m.push(J.topP,U.topN,U.bottomN),m.push(J.topP,U.bottomN,J.bottomP)}}if(_){let z=[];for(let j=m.length-1;j>=F+2;j-=3){let Z=m[j-2],U=m[j-1],J=m[j-0];z.push(J,U,Z)}m.splice(F,m.length-F,...z)}if(_){let z=[];for(let j=G[G.length-1].boundary.vertices.length-1;j>=1;j-=2){let Z=G[G.length-1].boundary.vertices[j-1],U=G[G.length-1].boundary.vertices[j-0];z.push(Z,U)}f.push(z)}if(!_){let z=G[G.length-1],j=Vu({windingRule:G.length>1?er.POSITIVE:er.ODD,elementType:Pr.POLYGONS,vertexSize:2,strict:!0,contours:[z.insetPoints,...f]});if(!j)throw new Error("Error generating geometry for surface");a.length===0&&Object.assign(this,{capStartIndex:m.length});for(let Z=0;Z<j.elementCount*3;Z+=3){let U=this.buildSurfaceVert(j,j.elements[Z+0]),J=this.buildSurfaceVert(j,j.elements[Z+1]),oe=this.buildSurfaceVert(j,j.elements[Z+2]);m.push(U.top,J.top,oe.top),m.push(oe.bottom,J.bottom,U.bottom)}}this.vertexCache={}}this._buffer.shrink();let v=new wt(Uint32Array.from(m),1),x=new wt(this._buffer.positions,3),b=new wt(this._buffer.normals,3),y=new wt(this._buffer.uvs,2);x.needsUpdate=!0,b.needsUpdate=!0,y.needsUpdate=!0,v.needsUpdate=!0,this.setAttribute("position",x),this.setAttribute("normal",b),this.setAttribute("uv",y),this.setIndex(v)}buildSurfaceVert(e,t){let r=t.toString();if(r in this.vertexCache)return this.vertexCache[r];let i=e.vertices[t*2+0],s=e.vertices[t*2+1],n=(i-this._minX)/this._width,a=(s-this._minY)/this._height,o=this._buffer.get(2),l=o*3,c=o*2,h={top:o+0,bottom:o+1};return this._buffer.positions[l+0]=i,this._buffer.positions[l+1]=s,this._buffer.positions[l+2]=this._depth,this._buffer.normals[l+0]=0,this._buffer.normals[l+1]=0,this._buffer.normals[l+2]=1,this._buffer.uvs[c+0]=n,this._buffer.uvs[c+1]=a,this._buffer.positions[l+3]=i,this._buffer.positions[l+4]=s,this._buffer.positions[l+5]=0,this._buffer.normals[l+3]=0,this._buffer.normals[l+4]=0,this._buffer.normals[l+5]=-1,this._buffer.uvs[c+2]=n,this._buffer.uvs[c+3]=a,this.vertexCache[r]=h,h}buildBevelVert(e,t,r,i=1){let s=`${t.bevelI}:${r}`;if(s in this.vertexCache)return this.vertexCache[s];let[n,a]=t.boundary.vertexIndices[r],o,l,c,h;n!==a?(l=n,o=a,h=!1,c=e.continuous[l]&&e.continuous[o]):(o=n,l=(o-1+e.count)%e.count,h=e.concave[o]&&t.bevelI>0,c=e.continuous[o]||h);let u=Math.cos(t.angle),d=Math.sin(t.angle),p=r*2,g=o*2,m=l*2,f=t.boundary.vertices[p+0],v=t.boundary.vertices[p+1],x=(1-d)*this._bevelSize,b=(f-this._minX)/this._width,y=(v-this._minY)/this._height,w=e.normals[g+0],_=e.normals[g+1],D=e.normals[m+0],S=e.normals[m+1];if(h){let V=D-w,P=S-_;w=w+V*(1-i),_=_+P*(1-i);let Q=Math.sqrt(w*w+_*_);w/=Q,_/=Q}let A=this._buffer.get(c?2:4),E=A*3,M=A*2,I={i:r,fi:o,topP:A+0,topN:A+0,bottomP:A+1,bottomN:A+1};return this._buffer.positions[E+0]=f,this._buffer.positions[E+1]=v,this._buffer.positions[E+2]=this._depth-x,this._buffer.normals[E+0]=w*u,this._buffer.normals[E+1]=_*u,this._buffer.normals[E+2]=d,this._buffer.uvs[M+0]=b,this._buffer.uvs[M+1]=y,this._buffer.positions[E+3]=f,this._buffer.positions[E+4]=v,this._buffer.positions[E+5]=x,this._buffer.normals[E+3]=w*u,this._buffer.normals[E+4]=_*u,this._buffer.normals[E+5]=-d,this._buffer.uvs[M+2]=y,this._buffer.uvs[M+3]=b,c||(A+=2,E+=6,M+=4,I.topP=A+0,I.bottomP=A+1,this._buffer.positions[E+0]=f,this._buffer.positions[E+1]=v,this._buffer.positions[E+2]=this._depth-x,this._buffer.normals[E+0]=D*u,this._buffer.normals[E+1]=S*u,this._buffer.normals[E+2]=d,this._buffer.uvs[M+0]=b,this._buffer.uvs[M+1]=y,this._buffer.positions[E+3]=f,this._buffer.positions[E+4]=v,this._buffer.positions[E+5]=x,this._buffer.normals[E+3]=D*u,this._buffer.normals[E+4]=S*u,this._buffer.normals[E+5]=-d,this._buffer.uvs[M+2]=y,this._buffer.uvs[M+3]=b),this.vertexCache[s]=I,I}clone(){let e=new QT(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=yT(this.userData),e}},za=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,subdivisions:40,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters),i=Math.abs(r.width),s=Math.abs(r.height??r.width),n=Math.abs(r.depth??0),a=e.shape??t?.shape,o=a?.roundness??r.roundness;a!==void 0&&(a instanceof or?(a.width!==i||a.height!==s)&&a.applySize(i,s):a=new or(i,s).fromJSON(a),e.parameters?.roundness!==void 0&&e.parameters?.roundness>0&&a.update(!1));let l=a??new or(i,s);return{parameters:Object.assign(r,{width:i,height:s,depth:n,roundness:o}),shape:l}}static build(e){let{depth:t,extrudeBevelSize:r,extrudeBevelSegments:i,subdivisions:s,roundness:n}=e.parameters;e.shape.roundness=n;let a;return t<=0?a=new YT(e.shape,s):a=new QT(e.shape,t,r,s,i),Object.assign(a,{userData:{...e,type:"VectorGeometry"}})}},ZT=Math.PI*2,eJ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,depth:0,spikes:64,angle:360,innerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return{shape:e.shape&&e.shape instanceof or?e.shape:new or,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r,spikes:i,angle:s,innerRadius:n,depth:a,extrudeBevelSize:o,extrudeBevelSegments:l}=e.parameters,c=e.shape,h=t*.5,u=r*.5,d=tJ(c,h,u,s*Math.PI/180,i,n);c.isClosed=!0,c.update();let p=za.create({shape:c,parameters:{subdivisions:d,depth:a,extrudeBevelSize:o,extrudeBevelSegments:l}});return Object.assign(p,{userData:{...e,type:"EllipseGeometry"}})}};sJ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,revolutions:2,segments:40,pathRadius:10,pathType:0,pathSegments:30,cornerRadius:30,cornerSegments:4},e.parameters),i=Math.abs(r.width),s=Math.abs(r.height??i),n=Math.abs(r.depth??i),a=Math.abs(Math.min(i,n))/2;return{parameters:Object.assign(r,{width:i,height:s,depth:n,radius:a,segments:Math.round(r.segments),pathSegments:Math.round(r.pathSegments),cornerSegments:Math.round(r.cornerSegments)})}}static build(e){let{width:t,height:r,depth:i,radius:s,revolutions:n,segments:a,pathRadius:o,pathType:l,pathSegments:c,cornerRadius:h,cornerSegments:u}=e.parameters,d=new eM(!1,t,r,i,s,n,a,o,l,c,h,u);return Object.assign(d,{userData:{...e,type:"HelixGeometry"}})}},eM=class extends ft{constructor(e=!0,t=1,r=1,i=1,s=1,n=1,a=1,o=1,l=1,c=1,h=1,u=1){super();let d=e&&n===1;d&&(u=0),h>100&&(h=100);let p=()=>new C,g=new C,m=p(),f=p(),v=p(),x,b,y,w,_,D,S,A,E=p(),M=p(),I=p(),V=p(),P=p(),Q=p(),G=p(),X=p(),F=r-2*o+.001,z=F/n,j=Math.ceil(a*n),Z=j+1,U=F/j,J=-F/2,oe=c+1,he=2*Math.PI/c,q=Math.PI/2/u,Ee=.01,$=Math.min((1-h/100)*o,o-Ee),fe=o-$,te=0,Oe=2,ge=u*Oe+Oe,be=oe*ge/Oe,W=be+oe*Z,ne=oe*(Z+ge),[xe,ae,_e]=[3,3,2].map(Te=>Array(ne*Te).fill(0)),Ce=[],Ie=s-o;function Qe(Te,Be){let Y=Math.PI/2;D=Be*U,A=2*Math.PI*(D%z)/z+Y,D+=J,S=Math.sin(A)*Ie,_=Math.cos(A)*Ie,e?Te.set(_,S,D):Te.set(_,D,S)}Qe(g,-1e-10),Qe(m,0),E.copy(g),Qe(g,1);let B=g.distanceTo(m),k=fe+$,ee=B*j+2*k,ve=$,De=ee-k;for(let Te=0;Te<=j;Te++){Qe(f,Te),X.subVectors(f,E).normalize(),E.copy(f),Q.copy(f).setComponent(+e+1,0).normalize(),G.crossVectors(X,Q).normalize();let Be=Te===0,Y=Te===j,Le=Be?3*Math.PI/2:q,Fe=Be?ve:De,qe=Be?oe:W,He=Be?0:ne-oe,Ke=X.clone().multiplyScalar(Be?-fe:fe).add(f),ke=X.clone().multiplyScalar(Be?-1:1).normalize();for(let Ze=0;Ze<oe;Ze++){let ut=Ze*he;if(M.addVectors(g.copy(Q).multiplyScalar(o*Math.cos(ut)),m.copy(G).multiplyScalar(o*Math.sin(ut))),I.copy(M).normalize(),Be||Y){d||(te=He+Ze,[0,1,2].forEach(dt=>{xe[te*3+dt]=Ke.getComponent(dt),ae[te*3+dt]=ke.getComponent(dt)}),_e[te*2]=+Y,_e[te*2+1]=Ze/c),m.copy(I).multiplyScalar($),v.addVectors(f,m);for(let dt=0;dt<u;dt++){let Gt=dt*q+Le;V.addVectors(g.copy(X).multiplyScalar(fe*Math.sin(Gt)),m.copy(I).multiplyScalar(fe*Math.cos(Gt))),P.copy(V).normalize(),m.addVectors(v,V),V.normalize(),te=qe+dt*oe+Ze,[0,1,2].forEach(It=>{xe[te*3+It]=m.getComponent(It),ae[te*3+It]=P.getComponent(It)});let Ct=+Be+Math.sin(Gt);_e[te*2]=(Fe+fe*Ct)/ee,_e[te*2+1]=Ze/c}}m.addVectors(f,M),te=be+Te*oe+Ze,[0,1,2].forEach(dt=>{xe[te*3+dt]=m.getComponent(dt),ae[te*3+dt]=I.getComponent(dt)}),_e[te*2]=(k+Te*B)/ee,_e[te*2+1]=Ze/c}}let Pe=Z+2*u+Oe,Je=1,[de,ze]=d?[Je,Je+Z-1]:[0,Pe-1];for(let Te=de;Te<=ze-1;Te++){let Be=d&&Te===ze-1;for(let Y=0;Y<oe-1;Y++)x=Te*oe+Y,b=x+1,y=(Be?Y:x)+oe,w=(Be?Y+1:b)+oe,Te===0?Ce.push(b,w,y):Te===Pe-2?Ce.push(x,b,y):Ce.push(x,b,y,b,w,y)}this.setIndex(Ce),this.setAttribute("position",new Ve(xe,3)),this.setAttribute("normal",new Ve(ae,3)),this.setAttribute("uv",new Ve(_e,2))}},nJ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:i,detail:s,corner:n,cornerSides:a}=e.parameters,o=s===0&&n!==0?new tM(t*.5,n,a):new C3(t*.5,s);return o.scale(1,r/t,i/t),Object.assign(o,{userData:{...e,type:"IcosahedronGeometry"}})}},tM=class extends H1{constructor(e=1,t=.2,r=4){let i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],n=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a="IcosahedronGeometry";super(s,n,a,e,t,r),this.type=a}static fromJSON(e){return new tM(e.radius,e.corner,e.cornerSides)}},aJ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){(e.parameters?.points??[]).forEach(i=>{Array.isArray(i)&&(i.x=i[0],i.y=i[1])});let r=Object.assign({},t?.parameters??{width:100,segments:64,verticalSegments:64,points:[{x:0,y:-50,id:0},{x:50,y:-50,id:1},{x:50,y:50,id:2},{x:0,y:50,id:3}]},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{points:t,segments:r,verticalSegments:i}=e.parameters,s=new Mo;s.moveTo(t[0].x,t[0].y),s.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y);let n=new w3(s.extractPoints(i).shape,r);return n.rotateZ(Math.PI),Object.assign(n,{userData:{...e,type:"LatheGeometry"}})}},Vs=new Xe,b0=new Nt,Sp=new C,lf=class extends gn{constructor(){super(),this.uuid=Lt.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}applyMatrix4(e){let t=new zr().getNormalMatrix(e);for(let r=0,i=this.vertices.length;r<i;r++)this.vertices[r].applyMatrix4(e);for(let r=0,i=this.faces.length;r<i;r++){let s=this.faces[r];s.normal.applyMatrix3(t).normalize();for(let n=0,a=s.vertexNormals.length;n<a;n++)s.vertexNormals[n].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}rotateX(e){return Vs.makeRotationX(e),this.applyMatrix4(Vs),this}rotateY(e){return Vs.makeRotationY(e),this.applyMatrix4(Vs),this}rotateZ(e){return Vs.makeRotationZ(e),this.applyMatrix4(Vs),this}translate(e,t,r){return Vs.makeTranslation(e,t,r),this.applyMatrix4(Vs),this}scale(e,t,r){return Vs.makeScale(e,t,r),this.applyMatrix4(Vs),this}lookAt(e){return b0.lookAt(e),b0.updateMatrix(),this.applyMatrix4(b0.matrix),this}fromBufferGeometry(e){let t=this,r=e.index!==null?e.index:void 0,i=e.attributes;if(i.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;let s=i.position,n=i.normal,a=i.color,o=i.uv,l=i.uv2;l!==void 0&&(this.faceVertexUvs[1]=[]);for(let u=0;u<s.count;u++)t.vertices.push(new C().fromBufferAttribute(s,u)),a!==void 0&&t.colors.push(new lt().fromBufferAttribute(a,u));function c(u,d,p,g){let m=a===void 0?[]:[t.colors[u].clone(),t.colors[d].clone(),t.colors[p].clone()],f=n===void 0?[]:[new C().fromBufferAttribute(n,u),new C().fromBufferAttribute(n,d),new C().fromBufferAttribute(n,p)],v=new Oy(u,d,p,f,m,g);t.faces.push(v),o!==void 0&&t.faceVertexUvs[0].push([new se().fromBufferAttribute(o,u),new se().fromBufferAttribute(o,d),new se().fromBufferAttribute(o,p)]),l!==void 0&&t.faceVertexUvs[1].push([new se().fromBufferAttribute(l,u),new se().fromBufferAttribute(l,d),new se().fromBufferAttribute(l,p)])}let h=e.groups;if(h.length>0)for(let u=0;u<h.length;u++){let d=h[u],p=d.start,g=d.count;for(let m=p,f=p+g;m<f;m+=3)r!==void 0?c(r.getX(m),r.getX(m+1),r.getX(m+2),d.materialIndex):c(m,m+1,m+2,d.materialIndex)}else if(r!==void 0)for(let u=0;u<r.count;u+=3)c(r.getX(u),r.getX(u+1),r.getX(u+2));else for(let u=0;u<s.count;u+=3)c(u,u+1,u+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Sp).negate(),this.translate(Sp.x,Sp.y,Sp.z),this}normalize(){this.computeBoundingSphere();let e=this.boundingSphere.center,t=this.boundingSphere.radius,r=t===0?1:1/t,i=new Xe;return i.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix4(i),this}computeFaceNormals(){let e=new C,t=new C;for(let r=0,i=this.faces.length;r<i;r++){let s=this.faces[r],n=this.vertices[s.a],a=this.vertices[s.b],o=this.vertices[s.c];e.subVectors(o,a),t.subVectors(n,a),e.cross(t),e.normalize(),s.normal.copy(e)}}computeVertexNormals(e=!0){let t=new Array(this.vertices.length);for(let r=0,i=this.vertices.length;r<i;r++)t[r]=new C;if(e){let r=new C,i=new C;for(let s=0,n=this.faces.length;s<n;s++){let a=this.faces[s],o=this.vertices[a.a],l=this.vertices[a.b],c=this.vertices[a.c];r.subVectors(c,l),i.subVectors(o,l),r.cross(i),t[a.a].add(r),t[a.b].add(r),t[a.c].add(r)}}else{this.computeFaceNormals();for(let r=0,i=this.faces.length;r<i;r++){let s=this.faces[r];t[s.a].add(s.normal),t[s.b].add(s.normal),t[s.c].add(s.normal)}}for(let r=0,i=this.vertices.length;r<i;r++)t[r].normalize();for(let r=0,i=this.faces.length;r<i;r++){let s=this.faces[r],n=s.vertexNormals;n.length===3?(n[0].copy(t[s.a]),n[1].copy(t[s.b]),n[2].copy(t[s.c])):(n[0]=t[s.a].clone(),n[1]=t[s.b].clone(),n[2]=t[s.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeFlatVertexNormals(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){let r=this.faces[e],i=r.vertexNormals;i.length===3?(i[0].copy(r.normal),i[1].copy(r.normal),i[2].copy(r.normal)):(i[0]=r.normal.clone(),i[1]=r.normal.clone(),i[2]=r.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeMorphNormals(){for(let t=0,r=this.faces.length;t<r;t++){let i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let s=0,n=i.vertexNormals.length;s<n;s++)i.__originalVertexNormals[s]?i.__originalVertexNormals[s].copy(i.vertexNormals[s]):i.__originalVertexNormals[s]=i.vertexNormals[s].clone()}let e=new lf;e.faces=this.faces;for(let t=0,r=this.morphTargets.length;t<r;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];let s=this.morphNormals[t].faceNormals,n=this.morphNormals[t].vertexNormals;for(let a=0,o=this.faces.length;a<o;a++){let l=new C,c={a:new C,b:new C,c:new C};s.push(l),n.push(c)}}let i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let s=0,n=this.faces.length;s<n;s++){let a=this.faces[s],o=i.faceNormals[s],l=i.vertexNormals[s];o.copy(a.normal),l.a.copy(a.vertexNormals[0]),l.b.copy(a.vertexNormals[1]),l.c.copy(a.vertexNormals[2])}}for(let t=0,r=this.faces.length;t<r;t++){let i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new yr),this.boundingBox.setFromPoints(this.vertices)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ms),this.boundingSphere.setFromPoints(this.vertices)}merge(e,t,r=0){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let i,s=this.vertices.length,n=this.vertices,a=e.vertices,o=this.faces,l=e.faces,c=this.colors,h=e.colors;t!==void 0&&(i=new zr().getNormalMatrix(t));for(let u=0,d=a.length;u<d;u++){let p=a[u].clone();t!==void 0&&p.applyMatrix4(t),n.push(p)}for(let u=0,d=h.length;u<d;u++)c.push(h[u].clone());for(let u=0,d=l.length;u<d;u++){let p=l[u],g,m,f=p.vertexNormals,v=p.vertexColors,x=new Oy(p.a+s,p.b+s,p.c+s);x.normal.copy(p.normal),i!==void 0&&x.normal.applyMatrix3(i).normalize();for(let b=0,y=f.length;b<y;b++)g=f[b].clone(),i!==void 0&&g.applyMatrix3(i).normalize(),x.vertexNormals.push(g);x.color.copy(p.color);for(let b=0,y=v.length;b<y;b++)m=v[b],x.vertexColors.push(m.clone());x.materialIndex=p.materialIndex+r,o.push(x)}for(let u=0,d=e.faceVertexUvs.length;u<d;u++){let p=e.faceVertexUvs[u];this.faceVertexUvs[u]===void 0&&(this.faceVertexUvs[u]=[]);for(let g=0,m=p.length;g<m;g++){let f=p[g],v=[];for(let x=0,b=f.length;x<b;x++)v.push(f[x].clone());this.faceVertexUvs[u].push(v)}}}mergeMesh(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)}mergeVertices(e=4){let t={},r=[],i=[],s=Math.pow(10,e);for(let o=0,l=this.vertices.length;o<l;o++){let c=this.vertices[o],h=Math.round(c.x*s)+"_"+Math.round(c.y*s)+"_"+Math.round(c.z*s);t[h]===void 0?(t[h]=o,r.push(this.vertices[o]),i[o]=r.length-1):i[o]=i[t[h]]}let n=[];for(let o=0,l=this.faces.length;o<l;o++){let c=this.faces[o];c.a=i[c.a],c.b=i[c.b],c.c=i[c.c];let h=[c.a,c.b,c.c];for(let u=0;u<3;u++)if(h[u]===h[(u+1)%3]){n.push(o);break}}for(let o=n.length-1;o>=0;o--){let l=n[o];this.faces.splice(l,1);for(let c=0,h=this.faceVertexUvs.length;c<h;c++)this.faceVertexUvs[c].splice(l,1)}let a=this.vertices.length-r.length;return this.vertices=r,a}setFromPoints(e){this.vertices=[];for(let t=0,r=e.length;t<r;t++){let i=e[t];this.vertices.push(new C(i.x,i.y,i.z||0))}return this}sortFacesByMaterialIndex(){let e=this.faces,t=e.length;for(let o=0;o<t;o++)e[o]._id=o;function r(o,l){return o.materialIndex-l.materialIndex}e.sort(r);let i=this.faceVertexUvs[0],s=this.faceVertexUvs[1],n,a;i&&i.length===t&&(n=[]),s&&s.length===t&&(a=[]);for(let o=0;o<t;o++){let l=e[o]._id;n&&n.push(i[l]),a&&a.push(s[l])}n&&(this.faceVertexUvs[0]=n),a&&(this.faceVertexUvs[1]=a)}toJSON(){let e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){let p=this.parameters;for(let g in p)p[g]!==void 0&&(e[g]=p[g]);return e}let t=[];for(let p=0;p<this.vertices.length;p++){let g=this.vertices[p];t.push(g.x,g.y,g.z)}let r=[],i=[],s={},n=[],a={},o=[],l={};for(let p=0;p<this.faces.length;p++){let g=this.faces[p],m=!0,f=!1,v=this.faceVertexUvs[0][p]!==void 0,x=g.normal.length()>0,b=g.vertexNormals.length>0,y=g.color.r!==1||g.color.g!==1||g.color.b!==1,w=g.vertexColors.length>0,_=0;if(_=c(_,0,0),_=c(_,1,m),_=c(_,2,f),_=c(_,3,v),_=c(_,4,x),_=c(_,5,b),_=c(_,6,y),_=c(_,7,w),r.push(_),r.push(g.a,g.b,g.c),r.push(g.materialIndex),v){let D=this.faceVertexUvs[0][p];r.push(d(D[0]),d(D[1]),d(D[2]))}if(x&&r.push(h(g.normal)),b){let D=g.vertexNormals;r.push(h(D[0]),h(D[1]),h(D[2]))}if(y&&r.push(u(g.color)),w){let D=g.vertexColors;r.push(u(D[0]),u(D[1]),u(D[2]))}}function c(p,g,m){return m?p|1<<g:p&~(1<<g)}function h(p){let g=p.x.toString()+p.y.toString()+p.z.toString();return s[g]!==void 0||(s[g]=i.length/3,i.push(p.x,p.y,p.z)),s[g]}function u(p){let g=p.r.toString()+p.g.toString()+p.b.toString();return a[g]!==void 0||(a[g]=n.length,n.push(p.getHex())),a[g]}function d(p){let g=p.x.toString()+p.y.toString();return l[g]!==void 0||(l[g]=o.length/2,o.push(p.x,p.y)),l[g]}return e.data={},e.data.vertices=t,e.data.normals=i,n.length>0&&(e.data.colors=n),o.length>0&&(e.data.uvs=[o]),e.data.faces=r,e}clone(){return new lf().copy(this)}copy(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;let t=e.vertices;for(let u=0,d=t.length;u<d;u++)this.vertices.push(t[u].clone());let r=e.colors;for(let u=0,d=r.length;u<d;u++)this.colors.push(r[u].clone());let i=e.faces;for(let u=0,d=i.length;u<d;u++)this.faces.push(i[u].clone());for(let u=0,d=e.faceVertexUvs.length;u<d;u++){let p=e.faceVertexUvs[u];this.faceVertexUvs[u]===void 0&&(this.faceVertexUvs[u]=[]);for(let g=0,m=p.length;g<m;g++){let f=p[g],v=[];for(let x=0,b=f.length;x<b;x++){let y=f[x];v.push(y.clone())}this.faceVertexUvs[u].push(v)}}let s=e.morphTargets;for(let u=0,d=s.length;u<d;u++){let p={};if(p.name=s[u].name,s[u].vertices!==void 0){p.vertices=[];for(let g=0,m=s[u].vertices.length;g<m;g++)p.vertices.push(s[u].vertices[g].clone())}if(s[u].normals!==void 0){p.normals=[];for(let g=0,m=s[u].normals.length;g<m;g++)p.normals.push(s[u].normals[g].clone())}this.morphTargets.push(p)}let n=e.morphNormals;for(let u=0,d=n.length;u<d;u++){let p={};if(n[u].vertexNormals!==void 0){p.vertexNormals=[];for(let g=0,m=n[u].vertexNormals.length;g<m;g++){let f=n[u].vertexNormals[g],v={};v.a=f.a.clone(),v.b=f.b.clone(),v.c=f.c.clone(),p.vertexNormals.push(v)}}if(n[u].faceNormals!==void 0){p.faceNormals=[];for(let g=0,m=n[u].faceNormals.length;g<m;g++)p.faceNormals.push(n[u].faceNormals[g].clone())}this.morphNormals.push(p)}let a=e.skinWeights;for(let u=0,d=a.length;u<d;u++)this.skinWeights.push(a[u].clone());let o=e.skinIndices;for(let u=0,d=o.length;u<d;u++)this.skinIndices.push(o[u].clone());let l=e.lineDistances;for(let u=0,d=l.length;u<d;u++)this.lineDistances.push(l[u]);let c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());let h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}toBufferGeometry(){let e=new oJ().fromGeometry(this),t=new ft,r=new Float32Array(e.vertices.length*3);if(t.setAttribute("position",new wt(r,3).copyVector3sArray(e.vertices)),e.normals.length>0){let i=new Float32Array(e.normals.length*3);t.setAttribute("normal",new wt(i,3).copyVector3sArray(e.normals))}if(e.colors.length>0){let i=new Float32Array(e.colors.length*3);t.setAttribute("color",new wt(i,3).copyColorsArray(e.colors))}if(e.uvs.length>0){let i=new Float32Array(e.uvs.length*2);t.setAttribute("uv",new wt(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){let i=new Float32Array(e.uvs2.length*2);t.setAttribute("uv2",new wt(i,2).copyVector2sArray(e.uvs2))}t.groups=e.groups;for(let i in e.morphTargets){let s=[],n=e.morphTargets[i];for(let a=0,o=n.length;a<o;a++){let l=n[a],c=new Ve(l.data.length*3,3);c.name=l.name,s.push(c.copyVector3sArray(l.data))}t.morphAttributes[i]=s}if(e.skinIndices.length>0){let i=new Ve(e.skinIndices.length*4,4);t.setAttribute("skinIndex",i.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){let i=new Ve(e.skinWeights.length*4,4);t.setAttribute("skinWeight",i.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(t.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(t.boundingBox=e.boundingBox.clone()),t}computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")}computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}applyMatrix(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}dispose(){this.dispatchEvent({type:"dispose"})}static createBufferGeometryFromObject(e){let t=new ft,r=e.geometry;if(e.isPoints||e.isLine){let i=new Ve(r.vertices.length*3,3),s=new Ve(r.colors.length*3,3);if(t.setAttribute("position",i.copyVector3sArray(r.vertices)),t.setAttribute("color",s.copyColorsArray(r.colors)),r.lineDistances&&r.lineDistances.length===r.vertices.length){let n=new Ve(r.lineDistances.length,1);t.setAttribute("lineDistance",n.copyArray(r.lineDistances))}r.boundingSphere!==null&&(t.boundingSphere=r.boundingSphere.clone()),r.boundingBox!==null&&(t.boundingBox=r.boundingBox.clone())}else e.isMesh&&(t=r.toBufferGeometry());return t}};lf.prototype.isGeometry=!0;oJ=class{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){let t=[],r,i,s,n=e.faces;for(i=0;i<n.length;i++){let a=n[i];a.materialIndex!==s&&(s=a.materialIndex,r!==void 0&&(r.count=i*3-r.start,t.push(r)),r={start:i*3,materialIndex:s})}r!==void 0&&(r.count=i*3-r.start,t.push(r)),this.groups=t}fromGeometry(e){let t=e.faces,r=e.vertices,i=e.faceVertexUvs,s=i[0]&&i[0].length>0,n=i[1]&&i[1].length>0,a=e.morphTargets,o=a.length,l;if(o>0){l=[];for(let f=0;f<o;f++)l[f]={name:a[f].name,data:[]};this.morphTargets.position=l}let c=e.morphNormals,h=c.length,u;if(h>0){u=[];for(let f=0;f<h;f++)u[f]={name:c[f].name,data:[]};this.morphTargets.normal=u}let d=e.skinIndices,p=e.skinWeights,g=d.length===r.length,m=p.length===r.length;r.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let f=0;f<t.length;f++){let v=t[f];this.vertices.push(r[v.a],r[v.b],r[v.c]);let x=v.vertexNormals;if(x.length===3)this.normals.push(x[0],x[1],x[2]);else{let y=v.normal;this.normals.push(y,y,y)}let b=v.vertexColors;if(b.length===3)this.colors.push(b[0],b[1],b[2]);else{let y=v.color;this.colors.push(y,y,y)}if(s===!0){let y=i[0][f];y!==void 0?this.uvs.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",f),this.uvs.push(new se,new se,new se))}if(n===!0){let y=i[1][f];y!==void 0?this.uvs2.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",f),this.uvs2.push(new se,new se,new se))}for(let y=0;y<o;y++){let w=a[y].vertices;l[y].data.push(w[v.a],w[v.b],w[v.c])}for(let y=0;y<h;y++){let w=c[y].vertexNormals[f];u[y].data.push(w.a,w.b,w.c)}g&&this.skinIndices.push(d[v.a],d[v.b],d[v.c]),m&&this.skinWeights.push(p[v.a],p[v.b],p[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}},Oy=class{constructor(e,t,r,i,s,n=0){this.a=e,this.b=t,this.c=r,this.normal=i&&i.isVector3?i:new C,this.vertexNormals=Array.isArray(i)?i:[],this.color=s&&s.isColor?s:new lt,this.vertexColors=Array.isArray(s)?s:[],this.materialIndex=n}clone(){return new this.constructor().copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,r=e.vertexNormals.length;t<r;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,r=e.vertexColors.length;t<r;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}},lJ=["a","b","c"];dJ=class{constructor(e=1){this.subdivisions=e}modify(e){e instanceof ft?e=new lf().fromBufferGeometry(e):e=e.clone(),e.mergeVertices();let t=this.subdivisions;for(;t-- >0;)this._smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e}_smooth(e){let t=new C,r,i,s,n,a,o=e.vertices,l=e.faces,c=e.faceVertexUvs[0],h=c!==void 0&&c.length>0,u=[],d=new Map;uJ(o,l,u,d);let p=[],g,m,f,v,x,b,y;for(let Ee of Array.from(d.keys())){for(m=d.get(Ee),f=new C,x=3/8,b=1/8,y=m.faces.length,y!=2&&(x=.5,b=0,y!=1),f.addVectors(m.a,m.b).multiplyScalar(x),t.set(0,0,0),n=0;n<y;n++){for(v=m.faces[n],a=0;a<3&&(g=o[cJ(v,lJ[a])],!(g!==m.a&&g!==m.b));a++);g&&t.add(g)}t.multiplyScalar(b),f.add(t),m.newEdge=p.length,p.push(f)}let w,_,D,S,A,E,M,I=[];for(i=0,s=o.length;i<s;i++){for(E=o[i],A=u[i].edges,r=A.length,r==3?w=3/16:r>3&&(w=3/(8*r)),_=1-r*Number(w),D=w,r<=2&&(r==2?(_=3/4,D=1/8):r==1||r==0),M=E.clone().multiplyScalar(_),t.set(0,0,0),n=0;n<r;n++)S=A[n],g=S.a!==E?S.a:S.b,t.add(g);t.multiplyScalar(Number(D)),M.add(t),I.push(M)}let V=I.concat(p),P=I.length,Q,G,X,F=[],z=[],j,Z,U,J,oe=new se,he=new se,q=new se;for(i=0,s=l.length;i<s;i++)v=l[i],Q=Number(w0(v.a,v.b,d).newEdge)+P,G=Number(w0(v.b,v.c,d).newEdge)+P,X=Number(w0(v.c,v.a,d).newEdge)+P,Ap(F,Q,G,X,v.materialIndex),Ap(F,v.a,Q,X,v.materialIndex),Ap(F,v.b,G,Q,v.materialIndex),Ap(F,v.c,X,G,v.materialIndex),h&&(j=c[i],Z=j[0],U=j[1],J=j[2],oe.set(Ll(Z.x,U.x),Ll(Z.y,U.y)),he.set(Ll(U.x,J.x),Ll(U.y,J.y)),q.set(Ll(Z.x,J.x),Ll(Z.y,J.y)),Ep(z,oe,he,q),Ep(z,Z,oe,q),Ep(z,U,he,oe),Ep(z,J,q,he));e.vertices=V,e.faces=F,h&&(e.faceVertexUvs[0]=z)}},pr=new C,hJ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=e.geometry??t?.geometry??new ft().copy(new Ra(100,100,100)),i;t===void 0?(r.computeBoundingBox(),r.boundingBox.getSize(pr),i={width:pr.x,height:pr.y,depth:pr.z,subdivisions:0}):i=t.parameters;let s={...i,...e.parameters};return{parameters:{width:Math.abs(s.width),height:Math.abs(s.height),depth:Math.abs(s.depth),subdivisions:Math.abs(s.subdivisions)},geometry:r}}static build(e){let{width:t,height:r,depth:i,subdivisions:s}=e.parameters,n=e.geometry??new ft().copy(new Ra(100,100,100)),a=n.userData.parameters;a===void 0?(n.computeBoundingBox(),n.boundingBox.getSize(pr)):pr.set(a.width,a.height,a.depth),(t!==pr.x||r!==pr.y||i!==pr.z)&&n.scale(pr.x===0?1:t/pr.x,pr.y===0?1:r/pr.y,pr.z===0?1:i/pr.z);let o=n.originalGeometry;return s>0?(o===void 0||a?.subdivisions!==s)&&(o===void 0&&(o=n),n=new dJ(s).modify(o).toBufferGeometry()):(o!==void 0&&(n=o),o=void 0,n.getAttribute("normal")===void 0&&n.computeVertexNormals()),o!==void 0&&Object.assign(n,{originalGeometry:o}),delete e.geometry,Object.assign(n,{userData:{...e,type:"NonParametricGeometry"}})}static loadFromUrl(e,t,r){new k3(r).load(e,i=>{let s=this.normalizeInputs({geometry:i});i.boundingBox.getSize(pr);let n=100/pr.x;Object.assign(s.parameters,{width:100,height:pr.y*n,depth:pr.z*n}),t(this.build(s))})}},pJ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters);return{shape:e.shape&&e.shape instanceof or?e.shape:new or,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r,spikes:i,cornerRadius:s,depth:n,extrudeBevelSize:a,extrudeBevelSegments:o}=e.parameters,l=e.shape,c=t*.5,h=r*.5,u=0,d=0,p=2*Math.PI/i;for(let m=0;m<i;m++){let f=p*m,v=u+Math.sin(f)*c,x=d+Math.cos(f)*h;l.addPoint(l.createPoint(v,x))}l.isClosed=!0;for(let m=0,f=l.points.length;m<f;m++)l.points[m].roundness=s;l.roundness=s,l.update();let g=za.create({shape:l,parameters:{roundness:s,depth:n,extrudeBevelSize:a,extrudeBevelSegments:o}});return Object.assign(g,{userData:{...e,type:"PolygonGeometry"}})}},fJ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,radialSegments:4,heightSegments:1,cornerRadius:0,cornerSegments:8,openEnded:!1},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:i,radialSegments:s,heightSegments:n,openEnded:a,cornerRadius:o,cornerSegments:l}=e.parameters,c=new gJ(t*.5,r,s,n,a,o,l);return c.scale(1,1,i/t),Object.assign(c,{userData:{...e,type:"PyramidGeometry"}})}};gJ=class extends ft{constructor(e=.5,t=1,r=4,i=1,s=!1,n=0,a=4){super(),r=Math.floor(Math.max(3,r)),i=Math.floor(i),a=Math.floor(a);let o=[],l=[],c=[],h=[],u=0,d=t/2,p=Math.PI/r,g=e*Math.cos(Math.PI/r),m=2*Math.PI/r,f=(r-2)*Math.PI/r,v=Math.PI-f,x=new C(0,-d,0),b=new C(0,d,0),y=new se(e,-d),w=new se(g,-d),_=new se(0,b.y).sub(w),D=new se(0,b.y).sub(y),S=new se(_.y,-_.x).normalize(),A=new se(D.y,-D.x).normalize(),E=e*Math.cos(Math.PI/r)*Math.tan((Math.PI-_.angle())/2)-1e-8;n=Math.min(n,E);let M;{let F=new C(S.x,S.y,0),z=new C(Math.cos(m)*F.x,F.y,Math.sin(m)*F.x);M=F.angleTo(z)}let I=n/Math.tan((Math.PI-_.angle())/2),V=n/Math.tan((Math.PI-M)/2),P=new C;if(!s){l.push(x.x,x.y,x.z),c.push(0,-1,0),h.push(0,0);let F=u++,z=[],j=y.clone(),Z=I/Math.cos(Math.PI/r);j.x-=Z;for(let U=0;U<r;U++){let J=U/r*Math.PI*2+p,oe=new se(Math.sin(J),Math.cos(J));Bu(j,oe,P),l.push(P.x,P.y,P.z),c.push(0,-1,0),h.push(0,0),z.push(u++)}for(let U=0;U<z.length;U++)o.push(z[U],F,z[(U+1)%z.length])}let Q=[];{let F=new C,z=new C,j=new C,Z=new C,U=new C,J=new C;for(let oe=0;oe<r;oe++){let he=oe/r*Math.PI*2+p,q=(oe+.5)/r*Math.PI*2+p,Ee=(oe+1)/r*Math.PI*2+p,$=new se(Math.sin(he),Math.cos(he)),fe=new se(Math.sin(q),Math.cos(q)),te=new se(Math.sin(Ee),Math.cos(Ee));Bu(y,$,z),Bu(y,te,j),Bu(S,fe,F),D0(b,z,j,V,V,Z),l.push(Z.x,Z.y,Z.z),D0(z,b,j,V,I,U),l.push(U.x,U.y,U.z),D0(j,z,b,I,V,J),l.push(J.x,J.y,J.z),c.push(F.x,F.y,F.z),c.push(F.x,F.y,F.z),c.push(F.x,F.y,F.z),h.push(0,0),h.push(0,0),h.push(0,0);let Oe=u++,ge=u++,be=u++;if(o.push(Oe,ge,be),n>0){{let xe=z.clone().add(j).multiplyScalar(.5),ae=b.clone().sub(xe).normalize(),_e=x.clone().sub(xe).normalize().add(ae).normalize().multiplyScalar(-1),Ce=J.clone().sub(U);G(xe,Ce,_e,_.angle())}let W,ne;{let xe=new C;Bu(A,te,xe);let ae=J.clone().add(Z).multiplyScalar(.5);ae=mJ(ae,j,b);let _e=J.clone().sub(Z);[W,ne]=G(ae,_e,xe,M,Z.y)}{let xe=W,ae=xe.clone().setY(0).normalize(),_e=new C(0,-1,0),Ce=ae.clone().cross(_e);X(xe,ae,_e,Ce)}Q.concat(ne);{let xe=_.angle(),ae=Math.PI-xe,_e=b.clone();_e.y-=n/Math.sin(xe-Math.PI/2);let Ce=new C,Ie=[];for(let B=0;B<a;B++){let k=[],ee=Math.PI/2-ae*B/a,ve=Math.cos(ee),De=Math.sin(ee),Pe=q;for(let Je=0;Je<=B;Je++){let de=Math.cos(Pe),ze=Math.sin(Pe);F.x=ve*ze,F.y=De,F.z=ve*de,Ce.copy(_e).addScaledVector(F,n),l.push(Ce.x,Ce.y,Ce.z),c.push(F.x,F.y,F.z),h.push(0,0),k.push(u++),Pe+=Math.PI*2/B/r}Ie.push(k)}ne.reverse(),Ie.push(ne);let Qe=Ie.length-1;for(let B=0;B<Qe;B++){let k=Ie[B],ee=Ie[B+1],ve=k.length-1;o.push(ee[1],k[0],ee[0]);for(let De=1;De<=ve;De++)o.push(k[De],k[De-1],ee[De]),o.push(ee[De+1],k[De],ee[De])}}}}}this.setIndex(o),this.setAttribute("position",new Ve(l,3)),this.setAttribute("normal",new Ve(c,3)),this.setAttribute("uv",new Ve(h,2));function G(F,z,j,Z,U){let J=-Z/2,oe=(Math.PI-Z)/2,he=z.clone().normalize().cross(j);F.addScaledVector(j,-n/Math.sin(oe));let q=new C,Ee=new C,$=1,fe=u,te=[];for(let Oe=0;Oe<=a;Oe++){let ge=J+Oe/a*Z;Ee.set(0,0,0),Ee.addScaledVector(he,Math.sin(ge)),Ee.addScaledVector(j,Math.cos(ge));for(let be=0;be<=$;be++){let W=be/$-.5;if(q.copy(F),q.addScaledVector(z,W),q.addScaledVector(Ee,n),U!=null){let ne=Math.max(0,q.y-U);q.addScaledVector(z,-ne/z.y)}l.push(q.x,q.y,q.z),c.push(Ee.x,Ee.y,Ee.z),h.push(0,0),be===0&&te.push(u),u++}}for(let Oe=0;Oe<a;Oe++)for(let ge=0;ge<$;ge++){let be=fe+ge+($+1)*Oe,W=be+($+1),ne=W+1,xe=be+1;o.push(be,W,xe),o.push(W,ne,xe)}return[F.clone().addScaledVector(z,.5),te]}function X(F,z,j,Z){let U=Math.PI/2,J=D.angle()-U,oe=[],he=new C,q=new C;for(let $=0;$<=a;$++){let fe=[],te=$/a;for(let Oe=0;Oe<=$;Oe++){let ge=(($?Oe/$:0)-.5)*v,be=Math.cos(ge),W=Math.sin(ge),ne=Math.atan(Math.tan(J)*be),xe=(U+ne)*te,ae=Math.cos(xe),_e=Math.sin(xe);he.set(0,0,0),he.addScaledVector(z,_e*be),he.addScaledVector(j,ae),he.addScaledVector(Z,_e*W),q.copy(F).addScaledVector(he,n),l.push(q.x,q.y,q.z),c.push(he.x,he.y,he.z),h.push(0,0),fe.push(u++)}oe.push(fe)}let Ee=oe.length-1;for(let $=0;$<Ee;$++){let fe=oe[$],te=oe[$+1],Oe=fe.length-1;o.push(fe[0],te[1],te[0]);for(let ge=1;ge<=Oe;ge++)o.push(fe[ge-1],fe[ge],te[ge]),o.push(fe[ge],te[ge+1],te[ge])}}}},vJ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,depth:0,cornerRadius:[0,0,0,0],cornerType:1,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters),i=Object.assign(t?.ui??{enabledIndieCorners:!1},e.ui);return{shape:e.shape&&e.shape instanceof or?e.shape:new or,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)}),ui:i}}static build(e){let t=e.shape,{width:r,height:i,cornerRadius:s,cornerType:n,depth:a,extrudeBevelSize:o,extrudeBevelSegments:l}=e.parameters,c={x:r*.5,y:i*.5},h={x:-c.x,y:-c.y},u={x:c.x,y:c.y};function d(y,w,_){return w>r&&_>i?Math.min(y*r/w,y*i/_):w>r?y*r/w:_>i?y*i/_:y}let p=[];p[0]=s[0]===0?0:d(s[0],s[0]+s[3],s[0]+s[1]),p[1]=s[1]===0?0:d(s[1],s[1]+s[2],s[1]+s[0]),p[2]=s[2]===0?0:d(s[2],s[2]+s[1],s[2]+s[3]),p[3]=s[3]===0?0:d(s[3],s[3]+s[0],s[3]+s[2]);let g=h.x,m=u.x,f=u.y,v=h.y;t.addPoint(t.createPoint(g,f)),t.addPoint(t.createPoint(m,f)),t.addPoint(t.createPoint(m,v)),t.addPoint(t.createPoint(g,v)),t.isClosed=!0;let x=!0;for(let y=0,w=t.points.length;y<w;y++)t.points[y].roundness=p[y],y>0&&p[y]!==p[y-1]&&(x=!1);x&&(t.roundness=p[0]),t.useCubicForRoundedCorners=n!==1,t.update();let b=za.create({shape:t,parameters:{depth:a,extrudeBevelSize:o,extrudeBevelSegments:l}});return Object.assign(b,{userData:{...e,type:"RectangleGeometry"}})}},yJ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t=100,height:r=t,depth:i=t,widthSegments:s=64,heightSegments:n=64,phiStart:a,phiLength:o,thetaStart:l,thetaLength:c}=e.parameters,h=new d1(.5*t,s,n,a,o,l,c);return h.scale(1,r/t,i/t),Object.assign(h,{userData:{...e,type:"SphereGeometry"}})}},xJ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,depth:0,widthSegments:8,heightSegments:8},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:0})}}static build(e){let{width:t=100,height:r=t,widthSegments:i=8,heightSegments:s=8}=e.parameters,n=new gf(t,r,i,s);return n.scale(1,1,1),Object.assign(n,{userData:{...e,type:"PlaneGeometry"}})}},bJ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,angle:90,cornerRadius:24,cornerSegments:8},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:i,angle:s,cornerRadius:n,cornerSegments:a}=e.parameters,o=new wJ(t,r,i,s,n,a);return Object.assign(o,{userData:{...e,type:"BackdropGeometry"}})}},wJ=class extends ft{constructor(e=1,t=1,r=1,i=90,s=10,n=24){super(),this.type="BackdropGeometry";let a=[],o=[],l=[],c=.001;s==0&&(n=1),n=Math.max(1,Math.floor(n)),s=Math.min(s,100),i=Math.min(180-c,i),i*=Math.PI/180;let h=[],u=Math.PI/2,d=(Ee=0,$=0,fe=0)=>new C(Ee,$,fe),p=d(),g=d(),[m,f,v]=[t/2,e/2,r/2],x=-f,b=+f,[y,w,_]=[d(x,-m,+v),d(x,-m,-v),d(x,+m,-v)],D=(Ee,$=!1)=>Math.sin(Ee-Math.PI/(1+ +$)),S=(Ee,$=!1)=>Math.cos(Ee-Math.PI/(1+ +$));_.y=Math.sin(i)*t-m;let A=Math.cos(i)*t-v,E=y.z-c;i<=u?(_.z=Math.min(A,E),_.z==E&&(_.y-=(A-E)/Math.tan(u-i))):w.z=Math.min(w.z-A-v,y.z-c),p.subVectors(y,w),g.subVectors(_,w);let M=Math.min(p.length(),g.length())*s/100,I=M*Math.tan(i/2),V=M/Math.cos(i/2),P=p.clone().normalize().add(g.normalize()).setLength(V).add(w);p.set(0,D(i,!0),S(i,!0)),h.push([_,p.clone()]);let Q=(Math.PI-i)/n;for(let Ee=0;Ee<=n;Ee++){let $=u+i+Ee*Q;p.set(0,Math.sin($)*I,Math.cos($)*I),p.add(P),g.set(0,D($),S($)),h.push([p.clone(),g.clone()])}h.push([y,d(0,1,0)]);let G=Math.sin(Q/2)*I*2,X=h.length-1,F=h[0][0].distanceTo(h[1][0]),z=h[X-1][0].distanceTo(h[X][0]),j=F+G*n+z;h[0].push(1);for(let Ee=0;Ee<=n;Ee++)h[Ee+1].push(1-(F+Ee*G)/j);h[X].push(0);let[Z,U,J]=h[0],oe,he,q;for(let Ee=1;Ee<h.length;Ee++)[oe,he,q]=h[Ee],a.push(x,Z.y,Z.z,x,oe.y,oe.z,b,Z.y,Z.z,b,Z.y,Z.z,x,oe.y,oe.z,b,oe.y,oe.z),o.push(0,U.y,U.z,0,he.y,he.z,0,U.y,U.z,0,U.y,U.z,0,he.y,he.z,0,he.y,he.z),l.push(0,J,0,q,1,J,1,J,0,q,1,q),[Z,U,J]=[oe,he,q];this.setAttribute("position",new Ve(a,3)),this.setAttribute("normal",new Ve(o,3)),this.setAttribute("uv",new Ve(l,2))}},_J=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,depth:0,innerRadiusPercent:38.19,spikes:5,cornerRadius:0,angle:360,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return{shape:e.shape&&e.shape instanceof or?e.shape:new or,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r,innerRadiusPercent:i,spikes:s,cornerRadius:n,angle:a,depth:o,extrudeBevelSize:l,extrudeBevelSegments:c}=e.parameters,h=e.shape,u=t*.5,d=r*.5,p=0,g=0,m=a*Math.PI/360/s,f=Math.PI/2*3*-1,v=u*i/100,x=d*i/100;if(s===3&&i===50){m=2*Math.PI/s;for(let y=0;y<s;y++){let w=m*y,_=p+Math.sin(w)*u,D=g+Math.cos(w)*d;h.addPoint(h.createPoint(_,D))}}else for(let y=0;y<s;y++){let w=p+Math.cos(f)*u,_=g+Math.sin(f)*d;h.addPoint(h.createPoint(w,_)),f+=m,w=p+Math.cos(f)*v,_=g+Math.sin(f)*x,y<=s,h.addPoint(h.createPoint(w,_)),f+=m}h.isClosed=!0;for(let y=0,w=h.points.length;y<w;y++)h.points[y].roundness=n;h.roundness=n,h.update();let b=za.create({shape:h,parameters:{roundness:n,depth:o,extrudeBevelSize:l,extrudeBevelSegments:c}});return Object.assign(b,{userData:{...e,type:"StarGeometry"}})}},rM=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,depth:0},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r}=e.parameters,i=new gf(t,r);return Object.assign(i,{userData:{...e,type:"TextFrameGeometry"}})}},DJ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,radialSegments:32,tubularSegments:64,arc:Math.PI*2,cornerRadius:30,cornerSegments:8},e.parameters),i=Math.abs(r.width),s=Math.abs(r.height??r.width),n=Math.abs(r.depth??r.width*.25);return{parameters:Object.assign(r,{width:i,height:s,depth:n})}}static build(e){let{width:t,height:r,depth:i,radialSegments:s,tubularSegments:n,arc:a,cornerRadius:o,cornerSegments:l}=e.parameters,c=SJ(t,r,i,t*.5,a,n,0,0,s,o,l);return c.scale(1,r/t,1),Object.assign(c,{userData:{...e,type:"TorusGeometry"}})}};AJ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,tubularSegments:64,radialSegments:32,p:2,q:3},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width),tube:r.tube??r.width*.125})}}static build(e){let{width:t,tube:r,tubularSegments:i,radialSegments:s,p:n,q:a}=e.parameters,o=t*.5;o!==r&&(o-=r);let l=new M3(o,r,i,s,n,a);return Object.assign(l,{userData:{...e,type:"TorusKnotGeometry"}})}},EJ=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},t?.parameters??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1,isRect:!1},e.parameters);return{shape:e.shape&&e.shape instanceof or?e.shape:new or,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width*(r.isRect?1:Math.sqrt(3)/2)),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t=100,height:r,cornerRadius:i,depth:s,extrudeBevelSize:n,extrudeBevelSegments:a,isRect:o}=e.parameters,l=e.shape,c=t*.5,h=r*.5;o?(l.addPoint(l.createPoint(-c,h)),l.addPoint(l.createPoint(c,-h)),l.addPoint(l.createPoint(-c,-h))):(l.addPoint(l.createPoint(0,h)),l.addPoint(l.createPoint(c,-h)),l.addPoint(l.createPoint(-c,-h))),l.isClosed=!0;for(let d=0,p=l.points.length;d<p;d++)l.points[d].roundness=i;l.roundness=i,l.update();let u=za.create({shape:l,parameters:{roundness:i,depth:s,extrudeBevelSize:n,extrudeBevelSegments:a}});return Object.assign(u,{userData:{...e,type:"TriangleGeometry"}})}},iM=new Promise(e=>{CJ=e});JE=e=>"isEntity"in e,pd=e=>"isAbstractMesh"in e,Ro=e=>e!==null&&e.objectType==="BooleanObject",sM=e=>"objectHelper"in e;nM=e=>class extends e{hasEntityChild(){return this.children.some(t=>JE(t))}isDescendantOf(t){t instanceof Nt&&(t=t.uuid);let r=this;for(;r.parent;){if(r.parent.uuid===t)return!0;r=r.parent}return!1}attach(t,r){this.updateWorldMatrix(!0,!1);let i=new Xe().copy(this.matrixWorld).invert();return t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),i.multiply(t.parent.matrixWorld)),JE(t)?t.hiddenMatrix.premultiply(i):t.applyMatrix4(i),t.updateWorldMatrix(!1,!1),this.add(t),r!==void 0&&(this.children.pop(),this.children.splice(r,0,t)),this}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),r===!0)for(let i=0;i<t.children.length;i++){let s=t.children[i];this.add(s.clone())}return this}},kl=new yr,qs=new C,Ys=new C,Ql=new Xe,aM=[new C(-1,1,1),new C(-1,-1,1),new C(1,-1,1),new C(1,1,1),new C(-1,1,-1),new C(-1,-1,-1),new C(1,-1,-1),new C(1,1,-1)],PJ=[[0,3],[1,2],[5,6],[4,7],[0,1],[3,2],[7,6],[4,5],[0,4],[1,5],[2,6],[3,7]],BJ=[[0,2],[7,5],[4,1],[3,6],[4,3],[1,6]];KE=(e,t,r)=>{if(pd(e)){let i=e.geometry.userData.parameters,s=e.geometry.getAttribute("position");e.geometry.userData.type==="SubdivGeometry"?qs.copy(e.originalGeometry.boundingSphere.center):s!==void 0&&(FJ(kl,s,e.geometry.drawRange.start,e.geometry.drawRange.count<1/0?e.geometry.drawRange.count:s.count),kl.getCenter(qs)),e.forceComputeSize?kl.getSize(Ys).multiplyScalar(.5):Ys.set(i.width,i.height,i.depth??0).multiplyScalar(.5)}else if(sM(e)&&e.objectHelper.visible){let i=e.geometryHelper.getAttribute("position");kl.setFromArray(i.array),kl.getCenter(qs),kl.getSize(Ys).multiplyScalar(.5)}else qs.setScalar(0),Ys.setScalar(0);Ql.copy(t).multiply(e.matrixWorld),Ys.x===0&&Ys.y===0&&Ys.z===0?r.push(new C(qs.x,qs.y,qs.z).applyMatrix4(Ql)):aM.forEach(i=>{r.push(i.clone().multiply(Ys).add(qs).applyMatrix4(Ql))})},eC=class extends yr{constructor(){super(...arguments),this.matrix=new Xe,this.vertices=[],this.faces=[],this.edges=[],this.centerEdges=[]}copy(e){return super.copy(e),this.matrix.copy(e.matrix),this.vertices=e.vertices.map(t=>t.clone()),this.faces=e.faces.map(t=>t.clone()),this.edges=e.edges.map(t=>t.clone()),this.centerEdges=e.centerEdges.map(t=>t.clone()),this}setFromObjectSize(e,t=!1){e.updateWorldMatrix(!1,t),this.makeEmpty(),this.matrix.copy(e.matrixWorld);let r=new Xe().copy(e.matrixWorld).invert();return this.expandByObjectSize(e,r,t)}expandByObjectSize(e,t,r=!1){let i=[];return r===!0?e.traverseEntity(s=>{s.visible&&KE(s,t,i)}):KE(e,t,i),this.setFromPoints(i)}getCenter(e){return e=super.getCenter(e),e.applyMatrix4(this.matrix),e}getPositionToCenter(e){return e=super.getCenter(e),e.applyMatrix4(Ql.copy(this.matrix).setPosition(0,0,0)),e}computeVertices(){this.getSize(Ys).multiplyScalar(.5),this.getCenter(qs),Ql.copy(this.matrix).setPosition(qs),this.vertices=aM.map(e=>e.clone().multiply(Ys).applyMatrix4(Ql))}computeEdges(){this.vertices.length>0&&this.computeVertices(),this.edges=PJ.map(([e,t])=>new Ji(this.vertices[e],this.vertices[t])),this.centerEdges=this.edges.map(e=>e.getCenter(new C))}computeFaces(){this.vertices.length>0&&this.computeVertices(),this.faces=BJ.map(([e,t])=>this.vertices[e].clone().add(this.vertices[t]).multiplyScalar(.5))}},Nn=e=>"isEntity"in e,OJ=e=>"isAbstractMesh"in e,yc=e=>class extends nM(e){constructor(){super(...arguments),this.objectType="",this.isEntity=!0,this.raycastLock=!1,this.scaleLock=!1,this.hiddenMatrix=new Xe,this._singleBBox=new eC,this._recursiveBBox=new eC,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this.forceComputeSize=!1}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges(),this._singleBBox.computeFaces()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges(),this._recursiveBBox.computeFaces()),this._recursiveBBox}resetBBoxNeedsUpdate(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this.traverseAncestors(t=>{Nn(t)&&(t.singleBBoxNeedsUpdate=!0,t.recursiveBBoxNeedsUpdate=!0)}),this.traverseEntity(t=>{t.singleBBoxNeedsUpdate=!0,t.recursiveBBoxNeedsUpdate=!0})}traverseEntity(t){t(this);for(let r of this.children)Nn(r)&&r.traverseEntity(t)}traverseVisibleEntity(t){t(this);for(let r of this.children)Nn(r)&&r.visible&&r.traverseVisibleEntity(t)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);for(let r of this.children)r.updateMatrixWorld(t)}updateWorldMatrix(t,r){let i=this.parent;if(t&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),r)for(let s of this.children)s.updateWorldMatrix(!1,!0)}clone(t){return new this.constructor().copy(this,t)}copy(t,r=!0){if(super.copy(t,!1),this.raycastLock=t.raycastLock,this.scaleLock=t.scaleLock,this.hiddenMatrix.copy(t.hiddenMatrix),r===!0)for(let i of t.children)Nn(i)&&this.add(i.clone());return this}keepChildrenMatrixWorld(){let t=new Xe,r=this.matrixWorld.clone();this.updateWorldMatrix(!1,!1),t.copy(this.matrixWorld).invert(),t.multiply(r);for(let i of this.children)Nn(i)&&i.hiddenMatrix.premultiply(t)}toObjectTransformState(t=[]){this.updateWorldMatrix(!0,!1);let r={position:this.position.toArray(),rotation:[this.rotation.x,this.rotation.y,this.rotation.z],scale:this.scale.toArray(),hiddenMatrix:this.hiddenMatrix.toArray()};return ly(r,t)}fromObjectTransformState(t){return t.position&&this.position.fromArray(t.position),t.rotation&&this.rotation.fromArray(t.rotation),t.scale&&this.scale.fromArray(t.scale),t.hiddenMatrix&&this.hiddenMatrix.fromArray(t.hiddenMatrix),this.updateMatrix(),this}toState(t=[]){let r={name:this.name,visible:this.visible,raycastLock:this.raycastLock,...this.toObjectTransformState(t)};return ly(r,t)}fromState(t,r){return t.name&&(this.name=t.name),t.raycastLock!==void 0&&(this.raycastLock=t.raycastLock),t.type!=="OrthographicCamera"&&t.type!=="PerspectiveCamera"&&(this.matrixAutoUpdate=!1),t.visible!==void 0&&(this.visible=t.visible),this.fromObjectTransformState(t),this}},IJ=class extends Nt{},RJ=class extends IJ{constructor(e){super(),this.object=e,this.matrixAutoUpdate=!0}get castShadow(){return this.object.castShadow}set castShadow(e){}get receiveShadow(){return this.object.receiveShadow}set receiveShadow(e){}get isMesh(){return!0}get isLight(){return!1}get layers(){return this.object.layers}set layers(e){}get isCamera(){return!1}get geometry(){return this.object.geometry}get material(){return this.object.material}},tC=class extends Nt{constructor(e,t={}){super(),this.object=e;let r=e.recursiveBBox.getSize(new C),i=.1;this.parameters=uy.defaultData(r.toArray(),i),ef(this.parameters,t),this.update(),this.setHideBase(this.parameters.hideBase)}setHideBase(e){this.parameters.hideBase=e}update(){switch(this._updateCount(),this.parameters.type){case"radial":this._updateRadial(this.parameters);break;case"linear":this._updateLinear(this.parameters);break;case"grid":this._updateGrid(this.parameters)}this.children.forEach(e=>e.updateMatrix())}_updateCount(){let e=this.parameters.type==="grid"?this.parameters.grid.count[0]*this.parameters.grid.count[1]*this.parameters.grid.count[2]:this.parameters.count;if(this.children.length!==e)if(this.children.length<e)for(let t=0,r=e-this.children.length;t<r;++t){let i=new RJ(this.object);i.visible=!0,this.add(i),this.parameters.hideBase&&this.setHideBase(!0)}else for(let t=0,r=this.children.length-e;t<r;++t)this.remove(this.children[0])}_updateRadial(e){let t=e.radial,r=t.start*Lt.DEG2RAD,i=t.end*Lt.DEG2RAD,s=r-i,n=new Yi(t.rotation[0]*Lt.DEG2RAD,t.rotation[1]*Lt.DEG2RAD,t.rotation[2]*Lt.DEG2RAD),a;switch(t.axis){case"z":a=new C(0,0,1);break;case"y":a=new C(0,1,0);break;default:case"x":a=new C(1,0,0);break}for(let[o,l]of this.children.entries()){l.scale.x=t.scale[0],l.scale.y=t.scale[1],l.scale.z=t.scale[2],l.position.setScalar(0);let c=s/e.count*o-r;switch(t.axis){case"x":l.rotation.set(0,c,0);break;case"y":l.rotation.set(0,0,c);break;case"z":l.rotation.set(c,0,0);break}l.translateOnAxis(a,t.radius),l.position.x+=t.position[0],l.position.y+=t.position[1],l.position.z+=t.position[2],t.alignment===!0?(l.rotation.x+=n.x,l.rotation.y+=n.y,l.rotation.z+=n.z):l.rotation.copy(n)}}_updateLinear(e){if(e.type!=="linear")throw new Error;let t=e.linear,r=new Yi(t.rotation[0]*Lt.DEG2RAD,t.rotation[1]*Lt.DEG2RAD,t.rotation[2]*Lt.DEG2RAD);for(let[i,s]of this.children.entries())s.scale.x=1+(t.scale[0]-1)*i,s.scale.y=1+(t.scale[1]-1)*i,s.scale.z=1+(t.scale[2]-1)*i,s.rotation.x=r.x*i,s.rotation.y=r.y*i,s.rotation.z=r.z*i,s.position.x=t.position[0]*i,s.position.y=t.position[1]*i,s.position.z=t.position[2]*i}_updateGrid(e){let t=0,r=e.grid;if(r.useCenter===!0){let i={x:r.count[0]%2===0?2:1,y:r.count[1]%2===0?2:1,z:r.count[2]%2===0?2:1},s=new C(r.size[0]*(r.count[0]-i.x)*.5,r.size[1]*(r.count[1]-i.y)*.5,r.size[2]*(r.count[2]-i.z)*.5);for(let n=0;n<r.count[0];n++)for(let a=0;a<r.count[1];a++)for(let o=0;o<r.count[2];o++){let l=this.children[t++];l.scale.setScalar(1),l.rotation.set(0,0,0),l.position.x=r.size[0]*n-s.x,l.position.y=r.size[1]*a-s.y,l.position.z=r.size[2]*o-s.z}}else for(let i=0;i<r.count[0];i++)for(let s=0;s<r.count[1];s++)for(let n=0;n<r.count[2];n++){let a=this.children[t++];a.scale.setScalar(1),a.rotation.set(0,0,0),a.position.x=r.size[0]*i,a.position.y=-r.size[1]*s,a.position.z=-r.size[2]*n}}fromClonerState(e){return e.hideBase!==void 0&&this.setHideBase(e.hideBase),ef(this.parameters,e),this.update(),this}},rC=class{constructor(e){e=e??{},this.name=e.name,this.type=e.type,this.node=e.node,this.size=e.size,this.needsUpdate=e.needsUpdate}get value(){return this.node.value}set value(e){this.node.value=e}},Ha=class{constructor(e){this.hashProperties=void 0,this.isNode=!0,this.shortcuts={},this.uuid=Lt.generateUUID(),this.type=e,this.name=""}analyze(e,t){t=t??{},e.analyzing=!0,this.build(e.addFlow(t.slot,t.cache,t.context),"v4"),e.clearVertexNodeCode(),e.clearFragmentNodeCode(),e.removeFlow(),e.analyzing=!1}analyzeAndFlow(e,t,r){return r=r??{},this.analyze(e,r),this.flow(e,t,r)}flow(e,t,r){r=r??{},e.addFlow(r.slot,r.cache,r.context);let i={result:this.build(e,t),code:e.clearNodeCode(),extra:e.context.extra};return e.removeFlow(),i}build(e,t,r){t=t??this.getType(e,t);let i=e.getNodeData(r??this);return e.analyzing&&this.appendDepsNode(e,i,t),e.nodes.indexOf(this)===-1&&e.nodes.push(this),this.updateFrame!==void 0&&e.updaters.indexOf(this)===-1&&e.updaters.push(this),this.generate(e,t,r)}updateFrame(e){}generateReadonly(e,t,r,i,s,n){return""}generate(e,t,r,i,s){return""}parse(e,t,r,i){}appendDepsNode(e,t,r){t.deps=(t.deps||0)+1;let i=e.getTypeLength(r);(i>(t.outputMax||0)||this.getType(e,r))&&(t.outputMax=i,t.output=r)}setName(e){this.name=e}getName(){return this.name}getType(e,t){return t==="sampler2D"||t==="samplerCube"?t:this.type}getHash(){let e="{",t,r;for(t in this)r=this[t],r instanceof Ha&&(e+='"'+t+'":'+r.getHash()+",");if(this.hashProperties)for(let i=0;i<this.hashProperties.length;i++)t=this.hashProperties[i],r=this[t],e+='"'+t+'":"'+String(r)+'",';return e+='"id":"'+this.uuid+'"}',e}},NJ=class{constructor(){this.nodes={},this.keywords={}}add(e){this.nodes[e.name]=e}addKeyword(e,t,r){r=r!==void 0?r:!0,this.keywords[e]={callback:t,cache:r}}remove(e){delete this.nodes[e.name]}removeKeyword(e){delete this.keywords[e]}get(e){return this.nodes[e]}getKeyword(e,t){return this.keywords[e].callback(t)}getKeywordData(e){return this.keywords[e]}contains(e){return this.nodes[e]!==void 0}containsKeyword(e){return this.keywords[e]!==void 0}},ri=new NJ,Ut=class extends Ha{constructor(e,t){super(e),this.scope="",t=t??{},this.shared=t.shared!==void 0?t.shared:!0,this.unique=t.unique!==void 0?t.unique:!1}build(e,t,r,i){if(t=t??this.getType(e),this.getShared(e,t)){let s=this.getUnique(e,t);s&&this.uuid===void 0&&(this.uuid=Lt.generateUUID()),r=e.getUUID(r??this.getUUID(),!s);let n=e.getNodeData(r),a=n.output||this.getType(e);if(e.analyzing)return(n.deps||0)>0||this.getLabel()?(this.appendDepsNode(e,n,t),this.generate(e,t,r)):super.build(e,t,r);if(s)return n.name=n.name||super.build(e,t,r),n.name;if(!this.getLabel()&&(!this.getShared(e,a)||e.context.ignoreCache||n.deps===1))return super.build(e,t,r);r=this.getUUID(!1);let o=this.getTemp(e,r);if(o)return e.format(o,a,t);{o=super.generate(e,t,r,n.output,i);let l=this.generate(e,a,r);return e.addNodeCode(o+" = "+l+";"),e.format(o,a,t)}}return super.build(e,t,r)}getShared(e,t){return t!=="sampler2D"&&t!=="samplerCube"&&this.shared}getUnique(e,t){return this.unique}setLabel(e){return this.label=e,this}getLabel(){return this.label}getUUID(e){let t=this.uuid;return typeof this.scope=="string"&&(t=this.scope+"-"+t),t}getTemp(e,t){t=t||this.uuid;let r=e.getVars()[t];return r?r.name:void 0}generate(e,t,r,i,s){return this.getShared(e,t)||console.error("TempNode is not shared"),r=r??this.uuid,e.getTempVar(r,i??this.getType(e),s,this.getLabel()).name}},bi=class extends Ut{constructor(e,t){t=t??{},t.shared=t.shared!==void 0?t.shared:!1,super(e,t),this.readonly=!1}setReadonly(e){return this.readonly=e,this.hashProperties=this.readonly?["value"]:void 0,this}getReadonly(){return this.readonly}generate(e,t,r,i,s,n){r=e.getUUID(r??this.getUUID()),i=i??this.getType(e);let a=e.getNodeData(r);return this.getReadonly()&&this.generateReadonly!==void 0?this.generateReadonly(e,t,r,i,s,n):e.isShader("vertex")?(a.vertex||(a.vertex=e.createVertexUniform(i,this,s,n,this.getLabel())),e.format(a.vertex.name,i,t)):(a.fragment||(a.fragment=e.createFragmentUniform(i,this,s,n,this.getLabel())),e.format(a.fragment.name,i,t))}},Vi=class extends bi{constructor(e=0,t){super("v2"),this.nodeType="Vector2",this.value=e instanceof se?e:new se(e,t)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}generateReadonly(e,t,r,i,s,n){return e.format("vec2("+this.value.x+", "+this.value.y+")",i,t)}},zi=class extends bi{constructor(e=0,t,r){super("v3"),this.nodeType="Vector3",this.value=e instanceof C?e:new C(e,t,r)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}get z(){return this.value.z}set z(e){this.value.z=e}generateReadonly(e,t,r,i,s,n){return e.format("vec3("+this.value.x+", "+this.value.y+", "+this.value.z+")",i,t)}},wo=class extends bi{constructor(e){super("v4"),this.nodeType="Vector4",this.value=e instanceof Cs?e:new Cs(e.r,e.g,e.b,e.a)}generateReadonly(e,t,r,i,s,n){return e.format("vec4("+this.value.r+", "+this.value.g+", "+this.value.b+", "+this.value.a+")",i,t)}},UJ=/^\s*([a-z_0-9]+)\s([a-z_0-9]+)\s*\((.*?)\)/i,iC=/[a-z_0-9]+/gi,Ye=class extends Ut{constructor(e,t,r,i,s){super(s),this.src="",this.nodeType="Function",this.useKeywords=!0,this.includes=[],this.extensions={},this.keywords={},this.isMethod=s===void 0,this.isInterface=!1,this.parse(e,t,r,i)}getShared(e,t){return!this.isMethod}getType(e){return e.getTypeByFormat(this.type)}getInputByName(e){if(this.inputs){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}}getIncludeByName(e){if(this.includes){let t=this.includes.length;for(;t--;)if(this.includes[t].name===e)return this.includes[t]}}generate(e,t,r,i,s){let n,a=0,o=this.src;if(this.includes)for(let c=0;c<this.includes.length;c++)e.include(this.includes[c],this);for(let c in this.extensions)e.extensions[c]=!0;let l=[];for(;n=iC.exec(this.src);)l.push(n);for(let c=0;c<l.length;c++){let h=l[c],u=h[0],d=this.isMethod?!this.getInputByName(u):!0,p=u;if(this.keywords[u]||this.useKeywords&&d&&ri.containsKeyword(u)){let g=this.keywords[u];if(!g){let m=ri.getKeywordData(u);m.cache&&(g=e.keywords[u]),g=g||ri.getKeyword(u,e),m.cache&&(e.keywords[u]=g)}p=g.build(e)}u!==p&&o[h.index+a-1]!=="."&&(o=o.substring(0,h.index+a)+p+o.substring(h.index+u.length+a),a+=p.length-u.length),this.getIncludeByName(p)===void 0&&ri.contains(p)&&e.include(ri.get(p))}return t==="source"?o:this.isMethod?(this.isInterface||e.include(this,void 0,o),this.name):e.format("( "+o+" )",this.getType(e),t)}parse(e,t,r,i){if(this.src=e||"",this.includes=t??[],this.extensions=r??{},this.keywords=i??{},this.isMethod){let s=UJ.exec(this.src);if(this.inputs=[],s&&s.length==4){this.type=s[1],this.name=s[2];let n=s[3].match(iC);if(n){let a=0;for(;a<n.length;){let o=n[a++],l;o==="in"||o==="out"||o==="inout"?l=n[a++]:(l=o,o="");let c=n[a++];this.inputs.push({name:c,type:l,qualifier:o})}}this.isInterface=this.src.indexOf("{")===-1}else this.type="",this.name=""}}},zJ=/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\;|$)/i,oM=class extends Ut{constructor(e="",t){super(),this.src="",this.useDefine=!1,this.nodeType="Const",this.parse(e||oM.PI,void 0,void 0,void 0,t)}getType(e){return e.getTypeByFormat(this.type)}parse(e,t,r,i,s){this.src=e||"";let n,a,o="",l=zJ.exec(e);this.useDefine=s??this.src.charAt(0)==="#",l&&l.length>1?(a=l[1],n=l[2],o=l[3]):(n=this.src,a="f"),this.name=n,this.type=a,this.value=o}build(e,t){if(t==="source"){if(this.value)return this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" = "+this.value+";";if(this.useDefine)return this.src}return e.include(this),e.format(this.name,this.getType(e),t)}generate(e,t,r,i,s){return e.format(this.name,this.getType(e),t)}},Pt=oM;Pt.PI="PI",Pt.PI2="PI2",Pt.RECIPROCAL_PI="RECIPROCAL_PI",Pt.RECIPROCAL_PI2="RECIPROCAL_PI2",Pt.LOG2="LOG2",Pt.EPSILON="EPSILON";jJ=new RegExp(`^structs*([a-z_0-9]+)s*{s*((.|
)*?)}`,"gim"),HJ=new RegExp("s*(w*?)s*(w*?)(=|;)","gim"),lM=class extends Ut{constructor(e=""){super(),this.inputs=[],this.src="",this.nodeType="Struct",this.parse(e)}getType(e){return e.getTypeByFormat(this.name)}getInputByName(e){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}generate(e,t,r,i,s){return t==="source"?this.src+";":e.format("( "+this.src+" )",this.getType(e),t)}parse(e=""){this.src=e,this.inputs=[];let t=jJ.exec(e);if(t){let r=t[2],i;for(;i=HJ.exec(r);)this.inputs.push({type:i[1],name:i[2]});this.name=t[1]}else this.name="";this.type=this.name}},W1=class extends Ut{constructor(e){super("v2",{shared:!1}),this.nodeType="UV",this.index=e??0}generate(e,t){e.requires.uv[this.index]=!0;let r=this.index>0?this.index+1:"",i=e.isShader("vertex")?"uv"+r:"vUv"+r;return e.format(i,this.getType(e),t)}};ri.addKeyword("uv",function(){return new W1});ri.addKeyword("uv2",function(){return new W1(1)});Nl=class extends Ut{constructor(e,t){super("v4"),this.nodeType="ColorSpace",this.input=e,this.method=t??Nl.LINEAR_TO_LINEAR,this.hashProperties=["method"]}static getEncodingComponents(e){switch(e){case cn:return["Linear"];case Yt:return["sRGB"];default:return[]}}generate(e,t){let r=this.input.build(e,"v4"),i=this.getType(e),s=Nl.Nodes[this.method],n=e.include(s);if(n===Nl.LINEAR_TO_LINEAR)return e.format(r,i,t);if(s.inputs?.length===2){let a=this.factor.build(e,"f");return e.format(n+"( "+r+", "+a+" )",i,t)}else return e.format(n+"( "+r+" )",i,t)}fromEncoding(e){let t=Nl.getEncodingComponents(e);this.method="LinearTo"+t[0],this.factor=t[1]}fromDecoding(e){let t=Nl.getEncodingComponents(e);this.method=t[0]+"ToLinear",this.factor=t[1]}},rn=Nl;rn.Nodes={LinearToLinear:new Ye(["vec4 LinearToLinear( in vec4 value ) {","	return value;","}"].join(`
`)),sRGBToLinear:new Ye(["vec4 sRGBToLinear( in vec4 value ) {","	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );","}"].join(`
`)),LinearTosRGB:new Ye(["vec4 LinearTosRGB( in vec4 value ) {","	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );","}"].join(`
`))},rn.LINEAR_TO_LINEAR="LinearToLinear",rn.SRGB_TO_LINEAR="sRGBToLinear",rn.LINEAR_TO_SRGB="LinearTosRGB";qt=class extends Ye{constructor(e="",t,r,i,s){super(e,s,i,r,t),this.nodeType="Expression"}},ka=class extends bi{constructor(e=new xi,t,r,i){super("v4",{shared:!0}),this.nodeType="Texture",this.value=e,this.uv=t??new W1,this.bias=r,this.project=i!==void 0?i:!1}getTexture(e,t){return super.generate(e,t,this.value.uuid,"t")}generate(e,t){if(t==="sampler2D")return this.getTexture(e,t);let r=this.getTexture(e,t),i=this.uv.build(e,this.project?"v4":"v2"),s=this.bias?this.bias.build(e,"f"):void 0;s===void 0&&e.context.bias&&(s=e.context.bias.setTexture(this).build(e,"f"));let n,a;this.project?n="texture2DProj":n=s?"tex2DBias":"tex2D",s?a=n+"( "+r+", "+i+", "+s+" )":a=n+"( "+r+", "+i+" )";let o={include:e.isShader("vertex"),ignoreCache:!0},l=this.getType(e);return e.addContext(o),this.colorSpace=this.colorSpace??new rn(new qt("",l)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(a),a=this.colorSpace.build(e,l),e.removeContext(),e.format(a,l,t)}},Ge=class extends bi{constructor(e){super("f"),this.nodeType="Float",this.value=e??0}generateReadonly(e,t,r,i,s,n){return e.format(this.value+(this.value%1?"":".0"),i,t)}},sC=class extends Ut{constructor(e,t){super(),this.inputs=[],this.nodeType="FunctionCall",this.value=e,this.inputs=t??[]}getFunction(){return this.value}getType(e){return this.value.getType(e)}generate(e,t,r,i,s){i=this.getType(e);let n=this.value,a=n.build(e,t)+"( ",o=[];if(n.inputs){for(let l=0;l<n.inputs.length;l++){let c=n.inputs[l],h=this.inputs[l]||this.inputs[c.name];o.push(h.build(e,e.getTypeByFormat(c.type)))}a+=o.join(", ")+" )"}return e.format(a,i,t)}},cM=class extends Ut{constructor(e,t,r=cM.ADD){super(),this.nodeType="Operator",this.type=e.type,this.a=e,this.b=t,this.op=r}getType(e){let t=this.a.getType(e),r=this.b.getType(e);return e.isTypeMatrix(t)?"v4":e.getTypeLength(r)>e.getTypeLength(t)?r:t}generate(e,t){let r=this.getType(e);this.type=r;let i=this.a.build(e,r),s=this.b.build(e,r);return e.format("( "+i+" "+this.op+" "+s+" )",r,t)}},sn=cM;sn.ADD="+",sn.SUB="-",sn.MUL="*",sn.DIV="/";kt=class extends Ut{constructor(e,t=kt.ABS,r,i){super(),this.nodeType="Math",this.a=e,typeof t!="string"?this.b=t:i=t,typeof r!="string"?this.c=r:i=r,this.method=i,this.hashProperties=["method"]}getNumInputs(e){switch(this.method){case kt.MIX:case kt.CLAMP:case kt.REFRACT:case kt.SMOOTHSTEP:case kt.FACEFORWARD:return 3;case kt.MIN:case kt.MAX:case kt.MOD:case kt.STEP:case kt.REFLECT:case kt.DISTANCE:case kt.DOT:case kt.CROSS:case kt.POW:return 2;default:return 1}}getInputType(e){let t=e.getTypeLength(this.a.getType(e)),r=this.b?e.getTypeLength(this.b.getType(e)):0,i=this.c?e.getTypeLength(this.c.getType(e)):0;return t>r&&t>i?this.a.getType(e):r>i?this.b.getType(e):this.c.getType(e)}getType(e){switch(this.method){case kt.LENGTH:case kt.DISTANCE:case kt.DOT:return"f";case kt.CROSS:return"v3"}return this.getInputType(e)}generate(e,t){let r,i,s,n=this.a?e.getTypeLength(this.a.getType(e)):0,a=this.b?e.getTypeLength(this.b.getType(e)):0,o=this.c?e.getTypeLength(this.c.getType(e)):0,l=this.getInputType(e),c=this.getType(e);switch(this.type=c,this.method){case kt.NEGATE:return e.format("( -"+this.a.build(e,l)+" )",l,t);case kt.INVERT:return e.format("( 1.0 - "+this.a.build(e,l)+" )",l,t);case kt.CROSS:r=this.a.build(e,"v3"),i=this.b.build(e,"v3");break;case kt.STEP:r=this.a.build(e,n===1?"f":l),i=this.b.build(e,l);break;case kt.MIN:case kt.MAX:case kt.MOD:r=this.a.build(e,l),i=this.b.build(e,a===1?"f":l);break;case kt.REFRACT:r=this.a.build(e,l),i=this.b.build(e,l),s=this.c.build(e,"f");break;case kt.MIX:r=this.a.build(e,l),i=this.b.build(e,l),s=this.c.build(e,o===1?"f":l);break;default:r=this.a.build(e,l),this.b&&(i=this.b.build(e,l)),this.c&&(s=this.c.build(e,l));break}let h=[];h.push(r),i&&h.push(i),s&&h.push(s);let u=this.getNumInputs(e);if(h.length!==u)throw Error(`Arguments not match used in "${this.method}". Require ${u}, currently ${h.length}.`);return e.format(this.method+"( "+h.join(", ")+" )",c,t)}},ot=kt;ot.RAD="radians",ot.DEG="degrees",ot.EXP="exp",ot.EXP2="exp2",ot.LOG="log",ot.LOG2="log2",ot.SQRT="sqrt",ot.INV_SQRT="inversesqrt",ot.FLOOR="floor",ot.CEIL="ceil",ot.NORMALIZE="normalize",ot.FRACT="fract",ot.SATURATE="saturate",ot.SIN="sin",ot.COS="cos",ot.TAN="tan",ot.ASIN="asin",ot.ACOS="acos",ot.ARCTAN="atan",ot.ABS="abs",ot.SIGN="sign",ot.LENGTH="length",ot.NEGATE="negate",ot.INVERT="invert",ot.MIN="min",ot.MAX="max",ot.MOD="mod",ot.STEP="step",ot.REFLECT="reflect",ot.DISTANCE="distance",ot.DOT="dot",ot.CROSS="cross",ot.POW="pow",ot.MIX="mix",ot.CLAMP="clamp",ot.REFRACT="refract",ot.SMOOTHSTEP="smoothstep",ot.FACEFORWARD="faceforward";Gu=class extends Ut{constructor(e,t,r){super("v4"),this.nodeType="TextureCubeUV",this.value=e,this.uv=t,this.bias=r}bilinearCubeUV(e,t,r,i){let s=new sC(Gu.Nodes.bilinearCubeUV,[t,r,i]);this.colorSpaceTL=this.colorSpaceTL??new rn(new qt("","v4")),this.colorSpaceTL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTL.input.parse(s.build(e)+".tl"),this.colorSpaceTR=this.colorSpaceTR??new rn(new qt("","v4")),this.colorSpaceTR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTR.input.parse(s.build(e)+".tr"),this.colorSpaceBL=this.colorSpaceBL??new rn(new qt("","v4")),this.colorSpaceBL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBL.input.parse(s.build(e)+".bl"),this.colorSpaceBR=this.colorSpaceBR??new rn(new qt("","v4")),this.colorSpaceBR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBR.input.parse(s.build(e)+".br");let n={include:e.isShader("vertex"),ignoreCache:!0};e.addContext(n),this.colorSpaceTLExp=new qt(this.colorSpaceTL.build(e,"v4"),"v4"),this.colorSpaceTRExp=new qt(this.colorSpaceTR.build(e,"v4"),"v4"),this.colorSpaceBLExp=new qt(this.colorSpaceBL.build(e,"v4"),"v4"),this.colorSpaceBRExp=new qt(this.colorSpaceBR.build(e,"v4"),"v4"),e.removeContext();let a=new qt("mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )","v4");return a.keywords.cubeUV_TL=this.colorSpaceTLExp,a.keywords.cubeUV_TR=this.colorSpaceTRExp,a.keywords.cubeUV_BL=this.colorSpaceBLExp,a.keywords.cubeUV_BR=this.colorSpaceBRExp,a.keywords.cubeUV=s,a}generate(e,t){if(e.isShader("fragment")){let r=this.uv,i=this.bias||e.context.roughness,s=new sC(Gu.Nodes.roughnessToMip,[i]),n=new ot(s,Gu.Nodes.m0,Gu.Nodes.cubeUV_maxMipLevel,ot.CLAMP),a=new ot(n,ot.FLOOR),o=new ot(n,ot.FRACT),l=this.bilinearCubeUV(e,this.value,r,a),c=this.bilinearCubeUV(e,this.value,r,new sn(a,new Ge(1).setReadonly(!0),sn.ADD)),h=new ot(l,c,o,ot.MIX);return e.format(h.build(e),"v4",t)}else return console.warn("TextureCubeUVNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t)}},Iy=Gu;Iy.Nodes=function(){let e=new lM(`struct TextureCubeUVData {
			vec4 tl;
			vec4 tr;
			vec4 br;
			vec4 bl;
			vec2 f;
		}`),t=new Pt("float cubeUV_maxMipLevel 8.0",!0),r=new Pt("float cubeUV_minMipLevel 4.0",!0),i=new Pt("float cubeUV_maxTileSize 256.0",!0),s=new Pt("float cubeUV_minTileSize 16.0",!0),n=new Ye(`float getFace(vec3 direction) {
				vec3 absDirection = abs(direction);
				float face = -1.0;
				if (absDirection.x > absDirection.z) {
					if (absDirection.x > absDirection.y)
						face = direction.x > 0.0 ? 0.0 : 3.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				} else {
					if (absDirection.z > absDirection.y)
						face = direction.z > 0.0 ? 2.0 : 5.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				}
				return face;
		}`);n.useKeywords=!1;let a=new Ye(`vec2 getUV(vec3 direction, float face) {
				vec2 uv;
				if (face == 0.0) {
					uv = vec2(direction.z, direction.y) / abs(direction.x); // pos x
				} else if (face == 1.0) {
					uv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y
				} else if (face == 2.0) {
					uv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z
				} else if (face == 3.0) {
					uv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x
				} else if (face == 4.0) {
					uv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y
				} else {
					uv = vec2(direction.x, direction.y) / abs(direction.z); // neg z
				}
				return 0.5 * (uv + 1.0);
		}`);a.useKeywords=!1;let o=new Ye(`TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
			float face = getFace(direction);
			float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
			mipInt = max(mipInt, cubeUV_minMipLevel);
			float faceSize = exp2(mipInt);
			float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
			vec2 uv = getUV(direction, face) * (faceSize - 1.0);
			vec2 f = fract(uv);
			uv += 0.5 - f;
			if (face > 2.0) {
				uv.y += faceSize;
				face -= 3.0;
			}
			uv.x += face * faceSize;
			if(mipInt < cubeUV_maxMipLevel){
				uv.y += 2.0 * cubeUV_maxTileSize;
			}
			uv.y += filterInt * 2.0 * cubeUV_minTileSize;
			uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
			uv *= texelSize;
			vec4 tl = texture2D(envMap, uv);
			uv.x += texelSize;
			vec4 tr = texture2D(envMap, uv);
			uv.y += texelSize;
			vec4 br = texture2D(envMap, uv);
			uv.x -= texelSize;
			vec4 bl = texture2D(envMap, uv);
			return TextureCubeUVData( tl, tr, br, bl, f );
		}`,[e,n,a,t,r,i,s]);o.useKeywords=!1;let l=new Pt("float r0 1.0",!0),c=new Pt("float v0 0.339",!0),h=new Pt("float m0 -2.0",!0),u=new Pt("float r1 0.8",!0),d=new Pt("float v1 0.276",!0),p=new Pt("float m1 -1.0",!0),g=new Pt("float r4 0.4",!0),m=new Pt("float v4 0.046",!0),f=new Pt("float m4 2.0",!0),v=new Pt("float r5 0.305",!0),x=new Pt("float v5 0.016",!0),b=new Pt("float m5 3.0",!0),y=new Pt("float r6 0.21",!0),w=new Pt("float v6 0.0038",!0),_=new Pt("float m6 4.0",!0),D=[l,c,h,u,d,p,g,m,f,v,x,b,y,w,_],S=new Ye(`float roughnessToMip(float roughness) {
			float mip = 0.0;
			if (roughness >= r1) {
				mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
			} else if (roughness >= r4) {
				mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
			} else if (roughness >= r5) {
				mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
			} else if (roughness >= r6) {
				mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
			} else {
				mip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25
			}
			return mip;
		}`,D);return{bilinearCubeUV:o,roughnessToMip:S,m0:h,cubeUV_maxMipLevel:t}}();Ul=class extends Ut{constructor(e){super("v3"),this.nodeType="Normal",this.scope=e??Ul.VIEW}getShared(){return this.scope===Ul.WORLD}build(e,t,r,i){let s=e.context[this.scope+"Normal"];return s?s.build(e,t,r,i):super.build(e,t,r)}generate(e,t,r,i,s){let n;switch(this.scope){case Ul.VIEW:e.isShader("vertex")?n="transformedNormal":n="geometryNormal";break;case Ul.LOCAL:e.isShader("vertex")?n="objectNormal":(e.requires.normal=!0,n="vObjectNormal");break;case Ul.WORLD:e.isShader("vertex")?n="inverseTransformDirection( transformedNormal, viewMatrix ).xyz":(e.requires.worldNormal=!0,n="vWNormal");break}return e.format(n,this.getType(e),t)}},si=Ul;si.LOCAL="local",si.WORLD="world",si.VIEW="view",si.NORMAL="normal";ri.addKeyword("viewNormal",function(){return new si(si.VIEW)});ri.addKeyword("localNormal",function(){return new si(si.NORMAL)});ri.addKeyword("worldNormal",function(){return new si(si.WORLD)});On=class extends Ut{constructor(e){super("v3"),this.nodeType="Position",this.scope=e??On.LOCAL}getType(){switch(this.scope){case On.PROJECTION:return"v4"}return this.type}getShader(){switch(this.scope){case On.LOCAL:case On.WORLD:return!1}return!0}generate(e,t,r,i,s){let n;switch(this.scope){case On.LOCAL:e.isShader("vertex")?n="transformed":(e.requires.position=!0,n="vPosition");break;case On.WORLD:if(e.isShader("vertex"))return"( modelMatrix * vec4( transformed, 1.0 ) ).xyz";e.requires.worldPosition=!0,n="vWPosition";break;case On.VIEW:n=e.isShader("vertex")?"-mvPosition.xyz":"vViewPosition";break;case On.PROJECTION:n=e.isShader("vertex")?"( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )":"vec4( 0.0 )";break}return e.format(n,this.getType(),t)}},Es=On;Es.LOCAL="local",Es.WORLD="world",Es.VIEW="view",Es.PROJECTION="projection";ri.addKeyword("position",function(){return new Es});ri.addKeyword("worldPosition",function(){return new Es(Es.WORLD)});ri.addKeyword("viewPosition",function(){return new Es(Es.VIEW)});Ws=class extends Ut{constructor(e){super("v3"),this.nodeType="Reflect",this.scope=e??Ws.CUBE}getUnique(e){return!e.context.viewNormal}getType(){switch(this.scope){case Ws.SPHERE:return"v2"}return this.type}generate(e,t){let r=this.getUnique(e);if(e.isShader("fragment")){let i;switch(this.scope){case Ws.VECTOR:{let s=new si(si.VIEW),n=e.context.roughness,a=s.build(e,"v3"),o=new Es(Es.VIEW).build(e,"v3"),l=n?n.build(e,"f"):void 0,c=`reflect( -normalize( ${o} ), ${a} )`;l&&(c=`normalize( mix( ${c}, ${a}, ${l} * ${l} ) )`);let h=`inverseTransformDirection( ${c}, viewMatrix )`;r?(e.addNodeCode(`vec3 reflectVec = ${h};`),i="reflectVec"):i=h;break}case Ws.CUBE:{let s=new Ws(Ws.VECTOR).build(e,"v3"),n="vec3( -"+s+".x, "+s+".yz )";r?(e.addNodeCode(`vec3 reflectCubeVec = ${n};`),i="reflectCubeVec"):i=n;break}case Ws.SPHERE:{let s=new Ws(Ws.VECTOR).build(e,"v3"),n="normalize( ( viewMatrix * vec4( "+s+", 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5";r?(e.addNodeCode(`vec2 reflectSphereVec = ${n};`),i="reflectSphereVec"):i=n;break}}return e.format(i,this.getType(),t)}else return console.warn("ReflectNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.type,t)}},Zl=Ws;Zl.CUBE="cube",Zl.SPHERE="sphere",Zl.VECTOR="vector";VJ=class extends Ut{constructor(e=new ka,t,r){super("v4"),this.nodeType="TextureCube",this.value=e,this.radianceNode=new Iy(this.value,t??new Zl(Zl.VECTOR),r),this.irradianceNode=new Iy(this.value,new si(si.WORLD),new Ge(1).setReadonly(!0))}generate(e,t){return e.isShader("fragment")?(e.require("irradiance"),e.context.bias&&e.context.bias.setTexture(this.value),(e.slot==="irradiance"?this.irradianceNode:this.radianceNode).build(e,t)):(console.warn("TextureCubeNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t))}},GJ=class extends bi{constructor(e=new i1,t,r){super("v4",{shared:!0}),this.nodeType="CubeTexture",this.value=e,this.uv=t??new Zl,this.bias=r}getTexture(e,t){return super.generate(e,t,this.value.uuid,"tc")}generate(e,t){if(t==="samplerCube")return this.getTexture(e,t);let r=this.getTexture(e,t),i=this.uv?.build(e,"v3"),s=this.bias?this.bias.build(e,"f"):void 0;s===void 0&&e.context.bias&&(s=e.context.bias.setTexture(this).build(e,"f"));let n;s?n="texCubeBias( "+r+", "+i+", "+s+" )":n="texCube( "+r+", "+i+" )";let a={include:e.isShader("vertex"),ignoreCache:!0},o=this.getType(e);return e.addContext(a),this.colorSpace=this.colorSpace??new rn(new qt("",o)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(n),n=this.colorSpace.build(e,o),e.removeContext(),e.format(n,o,t)}},nC=["x","y","z","w"],WJ=["float","vec2","vec3","vec4"],qJ={float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat4:"v4",int:"i",bool:"b","float[]":"f[]","vec4[]":"v4[]"},YJ={t:"sampler2D",tc:"samplerCube",b:"bool",i:"int",f:"float",c:"vec3",v2:"vec2",v3:"vec3",v4:"vec4",m3:"mat3",m4:"mat4","f[]":"float[]","v4[]":"vec4[]"},XJ=class{constructor(){this.includes={consts:{},functions:{},structs:{}},this.cache="",this.slot="",this.shader="",this.context={},this.getIncludesCode=function(){function e(t,r){return t.deps.length-r.deps.length}return function(t,r){let i=this.getIncludes(t,r);if(!i)return"";let s="";i=i.sort(e);for(let n=0;n<i.length;n++)i[n].src&&(s+=i[n].src+`
`);return s}}(),this.slots=[],this.caches=[],this.contexts=[],this.keywords={},this.nodeData={},this.fragmentVariables={},this.fragmentParsVariables={},this.vertexParsVariables={},this.requires={uv:[],color:[],transparent:!1,irradiance:!1,position:!1,worldPosition:!1,normal:!1,worldNormal:!1,vWorldViewDir:!1,modelMatrix:!1,viewMatrix:!1,projectionMatrix:!1},this.includes={consts:[],functions:[],structs:[]},this.attributes={},this.prefixCode=["#ifdef TEXTURE_LOD_EXT","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)","#else","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCube(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2D(a, b, c)","#endif",`
			// NOTE: Include Spline's blending modes. This could be part of BlendNode
			#define SPE_BLENDING_NORMAL 0
			#define SPE_BLENDING_MULTIPLY 1
			#define SPE_BLENDING_SCREEN 2
			#define SPE_BLENDING_OVERLAY 3

			vec3 spe_normalBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, b, alpha );
			}

			vec3 spe_multiplyBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, a * b, alpha );
			}

			vec3 spe_screenBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = 1.0 - ( 1.0 - a ) * ( 1.0 - b );
				return mix( a, tmp, alpha );
			}

			vec3 spe_overlayBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = mix( 1. - 2. * (1. - a) * (1. - b), 2. * a * b, step( a, vec3(.5) ) );
				return clamp( mix( a, tmp, alpha ), 0.0, 1.0 );
			}

			vec3 spe_blend( vec3 a, vec3 b, float alpha, int mode ) {
				if ( mode == SPE_BLENDING_NORMAL ) return spe_normalBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_MULTIPLY ) return spe_multiplyBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_SCREEN ) return spe_screenBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_OVERLAY ) return spe_overlayBlend( a, b, alpha );
				return vec3( 1.0 );
			}
			`,"#include <packing>","#include <common>"].join(`
`),this.parsCode={vertex:["float neighbor_offset = 0.0001;",""].join(`
`),fragment:["float accumAlpha = 0.0;",`void accumulateAlpha(float alpha) {
					accumAlpha += (1.0 - accumAlpha) * alpha;
				}`,""].join(`
`)},this.code={vertex:"",fragment:""},this.nodeCode={vertex:"",fragment:""},this.resultCode={vertex:"",fragment:""},this.finalCode={vertex:"",fragment:""},this.inputs={uniforms:{list:[],vertex:[],fragment:[]},arrayUniforms:{list:[],vertex:[],fragment:[]},vars:{varying:[],vertex:[],fragment:[]}},this.defines={},this.uniforms={},this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.updaters=[],this.nodes=[],this.analyzing=!1}build(e,t){this.buildShader("vertex",e),this.buildShader("fragment",t);for(let r=0;r<this.requires.uv.length;r++)if(this.requires.uv[r]){let i=r>0?r+1:"";this.addVaryCode("varying vec2 vUv"+i+";"),r>0&&this.addVertexParsCode("attribute vec2 uv"+i+";"),this.addVertexFinalCode("vUv"+i+" = uv"+i+";")}return this.requires.color[0]&&(this.addVaryCode("varying vec4 vColor;"),this.addVertexParsCode("attribute vec4 color;"),this.addVertexFinalCode("vColor = color;")),this.requires.color[1]&&(this.addVaryCode("varying vec4 vColor2;"),this.addVertexParsCode("attribute vec4 color2;"),this.addVertexFinalCode("vColor2 = color2;")),this.requires.position&&(this.addVaryCode("varying vec3 vPosition;"),this.addVertexFinalCode("vPosition = transformed;")),this.requires.worldPosition,this.requires.normal&&(this.addVaryCode("varying vec3 vObjectNormal;"),this.addVertexFinalCode("vObjectNormal = normal;")),this.requires.modelMatrix&&this.addFragmentParsCode("uniform mat4 modelMatrix;"),this.requires.viewMatrix&&this.addFragmentParsCode("uniform mat4 viewMatrix;"),this.requires.projectionMatrix&&this.addFragmentParsCode("uniform mat4 projectionMatrix;"),this.requires.worldNormal&&(this.addVaryCode("varying vec3 vWNormal;"),this.addVertexFinalCode("vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;")),this.requires.vWorldViewDir&&(this.addVaryCode("varying vec3 vWorldViewDir;"),this.addVertexFinalCode("vWorldViewDir = isPerspectiveMatrix( projectionMatrix ) ?  ( (modelMatrix * vec4(position, 1.0)).xyz - cameraPosition ) : vec3( -viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2] );")),this}buildShader(e,t){this.resultCode[e]=t.build(this.setShader(e),"v4")}setMaterial(e,t){return this.material=e,this.renderer=t,this.defines={},this}addFlow(e,t,r){return this.addSlot(e).addCache(t).addContext(r)}removeFlow(){return this.removeSlot().removeCache().removeContext()}addCache(e){return this.cache=e??"",this.caches.push(this.cache),this}removeCache(){return this.caches.pop(),this.cache=this.caches[this.caches.length-1]||"",this}addContext(e){return this.context=Object.assign({},this.context,e),this.context.extra=this.context.extra||{},this.contexts.push(this.context),this}removeContext(){return this.contexts.pop(),this.context=this.contexts[this.contexts.length-1]||{},this}addSlot(e){return this.slot=e||"",this.slots.push(this.slot),this}removeSlot(){return this.slots.pop(),this.slot=this.slots[this.slots.length-1]||"",this}addFragmentVariable(e,t){this.fragmentVariables[e]===void 0&&(this.addFragmentCode(`${t} ${e};`),this.fragmentVariables[e]="")}addFragmentParsVariable(e,t){this.fragmentParsVariables[e]===void 0&&(this.addFragmentParsCode(`${t} ${e};`),this.fragmentParsVariables[e]="")}addVertexParsVariable(e,t){this.vertexParsVariables[e]===void 0&&(this.addVertexParsCode(`${t} ${e};`),this.vertexParsVariables[e]="")}addVertexCode(e){this.addCode(e,"vertex")}addFragmentCode(e){this.addCode(e,"fragment")}addCode(e,t){this.code[t??this.shader]+=e+`
`}addVertexNodeCode(e){this.addNodeCode(e,"vertex")}addFragmentNodeCode(e){this.addNodeCode(e,"fragment")}addNodeCode(e,t){this.nodeCode[t??this.shader]+=e+`
`}clearNodeCode(e){e=e??this.shader;let t=this.nodeCode[e];return this.nodeCode[e]="",t}clearVertexNodeCode(){return this.clearNodeCode("vertex")}clearFragmentNodeCode(){return this.clearNodeCode("fragment")}addVertexFinalCode(e){this.addFinalCode(e,"vertex")}addFragmentFinalCode(e){this.addFinalCode(e,"fragment")}addFinalCode(e,t){this.finalCode[t??this.shader]+=e+`
`}addVertexParsCode(e){this.addParsCode(e,"vertex")}addFragmentParsCode(e){this.addParsCode(e,"fragment")}addParsCode(e,t){this.parsCode[t??this.shader]+=e+`
`}addVaryCode(e){this.addVertexParsCode(e),this.addFragmentParsCode(e)}isCache(e){return this.caches.indexOf(e)!==-1}isSlot(e){return this.slots.indexOf(e)!==-1}define(e,t){this.defines[e]=t===void 0?1:t}require(e){this.requires[e]=!0}isDefined(e){return this.defines[e]!==void 0}getVar(e,t,r,i="varying",s="V",n=""){let a=this.getVars(i),o=a[e];if(!o){let l=a.length;o={name:r||"node"+s+l+(n?"_"+n:""),type:t},a.push(o),a[e]=o}return o}getTempVar(e,t,r,i){return this.getVar(e,t,r,this.shader,"T",i)}getAttribute(e,t){if(!this.attributes[e]){let r=this.getVar(e,t);this.addVertexParsCode("attribute "+t+" "+e+";"),this.addVertexFinalCode(r.name+" = "+e+";"),this.attributes[e]={varying:r,name:e,type:t}}return this.attributes[e]}getCode(e){return[this.prefixCode,this.parsCode[e],this.getVarListCode(this.getVars("varying"),"varying"),this.getVarListCode(this.inputs.uniforms[e],"uniform"),this.getVarListCode(this.inputs.arrayUniforms[e],"uniform"),this.getIncludesCode("consts",e),this.getIncludesCode("structs",e),this.getIncludesCode("functions",e),"void main() {",this.getVarListCode(this.getVars(e)),this.code[e],this.resultCode[e],this.finalCode[e],"}"].join(`
`)}getVarListCode(e,t){t=t??"";let r="";for(let i=0,s=e.length;i<s;++i){let n=e[i],a=n.type,o=n.name,l=n.size,c=this.getFormatByType(a);if(c===void 0)throw new Error("Node pars "+c+" not found.");c.includes("[]")?r+=t+" "+c.substring(0,c.length-2)+" "+o+`[${l}];
`:r+=t+" "+c+" "+o+`;
`}return r}getVars(e){return this.inputs.vars[e??this.shader]}getNodeData(e){let t=e instanceof Ha?e.uuid:e;return this.nodeData[t]=this.nodeData[t]||{}}createUniform(e,t,r,i,s,n){if(t.includes("[]")){let a=this.inputs.arrayUniforms,o=a.list.length,l=new rC({type:t,size:r.size,name:i||"nodeUA"+o+(n?"_"+n:""),node:r,needsUpdate:s});return a.list.push(l),a[e].push(l),a[e][l.name]=l,this.uniforms[l.name]=l,l}else{let a=this.inputs.uniforms,o=a.list.length,l=new rC({type:t,name:i||"nodeU"+o+(n?"_"+n:""),node:r,needsUpdate:s});return a.list.push(l),a[e].push(l),a[e][l.name]=l,this.uniforms[l.name]=l,l}}createVertexUniform(e,t,r,i,s){return this.createUniform("vertex",e,t,r,i,s)}createFragmentUniform(e,t,r,i,s){return this.createUniform("fragment",e,t,r,i,s)}include(e,t,r){let i;if(e=typeof e=="string"?ri.get(e):e,this.context.include===!1)return e.name;e instanceof Ye?i=this.includes.functions:e instanceof Pt?i=this.includes.consts:e instanceof lM&&(i=this.includes.structs);let s=i[this.shader]=i[this.shader]||[];if(e){let n=s[e.name];if(n||(n=s[e.name]={node:e,deps:[]},s.push(n),n.src=e.build(this,"source")),e instanceof Ye&&t&&s[t.name]&&s[t.name].deps.indexOf(e)===-1&&(s[t.name].deps.push(e),e.includes?.length)){let a=0;do this.include(e.includes[a++],t);while(a<e.includes.length)}return r&&(n.src=r),e.name}else throw new Error("Include not found.")}colorToVectorProperties(e){return e.replace("r","x").replace("g","y").replace("b","z").replace("a","w")}colorToVector(e){return e.replace(/c/g,"v3")}getIncludes(e,t){return this.includes[e][t||this.shader]}getConstructorFromLength(e){return WJ[e-1]}isTypeMatrix(e){return/^m/.test(e)}getTypeLength(e){return e==="f"?1:parseInt(this.colorToVector(e).substr(1))}getTypeFromLength(e){return e===1?"f":"v"+e}findNode(...e){for(let t=0;t<arguments.length;t++){let r=e[t];if(r?.isNode)return r}}resolve(...e){for(let t=0;t<arguments.length;t++){let r=e[t];if(r!==void 0){if(r.isNode)return r;if(r.isTexture)switch(r.mapping){case Po:case Bo:return new GJ(r);case yd:return new VJ(new ka(r));default:return new ka(r)}else{if(r.isVector2)return new Vi(r);if(r.isVector3)return new zi(r);if(r.isVector4)return new wo(r)}}}}format(e,t,r){switch(this.colorToVector(r+" <- "+t)){case"f <- v2":return e+".x";case"f <- v3":return e+".x";case"f <- v4":return e+".x";case"f <- i":case"f <- b":return"float( "+e+" )";case"v2 <- f":return"vec2( "+e+" )";case"v2 <- v3":return e+".xy";case"v2 <- v4":return e+".xy";case"v2 <- i":case"v2 <- b":return"vec2( float( "+e+" ) )";case"v3 <- f":return"vec3( "+e+" )";case"v3 <- v2":return"vec3( "+e+", 0.0 )";case"v3 <- v4":return e+".xyz";case"v3 <- i":case"v3 <- b":return"vec2( float( "+e+" ) )";case"v4 <- f":return"vec4( "+e+" )";case"v4 <- v2":return"vec4( "+e+", 0.0, 1.0 )";case"v4 <- v3":return"vec4( "+e+", 1.0 )";case"v4 <- i":case"v4 <- b":return"vec4( float( "+e+" ) )";case"i <- f":case"i <- b":return"int( "+e+" )";case"i <- v2":return"int( "+e+".x )";case"i <- v3":return"int( "+e+".x )";case"i <- v4":return"int( "+e+".x )";case"b <- f":return"( "+e+" != 0.0 )";case"b <- v2":return"( "+e+" != vec2( 0.0 ) )";case"b <- v3":return"( "+e+" != vec3( 0.0 ) )";case"b <- v4":return"( "+e+" != vec4( 0.0 ) )";case"b <- i":return"( "+e+" != 0 )"}return e}getTypeByFormat(e){return qJ[e]||e}getFormatByType(e){return YJ[e]||e}getUUID(e,t){return t=t!==void 0?t:!0,t&&this.cache&&(e=this.cache+"-"+e),e}getElementByIndex(e){return nC[e]}getIndexByElement(e){return nC.indexOf(e)}isShader(e){return this.shader===e}setShader(e){return this.shader=e,this}mergeDefines(e){for(let t in e)this.defines[t]=e[t];return this.defines}mergeUniform(e){for(let t in e)this.uniforms[t]=e[t];return this.uniforms}getTextureEncodingFromMap(e){let t;return e?e.isTexture&&(t=e.encoding):t=cn,t===cn&&this.context.gamma&&(t=Yt),t}},tr=class extends bi{constructor(e=0,t,r,i){super("c"),this.nodeType="Color",this.value=e instanceof Cs?e:new Cs(e||0,t,r,i)}setRGBA(e){this.value.setRGBA(e.r,e.g,e.b,e.a)}generate(e,t,r,i,s,n){r=e.getUUID(r??this.getUUID()),i=i??this.getType(e);let a=e.getNodeData(r),o=this.getReadonly()&&this.generateReadonly!==void 0;if(this.alpha){let l=this.alpha.build(e,"f");e.addFragmentNodeCode(`accumAlpha += ( 1.0 - accumAlpha ) * ${l};`)}return o?this.generateReadonly(e,t,r,i,s,n):e.isShader("vertex")?(a.vertex||(a.vertex=e.createVertexUniform(i,this,s,n,this.getLabel())),e.format(a.vertex.name,i,t)):(a.fragment||(a.fragment=e.createFragmentUniform(i,this,s,n,this.getLabel())),e.format(a.fragment.name,i,t))}generateReadonly(e,t,r,i,s,n){return e.format("vec3("+this.value.r+", "+this.value.g+", "+this.value.b+")",i,t)}},Ft=class extends bi{constructor(e){super("i"),this.nodeType="Int",this.value=Math.floor(e??0)}generateReadonly(e,t,r,i,s,n){return e.format(this.value.toString(),i,t)}},uM=class extends Ha{constructor(){super("basic"),this.nodeType="Basic",this.color=new tr(5855577),this.shadingAlpha=new Ge(1),this.shadingBlend=new Ft(0)}generate(e){let t;if(e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform(lc.merge([Re.fog])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];r&&i.push(r.code,r.result?"displaced_position = "+r.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","	vNormal = transformedNormal;","#endif"),i.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{this.color===void 0&&(this.color=new tr(5855577)),this.color.analyze(e,{slot:"color"}),this.alpha&&this.alpha.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"});let r=this.color.flow(e,"c",{slot:"color"}),i=this.alpha?this.alpha.flow(e,"f"):void 0,s=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0;e.requires.transparent=i!==void 0,e.addParsCode(["varying vec3 vWPosition;","#include <fog_pars_fragment>","#include <dithering_pars_fragment>","varying vec3 vViewPosition;","#include <normal_pars_fragment>"].join(`
`));let n=["#include <normal_fragment_begin>",r.code];i&&n.push(i.code,"#ifdef ALPHATEST"," if ( "+i.result+" <= ALPHATEST ) discard;","#endif"),s?n.push(s.code,`vec3 outgoingLight = ${r.result};`,`vec3 finalColor = spe_blend(outgoingLight, ${s.result}, 1.0, SPE_BLENDING_NORMAL);`):n.push(`vec3 finalColor = ${r.result};`),i?n.push(`gl_FragColor = vec4( finalColor, accumAlpha * ${i.result} );`):n.push("gl_FragColor = vec4("+r.result+", 1.0 );"),n.push("#include <fog_fragment>","#include <dithering_fragment>"),t=n.join(`
`)}return t}},Fu=class extends bi{constructor(e){super("b"),this.nodeType="Bool",this.value=e??!1}generateReadonly(e,t,r,i){return e.format(this.value?"true":"false",i,t)}},dM=class extends bi{constructor(e){super("m3"),this.nodeType="Matrix3",this.value=e??new zr}generateReadonly(e,t,r,i,s,n){return e.format("mat3("+this.value.elements.join(", ")+")",i,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}},yo=class extends bi{constructor(e=1,t){super("f[]"),this.nodeType="FloatArray",this.size=e,this.value=Array.isArray(t)?t:typeof t=="number"?new Array(e).fill(t):new Array(e).fill(0)}},xo=class extends bi{constructor(e=1,t){super("v4[]"),this.nodeType="Vector4Array",this.size=e,this.value=Array.isArray(t)?t:t instanceof yt?new Array(e).fill(t):new Array(e).fill(new yt(0))}},q1=(e=>(e.SIMPLEX="simplex3d",e.SIMPLEX_FRACTAL="simplex3dFractal",e.ASHIMA="simplexAshima",e.FBM="fbm",e.PERLIN="perlin",e))(q1||{}),$i=function(){let e=new Ye(`vec3 random3(vec3 c) {
			float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));
			vec3 r;
			r.z = fract(512.0*j);
			j *= .125;
			r.x = fract(512.0*j);
			j *= .125;
			r.y = fract(512.0*j);
			return r-0.5;
		}`),t=new Ye(`float simplex3d(vec3 p) {
			 vec3 s = floor(p + dot(p, vec3(F3)));
			 vec3 x = p - s + dot(s, vec3(G3));
			 
			 vec3 e = step(vec3(0.0), x - x.yzx);
			 vec3 i1 = e*(1.0 - e.zxy);
			 vec3 i2 = 1.0 - e.zxy*(1.0 - e);
				
			 vec3 x1 = x - i1 + G3;
			 vec3 x2 = x - i2 + 2.0*G3;
			 vec3 x3 = x - 1.0 + 3.0*G3;
			 
			 vec4 w, d;
			 
			 w.x = dot(x, x);
			 w.y = dot(x1, x1);
			 w.z = dot(x2, x2);
			 w.w = dot(x3, x3);
			 
			 w = max(0.6 - w, 0.0);
			 
			 d.x = dot(random3(s), x);
			 d.y = dot(random3(s + i1), x1);
			 d.z = dot(random3(s + i2), x2);
			 d.w = dot(random3(s + 1.0), x3);
			 
			 w *= w;
			 w *= w;
			 d *= w;
			 
			 return dot(d, vec4(52.0));
		}`,[e]);t.keywords.F3=new Pt("float F3 0.3333333"),t.keywords.G3=new Pt("float G3 0.1666667");let r=new Ye(`float simplex3dFractal(vec3 m) {
			mat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);
			mat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);
			mat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);
			return 0.5333333 * simplex3d(m * rot1)
				 + 0.2666667 * simplex3d(2.0 * m * rot2)
				 + 0.1333333 * simplex3d(4.0 * m * rot3)
				 + 0.0666667 * simplex3d(8.0 * m);
		}`,[t]),i=new Ye("vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}"),s=new Ye("vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}"),n=new Ye(`float simplexAshima(vec3 v) {
		  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
		  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);
		  vec3 i  = floor(v + dot(v, C.yyy) );
		  vec3 x0 =   v - i + dot(i, C.xxx) ;
		  vec3 g = step(x0.yzx, x0.xyz);
		  vec3 l = 1.0 - g;
		  vec3 i1 = min( g.xyz, l.zxy );
		  vec3 i2 = max( g.xyz, l.zxy );
		  vec3 x1 = x0 - i1 + 1.0 * C.xxx;
		  vec3 x2 = x0 - i2 + 2.0 * C.xxx;
		  vec3 x3 = x0 - 1. + 3.0 * C.xxx;
		  i = mod(i, 289.0 ); 
		  vec4 p = permute( permute( permute( 
					 i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
				   + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) 
				   + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));
		  float n_ = 1.0/7.0; // N=7
		  vec3  ns = n_ * D.wyz - D.xzx;
		  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)
		  vec4 x_ = floor(j * ns.z);
		  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)
		  vec4 x = x_ *ns.x + ns.yyyy;
		  vec4 y = y_ *ns.x + ns.yyyy;
		  vec4 h = 1.0 - abs(x) - abs(y);
		  vec4 b0 = vec4( x.xy, y.xy );
		  vec4 b1 = vec4( x.zw, y.zw );
		  vec4 s0 = floor(b0)*2.0 + 1.0;
		  vec4 s1 = floor(b1)*2.0 + 1.0;
		  vec4 sh = -step(h, vec4(0.0));
		  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
		  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;
		  vec3 p0 = vec3(a0.xy,h.x);
		  vec3 p1 = vec3(a0.zw,h.y);
		  vec3 p2 = vec3(a1.xy,h.z);
		  vec3 p3 = vec3(a1.zw,h.w);
		  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
		  p0 *= norm.x;
		  p1 *= norm.y;
		  p2 *= norm.z;
		  p3 *= norm.w;
		  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
		  m = m * m;
		  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), 
										dot(p2,x2), dot(p3,x3) ) );
		}`,[i,s]),a=new Ye("vec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}"),o=new Ye("vec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}",[a]),l=new Ye(`float noise(vec3 p){
			vec3 a = floor(p);
			vec3 d = p - a;
			d = d * d * (3.0 - 2.0 * d);
			vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);
			vec4 k1 = perm(b.xyxy);
			vec4 k2 = perm(k1.xyxy + b.zzww);
			vec4 c = k2 + a.zzzz;
			vec4 k3 = perm(c);
			vec4 k4 = perm(c + 1.0);
			vec4 o1 = fract(k3 * (1.0 / 41.0));
			vec4 o2 = fract(k4 * (1.0 / 41.0));
			vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);
			vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);
			return o4.y * d.y + o4.x * (1.0 - d.y);
		}`,[o]),c=new Ye(`float fbm(vec3 x) {
			float v = 0.0;
			float a = 0.5;
			vec3 shift = vec3(100);
			for (int i = 0; i < NUM_OCTAVES; ++i) {
				v += a * noise(x);
				x = x * 2.0 + shift;
				a *= 0.5;
			}
			return v;
		}`,[l]);c.keywords.NUM_OCTAVES=new Pt(`int NUM_OCTAVES ${5}`);let h=new Ye("vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}"),u=new Ye(`float perlin(vec3 P){
		  vec3 Pi0 = floor(P);
		  vec3 Pi1 = Pi0 + vec3(1.0);
		  Pi0 = mod(Pi0, 289.0);
		  Pi1 = mod(Pi1, 289.0);
		  vec3 Pf0 = fract(P);
		  vec3 Pf1 = Pf0 - vec3(1.0);
		  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
		  vec4 iy = vec4(Pi0.yy, Pi1.yy);
		  vec4 iz0 = Pi0.zzzz;
		  vec4 iz1 = Pi1.zzzz;
		  vec4 ixy = permute(permute(ix) + iy);
		  vec4 ixy0 = permute(ixy + iz0);
		  vec4 ixy1 = permute(ixy + iz1);
		  vec4 gx0 = ixy0 / 7.0;
		  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
		  gx0 = fract(gx0);
		  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
		  vec4 sz0 = step(gz0, vec4(0.0));
		  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
		  gy0 -= sz0 * (step(0.0, gy0) - 0.5);
		  vec4 gx1 = ixy1 / 7.0;
		  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
		  gx1 = fract(gx1);
		  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
		  vec4 sz1 = step(gz1, vec4(0.0));
		  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
		  gy1 -= sz1 * (step(0.0, gy1) - 0.5);
		  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
		  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
		  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
		  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
		  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
		  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
		  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
		  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);
		  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
		  g000 *= norm0.x;
		  g010 *= norm0.y;
		  g100 *= norm0.z;
		  g110 *= norm0.w;
		  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
		  g001 *= norm1.x;
		  g011 *= norm1.y;
		  g101 *= norm1.z;
		  g111 *= norm1.w;
		  float n000 = dot(g000, Pf0);
		  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
		  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
		  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
		  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
		  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
		  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
		  float n111 = dot(g111, Pf1);
		  vec3 fade_xyz = fade(Pf0);
		  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
		  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
		  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
		  return 2.2 * n_xyz;
		}`,[i,s,h]);return{simplex:t,simplexFractal:r,simplexAshima:n,fbm:c,perlin:u}}(),hM=class extends Ut{constructor(e,t,r,i,s,n,a,o,l,c,h,u){super("v3"),this.nodeType="Noise",this.scale=e,this.size=t,this.move=r,this.fA=i,this.fB=s,this.distortion=n,this.colorA=a,this.colorB=o,this.colorC=l,this.colorD=c,this.alpha=h,this.noiseType=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t,r,i,s){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=Object.values(q1)[this.noiseType.value],a=new Ye(`vec3 ${n}customNoise(float scale, vec3 size, float move, vec2 fA, vec2 fB, vec2 distortion, vec4 colorA, vec4 colorB, vec4 colorC, vec4 colorD, float alpha, out float calpha) {
                vec3 st = position / size;
				st /= scale;
				vec3 q = vec3(${n}(st),
							  ${n}(st + vec3(1.0)),
							  ${n}(st + vec3(1.0)));
				vec3 r = vec3(${n}(st + vec3(distortion, 1.0) * q + vec3(fA, 1.0) + move),
							  ${n}(st + vec3(distortion, 1.0) * q + vec3(fB, 1.0) + move), 
							  ${n}(st * q));
				float f = ${n}(st + r);
				vec4 color;
				color = mix(colorA, colorB, clamp((f * f) * 4.0, 0.0, 1.0));
				color = mix(color, colorC, clamp(length(q), 0.0, 1.0));
				color = mix(color, colorD, clamp(length(r.x), 0.0, 1.0));

                float lalpha = alpha * color.a;
                calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );

			    accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
				return clamp(color, 0.0, 1.0).rgb;
			}`,[$i.simplex,$i.simplexFractal,$i.simplexAshima,$i.fbm,$i.perlin]),o=e.include(a),l=[];return l.push(this.scale.build(e,"f")),l.push(this.size.build(e,"v3")),l.push(this.move.build(e,"f")),l.push(this.fA.build(e,"v2")),l.push(this.fB.build(e,"v2")),l.push(this.distortion.build(e,"v2")),l.push(this.colorA.build(e,"v4")),l.push(this.colorB.build(e,"v4")),l.push(this.colorC.build(e,"v4")),l.push(this.colorD.build(e,"v4")),l.push(this.alpha.build(e,"f")),l.push(this.calpha),e.format(o+"("+l.join(",")+")",this.getType(e),t)}};hM.numOctaves=5;QJ=class extends Ha{constructor(){super("phong"),this.nodeType="Phong",this.color=new tr(5855577),this.specular=new tr(1118481),this.shininess=new Ge(30),this.shadingAlpha=new Ge(1),this.shadingBlend=new Ft(0)}build(e){let t;if(e.define("PHONG"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform(lc.merge([Re.fog,Re.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif


				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];r&&i.push(r.code,r.result?"displaced_position = "+r.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{e.mergeUniform({penumbraSize:Gi.penumbraSize}),this.color===void 0&&(this.color=new tr(5855577)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let r=this.color.flow(e,"c",{slot:"color"}),i=this.specular.flow(e,"c"),s=this.shininess.flow(e,"f"),n=this.shadingAlpha.flow(e,"f"),a=this.shadingBlend.flow(e,"i"),o=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,l=this.alpha?this.alpha.flow(e,"f"):void 0;e.requires.transparent=l!==void 0,e.addParsCode(["varying vec3 vWPosition;","uniform vec3 emissive;",`uniform float penumbraSize[${5}];`,"#include <normal_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_phong_pars_fragment>","#include <shadowmap_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let c=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	BlinnPhongMaterial material;"];c.push(r.code,"	vec3 diffuseColor = "+r.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","	vec3 totalEmissiveRadiance = emissive;",i.code,"	vec3 specular = "+i.result+";",s.code,"	float shininess = max( 0.0001, "+s.result+" );","	float specularStrength = 1.0;"),l&&c.push(l.code,"#ifdef ALPHATEST","if ( "+l.result+" <= ALPHATEST ) discard;","#endif"),c.push("material.diffuseColor = diffuseColor;"),c.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),c.push("vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;"),c.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${n.result} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${n.result}, ${a.result} );
				}
				`),o&&c.push(o.code,`outgoingLight = spe_blend(outgoingLight, ${o.result}, 1.0, SPE_BLENDING_NORMAL);`),l?c.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${l.result} );`):c.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),c.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=c.join(`
`)}return t}},pM=class extends Ut{constructor(e,t,r,i,s,n,a){super("v3"),this.nodeType="Fresnel",this.color=e,this.bias=t,this.scale=r,this.intensity=i,this.factor=s,this.alpha=n,this.mode=a,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let r=e.include(pM.Nodes.fresnel),i=[];return i.push(this.color.build(e,"c")),i.push(this.bias.build(e,"f")),i.push(this.scale.build(e,"f")),i.push(this.intensity.build(e,"f")),i.push(this.factor.build(e,"f")),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),i.push(this.calpha),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("FresnelNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},fM=pM;fM.Nodes=function(){return{fresnel:new Ye(`vec3 fresnel(vec3 color, float bias, float scale, float intensity, float factor, float alpha, int mode, out float calpha) {
				float fresnel = bias + scale * pow( abs( factor + dot( normalize( vWorldViewDir ), normalize( vWNormal ) ) ), intensity );

				float lalpha = clamp( fresnel, 0.0, 1.0 ) * alpha;
				calpha = lalpha / clamp(lalpha + accumAlpha, 0.001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;
				return color;
			}`)}}();mM=class extends Ut{constructor(e,t,r,i,s,n,a){super("v3"),this.nodeType="Rainbow",this.filmThickness=e,this.movement=t,this.wavelengths=r,this.noiseStrength=i,this.noiseScale=s,this.offset=n,this.alpha=a,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let r=e.include(mM.Nodes.rainbow),i=[];return i.push(this.filmThickness.build(e,"f")),i.push(this.movement.build(e,"f")),i.push(this.wavelengths.build(e,"v3")),i.push(this.noiseStrength.build(e,"f")),i.push(this.noiseScale.build(e,"f")),i.push(this.offset.build(e,"v3")),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("RainbowNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},gM=mM;gM.Nodes=function(){let e=new Ye(`vec3 attenuation(vec3 wavelengths, float filmThickness, float movement, float noiseStrength, float noiseScale, vec3 offset) {
                 vec3 st = position / noiseScale;
				 vec3 q = vec3(simplex3d(st),
							  simplex3d(st + vec3(1.0)),
							  simplex3d(st + vec3(1.0)));

				 vec3 r = vec3(simplex3d(st + vec3(1.4, 1.3, 1.0) * q + vec3(1.7, 9.2, 1.0)),
							  simplex3d(st + vec3(2.0, 1.2, 1.0) * q + vec3(8.3, 2.8, 1.0)),
							  simplex3d(st * q));

                 float noise = simplex3d(st + r);

                 return .5 + .5 * cos((((filmThickness + (noise * noiseStrength)) / (vec3(wavelengths.r * 1.0, wavelengths.g * 0.8, wavelengths.b * 0.6) + 1.0)) * dot(normalize(vWorldViewDir + (offset * -0.001)), normalize(vWNormal))) + movement);
             }`,[$i.simplex]);return{rainbow:new Ye(`vec3 rainbow(float filmThickness, float movement, vec3 wavelengths, float noiseStrength, float noiseScale, vec3 offset, float alpha, out float calpha) {
                 vec3 res = clamp(attenuation(wavelengths, filmThickness, movement, noiseStrength, noiseScale, offset), 0.0, 2.0);

                 float rainbowContribution = clamp(res.r + res.g + res.b, 0.0, 1.0);
                 float lalpha = alpha * rainbowContribution;
                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;

                 return res;
             }`,[e])}}();vM=class extends Ut{constructor(e,t,r,i,s,n,a,o,l,c,h,u,d,p,g,m){super("v3"),this.nodeType="Outline",this.firstTime=!0,this.outlineColor=e,this.contourColor=t,this.outlineWidth=r,this.contourWidth=i,this.contourThreshold=s,this.outlineThreshold=n,this.contourFrequency=a,this.outlineSmoothing=o,this.contourDirection=l,this.positionalLines=c,this.compensation=h,this.resolution=u,this.normalMap=d,this.depthMap=p,this.pixelRatio=g,this.alpha=m,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.extensions.derivatives=!0,this.firstTime){let r=this.outlineWidth.build(e,"f"),i=this.resolution.build(e,"v2"),s=this.compensation.build(e,"b"),n=this.pixelRatio.build(e,"f");e.addVertexParsVariable("randomColor","attribute vec3"),e.addVertexParsVariable("extrudeNormal","attribute vec3"),e.addVertexParsVariable(r,"uniform float"),e.addVertexParsVariable(i,"uniform vec2"),e.addVertexParsVariable(s,"uniform bool"),e.addVertexParsVariable(n,"uniform float"),e.addVertexParsVariable("vID","flat out float"),e.addFragmentParsVariable("vID","flat in float");let a=`g${this.uuid.toString().replace(/-/g,"")}`;e.addVertexFinalCode(`
                vID = randomColor.r;
                if (${s}) {
                    vec4 ${a}_clipPosition = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));
                    // NOTE: For certain shapes, like spheres, we get incorrect extrusion when the
                    // normals face the camera directly. So we hackily fix this by offsetting the normal
                    // by a tiny amount.
                    vec3 ${a}_clipNormal = mat3(projectionMatrix) * (mat3(modelViewMatrix) * extrudeNormal) + 0.0000001;
                    vec2 ${a}_offset = normalize(${a}_clipNormal.xy) / ${i} * (${r} / 2.0) * ${a}_clipPosition.w * 2.0 * ${n};
                    ${a}_clipPosition.xy += ${a}_offset;
                    // TODO(MAX): To handle multiple outline layers, we only want to extrude
                    // if this offset is the biggest of all the potential offsets
                    gl_Position = ${a}_clipPosition;
                }
            `)}if(e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let r=e.include(vM.Nodes.outline),i=[];return i.push(this.outlineColor.build(e,"c")),i.push(this.contourColor.build(e,"c")),i.push(this.outlineWidth.build(e,"f")),i.push(this.contourWidth.build(e,"f")),i.push(this.contourThreshold.build(e,"f")),i.push(this.outlineThreshold.build(e,"f")),i.push(this.contourFrequency.build(e,"f")),i.push(this.outlineSmoothing.build(e,"f")),i.push(this.contourDirection.build(e,"v3")),i.push(this.positionalLines.build(e,"b")),i.push(this.resolution.build(e,"v2")),i.push(this.normalMap.getTexture(e,"t")),i.push(this.depthMap.getTexture(e,"t")),i.push(this.pixelRatio.build(e,"f")),i.push(this.compensation.build(e,"b")),i.push(this.alpha.build(e,"f")),i.push(this.calpha),this.firstTime=!this.firstTime,e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("OutlineNode is not compatible with "+e.shader+" shader."),""}},yM=vM;yM.Nodes=function(){let e=new Ye(`
float sobelSample(sampler2D t, sampler2D d, vec2 uv, vec2 resolution, float outlineWidth, float pixelRatio)
{
    vec2 texelSize = (vec2(1.0) / resolution) * outlineWidth * pixelRatio;

    vec2 uvSamples[9];
    vec4 normalSamples[9];

	uvSamples[0] = uv + vec2( -texelSize.x, -texelSize.y);
	uvSamples[1] = uv + vec2(0.0, -texelSize.y);
	uvSamples[2] = uv + vec2(  texelSize.x, -texelSize.y);
	uvSamples[3] = uv + vec2( -texelSize.x, 0.0);
	uvSamples[4] = uv;
	uvSamples[5] = uv + vec2(  texelSize.x, 0.0);
	uvSamples[6] = uv + vec2( -texelSize.x, texelSize.y);
	uvSamples[7] = uv + vec2(0.0, texelSize.y);
	uvSamples[8] = uv + vec2(  texelSize.x, texelSize.y);


    normalSamples[0] = texture2D(t, uvSamples[0]);
    normalSamples[1] = texture2D(t, uvSamples[1]);
    normalSamples[2] = texture2D(t, uvSamples[2]);
    normalSamples[3] = texture2D(t, uvSamples[3]);
    normalSamples[4] = texture2D(t, uvSamples[4]);
    normalSamples[5] = texture2D(t, uvSamples[5]);
    normalSamples[6] = texture2D(t, uvSamples[6]);
    normalSamples[7] = texture2D(t, uvSamples[7]);
    normalSamples[8] = texture2D(t, uvSamples[8]);

    float depthBias = 0.0001;
    // TODO(MAX): Can we somehow reduce the number of conditionals here with MATH?!
    if (normalSamples[0].a != vID && normalSamples[0].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[0]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[1].a != vID && normalSamples[1].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[1]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[2].a != vID && normalSamples[2].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[2]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[3].a != vID && normalSamples[3].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[3]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }


    if (normalSamples[4].a != vID && normalSamples[4].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[4]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[5].a != vID && normalSamples[5].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[5]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[6].a != vID && normalSamples[6].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[6]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[7].a != vID && normalSamples[7].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[7]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[8].a != vID && normalSamples[8].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[8]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    vec4 sobel_edge_h = normalSamples[2] + (2.0*normalSamples[5]) + normalSamples[8] - (normalSamples[0] + (2.0*normalSamples[3]) + normalSamples[6]);
  	vec4 sobel_edge_v = normalSamples[0] + (2.0*normalSamples[1]) + normalSamples[2] - (normalSamples[6] + (2.0*normalSamples[7]) + normalSamples[8]);

    float edgeNormal = sqrt(dot(sobel_edge_h, sobel_edge_h) + dot(sobel_edge_v, sobel_edge_v));
    return edgeNormal;
}
`);return{outline:new Ye(`vec3 outline(vec3 outlineColor, vec3 contourColor, float outlineWidth, float contourWidth, float outlineThreshold, float contourThreshold, float outlineSmoothing, float contourFrequency, vec3 contourDirection, bool positionalLines, vec2 resolution, sampler2D normalMap, sampler2D depthMap, float pixelRatio, bool compensation, float alpha, out float calpha) {
                vec3 result = outlineColor;
                float resultAlpha = 0.0;

                vec3 N = normalize(vWNormal);
                vec2 nuv = (gl_FragCoord.xy / resolution);
                float sobelSample = compensation ? sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth / 2., pixelRatio) : sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth, pixelRatio);
                resultAlpha = smoothstep(outlineThreshold - outlineSmoothing, outlineThreshold + outlineSmoothing, sobelSample);

                float t = 1.0 - contourThreshold;
                if(positionalLines) {
                    vec3 NDir = position * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float f  = fract(NT * contourFrequency * 0.01);
                    float df = fwidth(NT * contourFrequency);

                    float g = smoothstep(df * (contourWidth * 0.01), df * (contourWidth * 0.01 * 2.0), f);
                    if (g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0;
                    }
                 }
                 else {
                    vec3 NDir = N * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float df = fwidth(NT * contourThreshold);
                    float f = sin(NT * 1.0 * contourFrequency);
                    float g = smoothstep(0.0, df * contourWidth, 1.0 - f);

                    if (df > (t * 0.5) && g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0 - g;
                    }
                 }

                 float lalpha = alpha * resultAlpha;
                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
                 return result;
             }`,[e])}}();xM=class extends Ut{constructor(e,t,r,i,s,n,a,o){super("v3"),this.nodeType="Transmission",this.thickness=e,this.ior=t,this.roughness=r,this.transmissionSamplerSize=i,this.transmissionSamplerMap=s,this.transmissionDepthMap=n,this.aspectRatio=a,this.alpha=o,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0,e.isShader("fragment")){e.define("NUM_SAMPLES",30),e.require("worldPosition"),e.requires.worldNormal=!0,e.requires.modelMatrix=!0,e.requires.projectionMatrix=!0,e.addFragmentVariable(this.calpha,"float");let r=e.include(xM.Nodes.transmission),i=[];return i.push(this.thickness.build(e,"f")),i.push(this.ior.build(e,"f")),i.push(this.roughness.build(e,"f")),i.push(this.transmissionSamplerSize.build(e,"v2")),i.push(this.transmissionSamplerMap.getTexture(e,"t")),i.push(this.transmissionDepthMap.getTexture(e,"t")),i.push(this.aspectRatio.build(e,"v2")),i.push("normal"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("TransmissionNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},bM=xM;bM.Nodes=function(){let e=new Ye(`
            float gaussian(vec2 i) {
                const float sigma = float(NUM_SAMPLES) * .25;
                return exp( -.5* dot(i/=sigma,i) ) / ( 6.28 * sigma*sigma );
            }`),t=new Ye(`
            vec3 blur(sampler2D sp, vec2 U, vec2 scale, float lod, sampler2D dm, vec2 unrefractedU, vec2 aspectRatio) {
                // Slightly modified version of this:
                // https://www.shadertoy.com/view/ltScRG

                const int LOD = 2;
                const int sLOD = 4; // tile size = 2^LOD

                vec3 O = vec3(0);
                float a = 0.0;
                const int s = NUM_SAMPLES/sLOD;
                for ( int i = 0; i < s*s; i++ ) {
                    int modulo = (i)-((i)/(s))*(s);
                    vec2 d = vec2(float(modulo), float(i/s))*float(sLOD) - float(NUM_SAMPLES)/2.;
                    vec2 uv = U + (scale * aspectRatio) * d;
                    // What is the depth of the opaque object we're trying to sample
                    float opaqueDepth = unpackRGBAToDepth(texture2D(dm, uv));
                    if (opaqueDepth != 0.0 && opaqueDepth < gl_FragCoord.z) {
                        uv = unrefractedU + ((scale * min(lod / 2., 1.)) * aspectRatio) * d;
                        lod = lod > 4.0 ? lod : lod / 2.0;
                    }
                    float gaussian = gaussian(d);
		            #ifdef TEXTURE_LOD_EXT
                    O += gaussian * texture2DLodEXT( sp, uv, lod).rgb;
                    #else
                    O += gaussian * textureLod( sp, uv, lod).rgb;
                    #endif
                    a += gaussian;
                }
                return O / a;
            }`,[e]),r=new Ye(`
            vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		        // Direction of refracted light.
		        vec3 refractionVector = refract( -v,  n, 1.0 / ior );
		        // Compute rotation-independant scaling of the model matrix.
		        vec3 modelScale;
		        modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		        modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		        modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		        // The thickness is specified in local space.
		        return normalize( refractionVector ) * thickness * modelScale;
	        }`),i=new Ye(`
float applyIorToRoughness( float roughness, float ior ) {
		// Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and
		// an IOR of 1.5 results in the default amount of microfacet refraction.
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	} `),s=new Ye(`
vec3 getTransmissionSample( vec2 fragCoord, float roughness, float ior, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 unrefractedCoords, vec2 aspectRatio) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
        float lod = applyIorToRoughness(roughness, ior);

        return blur(transmissionSamplerMap, fragCoord, vec2(lod / (transmissionSamplerSize.x / 2.)), min(framebufferLod / 5.5, 8.5), transmissionDepthMap, unrefractedCoords, aspectRatio);
	}`,[i,t]),n=new Ye(`
vec3 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio ) {
        vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
        vec3 refractedRayExit = position + transmissionRay;

        // Project refracted vector on the framebuffer, while mapping to normalized device coordinates.
        vec4 ndcPos = projMatrix * viewMatrix *  vec4( refractedRayExit, 1.0 );
        vec2 refractionCoords = ndcPos.xy / ndcPos.w;
        refractionCoords += 1.0;
        refractionCoords /= 2.0;

        vec4 ndcPosUnrefracted = projMatrix * viewMatrix * vec4(position, 1.0 );
        vec2 unrefractedCoords = ndcPosUnrefracted.xy / ndcPosUnrefracted.w;
        unrefractedCoords += 1.0;
        unrefractedCoords /= 2.0;

        // Sample framebuffer to get pixel the refracted ray hits.
        return getTransmissionSample( refractionCoords, roughness, ior, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, unrefractedCoords, aspectRatio );
    }`,[s,r]);return{transmission:new Ye(`
            vec3 transmission(float thickness, float ior, float roughness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio, vec3 normal, float alpha, out float calpha) {
                vec3 v = vec3(0.);
                if (isOrthographic) {
                    v = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
                } else {
                    v = normalize(vWPosition - cameraPosition);
                }
                vec3 transmission = getIBLVolumeRefraction(vWNormal, -v, roughness,  vWPosition, modelMatrix, viewMatrix, projectionMatrix, ior, thickness, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, aspectRatio );
                float lalpha = alpha;

                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
                 return transmission;
            }`,[n])}}();Wu=class extends Ut{constructor(e,t,r,i,s,n,a,o,l,c,h){super("v3"),this.nodeType="Depth",this.gradientType=e,this.smooth=t,this.near=r,this.far=i,this.isVector=s,this.isWorldSpace=n,this.origin=a,this.direction=o,this.colors=l,this.steps=c,this.alpha=h,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let r=`g${this.uuid.toString().replace(/-/g,"")}`,i=new Ye(`vec3 ${r}_sdepth(float near, float far, vec3 origin, vec3 direction, vec4 colors[${r}_MAX_COLORS], float steps[${r}_MAX_COLORS], float alpha, out float calpha) {
               vec4 color = colors[0];
               #ifdef ${r}_IS_VECTOR
                   #ifdef ${r}_LINEAR
                       #ifdef ${r}_WORLDSPACE
                       float depth = vectorLinearWorldSpaceDepth(direction, origin, near, far);
                       #else
                       float depth = vectorLinearObjectSpaceDepth(direction, origin, near, far);
                       #endif
                   #else
                       #ifdef ${r}_WORLDSPACE
                           float depth = vectorSphericalWorldSpaceDepth(origin, near, far);
                       #else
                           float depth = vectorSphericalObjectSpaceDepth(origin, near, far);
                       #endif
                   #endif
               #else
                   float dist = length(vWPosition - cameraPosition);
			       float depth = ( dist - near ) / ( far - near );
               #endif


              float p;
              #ifdef ${r}_SMOOTH
				for ( int i = 1; i < ${r}_MAX_COLORS; i++ ) {
						p = clamp( ( depth - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}
              #else
                for ( int i = 1; i < ${r}_MAX_COLORS; i++ ) {
                   p = clamp(( depth - steps[i - 1] ) / ( steps[i] - steps[i - 1] ), 0.0, 1.0);
                   color = mix(color, colors[i], p);
                 }
              #endif

               float lalpha = alpha * color.a;
               calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );

			   accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
               return color.rgb;
			}`,[Wu.Nodes.vectorLinearWorldSpaceDepth,Wu.Nodes.vectorLinearObjectSpaceDepth,Wu.Nodes.vectorSphericalObjectSpaceDepth,Wu.Nodes.vectorSphericalWorldSpaceDepth]);if(e.isShader("fragment")){e.define(`${r}_MAX_COLORS`,this.colors.value.length),this.smooth.value&&e.define(`${r}_SMOOTH`),this.isVector.value>.5&&e.define(`${r}_IS_VECTOR`),this.gradientType.value===0&&e.define(`${r}_LINEAR`),this.isWorldSpace.value>.5&&e.define(`${r}_WORLDSPACE`),e.require("worldPosition"),e.addFragmentVariable(this.calpha,"float");let s=e.include(i),n=[];return n.push(this.near.build(e,"f")),n.push(this.far.build(e,"f")),n.push(this.origin.build(e,"v3")),n.push(this.direction.build(e,"v3")),n.push(this.colors.build(e,"v4[]")),n.push(this.steps.build(e,"f[]")),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(s+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("DepthNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},wM=Wu;wM.Nodes=function(){let e=new Ye(`float vectorLinearWorldSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(vWPosition.x - origin.x) + n.y*(vWPosition.y - origin.y) + n.z*(vWPosition.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),t=new Ye(`float vectorLinearObjectSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(position.x - origin.x) + n.y*(position.y - origin.y) + n.z*(position.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),r=new Ye(`float vectorSphericalWorldSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(vWPosition - origin);
               return ( dist - near ) / ( far - near );
            }`),i=new Ye(`float vectorSphericalObjectSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(position - origin);
               return ( dist - near ) / ( far - near );
            }`);return{vectorLinearWorldSpaceDepth:e,vectorLinearObjectSpaceDepth:t,vectorSphericalWorldSpaceDepth:r,vectorSphericalObjectSpaceDepth:i}}();aC=class extends Ut{constructor(e,t,r,i){super("v3"),this.nodeType="Blend",this.a=e,this.b=t,this.alpha=r,this.mode=i}generate(e,t){if(e.isShader("fragment")){let r=[];return r.push(this.a.build(e,"c")),r.push(this.b.build(e,"c")),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),e.format("spe_blend("+r.join(",")+")",this.getType(e),t)}else return console.warn("BlendNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Ry=(e=>(e.NOISE="noise",e.MAP="map",e))(Ry||{}),_M=class extends Ut{constructor(e,t,r,i,s){super("v3"),this.displacementTypeIndex=new Ft(0),this.nodeType="VertexDisplacement",this.intensity=e,this.movementOrTexture=t,Object.values(Ry)[this.displacementTypeIndex.value]==="map"&&(this.mat=new dM(this.movementOrTexture.value.matrix)),this.cropOrOffset=r,this.scale=i,this.noiseFunctionIndex=s}generate(e,t){if(e.isShader("vertex")){e.define("USE_LAYER_DISPLACE");let r,i=[];switch(i.push("displaced_position"),i.push("displaced_normal"),Object.values(Ry)[this.displacementTypeIndex.value]){case"map":{r=e.include(_M.Nodes.map),i.push(this.movementOrTexture.getTexture(e,"t")),i.push("uv"),i.push(this.cropOrOffset.build(e,"f")),this.mat&&i.push(this.mat.build(e,"mat3"));break}case"noise":{let s=Object.values(q1)[this.noiseFunctionIndex.value],n=new Ye(`vec3 orthogonal(vec3 v) {
							return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
						}`),a=new Ye(`vec3 distorted(vec3 p, vec3 n, float scale, float intensity, vec3 offset, float neighbour_offset, float movement) {
							return p + n * ${s}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1)) * intensity;
						}`,[$i.simplex,$i.simplexFractal,$i.simplexAshima,$i.fbm,$i.perlin]),o=new Ye(`vec3 vertexDisplacementNoise(vec3 position, vec3 normal, float scale, vec3 offset, float movement, float intensity, out vec3 displaced_normal) {
							vec3 displaced_position = distorted(position, normal, scale, intensity, offset, neighbor_offset, movement);
							vec3 tangent1 = orthogonal(normal);
							vec3 tangent2 = normalize(cross(normal, tangent1));

                            // TODO(Max): The distance to the neighbors was originally scaled by 0.1.
                            // This caused some small oval/circular visual artifacts in the lighting.
                            // For now, simply using neighbors further away betters the problem,
                            // but we should figure out the underlying cause when we have some time.
                            // Maybe its related to how we calculate the tangent and bitangent?
							vec3 nearby1 = position + tangent1;
							vec3 nearby2 = position + tangent2;
							vec3 distorted1 = distorted(nearby1, normal, scale, intensity, offset, neighbor_offset, movement);
							vec3 distorted2 = distorted(nearby2, normal, scale, intensity, offset, neighbor_offset, movement);
							displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
							return displaced_position;
						}`,[a,n]);r=e.include(o),i.push(this.scale.build(e,"f")),i.push(this.cropOrOffset.build(e,"v3")),i.push(this.movementOrTexture.build(e,"f"));break}}return i.push(this.intensity.build(e,"f")),i.push("displaced_normal"),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("VertexDisplacementNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},DM=_M;DM.Nodes=function(){let e=new Ye(`vec3 orthogonal(vec3 v) {
				return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
			}`),t=new Ye(`float displacementMapTexture(sampler2D tex, float crop, vec2 uv, mat3 mat, vec2 offset) {
				vec2 uvs = (mat * vec3(uv * 2.0 - 1.0, 1.0) / 2.0 + 0.5).xy + offset;
				vec4 tmp = texture2D(tex, uvs);
				vec3 col = tmp.rgb;
				if (crop > 0.5) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						return 0.0;
					}
				}
				return col.r;
			}`);return{map:new Ye(`vec3 vertexDisplacementMap(vec3 position, vec3 normal, sampler2D tex, vec2 uv, float crop, mat3 mat, float intensity, out vec3 displaced_normal) {
				vec3 displaced_position = position + normal * displacementMapTexture(tex, crop, uv, mat, vec2(0.0)) * intensity;
				vec3 tangent1 = normalize(orthogonal(normal));
				vec3 tangent2 = normalize(cross(normal, tangent1));
				vec3 nearby1 = position + tangent1 * 0.1;
				vec3 nearby2 = position + tangent2 * 0.1;
				vec3 distorted1 = nearby1 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				vec3 distorted2 = nearby2 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
				return displaced_position;
			}`,[e,t])}}();SM=class extends Ut{constructor(e,t,r,i,s,n,a,o){super("v3"),this.nodeType="Gradient",this.gradientType=e,this.smooth=t,this.colors=r,this.steps=i,this.offset=s,this.morph=n,this.angle=a,this.alpha=o,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.define("GRAD_MAX",10),e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let r=e.include(SM.Nodes.gradient),i=[];return i.push(this.gradientType.build(e,"i")),i.push(this.smooth.build(e,"b")),i.push(this.colors.build(e,"v4[]")),i.push(this.steps.build(e,"f[]")),i.push(this.offset.build(e,"v2")),i.push(this.morph.build(e,"v2")),i.push(this.angle.build(e,"f")),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("GradientNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},AM=SM;AM.Nodes=function(){return{gradient:new Ye(`vec3 gradient(int gradientType, bool smoothed, vec4 colors[GRAD_MAX], float steps[GRAD_MAX], vec2 offset, vec2 morph, float angle, float alpha, out float calpha) {
				vec4 color = colors[0];
				vec2 m = morph / vUv.xy;
				vec2 rot = vec2( 0.5 + m.x, m.y );
				vec2 dt = vec2(
					cos( angle ) * rot.x - sin( angle ) * rot.y,
					sin( angle ) * rot.x + cos( angle ) * rot.y
				);
				vec2 pt = ( vUv - 0.5 + offset ) / 2.0 + dt / 2.0;
				float t = dot( pt, dt ) / dot( dt, dt );
				if ( gradientType == 1 ) {
					t = distance (
						( vUv + morph ) * 3.0,
						( vUv + offset ) + 1.0
					) + angle;
				} else if ( gradientType == 2 ) {
					float polar = atan(
						vUv.x + morph.x - 0.5 + offset.x,
						vUv.y + morph.y - 0.5 + offset.y
					) * -1.0;
					t = fract( ( angle / PI / -2.0 ) + 0.5 * ( polar / PI ) );
				}

				float p;
				if (smoothed) {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}

				} else {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], p);
					}
				}

				float lalpha = alpha * color.a;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * lalpha;

				return color.xyz;
			}`)}}();Vp=class extends Ut{constructor(e,t,r,i,s,n,a,o,l,c){super("v3"),this.nodeType="CustomTexture",this.firstTime=!0,this.texture=e,this.textureSize=t,this.crop=r,this.projection=i,this.axis=s,this.side=n,this.size=a,this.mat=o,this.alpha=l,this.mode=c,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){e.require("position"),e.require("normal"),e.require("uv"),e.requires.uv=[!0],e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0;let r=`g${this.uuid.toString().replace(/-/g,"")}`,i;switch(this.projection.value){case 3:i=e.include(Vp.Nodes.cylindrical);break;case 2:i=e.include(Vp.Nodes.spherical);break;case 1:let n=["vec3(1.0, 0.0, 0.0)","vec3(0.0, 1.0, 0.0)","vec3(0.0, 0.0, 1.0)"][this.axis.value],a=new Ye(`
		vec3 ${r}_planarTexture(sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float alpha, int mode, out float calpha) {

				vec2 uvs = ( mat * vec3( (${r}_vCustomUv * 2. - 1.) / (size * .5), 1. ) / 2. + 0.5 ).xy;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				${this.side.value===2?"":`lalpha *= step(0.0, ${this.side.value===1?"-1.0 * ":""}dot(vObjectNormal, mat * ${n}));`}

				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
				return col;
			}`);i=e.include(a);break;default:i=e.include(Vp.Nodes.uv);break}if(this.projection.value===1&&this.firstTime){e.addVertexParsCode(`varying vec2 ${r}_vCustomUv;`),e.addFragmentParsCode(`varying vec2 ${r}_vCustomUv;`);let n=["zy","xz","xy"][this.axis.value];e.addVertexFinalCode(`${r}_vCustomUv = (1. + (transformed.${n})) / 2.;`)}e.addFragmentVariable(this.calpha,"float");let s=[];return s.push(this.texture.generate(e,"t")),s.push(this.textureSize.build(e,"v2")),s.push(this.crop.build(e,"f")),s.push(this.mat.build(e,"mat3")),s.push(this.size.build(e,"v2")),s.push(this.alpha.build(e,"f")),s.push(this.mode.build(e,"i")),s.push(this.calpha),this.firstTime=!this.firstTime,e.format(i+"("+s.join(",")+")",this.getType(e),t)}},EM=Vp;EM.Nodes=function(){let e=new Ye(`
vec3 cylindricalTexture(sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float alpha, int mode, out float calpha) {
                vec3 posN = normalize(position);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float scaledHeight = position.y / (size.y * 0.5);
                float v =  (scaledHeight / 2.) + .5;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;

				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
				return col;
			}
`),t=new Ye(`
vec3 sphericalTexture(sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float alpha, int mode, out float calpha) {
                vec3 posN = normalize(vPosition);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float v = 0.5 + asin(posN.y) / 3.1415;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;
				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
				return col;
			}
`),r=new Ye(`vec3 uvTexture(sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float alpha, int mode, out float calpha) {

				vec2 uvs = ( mat * vec3( vUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;

				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
				return col;
			}`);return{cylindrical:e,spherical:t,uv:r}}();CM=class extends Ut{constructor(e,t){super("v3"),this.nodeType="CustomNormal",this.cnormal=e,this.alpha=t}generate(e,t){if(e.isShader("fragment")){let r=e.include(CM.Nodes.customNormal),i=[];return i.push(this.cnormal.build(e,"v3")),i.push("normal"),i.push(this.alpha.build(e,"f")),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("CustomNormalNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},TM=CM;TM.Nodes=function(){return{customNormal:new Ye(`vec3 customNormal(vec3 cnormal, vec3 norm, float alpha) {
				vec3 normal = packNormalToRGB( norm ).rgb;
				normal *= step( vec3(0.5), cnormal );

				accumAlpha += ( 1.0 - accumAlpha ) * alpha;

				return normal;
			}`)}}();Gi={normalRenderTarget:new ka,normalRenderTargetDepth:new ka,transmissionRenderTarget:new ka,transmissionSize:new Vi(2048,2048),transmissionRenderTargetDepth:new ka,pixelRatioNode:new Ge(1),resolution:new Vi,penumbraSize:new yo(5,.5)};for(let e of Object.values(Gi))e.isRenderGlobal=!0;ZJ=class extends Ha{constructor(){super("lambert"),this.nodeType="Lambert",this.color=new tr(5855577),this.emissive=new tr(0),this.emissiveIntensity=new Ge(1),this.shadingAlpha=new Ge(1),this.shadingBlend=new Ft(0)}build(e){let t;if(e.define("LAMBERT"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform(lc.merge([Re.fog,Re.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];r&&i.push(r.code,r.result?"displaced_position = "+r.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>",`
					vec3 diffuse = vec3( 1.0 );
					GeometricContext geometry;
					geometry.position = mvPosition.xyz;
					geometry.normal = normalize( transformedNormal );
					geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
					GeometricContext backGeometry;
					backGeometry.position = geometry.position;
					backGeometry.normal = -geometry.normal;
					backGeometry.viewDir = geometry.viewDir;
					vLightFront = vec3( 0.0 );
					vIndirectFront = vec3( 0.0 );
					#ifdef DOUBLE_SIDED
						vLightBack = vec3( 0.0 );
						vIndirectBack = vec3( 0.0 );
					#endif
					IncidentLight directLight;
					float dotNL;
					vec3 directLightColor_Diffuse;
					vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
					vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
					#ifdef DOUBLE_SIDED
						vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
						vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
					#endif
					#if NUM_POINT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
							getPointLightInfo( pointLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_SPOT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
							getSpotLightInfo( spotLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_DIR_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
							getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_HEMI_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
							vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
							#ifdef DOUBLE_SIDED
								vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
							#endif
						}
						#pragma unroll_loop_end
					#endif
				`,"	#include <shadowmap_vertex>","	#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{e.mergeUniform({penumbraSize:Gi.penumbraSize}),this.color===void 0&&(this.color=new tr(5855577)),this.color.analyze(e,{slot:"color"}),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let r=this.color.flow(e,"c",{slot:"color"}),i=this.emissive.flow(e,"c",{slot:"emissive"}),s=this.emissiveIntensity.flow(e,"f",{slot:"emissive"}),n=this.shadingAlpha.flow(e,"f"),a=this.shadingBlend.flow(e,"i"),o=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,l=this.alpha?this.alpha.flow(e,"f"):void 0;e.requires.transparent=l!==void 0,e.addParsCode([`uniform float penumbraSize[${5}];`,"varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#include <normal_pars_fragment>","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <fog_pars_fragment>","#include <shadowmap_pars_fragment>","#include <shadowmask_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let c=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx, viewdy));
				bool isFrontFacing = (dot(normal, faceNormal) >= 0.0);
				`,"#include <clipping_planes_fragment>"];c.push(r.code,"vec3 diffuseColor = "+r.result+";","ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );"),l&&c.push(l.code,"#ifdef ALPHATEST","if ( "+l.result+" <= ALPHATEST ) discard;","#endif"),c.push("#ifdef DOUBLE_SIDED","	reflectedLight.indirectDiffuse += ( isFrontFacing ) ? vIndirectFront : vIndirectBack;","#else","	reflectedLight.indirectDiffuse += vIndirectFront;","#endif","#include <lightmap_fragment>","reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );","#ifdef DOUBLE_SIDED","	reflectedLight.directDiffuse = ( isFrontFacing ) ? vLightFront : vLightBack;","#else","	reflectedLight.directDiffuse = vLightFront;","#endif","reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();"),i&&c.push(i.code,"reflectedLight.directDiffuse += "+i.result+" * "+s.result+";"),c.push("vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;"),c.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${n.result} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${n.result}, ${a.result} );
				}
				`),o&&c.push(o.code,`outgoingLight = spe_blend(outgoingLight, ${o.result}, 1.0, SPE_BLENDING_NORMAL);`),l?c.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${l.result} );`):c.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),c.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=c.join(`
`)}return t}},$J=class extends Ha{constructor(){super("standard"),this.nodeType="Standard",this.color=new tr(5855577),this.roughness=new Ge(.3),this.metalness=new Ge(0),this.reflectivity=new Ge(.5),this.shadingAlpha=new Ge(1),this.shadingBlend=new Ft(0)}build(e){let t;if(e.define("STANDARD"),e.requires.lights=!0,e.extensions.derivatives=!0,e.extensions.shaderTextureLOD=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform(lc.merge([Re.fog,Re.lights])),Re.LTC_1&&(e.uniforms.ltc_1={value:void 0},e.uniforms.ltc_2={value:void 0}),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];r&&i.push(r.code,r.result?"displaced_position = "+r.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{e.mergeUniform({penumbraSize:Gi.penumbraSize});let r={gamma:!0};this.color===void 0&&(this.color=new tr(5855577)),this.color.analyze(e,{slot:"color",context:r}),this.roughness.analyze(e),this.metalness.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e),this.reflectivity&&this.reflectivity.analyze(e);let i=this.color.flow(e,"c",{slot:"color",context:r}),s=this.roughness.flow(e,"f"),n=this.metalness.flow(e,"f"),a=this.shadingAlpha.flow(e,"f"),o=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0,h=this.reflectivity?this.reflectivity.flow(e,"f"):void 0;e.requires.transparent=c!==void 0,e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;",`uniform float penumbraSize[${5}];`,"#include <normal_pars_fragment>","#include <dithering_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>"].join(`
`));let u=["#include <clipping_planes_fragment>","	#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	PhysicalMaterial material;","	material.diffuseColor = vec3( 1.0 );"];u.push(i.code,"	vec3 diffuseColor = "+i.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",s.code,"	float roughnessFactor = "+s.result+";",n.code,"	float metalnessFactor = "+n.result+";"),c&&u.push(c.code,"#ifdef ALPHATEST","	if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),u.push("vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );"),u.push("material.diffuseColor = diffuseColor * ( 1.0 - metalnessFactor );","material.roughness = max( roughnessFactor, 0.0525 );","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.roughness = clamp( roughnessFactor, 0.04, 1.0 );"),h?u.push(h.code,"material.specularColor = mix( vec3( 0.16 * pow2( "+h.result+" ) ), diffuseColor, metalnessFactor );"):u.push("material.specularColor = mix( vec3( 0.04 ), diffuseColor, metalnessFactor );"),u.push("#include <lights_fragment_begin>"),u.push("#include <lights_fragment_end>"),u.push("vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular;"),u.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${a.result} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${a.result}, ${o.result} );
				}
				`),l&&u.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),c?u.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result} );`):u.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=u.join(`
`)}return t}},JJ=class extends Ha{constructor(){super("toon"),this.nodeType="Toon",this.color=new tr(5855577),this.specular=new tr(1118481),this.shininess=new Ge(30),this.shadingAlpha=new Ge(1),this.shadingBlend=new Ft(0)}build(e){let t;if(e.define("TOON"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform(lc.merge([Re.fog,Re.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let i=["#include <beginnormal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];r&&i.push(r.code,r.result?"displaced_position = "+r.result+";":""),i.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),i.push("	#include <project_vertex>","	#include <fog_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),i.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=i.join(`
`)}else{e.mergeUniform({penumbraSize:Gi.penumbraSize}),this.color===void 0&&(this.color=new tr(5855577)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let r=this.color.flow(e,"c",{slot:"color"}),i=this.specular.flow(e,"c"),s=this.shininess.flow(e,"f"),n=this.shadingAlpha.flow(e,"f"),a=this.shadingBlend.flow(e,"i"),o=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,l=this.alpha?this.alpha.flow(e,"f"):void 0;e.requires.transparent=l!==void 0,e.addParsCode([`uniform float penumbraSize[${5}];`,"varying vec3 vWPosition;","#include <normal_pars_fragment>","#include <gradientmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <dithering_pars_fragment>",`
					varying vec3 vViewPosition;
					struct ToonMaterial {
						vec3	diffuseColor;
						vec3	specularColor;
						float	specularShininess;
						float	specularStrength;
					};
					void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
			
						reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
						reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
					}
					void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
					}
					#define RE_Direct				RE_Direct_Toon
					#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
					#define Material_LightProbeLOD( material )	(0)
					`,"#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>"].join(`
`));let c=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	ToonMaterial material;"];c.push(r.code,"	vec3 diffuseColor = "+r.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",i.code,"	vec3 specular = "+i.result+";",s.code,"	float shininess = max( 0.0001, "+s.result+" );","	float specularStrength = 1.0;"),l&&c.push(l.code,"#ifdef ALPHATEST","if ( "+l.result+" <= ALPHATEST ) discard;","#endif"),c.push("material.diffuseColor = diffuseColor;"),c.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),c.push("vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular;"),c.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${n.result} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${n.result}, ${a.result} );
				}
				`),o&&c.push(o.code,`outgoingLight = spe_blend(outgoingLight, ${o.result}, 1.0, SPE_BLENDING_NORMAL);`),l?c.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${l.result} );`):c.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),c.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=c.join(`
`)}return t}};cf=class extends Cs{},S0=new Map,td={url:"head",time:0,data:null,next:null,prev:null},Hl={url:"tail",time:1/0,data:null,next:null,prev:null};td.next=Hl;Hl.prev=td;oC=0;MM=class{constructor(e,t){this.data=e,this.onImageLoad=t,this.loaded=!1,this.updateSrc(e.data)}updateSrc(e){typeof document>"u"||(this.dispose(),this.loaded=!1,this.img=new Image,this.img.src=dK(e),this.img.onload=()=>{this.loaded=!0;let t=[1e3,1001,1002];for(let r of t){let i=this[r];i&&(i.image=this.img,i.needsUpdate=!0)}this.onImageLoad&&this.onImageLoad()})}getTexture(e){let t=this[e];if(t)return t;{let r=new xi(this.img,void 0,e,e);return this.loaded&&(r.needsUpdate=!0),this[e]=r,r}}dispose(){this[1e3]?.dispose(),this[1e3]=void 0,this[1001]?.dispose(),this[1001]=void 0,this[1002]?.dispose(),this[1002]=void 0}},Ny=class extends MM{},Y1=class extends bi{},LM={noise:["noiseType"],texture:["projection","axis","side"],displace:["noiseType"],depth:["smooth","isWorldSpace","gradientType","isVector"]},kM={depth:["colors"]};BM=class extends Ut{constructor(e,t,r){super("v3"),this.nodeType="Matcap",this.texture=e,this.alpha=t,this.mode=r,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let r=e.include(BM.Nodes.matcap);e.require("normal"),e.requires.normal=!0;let i=[];return i.push(this.texture.generate(e,"t")),i.push("normal"),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),i.push(this.calpha),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("MatcapNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},FM=BM;FM.Nodes=function(){return{matcap:new Ye(`vec3 matcap(sampler2D matcapTex, vec3 normal, float alpha, int mode, out float calpha) {
                vec3 viewDir = normalize( vViewPosition );
                vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
                vec3 y = cross( viewDir, x );
                vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks
                vec4 matcapColor = texture2D( matcapTex, uv );

                calpha =  alpha / clamp( alpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * alpha;
                
                return matcapColor.rgb;
            }
            `)}}();lC=class extends Y1{constructor(e,t){super("t"),this.image=e,this.wrap=t}get value(){return this.image.getTexture(this.wrap)}},fK=class extends Y1{constructor(e){super("v3"),this.image=e,this._value=new C}get value(){return this._value.x=this.image.img.width,this._value.y=this.image.img.height,this._value}},OM=class extends Ut{constructor(e,t,r,i,s,n,a,o,l,c){super("v3"),this.nodeType="Toon",this.positioning=e,this.colors=t,this.steps=r,this.source=i,this.isWorldSpace=s,this.noiseStrength=n,this.noiseScale=a,this.shadowColor=o,this.offset=l,this.alpha=c,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("worldNormal"),e.require("worldPosition"),e.isShader("fragment")){e.define("COLORS_MAX",10),e.addFragmentVariable(this.calpha,"float");let r=e.include(OM.Nodes.toon),i=[];return i.push(this.positioning.build(e,"i")),i.push(this.colors.build(e,"v4[]")),i.push(this.steps.build(e,"f[]")),i.push(this.source.build(e,"v3")),i.push(this.isWorldSpace.build(e,"b")),i.push(this.noiseStrength.build(e,"f")),i.push(this.noiseScale.build(e,"f")),i.push(this.shadowColor.build(e,"v4")),i.push(this.offset.build(e,"v3")),i.push(this.alpha.build(e,"f")),i.push(this.calpha),e.format(r+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("ToonNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},IM=OM;IM.Nodes=function(){let e=new Ye(`float rand(float n) {
				return fract(sin(n) * 43758.5453123);
			}`),t=new Ye(`float hash1(float p) { 
				p = fract(p * 0.011); 
				p *= p + 7.5; 
				p *= p + p; 
				return fract(p); 
			}`),r=new Ye(`float valueNoise(vec3 x) {
				const vec3 step = vec3(110, 241, 171);
			
				vec3 i = floor(x);
				vec3 f = fract(x);
			 
				// For performance, compute the base input to a 1D hash from the integer part of the argument and the 
				// incremental change to the 1D based on the 3D -> 1D wrapping
				float n = dot(i, step);
			
				vec3 u = f * f * (3.0 - 2.0 * f);
				return mix(mix(mix( hash1(n + dot(step, vec3(0, 0, 0))), hash1(n + dot(step, vec3(1, 0, 0))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 0))), hash1(n + dot(step, vec3(1, 1, 0))), u.x), u.y),
						   mix(mix( hash1(n + dot(step, vec3(0, 0, 1))), hash1(n + dot(step, vec3(1, 0, 1))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 1))), hash1(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);
			}`,[t]),i=new Ye(`vec3 hash3(vec3 x) {
				x = vec3(dot(x,vec3(127.1, 311.7, 74.7)),
						 dot(x,vec3(269.5, 183.3, 246.1)),
						 dot(x,vec3(113.5, 271.9, 124.6)));
			
				return fract(sin(x)*43758.5453123);
			}`),s=new Ye(`vec3 voronoiNoise(in vec3 x)
			{
				vec3 p = floor(x);
				vec3 f = fract(x);

				float id = 0.0;
				vec2 res = vec2(100.0);

				for(int k=-1; k<=1; k++)
				for(int j=-1; j<=1; j++)
				for(int i=-1; i<=1; i++)
				{
					vec3 b = vec3(float(i), float(j), float(k));

					// Comment out the "+ hash(p + b);" part below to get "square" cells
					vec3 r = vec3(b) - f + hash3(p + b);
					float d = dot(r, r);

					if (d < res.x)
					{
						id = dot(p + b, vec3(1.0, 57.0, 113.0));
						res = vec2(d, res.x);			
					}
					else if (d < res.y)
					{
						res.y = d;
					}
				}

				return vec3(sqrt(res), abs(id));
			}
			`,[i]);return{toon:new Ye(`vec3 toon(int positioning, vec4 colors[COLORS_MAX], float steps[COLORS_MAX], vec3 source, bool isWorldSpace, float noiseStrength, float noiseScale, vec4 shadowColor, vec3 offset, float alpha, out float calpha) {
				float t = 0.0;
				float shadow = 1.0;

				if (positioning == 0) {

					// Can't do this mode if lighting is "none"
					#if (defined(PHONG) || defined(LAMBERT) || defined(STANDARD))

						// Algorithm from Chapter 10 of Graphics Shaders
						const vec3 weights = vec3(0.2125, 0.7154, 0.0721);
						vec3 lpos;
						vec3 l;
						float dproduct;

						#if (NUM_POINT_LIGHTS > 0)

							#if defined(USE_SHADOWMAP) && (NUM_POINT_LIGHT_SHADOWS > 0)
								PointLightShadow pointLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_POINT_LIGHTS; i++) {
								// Light positions are in view-space for some reason?
								lpos = (inverse(viewMatrix) * vec4(pointLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								
								// TODO: we want to use "intensity" but it isn't available in the shader code
								//dproduct += dot(pointLights[UNROLLED_LOOP_INDEX].color, weights);

								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS)
									pointLightShadow = pointLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getPointShadow( 
											pointShadowMap[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowMapSize, 
											pointLightShadow.shadowBias, 
											pointLightShadow.shadowRadius,
											vPointShadowCoord[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowCameraNear, 
											pointLightShadow.shadowCameraFar);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_DIR_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_DIR_LIGHT_SHADOWS > 0)
								DirectionalLightShadow directionalLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_DIR_LIGHTS; i++) {
								// Use the direction vector for directional lights instead
								l = (inverse(viewMatrix) * vec4(directionalLights[UNROLLED_LOOP_INDEX].direction, 0.0)).xyz;
		
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS)
									directionalLightShadow = directionalLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow( 
										UNROLLED_LOOP_INDEX,
										directionalShadowMap[UNROLLED_LOOP_INDEX], 
										directionalLightShadow.shadowMapSize, 
										directionalLightShadow.shadowBias, 
										directionalLightShadow.shadowRadius, 
										vDirectionalShadowCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_SPOT_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_SPOT_LIGHT_SHADOWS > 0)
								SpotLightShadow spotLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_SPOT_LIGHTS; i++) {
								lpos = (inverse(viewMatrix) * vec4(spotLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS)
									spotLightShadow = spotLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow(
										UNROLLED_LOOP_INDEX,
										spotShadowMap[UNROLLED_LOOP_INDEX], 
										spotLightShadow.shadowMapSize, 
										spotLightShadow.shadowBias, 
										spotLightShadow.shadowRadius, 
										vSpotShadowCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						t = clamp(t, 0.0, 1.0);
				
					#endif

				} else if (positioning == 1) {
					
					vec3 origin = mix(position, worldPosition, float(isWorldSpace));
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	

				} else {

					vec3 origin = worldPosition;
					vec3 source = cameraPosition - offset;
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	
					
				}

				if (noiseStrength > 0.0) {
					// Distort with noise
					vec3 st = position / noiseScale;
					
					// Voronoi "smooth" noise
					float noise = 1.0 - voronoiNoise(st).x;

					// Voronoi cellular noise
					//float noise = 1.0 - rand(voronoiNoise(st).z);

					// Position warp noise
					// vec3 offset = vec3(
					// 	simplex3d(st),
					// 	simplex3d(st + vec3(111.1, 143.89, 217.19)),
					// 	simplex3d(st + vec3(171.1, 247.89, 117.23))
					// );
					// st += offset;
					// float noise = valueNoise(st);

					t += noise * noiseStrength;
				}

				t = clamp(t, 0.0, 1.0);

				// Compute ramp color
				float p;
				vec4 color = colors[0];
				for (int i = 1; i < COLORS_MAX; i++) {
					p = clamp((t - steps[i-1]) / (steps[i] - steps[i-1]), 0.0, 1.0);
					color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
				}

				// Incorporate custom shadow color
				if (positioning == 0) {

					vec3 blendedShadow = mix(color.rgb, shadowColor.rgb, shadowColor.a);
					color.rgb = mix(blendedShadow, color.rgb, shadow);
				
				}

				// Accumulate alpha as usual
				float lalpha = alpha * color.a;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color.xyz;

            }`,[$i.simplex,e,r,s])}}();mK=class extends dM{constructor(e,t){super(new zr),this.repeat=e,this.offset=t,cC(this.value,e,t)}updateMatrix(){cC(this.value,this.repeat,this.offset)}},ko=class{constructor(e,t,r,i){this.id=e,this.uuid=t,this.data=r,this.uniforms={};for(let s in i)this.uniforms[`f${this.id}_${s}`]=i[s];for(let s in r)NM(s,this,r)}get type(){return this.data.type}static create(e,t,r,i){if(r.type==="light")return Vl.createLigherLayer(e,t,r,i);if(r.type==="texture"){let s=i.image(r.texture.image),n=new lC(s,r.texture.wrapping),a=new fK(s),o=new mK(r.texture.repeat,r.texture.offset),l=new Ge(r.crop?1:0),c=new Ft(r.projection??0),h=new Ft(["x","y","z"].indexOf(r.axis)??0),u=new Ft(r.side??0),d=new Vi(r.size?new se(r.size[0],r.size[1]):new se(100,100)),p=new Ge(r.alpha??1),g=new Ft(r.mode??0),m=new EM(n,a,l,c,h,u,d,o,p,g),f=new qt(m.calpha,"f");return new Ur(e,t,r,{texture:n,textureSize:a,crop:l,projection:c,axis:h,side:u,size:d,mat:o,alpha:p,mode:g},m,g,f)}else if(r.type==="matcap"){let s=i.image(r.texture.image),n=new lC(s,r.texture.wrapping),a=new Ge(r.alpha??1),o=new Ft(r.mode??0),l=new FM(n,a,o),c=new qt(l.calpha,"f");return new Ur(e,t,r,{texture:n,alpha:a,mode:o},l,o,c)}else if(r.type==="displace")if(r.displacementType==="noise"){let s=new zi(new C(...r.offset)),n=new Ge(r.scale??10),a=new Ge(r.intensity??8),o=new Ge(r.movement??1),l=new Ft(r.noiseType??0),c=new DM(a,o,s,n,l);return new RM(e,t,r,{offset:s,scale:n,intensity:a,movement:o,noiseType:l},c)}else throw new Error;else return yK(e,t,r,i)}updateByOp(e,t,r){let i=e;if(i.path[0]===void 0){if(i.type===0)return"type"in i.props||"category"in i.props?!0:pK(i.props,r,this,t)}else if(i.path[0]==="texture")return"texture"in t?PM(i.props,r,this):!0;return!1}dispose(){}hasValueByKey(e){return this.uniforms[e]!==void 0}hasValue(e){return this.hasValueByKey(`f${this.id}_${e}`)}setValue(e,t){let r=`f${this.id}_${e}`;this.hasValueByKey(r)&&t!==void 0&&(this.uniforms[r].value=t)}getNode(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t]}getValue(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t].value}getName(e){let t=/f\d+_(.*)/.exec(e);if(t&&t.length>1)return t[1];console.log(`Layer.getName: error ${e}`)}getNames(){let e=[];for(let t in this.uniforms){let r=this.getName(t);r&&e.push(r)}return e}},Ur=class extends ko{constructor(e,t,r,i,s,n,a){super(e,t,r,i),this.color=s,this.mode=n,this.alpha=a}},RM=class extends ko{constructor(e,t,r,i,s){super(e,t,r,i),this.position=s}},Vl=class extends ko{constructor(e,t,r,i,s){super(e,t,r,s),this.data=r,this.node=i}static createLigherLayer(e,t,r,i){let s,n=new Ge(r.alpha),a=new Ft(r.mode),o;if(r.category==="lambert"){s=new ZJ;let l=new tr(i.color(r.emissive)??0);o={emissive:l},s.emissive=l}else if(r.category==="phong"){s=new QJ;let l=new Ge(r.shininess??30),c=new tr(i.color(r.specular)??1118481);o={shininess:l,specular:c},s.shininess=l,s.specular=c}else if(r.category==="toon"){s=new JJ;let l=new Ge(r.shininess??30),c=new tr(i.color(r.specular)??1118481);o={shininess:l,specular:c},s.shininess=l,s.specular=c}else if(r.category==="physical"){s=new $J;let l=new Ge(r.roughness??.3),c=new Ge(r.metalness??0),h=new Ge(r.reflectivity??.5);o={roughness:l,metalness:c,reflectivity:h},s.roughness=l,s.metalness=c,s.reflectivity=h}else s=new uM,o={};return s.alpha=new Ge(1),s.shadingAlpha=n,s.shadingBlend=a,o.alpha=s.shadingAlpha,o.mode=s.shadingBlend,new Vl(e,t,r,s,o)}};oc=class extends un{constructor(e,t){super(void 0),this.data=e,this.layerIdGen=0,this.type="NodeMaterial",this.uniformsBackup={},this.fog=!0,this.updaters=[],this.dithering=!0,this.vertexColors=!0,this.onBeforeCompile=this._onBeforeCompile,this.transparent=!0,this.reset(e,t)}get fragment(){return this.lightLayer.node}get category(){return this.lightLayer.data.category}reset(e,t){let r=e.layers??ac.defaultTwoLayerData("phong").layers;this.layers=r.map(i=>ko.create(this.layerIdGen++,i.id,i.data,t)),this.layers.reverse(),this.name=e.name??"Untitled Material",this.onUpdate(t)}getLayersOfType(e){return this.layers.filter(t=>t.type===e)}getLayerByUuid(e){return this.layers.find(t=>t.uuid===e)}onUpdate(e){this.lightLayer=this.layers.find(t=>t instanceof Vl),this.lightLayer===void 0&&(this.lightLayer=new Vl(0,"",Ao.defaultData("light","basic"),new uM,{})),this.dispose(),this.needsUpdate=!0,this.blendColors(),this.blendAfterColors(),this.blendPositions()}updateByOp(e,t,r){if(this.data=t,e.path[0]==="layers"){let i=e.path[1];if(i===void 0){if(this.layers.reverse(),e.type===4){let s=ko.create(this.layerIdGen++,e.id,e.data,r);this.layers.splice(e.localIndex,0,s)}else if(e.type===5)this.layers.splice(e.localIndex,1)[0].dispose();else if(e.type===6){let s=this.layers.findIndex(a=>a.uuid===e.id),n=this.layers[s];this.layers.splice(s,1),this.layers.splice(e.localIndex,0,n)}this.layers.reverse(),this.onUpdate(r)}else{let s=this.layers.find(n=>n.uuid===i);if(s){let n=t.layers.data(i);if(s.updateByOp({...e,path:e.path.slice(2)},n,r)){let a=ko.create(this.layerIdGen++,i,n,r);this.layers.splice(this.layers.findIndex(o=>o.uuid===i),1,a),this.onUpdate(r)}}}}}blendColors(){let e=this.layers.findIndex(r=>r instanceof Ur),t=this.layers.findIndex(r=>r instanceof Vl);if(e!==-1&&e<t){let r=this.layers[e].color;for(let i=e+1;i<t;++i){let s=this.layers[i];s instanceof Ur&&(r=new aC(r,s.color,s.alpha,s.mode))}this.fragment.color=r}else this.fragment.color=void 0}blendAfterColors(){let e=new qt("outgoingLight","f"),t=this.layers.findIndex(r=>r instanceof Vl);if(this.layers.length>t+1){for(let r=t+1;r<this.layers.length;++r){let i=this.layers[r];i instanceof Ur&&(e=new aC(e,i.color,i.alpha,i.mode))}this.fragment.afterColor=e}else this.fragment.afterColor=void 0}blendPositions(){let e=this.layers.filter(t=>t instanceof RM);if(e.length>0){let t=e[0].position;for(let r=1;r<e.length;++r)e[r]&&(t=new sn(t,e[r].position,sn.ADD),t=new sn(t,new Ge(.5).setReadonly(!0),sn.MUL));this.fragment.position=t}else this.fragment.position=void 0}getDefines(){return this.defines}getUniforms(){return this.uniforms}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}_onBeforeCompile(e,t){this.build({renderer:t}),e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.extensionDerivatives=this.extensions.derivatives===!0,e.extensionFragDepth=this.extensions.fragDepth===!0,e.extensionDrawBuffers=this.extensions.drawBuffers===!0,e.extensionShaderTextureLOD=this.extensions.shaderTextureLOD===!0}clampUniformsForPreview(e,t){let r=(i,s,n)=>Math.min(Math.max(i,s),n);for(let i of this.layers)if(i.type==="displace"){this.uniformsBackup[`f${i.id}_intensity`]=i.uniforms[`f${i.id}_intensity`].value;let s=r(i.uniforms[`f${i.id}_intensity`].value,e,t);i.uniforms[`f${i.id}_intensity`].value=s}}restoreClampedUniforms(){for(let e of this.layers)e.type==="displace"&&(e.uniforms[`f${e.id}_intensity`].value=this.uniformsBackup[`f${e.id}_intensity`])}customProgramCacheKey(){let e="[";for(let{data:t}of this.data.layers)if(t.type==="light")e+=`"${t.category.toUpperCase()}",`;else{let r=(LM[t.type]??[]).map(n=>t[n]),i=(kM[t.type]??[]).map(n=>t[n]?.length??0),s=[...r,...i];s.length?e+=`["${t.type}", "${s.join('","')}"],`:e+=`"${t.type}",`}return e=e.slice(0,-1)+"]",e}updateFrame(e){for(let t=0;t<this.updaters.length;++t)e.updateNode(this.updaters[t])}build(e){e=e??{};let t=e.builder??new XJ;return this.lights=this.lightLayer.data.category!=="basic",t.setMaterial(this,e.renderer),t.build(this.fragment,this.fragment),this.vertexShader=t.getCode("vertex"),this.fragmentShader=t.getCode("fragment"),this.defines=t.defines,this.uniforms=t.uniforms,this.extensions=t.extensions,this.updaters=t.updaters,this.transparent=t.requires.transparent||this.blending>Eo,this}dispose(){this.layers.forEach(e=>e.dispose()),super.dispose()}getHash(){let e="{";return e+='"fragment":'+this.fragment.getHash(),e+="}",e}};Object.defineProperties(oc.prototype,{properties:{get:function(){return this.fragment.properties}},needsUpdate:{set:function(e){e===!0&&this.version++,this.needsCompile=e},get:function(){return this.needsCompile}}});z_e=mt.lights_fragment_begin,j_e=mt.shadowmask_pars_fragment,xK=`
attribute vec3 randomColor;
varying vec3 vNormal;
flat out vec3 vColor;

void main()
{
vNormal = normal;
vColor = randomColor;
gl_Position = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));
}
`,bK=`
uniform float depthContrast;
varying vec3 vNormal;
flat in vec3 vColor;
void main()
{
vec3 normal = (normalize(vNormal)).rgb;

float contrastDepth = (gl_FragCoord.z - 0.5) * depthContrast + 0.5;

vec3 resultColor = mix(mix(vColor, normal, 0.2), vec3(contrastDepth), 0.4);
gl_FragColor = vec4(resultColor, vColor.r);
}
`,H_e=new un({vertexShader:xK,fragmentShader:bK,uniforms:{depthContrast:{value:1}}});Vn=class extends yc(vi){constructor(e,t){super(e,t),this.isAbstractMesh=!0,this.booleanMeshSetAddress=-1,this.booleanWasTransformed=!1,this.booleanMatrixInvOld=new Xe,this.booleanExclude=null,Array.isArray(t)&&e.groups.length===0&&e.addGroup(0,e.getAttribute("position").count,0)}get isGroup(){return this._cloner?.parameters.hideBase===!0}get isMesh(){return!this.isGroup}set isMesh(e){}get cloner(){return this._cloner}set cloner(e){this._cloner&&this.remove(this._cloner),e&&this.add(e),this._cloner=e}updateGeometry(e){let t=this.geometry,r=WM[t.userData.type],i=this.objectType==="NonParametric"?Object.assign({},t.userData,{geometry:t}):t.userData,s=r.build(r.normalizeInputs(e,i)),n=t.uuid;this.geometry.dispose(),this.geometry=s,this.geometry.uuid=n,this.geometry.computeBoundingSphere(),If(this),t.getAttribute("randomColor")&&Rf(this)}clone(e){let t=this.objectType==="NonParametric"?Object.assign({},this.geometry.userData,{geometry:this.geometry.clone()}):this.geometry.userData,r=Uy(t),i=this.material;return new this.constructor(r,i).copy(this,e)}copy(e,t=!0){return super.copy(e,t),e.cloner&&(this.cloner=new tC(e,e.cloner.parameters),this.add(this.cloner)),this}setFromClonerState(e){e===null?this.cloner=void 0:(this.cloner===void 0&&(this.cloner=new tC(this)),this.cloner.fromClonerState(e))}fromState(e,t){return super.fromState(e),e.type==="Mesh"&&(this.setFromClonerState(e.cloner),this.castShadow=e.castShadow??!0,this.receiveShadow=e.receiveShadow??!0,this.booleanExclude=e.booleanExclude??null),this}freeBooleanPointer(){this.booleanMeshSetAddress!==-1&&(Sa.freeMeshSet(this.booleanMeshSetAddress),this.booleanMeshSetAddress=-1)}invalidateDownstreamBooleanData(e=!1){return e?this.booleanWasTransformed=!0:this.freeBooleanPointer(),Ro(this.parent)?this.parent.invalidateDownstreamBooleanData():this}invalidateUpstreamBooleanData(){this.freeBooleanPointer();for(let e of this.children)pd(e)&&(e.freeBooleanPointer(),Ro(e)&&e.invalidateUpstreamBooleanData())}},DK=new C(0,0,1),uC=new C,dC=new C,hC=new zr,UM=class extends Vn{constructor(e=za.create({}),t){super(e,t),this.recursiveSelection=!1,this.objectType="VectorObject",this.eventDispatcher=new gn,this._onShapeUpdate=()=>{this.updateGeometry({}),this.geometry.computeBoundingSphere(),this.geometry.computeBoundingBox()},this.castShadow=!0,this.receiveShadow=!0,this.forceComputeSize=!0,this.shape=e.userData.shape,this.shape.eventDispatcher?.addEventListener("update",this._onShapeUpdate)}fromState(e){return super.fromState(e),this.shape.update(),this}setHelperVisibility(){}updateGeometry(e){if(super.updateGeometry(e),"userData"in this.geometry){let t=this.geometry.userData.parameters;this.eventDispatcher.dispatchEvent({type:"geometryUpdate",parameters:t})}}setShape(e){this.shape&&this.shape.eventDispatcher?.removeEventListener("update",this._onShapeUpdate),this.shape=e,this.shape.eventDispatcher?.addEventListener("update",this._onShapeUpdate)}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),hC.getNormalMatrix(this.matrixWorld),uC.copy(DK).applyMatrix3(hC).normalize(),dC.setFromMatrixPosition(this.matrixWorld),this.shape.plane.setFromNormalAndCoplanarPoint(uC,dC)}clone(e){let t=this.shape.clone(),r=this.material,i=this.geometry.userData,s=za.create(Object.assign({},i,{shape:t})),n=new UM(s,r).copy(this,e);return n.shape=t,t.update(),n}raycast(e,t){Vn.prototype.raycast.call(this,e,t)}};iM.then(e=>{it=e});pC=new Float32Array([10,10,0,-10,10,0,-10,-10,0,10,-10,0]),fC=new Uint32Array([0,1,2,3]),mC=new Uint8Array([4]),Ss=class{static build(e,t,r,i,s){let n,a,o,l=e?.phongAngle??t?.phongAngle??35;if(i===!1&&(l=-1),e.positionWASM!==void 0){r&&r!==0&&(it.free_bvh(r),it.free_subdivision_surface(r));try{n=Ss.allocate(e,s)}catch(c){console.error(c,e),n=Ss.allocate({positionWASM:pC,indexWASM:fC,verticesPerFaceWASM:mC},s)}it.set_destination_refinement_level(n,0),a=Ss.buildLevel(n,!0,l)}else n=r,e.phongAngle!==void 0&&(a=Ss.buildLevel(n,!0,l));return e.subdivisions!==void 0&&(it.set_destination_refinement_level(n,e.subdivisions),e.subdivisions>0?o=Ss.buildLevel(n,!1,l):o=null),{subdivPointer:n,originalGeometry:a,subdividedGeometry:o}}static primitiveToQuads(e,t){e.widthSegments>16&&(e.widthSegments=16),e.heightSegments>16&&(e.heightSegments=16),e.depthSegments>16&&(e.depthSegments=16),e.radialSegments>16&&(e.radialSegments=16),e.type==="DodecahedronGeometry"&&(e.detail=0);let r=e.shape!==void 0?t.geometry:zM(e),i,s,n,a;({positions:i,triIndices:a}=jM(r.getAttribute("position"),r.getIndex()));let o;if(e.type==="CylinderGeometry"&&e.cornerRadius===0&&e.hollow===0&&e.openEnded===!1){let l=e.radialSegments*e.heightSegments*3*2,c=l+e.radialSegments*3;o=[l,c]}return{indices:s,verticesPerFace:n}=HM(i,a,r,o),{positions:i,indices:s,verticesPerFace:n}}static allocate(e,t){let r,i,s,n=[],a=[];e.positionWASM&&e.positionWASM.length>0?(r=e.positionWASM,i=e.indexWASM,s=e.verticesPerFaceWASM):(r=pC,i=fC,s=mC);let o=r.length,l=i.length,c=s.length,h=r.length+n.length+a.length,u=i.length+s.length,d=h*Float32Array.BYTES_PER_ELEMENT+u*Uint32Array.BYTES_PER_ELEMENT,p=h*Float32Array.BYTES_PER_ELEMENT,g=u*Uint32Array.BYTES_PER_ELEMENT,m=it._malloc(d),f=new Float32Array(it.HEAPF32.buffer,m,h),v=new Uint32Array(it.HEAPU32.buffer,m+p,u);f.set(r,0),f.set(n,r.length),f.set(a,r.length+n.length),v.set(i,0),v.set(s,i.length);let x;e?.scaleBaked?.some(y=>y!==1)&&(x=new Xe().makeScale(...e.scaleBaked)),t&&(x?x.premultiply(t):x=t);let b=x?it.alloc_subdivision_surface2(m,o,m+p,l,m+p+i.length*Uint32Array.BYTES_PER_ELEMENT,c,x.elements):it.alloc_subdivision_surface(m,o,m+p,l,m+p+i.length*Uint32Array.BYTES_PER_ELEMENT,c);return it._free(m),b}static buildLevel(e,t,r,i,s){let n=s?it.get_mesh_data2(e,t?it.Level.CONTROL:it.Level.REFINED,r,s.elements):it.get_mesh_data(e,t?it.Level.CONTROL:it.Level.REFINED,r),a=8,o=it.HEAPU32.subarray(n>>2,(n>>2)+a),l=o.subarray(4,4+4),c=0,h=it.HEAPU32[o[c]>>2],u=it.HEAPF32.subarray(h>>2,(h>>2)+l[c]);c++;let d=it.HEAPU32[o[c]>>2],p=it.HEAPF32.subarray(d>>2,(d>>2)+l[c]);c++;let g=it.HEAPU32[o[c]>>2],m=it.HEAPU32.subarray(g>>2,(g>>2)+l[c]);c++;let f=it.HEAPU32[o[c]>>2],v=it.HEAPU32.subarray(f>>2,(f>>2)+l[c]);if(c++,i===void 0){let x=new ft;if(x.setIndex(new Qu(v,1)),x.setAttribute("position",new Ve(u,3)),x.setAttribute("normal",new Ve(p,3)),t){x.setAttribute("faceMap",new Qu(m,1));let b=new Float32Array(p.length/3*4).fill(0);x.setAttribute("color",new wt(b,4))}return it.free_mesh_data(n),x.userData.type="SubdivGeometry",x}i.getAttribute("position").copyArray(u),i.getAttribute("normal").copyArray(p),i.attributes.position.needsUpdate=!0,i.attributes.normal.needsUpdate=!0,it.free_mesh_data(n)}static buildControlCageWireframe(e,t,r){let i=it.get_wireframe_data_for_base_level(e),s=4,n=it.HEAPU32.subarray(i>>2,(i>>2)+s),a=n.subarray(2,2+2),o=0,l=it.HEAPU32[n[o]>>2],c=it.HEAPF32.subarray(l>>2,(l>>2)+a[o]);o++;let h=it.HEAPU32[n[o]>>2],u=it.HEAPU32.subarray(h>>2,(h>>2)+a[o]);if(t===void 0){let d=new ft;d.setAttribute("position",new Ve(c,3));let p=new Float32Array(c.length);for(let g=0,m=c.length;g<m;)p[g++]=r.r,p[g++]=r.g,p[g++]=r.b;return d.setAttribute("color",new wt(p,3)),d.setIndex(new Qu(u,1)),it.free_wireframe_data_for_base_level(i),d}t.getAttribute("position").copyArray(c),t.attributes.position.needsUpdate=!0,it.free_wireframe_data_for_base_level(i)}static updateCollabMesh(e,t,r){let i=t===0;i||it.set_destination_refinement_level(e,t);let s=r?it.get_topological_data2(e,i?it.Level.CONTROL:it.Level.REFINED,r.elements):it.get_topological_data(e,i?it.Level.CONTROL:it.Level.REFINED),n=6,a=it.HEAPU32.subarray(s>>2,(s>>2)+n),o=a.subarray(3,3+3),l=0,c=it.HEAPU32[a[l]>>2],h=new Float32Array(it.HEAPF32.subarray(c>>2,(c>>2)+o[l]));l++;let u=it.HEAPU32[a[l]>>2],d=new Uint32Array(it.HEAPU32.subarray(u>>2,(u>>2)+o[l]));l++;let p=it.HEAPU32[a[l]>>2],g=new Uint8Array(it.HEAPU32.subarray(p>>2,(p>>2)+o[l]));return it.free_topological_data(s),{positions:h,indices:d,verticesPerFace:g}}},gC=["getX","getY","getZ"];Cp=new C,A0=new C,E0=new C,C0=new C;Sa={};V5(Sa,{calcBoolean:()=>MK,calcBooleanTopological:()=>TK,freeMeshSet:()=>PK,getMeshSet:()=>LK,transformMeshSet:()=>kK});EK=new Promise(e=>{AK=e});EK.then(e=>gt=e);WM={ConeGeometry:D$,CubeGeometry:S$,CylinderGeometry:_$,DodecahedronGeometry:E$,EllipseGeometry:eJ,HelixGeometry:sJ,IcosahedronGeometry:nJ,LatheGeometry:aJ,NonParametricGeometry:hJ,PolygonGeometry:pJ,PyramidGeometry:fJ,RectangleGeometry:vJ,SphereGeometry:yJ,PlaneGeometry:xJ,BackdropGeometry:bJ,StarGeometry:_J,TextFrameGeometry:rM,TorusGeometry:DJ,TorusKnotGeometry:AJ,TriangleGeometry:EJ,VectorGeometry:za},Uy=e=>WM[e.type].create(e),vC=new Xe,BK=class extends Vn{constructor(e=new ft,t){super(e,t),this.booleanOp=2,this.phongAngle=35,this.meshSetAddresses=[],this.needsTransformForDownstream=!1,this.objectType="BooleanObject",this.castShadow=!0,this.receiveShadow=!0,this.geometry.userData.parameters={width:0,height:0,depth:0},this.onAfterRender=this.recomputeBoolean.bind(this)}reInit(){this.objectType="BooleanObject",this.meshSetAddresses=[],this.needsTransformForDownstream=!1,this.geometry.userData.parameters={width:0,height:0,depth:0},this.onAfterRender=this.recomputeBoolean.bind(this)}recomputeBoolean(e,t=!0){if(this.booleanMeshSetAddress!==-1)return;for(let i=0;i<this.children.length;i++){let s=this.children[i];Ro(s)&&s.recomputeBoolean(e===!0,t)}this.meshSetAddresses=[];for(let i=0;i<this.children.length;i++){let s=this.children[i];if(OJ(s)&&s.booleanExclude===!1&&s.geometry.attributes.position?.count>0&&s.geometry.drawRange.count>0){if(s.booleanMeshSetAddress===-1){if(s.booleanMeshSetAddress=Sa.getMeshSet(s.geometry,e===!0,t),s.booleanMeshSetAddress===-1)return;Sa.transformMeshSet(s.booleanMeshSetAddress,s.matrix),s.booleanMatrixInvOld.copy(s.matrix).invert(),s.booleanWasTransformed=!1}else Ro(s)&&s.needsTransformForDownstream===!0?(Sa.transformMeshSet(s.booleanMeshSetAddress,s.matrix),s.needsTransformForDownstream=!1):s.booleanWasTransformed===!0&&(vC.multiplyMatrices(s.matrix,s.booleanMatrixInvOld),Sa.transformMeshSet(s.booleanMeshSetAddress,vC),s.booleanMatrixInvOld.copy(s.matrix).invert(),s.booleanWasTransformed=!1);this.meshSetAddresses.push(s.booleanMeshSetAddress)}}if(this.meshSetAddresses.length===0){this.geometry.setDrawRange(0,0);return}if(e===!0)return Sa.calcBooleanTopological(this.meshSetAddresses,this.booleanOp);let r=this.geometry;r.dispose(),this.geometry=new ft,this.geometry.userData=r.userData,this.geometry.boundingSphere=r.boundingSphere;try{this.booleanMeshSetAddress=Sa.calcBoolean(this.meshSetAddresses,this.booleanOp,this.geometry,this.phongAngle)}catch(i){this.booleanMeshSetAddress=0,console.error(i)}this.booleanMatrixInvOld.copy(this.matrix).invert(),this.needsTransformForDownstream=!0,If(this),Rf(this)}updateGeometry(e){let t=e.parameters;t.operation!==void 0&&(this.booleanOp=t.operation),t.phongAngle!==void 0&&(this.phongAngle=t.phongAngle),this.invalidateDownstreamBooleanData().recomputeBoolean()}},Ed=e=>{var t;return t=class extends e{constructor(){super(...arguments),this.isObjectHelper=!0}},t.geometryHelper=new Ra(30,30,30),t},Tp=new xd,T0=new Ms,yC=new Xe,Cd=(e,t,r,i,s=!1)=>{let n=t,a=e.matrixWorld;if(n.boundingSphere===null&&n.computeBoundingSphere(),T0.copy(n.boundingSphere),T0.applyMatrix4(a),r.ray.intersectsSphere(T0)===!1||(yC.copy(a).invert(),Tp.copy(r.ray).applyMatrix4(yC),n.boundingBox!==null&&Tp.intersectsBox(n.boundingBox)===!1))return;let o,l,c,h,u=n.index,d=n.attributes.position,p=n.drawRange,g,m;if(s===!1){let v=Math.max(0,p.start),x=Math.min(u.count,p.start+p.count);for(g=v,m=x;g<m;g+=3)if(l=u.getX(g),c=u.getX(g+1),h=u.getX(g+2),o=f(e,r,Tp,d,l,c,h),o){o.faceIndex=Math.floor(g/3),i.push(o);return}}else{let v=n.attributes.position,x=new C,b=new C,y=new C,w=new C,_=2,D=1/((e.scale.x+e.scale.y+e.scale.z)/3),S=D*D,A=Math.max(0,p.start),E=Math.min(v.count,p.start+p.count);for(let M=A,I=E-1;M<I;M+=_){if(x.fromBufferAttribute(v,M),b.fromBufferAttribute(v,M+1),Tp.distanceSqToSegment(x,b,w,y)>S)continue;w.applyMatrix4(e.matrixWorld);let V=r.ray.origin.distanceTo(w);V<r.near||V>r.far||i.push({distance:V,point:y.clone().applyMatrix4(e.matrixWorld),object:e})}}function f(v,x,b,y,w,_,D){let S=new C,A=new C,E=new C,M=new C,I=new C;if(S.fromBufferAttribute(y,w),A.fromBufferAttribute(y,_),E.fromBufferAttribute(y,D),b.intersectTriangle(S,A,E,!1,M)===null)return null;I.copy(M),I.applyMatrix4(v.matrixWorld);let V=x.ray.origin.distanceTo(I);return V<x.near||V>x.far?null:{faceIndex:1,distance:V,point:I.clone(),object:v}}},Mp=new C,Ui=new cc,FK=class extends wd{constructor(e){let t=new ft,r=new No({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],n={},a=new lt(15711266),o=new lt(15711266),l=new lt(2857471);c("n1","n2",a),c("n2","n4",a),c("n4","n3",a),c("n3","n1",a),c("f1","f2",a),c("f2","f4",a),c("f4","f3",a),c("f3","f1",a),c("n1","f1",a),c("n2","f2",a),c("n3","f3",a),c("n4","f4",a),c("p","n1",o),c("p","n2",o),c("p","n3",o),c("p","n4",o),c("u1","u2",l),c("u2","u3",l),c("u3","u1",l);function c(u,d,p){h(u,p),h(d,p)}function h(u,d){i.push(0,0,0),s.push(d.r,d.g,d.b),n[u]===void 0&&(n[u]=[]),n[u].push(i.length/3-1)}t.setAttribute("position",new Ve(i,3)),t.setAttribute("color",new Ve(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=n,this.update()}update(){let e=this.geometry,t=this.pointMap,r=!0;Ui.projectionMatrixInverse.elements=[.5112609807824982,-0,-0,-0,-0,.41421356237309503,-0,-0,-0,-0,-0,-.099999,-0,-0,-1.0000000000000002,.100001];let i=1,s=1,n=r?.8:1e-4;_s("n1",t,e,Ui,-i,-s,n),_s("n2",t,e,Ui,i,-s,n),_s("n3",t,e,Ui,-i,s,n),_s("n4",t,e,Ui,i,s,n);let a=n;_s("f1",t,e,Ui,-i,-s,a),_s("f2",t,e,Ui,i,-s,a),_s("f3",t,e,Ui,-i,s,a),_s("f4",t,e,Ui,i,s,a);let o=a,l=.5;_s("u1",t,e,Ui,i*.7*l,s*1.1,o),_s("u2",t,e,Ui,-i*.7*l,s*1.1,o),_s("u3",t,e,Ui,0,s*(1.1+.9*l),o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};OK=class extends Ed(FK){constructor(e){super(e),this.object=e,this.object=e,this.name=`CombinedCameraHelper: ${e.uuid}`}updateMatrixWorld(e){super.updateMatrixWorld(e),this.updateTarget()}updateTarget(){let e=this.object.getTarget();this.updateWorldMatrix(!0,!1),this.worldToLocal(e)}raycast(e,t){Cd(this.object,this.geometry,e,t,!0)}},qM=class extends Ed(uV){constructor(e,t=15,r=10066329){super(e,t,r),this.object=e,this.added=!1,this.name=`DirectionalLightHelper: ${e.uuid}`}raycast(e,t){Cd(this.object,qM.geometryHelper,e,t)}},YM=class extends Ed(dV){constructor(e,t=15){super(t),this.object=e,this.object.updateMatrixWorld(),this.name=`EmptyObjectHelper: ${e.uuid}`,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}raycast(e,t){Cd(this.object,YM.geometryHelper,e,t)}update(){}},XM=class extends Ed(cV){constructor(e,t=15,r=6710886){super(e,t,r),this.object=e,this.name=`PointLightHelper: ${e.uuid}`}raycast(e,t){Cd(this.object,XM.geometryHelper,e,t)}},zy=class extends Ed(lV){constructor(e,t=6710886){super(e,t),this.object=e,this.name=`SpotLightHelper: ${e.uuid}`}raycast(e,t){Cd(this.object,zy.geometryHelper,e,t)}update(){if(this.object!==void 0){let e=zy._vector,t=this.object.distance?this.object.distance:1e3,r=t*Math.tan(this.object.angle);this.cone.scale.set(r,r,t),e.setFromMatrixPosition(this.object.target.matrixWorld),this.cone.lookAt(e);let i=this.color!==void 0?this.color:this.light.color;if(this.cone.material instanceof Array)for(let s=0,n=this.cone.material.length;s<n;s++)this.cone.material[s].color.set(i);else this.cone.material.color.set(i)}}},QM=zy;QM._vector=new C;Td=(e,t)=>class extends e{constructor(){super(...arguments),this.objectHelper=new t(this)}get geometryHelper(){return t.geometryHelper}raycast(r,i){this.objectHelper.raycast(r,i)}fromLightState(r,i){if(this.objectType==="LightDirectional"||this.objectType==="LightPoint"||this.objectType==="LightSpot"){let s=this;r.color!==void 0&&(s.color=qr(r.color,i)),r.intensity!==void 0&&(s.intensity=r.intensity),r.depth!==void 0&&(s.shadow.camera.far=r.depth,s.shadow.needsUpdate=!0),r.shadows!==void 0&&(this.castShadow=r.shadows)}return this}},Pl=new C,M0=new C,uf=class extends Td(yc(cc),OK){constructor(e=window.innerWidth,t=window.innerHeight,r=45,i,s=1e5){super(),this.objectType="CombinedCamera",this._cameraType="OrthographicCamera",this.targetOffset=dd.DefaultTargetOffset,this.isUpVectorFlipped=!1,this.angleOffsetFromUp=0,this.width=e,this.height=t,this.orthoCamera=new n1(e*-.5,e*.5,t*.5,t*-.5,i??-5e4,s),this.perspCamera=new ei(r,e/t,i??50,s),this.left=this.orthoCamera.left,this.right=this.orthoCamera.right,this.top=this.orthoCamera.top,this.bottom=this.orthoCamera.bottom,this.far=this.orthoCamera.far,this.view=this.orthoCamera.view,this.aspect=this.perspCamera.aspect,this.fov=this.perspCamera.fov,this.focus=this.perspCamera.focus,this.filmGauge=this.perspCamera.filmGauge,this.filmOffset=this.perspCamera.filmOffset,this.toOrthographic()}static createFromState(e,t){let r=new uf().fromState(t);return r.objectHelper.update(),r.uuid=e,r}get isPerspectiveCamera(){return this.cameraType==="PerspectiveCamera"}get isOrthographicCamera(){return!this.isPerspectiveCamera}get cameraType(){return this._cameraType}setNear(e,t){e==="PerspectiveCamera"?this.perspCamera.near=t:this.orthoCamera.near=t}setZoom(e,t){t>=0&&(e==="PerspectiveCamera"?this.perspCamera.zoom=t:this.orthoCamera.zoom=t)}set cameraType(e){e==="PerspectiveCamera"?this.toPerspective():e==="OrthographicCamera"&&this.toOrthographic()}get near(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.near:this.orthoCamera.near}set near(e){this._cameraType==="PerspectiveCamera"?this.perspCamera.near=e:this.orthoCamera.near=e}get zoom(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom:this.orthoCamera.zoom}set zoom(e){e>=0&&(this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom=e:this.orthoCamera.zoom=e)}lookAt(e){super.lookAt(e),this.getWorldPosition(Pl),this.targetOffset=Pl.distanceTo(e)}getTarget(e=new C){return this.getWorldDirection(M0),this.getWorldPosition(Pl),M0.multiplyScalar(this.targetOffset),e.copy(Pl).add(M0),e}getDistanceToTarget(){let e=this.getTarget();return this.getWorldPosition(Pl),Pl.distanceTo(e)}updateUp(){let e=this.getWorldQuaternion(new Xt),t=new C(0,0,1).applyQuaternion(e),r=new C().copy(Nt.DefaultUp);this.isUpVectorFlipped&&r.negate(),r.applyQuaternion(e);let i=new C().copy(Nt.DefaultUp).projectOnPlane(t),s=new C().crossVectors(i,r).dot(t)>=0?1:-1;this.angleOffsetFromUp=i.angleTo(r)*s}getViewFrontToObject(e){let t=e.getWorldPosition(new C),r=e.getWorldDirection(new C).multiplyScalar(this.targetOffset);return{position:t.clone().add(r),target:t}}getViewToObject(e){let t=e.getWorldPosition(new C),r=this.getWorldDirection(new C).multiplyScalar(this.targetOffset);return{position:t.clone().sub(r),target:t}}setViewplaneSize(e,t){this.left=-e*.5,this.right=e*.5,this.top=t*.5,this.bottom=-t*.5,this.aspect=e/t,this.updateProjectionMatrix()}toOrthographic(){this.orthoCamera.left=this.left,this.orthoCamera.right=this.right,this.orthoCamera.top=this.top,this.orthoCamera.bottom=this.bottom,this.orthoCamera.view=this.view,this.orthoCamera.far=this.far,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.projectionMatrixInverse=this.orthoCamera.projectionMatrixInverse,this._cameraType="OrthographicCamera",this.objectHelper&&this.objectHelper.update()}toPerspective(){this.perspCamera.aspect=this.aspect,this.perspCamera.fov=this.fov,this.perspCamera.view=this.view,this.perspCamera.far=this.far,this.perspCamera.updateProjectionMatrix(),this.projectionMatrix=this.perspCamera.projectionMatrix,this.projectionMatrixInverse=this.perspCamera.projectionMatrixInverse,this._cameraType="PerspectiveCamera",this.objectHelper&&this.objectHelper.update()}setFocalLength(e){this.perspCamera.setFocalLength(e),this.toPerspective()}getFocalLength(){return this.perspCamera.getFocalLength()}getEffectiveFOV(){return this.perspCamera.getEffectiveFOV()}getFilmWidth(){return this.perspCamera.getFilmWidth()}getFilmHeight(){return this.perspCamera.getFilmHeight()}setViewOffset(e,t,r,i,s,n){this._cameraType==="PerspectiveCamera"?this.perspCamera.setViewOffset(e,t,r,i,s,n):this.orthoCamera.setViewOffset(e,t,r,i,s,n)}clearViewOffset(){this._cameraType==="PerspectiveCamera"?(this.perspCamera.clearViewOffset(),this.toPerspective()):(this.orthoCamera.clearViewOffset(),this.toOrthographic())}updateProjectionMatrix(){this._cameraType==="PerspectiveCamera"?this.toPerspective():this._cameraType==="OrthographicCamera"&&this.toOrthographic()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}copy(e,t){return super.copy(e,t),this.orthoCamera.copy(e.orthoCamera),this.perspCamera.copy(e.perspCamera),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.far=e.far,this.view=e.view===null?null:Object.assign({},e.view),this._cameraType=e._cameraType,this.aspect=e.aspect,this.fov=e.fov,this.focus=e.focus,this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this.targetOffset=e.targetOffset,this.updateProjectionMatrix(),this}toCameraState(e=[]){let t={type:this.cameraType,far:this.far,orthographic:{near:this.orthoCamera.near,zoom:this.orthoCamera.zoom},perspective:{near:this.perspCamera.near,fov:this.perspCamera.fov,zoom:this.perspCamera.zoom},up:this.up.toArray(),targetOffset:this.targetOffset,isUpVectorFlipped:this.isUpVectorFlipped};return ly(t,e)}fromCameraState(e){let{orthographic:t,perspective:r}=e;return e.type!==void 0&&(this.cameraType=e.type),e.far!==void 0&&(this.far=e.far),t!==void 0&&(t.near!==void 0&&(this.orthoCamera.near=t.near),t.zoom!==void 0&&(this.orthoCamera.zoom=t.zoom)),r!==void 0&&(r.near!==void 0&&(this.perspCamera.near=r.near),r.fov!==void 0&&(this.perspCamera.fov=r.fov),r.zoom!==void 0&&(this.perspCamera.zoom=r.zoom)),e.type==="PerspectiveCamera"?(this.zoom=this.perspCamera.zoom,this.fov=this.perspCamera.fov,this.near=this.perspCamera.near):(this.near=this.orthoCamera.near,this.zoom=this.orthoCamera.zoom),e.up!==void 0&&this.up.fromArray(e.up),e.targetOffset!==void 0&&(this.targetOffset=e.targetOffset),e.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateProjectionMatrix(),this}toState(e){return{...super.toState(e),...this.toCameraState(e),type:this.cameraType}}fromState(e){return super.fromState(e),this.fromCameraState(e),this}},jy=class extends Td(yc(ju),YM){constructor(){super(...arguments),this.objectType="EmptyObject"}static createFromState(e,t){let r=new jy().fromState(t);return r.uuid=e,r.objectHelper.update(),r}},ZM=class extends Td(yc(ZH),qM){constructor(...e){super(...e),this.objectType="LightDirectional",this._gizmos={},this.castShadow=!0,this.shadow.mapSize.width=2048,this.shadow.mapSize.height=2048,this.shadow.normalBias=1,this.layers.enable(3);let t=this.shadow.camera;t.top=1250,t.bottom=-1250,t.right=1250,t.left=-1250,t.near=-1e4,t.far=2500;let r=new Ta(this.shadow.camera);r.visible=!1,this._gizmos.shadowmap=r,this.update()}static createFromState(e,t,r){let i=new ZM().fromState(t,r);return i.uuid=e,i}get gizmos(){return this._gizmos}showGizmos(){for(let e in this._gizmos){let t=this._gizmos[e];t instanceof Ta&&(t.visible=!0)}}hideGizmos(){for(let e in this._gizmos){let t=this._gizmos[e];t instanceof Ta&&(t.visible=!1)}}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this._gizmos){let t=this._gizmos[e];t instanceof Ta&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}fromDirectionalLightState(e,t){let r=e.depth!==void 0&&e.depth!==this.shadow.camera.far||e.size!==void 0&&e.size/2!==this.shadow.camera.right;return super.fromLightState(e,t),e.size!==void 0&&kJ(this,e.size),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),r&&this.update(),this}fromState(e,t){return super.fromState(e),this.fromDirectionalLightState(e,t),this}},$M=class extends Td(yc(XH),XM){constructor(...e){super(...e),this.objectType="LightPoint",this._gizmos={},this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let t=this.shadow.camera;t.fov=90,t.aspect=1,t.near=100,t.far=2500;let r=new C(-t.far+this.position.x,-t.far+this.position.y,-t.far+this.position.z),i=new C(t.far+this.position.x,t.far+this.position.y,t.far+this.position.z),s=new yr(r,i),n=new vp(s,new lt(16755200));n.visible=!1,this._gizmos.shadowmap=n,this.update()}static createFromState(e,t,r){let i=new $M().fromState(t,r);return i.uuid=e,i}get gizmos(){return this._gizmos}showGizmos(){for(let e in this._gizmos){let t=this._gizmos[e];t instanceof vp&&(t.visible=!0)}}hideGizmos(){for(let e in this._gizmos){let t=this._gizmos[e];t instanceof vp&&(t.visible=!1)}}update(){if(this.shadow&&(this.shadow.camera.updateProjectionMatrix(),this._gizmos))for(let e in this._gizmos){let t=this._gizmos[e];if(t instanceof vp){let r=this.shadow.camera,i=new C(-r.far+this.position.x,-r.far+this.position.y,-r.far+this.position.z),s=new C(r.far+this.position.x,r.far+this.position.y,r.far+this.position.z);t.box.set(i,s),t.updateMatrixWorld(!0)}}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}fromPointLightState(e,t){return super.fromLightState(e,t),e.distance!==void 0&&(this.distance=e.distance),e.decay!==void 0&&(this.decay=e.decay),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),this}fromState(e,t){return super.fromState(e),this.fromPointLightState(e,t),this}},xC=new C,bC=new C,wC=new Xt,JM=class extends Td(yc(qH),QM){constructor(...e){super(...e),this.objectType="LightSpot",this._gizmos={},this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let t=this.shadow.camera;t.fov=Lt.RAD2DEG*2*this.angle,t.aspect=1,t.near=100,t.far=2500;let r=new Ta(this.shadow.camera);r.visible=!1,this._gizmos.shadowmap=r,this.update()}static createFromState(e,t,r){let i=new JM().fromState(t,r);return i.uuid=e,i}get gizmos(){return this._gizmos}showGizmos(){for(let e in this._gizmos){let t=this._gizmos[e];t instanceof Ta&&(t.visible=!0)}}hideGizmos(){for(let e in this._gizmos){let t=this._gizmos[e];t instanceof Ta&&(t.visible=!1)}}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this._gizmos){let t=this._gizmos[e];t instanceof Ta&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),bC.setFromMatrixPosition(this.matrixWorld),wC.setFromRotationMatrix(this.matrixWorld),xC.copy(this.up).applyQuaternion(wC).negate().multiplyScalar(this.distance),this.target.position.copy(bC).add(xC),this.target.updateMatrixWorld(),this.objectHelper&&this.objectHelper.update()}fromSpotLightState(e,t){return super.fromLightState(e,t),e.distance!==void 0&&(this.distance=e.distance),e.decay!==void 0&&(this.decay=e.decay),e.angle!==void 0&&(this.angle=e.angle),e.penumbra!==void 0&&(this.penumbra=e.penumbra),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),this}fromState(e,t){return super.fromState(e),this.fromSpotLightState(e,t),this}},_C=e=>e.tagName==="VIDEO",KM=class{static resize(e,t,r){let i=e/t,s;if(!r.image)return;let n=r.image;_C(n)?s=n.videoWidth/n.videoHeight:s=n.width/n.height,i>s&&(r.imageType=="WEBCAM"?r.repeat.set(-1,1*s/i):r.repeat.set(1,1*s/i)),i<s&&(r.imageType=="WEBCAM"?r.repeat.set(1*i/s*-1,1):r.repeat.set(1*i/s,1)),i==s&&(r.imageType=="WEBCAM"?r.repeat.set(-1,1):r.repeat.set(1,1))}static resizeTextureLayer(e,t,r){let i=e/t,s=r.image!==void 0?r.image.width/r.image.height:1,n;i>s?n={x:1,y:s/i}:i<s?n={x:i/s,y:1}:n={x:1,y:1},r.repeat.set(n.x,n.y),r.updateMatrix()}static resizeTextureLayers(e,t,r){let i=r.layers;for(let s=0;s<i.length;s++){let n=i[s];gK(n)&&KM.resizeTextureLayer(e,t,n.uniforms[`f${n.id}_texture`].value)}}static resizeComplex(e,t,r,i){let s=e/t,n,a=r.image;_C(a)?n=a.videoWidth/a.videoHeight:n=a.width/a.height,i.geometry.type.includes("Shape")?(s>n&&(r.imageType=="WEBCAM"?r.repeat.set(1/e*-1,1/t*n/s):r.repeat.set(1/e,1/t*n/s)),s<n&&(r.imageType=="WEBCAM"?r.repeat.set(1/e*s/n*-1,1/t):r.repeat.set(1/e*s/n,1/t)),s==n&&(r.imageType=="WEBCAM"?r.repeat.set(1/e*-1,1/t):r.repeat.set(1/e,1/t))):(s>n&&(r.imageType=="WEBCAM"?r.repeat.set(-1,1*n/s):r.repeat.set(1,1*n/s)),s<n&&(r.imageType=="WEBCAM"?r.repeat.set(1*s/n*-1,1):r.repeat.set(1*s/n,1)),s==n&&(r.imageType=="WEBCAM"?r.repeat.set(-1,1):r.repeat.set(1,1)))}},IK=class extends Vn{constructor(e,t){super(e,t),this.objectType="Mesh2D",this.castShadow=!0,this.receiveShadow=!0}updateGeometry(e){super.updateGeometry(e),this.material.layers&&KM.resizeTextureLayers(this.geometry.userData.parameters.width,this.geometry.userData.parameters.height,this.material)}},eL=class extends Vn{constructor(e,t){super(e,t),this.objectType="Mesh3D",this.castShadow=!0,this.receiveShadow=!0}},RK=class extends eL{constructor(e,t){super(e,t),this.objectType="NonParametric"}},NK=class extends p1{constructor(e){super(e)}load(e,t,r,i){let s=this,n=new L3(this.manager);n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(s.withCredentials),n.load(e,function(a){let o;try{o=JSON.parse(a)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),o=JSON.parse(a.substring(65,a.length-2))}let l=s.parse(o);t&&t(l)},r,i)}parse(e){return new UK(e)}},UK=class{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){let r=[],i=zK(e,t,this.data);for(let s=0,n=i.length;s<n;s++)r.push(...i[s].toShapes());return r}};ur=class extends vi{constructor({char:e,originalChar:t,fontFamily:r,letterSpacing:i,fontSize:s,LOD:n=16},a=new ec({color:0,opacity:1,visible:!0,transparent:!0,side:Ts})){let o=ur.loadChar(e,r,n);super(o.geometry,a),this.char=e,this.originalChar=t??e,this.fontFamily=r,this.letterSpacing=i,this.fontSize=s,this.LOD=n,this.resolution=o.resolution,this.glyphsHa=o.glyphsHa,this.localPosition=new se,this.charSize=0,this.geometry.userData={type:"CharacterGeometry",parameters:{char:this.char,fontFamily:this.fontFamily,letterSpacing:this.letterSpacing,fontSize:this.fontSize,lod:this.LOD,resolution:this.resolution,charSize:this.charSize,localPosition:this.localPosition}},this.updateFontSize(this.fontSize)}static get FONTS_PATH(){return ur._fontPath}static set FONTS_PATH(e){ur._fontPath=e}updatePosition(e,t){this.localPosition.copy(e);let r=new C(this.localPosition.x,-this.localPosition.y,0);this.position.copy(r).add(t)}updateFontSize(e){let t=e/this.resolution;this.fontSize=e,this.scale.set(this.fontSize,this.fontSize,1),this.charSize=this.glyphsHa*t*this.letterSpacing}updateFontFamily(e){if(this.fontFamily===e)return;this.fontFamily=e;let t=ur.loadChar(this.char,e,this.LOD);this.geometry=t.geometry,this.resolution=t.resolution,this.glyphsHa=t.glyphsHa,this.geometry.userData={type:"CharacterGeometry",parameters:{char:this.char,fontFamily:this.fontFamily,letterSpacing:this.letterSpacing,fontSize:this.fontSize,lod:this.LOD,resolution:this.resolution,charSize:this.charSize,localPosition:this.localPosition}},this.updateFontSize(this.fontSize)}updateChar(e){if(this.char===e)return;this.char=e;let t=ur.loadChar(e,this.fontFamily,this.LOD);this.geometry=t.geometry,this.resolution=t.resolution,this.glyphsHa=t.glyphsHa,this.geometry.userData={type:"CharacterGeometry",parameters:{char:this.char,fontFamily:this.fontFamily,letterSpacing:this.letterSpacing,fontSize:this.fontSize,lod:this.LOD,resolution:this.resolution,charSize:this.charSize,localPosition:this.localPosition}},this.updateFontSize(this.fontSize)}updateLetterSpacing(e){this.letterSpacing!==e&&(this.letterSpacing=e,this.updateFontSize(this.fontSize))}updateLOD(e){if(this.LOD===e)return;this.LOD=e;let t=ur.loadChar(this.char,this.fontFamily,this.LOD);this.geometry=t.geometry,this.resolution=t.resolution,this.glyphsHa=t.glyphsHa,this.geometry.userData={type:"CharacterGeometry",parameters:{char:this.char,fontFamily:this.fontFamily,letterSpacing:this.letterSpacing,fontSize:this.fontSize,lod:this.LOD,resolution:this.resolution,charSize:this.charSize,localPosition:this.localPosition}},this.updateFontSize(this.fontSize)}clone(){let e={char:this.char,originalChar:this.originalChar,fontFamily:this.fontFamily,letterSpacing:this.letterSpacing,fontSize:this.fontSize,LOD:this.LOD};return new ur(e).copy(this)}static loadFont(e){return new Promise(function(t,r){ur.fontCache[e]?t(ur.fontCache[e]):new NK().load(ur.FONTS_PATH+e+".json",i=>{ur.fontCache[e]=i,t(i)},void 0,r)})}static loadChar(e,t,r){if(ur.charCache[e]){if(ur.charCache[e][r]&&ur.charCache[e][r].fontFamily===t)return ur.charCache[e][r]}else ur.charCache[e]={};let i=ur.fontCache[t],s=i.generateShapes(e,1);return ur.charCache[e][r]={geometry:new T3(s,r),fontFamily:t,resolution:i.data.resolution,glyphsHa:i.data.glyphs[e].ha},ur.charCache[e][r]}},Aa=ur;Aa.charCache={},Aa.fontCache={},Aa._fontPath="/_assets/_fonts/";Lp=new se,Hy=class{constructor(e,t,r){this.message=[],this.endLine=!0,this.yLinePos=e,this.lineHeight=t,this.maxCharSize=r,this.nextChar3DPos=new se(0,this.yLinePos+this.maxCharSize*this.lineHeight),this.align=1}addChar3D(e,t,r=this.message.length){this.message.splice(r,0,e),e.fontSize>this.maxCharSize?(this.maxCharSize=e.fontSize,this.nextChar3DPos.y=this.yLinePos+this.maxCharSize*this.lineHeight,this.fullUpdate(t)):(e.updatePosition(this.nextChar3DPos,t),this.nextChar3DPos.x+=e.charSize)}deleteChar3D(e=this.message.length-1){let t=this.message[e];if(t)return this.message.splice(e,1),this.nextChar3DPos.x-=t.charSize,t}isEndLine(e){this.endLine=e}fullUpdate(e,t=0){this.nextChar3DPos.x=0;for(let r=t,i=this.message.length;r<i;r+=1)this.message[r].updatePosition(this.nextChar3DPos,e),this.nextChar3DPos.x+=this.message[r].charSize}checkOverFlow(e){let t,r=this.message.length-1;if(r<=0)return!1;for(;r>=0;){if(this.message[r].char!==" "){t=this.message[r];break}r-=1}return!!(r>=0&&t&&t.localPosition.x+t.charSize>e)}containSpaceOverFlow(e=this.message.length-1){for(let t=e;t>=0;t-=1)if(this.message[t].char===" ")return!0;return!1}containSpace(e=this.message.length-1){if(this.endLine)return!0;for(let t=e;t>=0;t-=1)if(this.message[t].char===" ")return!0;return!1}popWord(e=this.message.length-1){let t=[],r=!0,i;for(i=e;i>=0;i-=1)if(this.message[i].char===" "){r=!1,t.length===0&&(i-=1,t.splice(0,0,this.message[i]));break}else t.splice(0,0,this.message[i]);return r?t=[]:this.message.splice(i+1,t.length),t}getWord(e=0,t=1){let r=[],i=e;for(i=e;;i+=t){if(!this.message[i]||this.message[i].char===" "){r.length===0&&this.message[i]&&(r.push(this.message[i]),this.message.splice(i,1));break}t>0?(r.push(this.message[i]),this.message.splice(i,1),i-=t):(r.splice(0,0,this.message[i]),this.message.splice(i,1))}return r}getWordAtIndex(e){let t=[];for(let r=e;r<this.message.length&&this.message[r].char!==" ";r++)t.push(this.message[r]);for(let r=e-1;r>=0&&this.message[r].char!==" ";r--)t.splice(0,0,this.message[r]);return t}wordSize(e=0,t=-1){let r=0,i=e;for(;i>=0&&i<this.message.length;){if(this.message[i].char===" "){r===0&&(r=this.message[i].charSize);break}r+=this.message[i].charSize,i+=t}return(i<0||i>=this.message.length)&&!this.endLine?this.message[e]?this.message[e].charSize:999999999:r===0?999999999:r}spaceLeft(e){return e-this.nextChar3DPos.x}popChar(e=this.message.length-1){return this.nextChar3DPos.x-=this.message[e].charSize,this.message.splice(e,1)}isEmpty(){return!this.message.length}updateNextCharPosY(){this.nextChar3DPos.y=this.yLinePos+this.maxCharSize*this.lineHeight}updateYLinePos(e){this.yLinePos=e,this.updateNextCharPosY()}updatelineHeight(e){this.lineHeight=e,this.updateNextCharPosY()}updateFontSize(e,t=0,r=this.message.length-1){for(let i=t;i<=r;i+=1)this.message[i].updateFontSize(e);this.maxCharSize=e,this.nextChar3DPos.y=this.yLinePos+this.maxCharSize*this.lineHeight}countSpaces(){let e=0;for(let t=0;t<this.message.length;t++)this.message[t].char===" "&&(e+=1);return e}alignText(e,t,r,i,s){switch(r){case 1:this.leftAlign(e,s);break;case 3:this.centerAlign(this.spaceLeft(t),e,s);break;case 2:this.rightAlign(this.spaceLeft(t),e,s);break;case 4:this.justifyAlign(this.spaceLeft(t),e,s);break}}offsetCharacters(e,t,r){Lp.set(t,r);let i=this.message.length;for(let s=0;s<i;s++)this.message[s].updatePosition(this.message[s].localPosition.add(Lp),e)}leftAlign(e,t){this.align=1,this.offsetCharacters(e,0,t)}centerAlign(e,t,r){this.align=3,this.offsetCharacters(t,e/2,r)}rightAlign(e,t,r){this.align=2,this.offsetCharacters(t,e,r)}justifyAlign(e,t,r){if(this.align=4,this.endLine){this.offsetCharacters(t,0,r);return}let i=this.countSpaces();if(i===0){this.offsetCharacters(t,0,r);return}let s=e/i,n=0;for(let a=0;a<this.message.length;a++)this.message[a].char===" "&&(n+=s),Lp.set(n,r),this.message[a].updatePosition(this.message[a].localPosition.add(Lp),t)}clone(){let e=new Hy(this.yLinePos,this.lineHeight,this.maxCharSize);e.nextChar3DPos=this.nextChar3DPos.clone(),e.align=this.align,e.endLine=this.endLine;for(let t=0;t<this.message.length;t++)e.message.push(this.message[t].clone());return e}},tL=class extends Vn{constructor(e){super(e,new ec({transparent:!0,opacity:1,visible:!1,side:Ts})),this.objectType="TextFrame",this.charContainer=new Nt,this.add(this.charContainer),this.material.visible=!1,this._geometryUserData=e.userData,this.userData.textFrame={hexColor:null,opacity:1,visible:!0,text:"",fontSize:16,lineHeight:1.5,letterSpacing:1,fontFamily:"roboto_regular",textTransform:1,horizontalAlignment:1,verticalAlignment:1,LOD:16,maxLineSize:this._geometryUserData.parameters.width,textOrigin:new C(this._geometryUserData.parameters.width*-.5,this._geometryUserData.parameters.height*.5,0),textLines:[]},this.createTextLine()}static createFromState(e,t,r){let i=rM.create({parameters:{width:t.width,height:t.height}}),s=new tL(i).fromState(t,r);return s.uuid=e,s}async updateText(e){this.clearText();let t=this.userData.textFrame,r=t.fontFamily;await Aa.loadFont(r),t.text=e;let i=t.textOrigin,s=new ec({visible:t.visible,transparent:!0,side:Ts}),n=e.split(`
`),a=0;this.userData.textFrame.textLines=n.map((o,l)=>{let c=new Hy(a,t.lineHeight,t.fontSize);return c.message=o.split("").map(h=>{let u={char:h,fontFamily:r,letterSpacing:t.letterSpacing,fontSize:t.fontSize,LOD:16},d=s.clone();d.color=t.hexColor,d.opacity=t.opacity;let p=new Aa(u,d);return c.addChar3D(p,i),this.charContainer.add(p),p}),a+=c.maxCharSize*c.lineHeight,c}),this.textFullUpdate(),this.checkOverFlow()}clearText(){let e=this.userData.textFrame.textLines;for(;this.charContainer.children.length;){let t=this.charContainer.children[0];this.charContainer.remove(t)}for(;e.length;)e.pop()}raycast(e,t){let r=[];if(super.raycast(e,r),r.length>0){t.push(r[0]);return}let i=[];for(let s=0,n=this.charContainer.children.length;s<n;++s)if(this.charContainer.children[s]instanceof Aa&&(e.intersectObject(this.charContainer.children[s],!1,i),i.length>0)){i[0].object=this,t.push(i[0]);return}}updateGeometry(e){let t=this.userData,r=this.geometry.userData,i=r.parameters.width,s=r.parameters.height,n=e.parameters?.width??i,a=e.parameters?.height??s,o=t.textFrame;super.updateGeometry(e),o.maxLineSize=n,o.textOrigin.set(-.5*n,.5*a,0),a!==s?(this.checkOverFlow(),this.checkCapacity()):n!==i&&(i<n?this.checkCapacity():i>n&&this.checkOverFlow())}checkOverFlow(e=0){let t=this.userData,r=t.textFrame.textOrigin,i=t.textFrame.textLines;for(let s=e;s<i.length;s++){i[s].updateYLinePos(this.getNewLinePosition(s)),i[s].fullUpdate(r);let n=[];for(;i[s].checkOverFlow(t.textFrame.maxLineSize);)i[s].containSpaceOverFlow()?n.unshift(i[s].getWord(i[s].message.length-1,-1)):n.unshift(i[s].popChar());if(n.length>0){i[s+1]===void 0?(i[s].isEndLine(!1),this.createTextLine()):i[s].endLine&&(this.createTextLine(s+1),i[s].isEndLine(!1),i[s+1].isEndLine(!0));let a=0;for(let o=0;o<n.length;o+=1)for(let l=0;l<n[o].length;l+=1)i[s+1].addChar3D(n[o][l],r,a),a+=1;i[s+1].fullUpdate(r)}i[s].fullUpdate(r)}this.textFullUpdate(e)}checkCapacity(e=0){let t=this.userData,r=t.textFrame.textOrigin,i=t.textFrame.maxLineSize,s=t.textFrame.textLines;for(let n=e;n<s.length;n+=1)if(s[n].updateYLinePos(this.getNewLinePosition(n)),s[n].fullUpdate(r),!!s[n-1])for(;!s[n-1].endLine;){let a,o=s[n-1].spaceLeft(i);if(s[n].wordSize(0,1)<=o){s[n].containSpace()?a=s[n].getWord(0,1):a=s[n].popChar(0);for(let l=0;l<a.length;l+=1)a[l]&&s[n-1].addChar3D(a[l],r)}else{s[n].isEmpty()?(s[n].endLine&&s[n-1].isEndLine(!0),s.splice(n,1),n-=1):(s[n].updateYLinePos(this.getNewLinePosition(n)),s[n].fullUpdate(r));break}}this.textFullUpdate(e)}createTextLine(e=this.userData.textFrame.textLines.length){let t=this.userData.textFrame;t.textLines.splice(e,0,new Hy(this.getNewLinePosition(e),t.lineHeight,t.fontSize))}textFullUpdate(e=0){let t=this.userData.textFrame,r=t.textLines,i=this.getVerticalAlignmentOffSet();for(let s=e;s<r.length;s++)r[s].updateYLinePos(this.getNewLinePosition(s)),r[s].fullUpdate(t.textOrigin),r[s].alignText(t.textOrigin,t.maxLineSize,t.horizontalAlignment,t.verticalAlignment,i)}getVerticalAlignmentOffSet(){switch(this.userData.textFrame.verticalAlignment){case 1:return 0;case 2:return this.getRemainingVerticalSpace()/2;case 3:return this.getRemainingVerticalSpace();default:return 0}}getRemainingVerticalSpace(){let e=this.userData.textFrame.textLines;return this.geometry.userData.parameters.height-this.getNewLinePosition(e.length)}getNewLinePosition(e){let t=this.userData.textFrame.textLines,r=0;for(let i=0;i<e;i+=1)r+=t[i].maxCharSize*t[i].lineHeight;return r}updateColor(e){let t=this.userData;t.textFrame.hexColor=e;let r=t.textFrame.textLines;for(let i=0;i<r.length;i++){let s=r[i].message;for(let n=0;n<s.length;n++){let a=s[n].material;a.color?.isColor&&(a.color=e)}}}updateOpacity(e){let t=this.userData;t.textFrame.opacity=e;let r=t.textFrame.textLines;for(let i=0;i<r.length;i++){let s=r[i].message;for(let n=0;n<s.length;n++){let a=s[n].material;a.opacity=e}}}updateVisible(e){let t=this.userData;t.textFrame.visible=e;let r=t.textFrame.textLines;for(let i=0;i<r.length;i++){let s=r[i].message;for(let n=0;n<s.length;n++){let a=s[n].material;a.visible=e}}}async updateFontFamily(e){await Aa.loadFont(e);let t=this.userData.textFrame,r=t.textLines;t.fontFamily=e;for(let i=0;i<r.length;i++){let s=r[i].message;for(let n=0;n<s.length;n++)s[n].updateFontFamily(e)}this.textFullUpdate(),this.checkOverFlow(),this.checkCapacity()}updateFontSize(e){let t=this.userData.textFrame,r=t.textLines,i=t.fontSize;t.fontSize=e;for(let s=0;s<r.length;s++)r[s].updateFontSize(e);this.textFullUpdate(),e>i?this.checkOverFlow():e<i&&this.checkCapacity()}async updateTextTransform(e){let t=this.userData.textFrame;await Aa.loadFont(t.fontFamily);let r=t.textLines;switch(t.textTransform=e,e){case 2:for(let i=0;i<r.length;i++){let s=r[i].message;for(let n=0;n<s.length;n++)r[i].message[n].updateChar(s[n].char.toUpperCase())}break;case 3:for(let i=0;i<r.length;i++){let s=r[i].message;for(let n=0;n<s.length;n++)r[i].message[n].updateChar(s[n].char.toLowerCase())}break;default:for(let i=0;i<r.length;i++){let s=r[i].message;for(let n=0;n<s.length;n++)r[i].message[n].updateChar(s[n].originalChar)}}this.textFullUpdate(),this.checkOverFlow(),this.checkCapacity()}updateLetterSpacing(e){let t=this.userData,r=t.textFrame.textLines;t.textFrame.letterSpacing=e;for(let i=0;i<r.length;i++){let s=r[i].message;for(let n=0;n<s.length;n++)s[n].updateLetterSpacing(e)}this.textFullUpdate(),this.checkOverFlow(),this.checkCapacity()}updateLOD(e){let t=this.userData;t.textFrame.LOD=e;let r=t.textFrame.textLines;for(let i=0;i<r.length;i++);this.textFullUpdate(),this.checkOverFlow(),this.checkCapacity()}updateLineHeight(e){let t=this.userData,r=t.textFrame.textLines;t.textFrame.lineHeight=e;for(let i=0;i<r.length;i++)r[i].updatelineHeight(e);this.textFullUpdate()}updateVerticalAlignment(e){let t=this.userData;t.textFrame.verticalAlignment=e,this.textFullUpdate()}updateHorizontalAlignment(e){let t=this.userData;t.textFrame.horizontalAlignment=e,this.textFullUpdate()}fromTextFrameData(e,t){if(e.color!==void 0){let r=qr(e.color,t);this.updateColor(r),this.updateOpacity(r.a)}e.alpha!==void 0&&this.updateOpacity(e.alpha),e.font!==void 0&&this.updateFontFamily(e.font),e.horizontalAlign!==void 0&&this.updateHorizontalAlignment(e.horizontalAlign),e.verticalAlign!==void 0&&this.updateVerticalAlignment(e.verticalAlign),e.textTransform!==void 0&&this.updateTextTransform(e.textTransform),e.fontSize!==void 0&&this.updateFontSize(e.fontSize),e.lineHeight!==void 0&&this.updateLineHeight(e.lineHeight),e.letterSpacing!==void 0&&this.updateLetterSpacing(e.letterSpacing),e.text!==void 0&&e.text!==""&&this.updateText(e.text),(e.width!==void 0||e.height!==void 0)&&this.updateGeometry({parameters:{width:e.width,height:e.height}})}fromState(e,t){return super.fromState(e),this.fromTextFrameData(e,t),this}},Gp=tL;Gp.VerticalAlign=zT,Gp.HorizontalAlign=UT,Gp.TextTransform=jT;Vy=class extends oc{},HK=KC(W5()),DC=new Map;Wp=class{constructor({src:e,volume:t,delay:r,loop:i}){this._volume=1,this.delay=0,this._loop=1,this.loopsRemaining=0,this._isStarted=!1,this.onEnd=()=>{this._loop>1?this.loopsRemaining===1/0?this.play():this.loopsRemaining>1?(this.play(),this.loopsRemaining--):this._isStarted=!1:this._isStarted=!1};let s;typeof e=="string"?s={src:e}:s={src:VK(e),format:"wav"},this.sound=new HK.Howl(s),this.sound.on("end",this.onEnd),this._src=e,t!==void 0&&(this.volume=t),r!==void 0&&(this.delay=r),i!==void 0&&(this.loop=i)}get src(){return this._src}get isStarted(){return this._isStarted}get volume(){return this._volume}set volume(e){this._volume=e,this.sound.volume(e)}get loop(){return this._loop}set loop(e){this._loop=e,this.loopsRemaining=e}fade(e,t=1e3){e?(this.sound.volume(this._volume),this.clearFade(),this.fadeTimerId=window.setTimeout(()=>{this.sound.fade(this._volume,0,t),this.clearFade()},e)):this.sound.fade(this._volume,0,t)}on(e,t,r){this.sound.on(e,t,r)}off(e,t,r){this.sound.off(e,t,r)}play(){this._isStarted=!0,this.delay?(this.clearDelay(),this.delayTimerId=window.setTimeout(()=>{this.sound.play(),this.clearDelay()},this.delay)):this.sound.play()}pause(){this._isStarted=!1,this.sound.pause(),this.clearFade(),this.clearDelay()}stop(){this._isStarted=!1,this.sound.stop(),this.loopsRemaining=this._loop,this.clearFade(),this.clearDelay()}clearFade(){this.fadeTimerId&&(clearTimeout(this.fadeTimerId),delete this.fadeTimerId)}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}dispose(e=!1){this.off(),this.stop(),this.clearFade(),this.clearDelay()}},GK=class{constructor(e,t={}){if(this.deletedMaterial=new Vy(ac.defaultTwoLayerData("basic"),this),this.deletedImage=new Ny(My.emptyImage),this.materials={},this.images={},this.colors={},this.audios={},this.penumbraSize=[],this.onImageLoad=()=>{this._onImageLoad&&this._onImageLoad()},t.images)for(let[r,i]of Object.entries(t.images))this.addImage(r,i);if(t.audios)for(let[r,i]of Object.entries(t.audios))this.addAudio(r,i.data);this.reset(e)}setOnImageLoad(e){this._onImageLoad=e}reset(e){for(let[t,r]of Object.entries(e.images))this.addImage(t,r);for(let[t,r]of Object.entries(e.colors))this.addColor(t,r);for(let[t,r]of Object.entries(e.materials))this.addMaterial(t,new Vy(r,this));for(let[t,r]of Object.entries(e.audios))this.addAudio(t,r.data);this.penumbraSize=e.penumbraSize}addMaterial(e,t){t.uuid=e,this.materials[e]=t}deleteMaterial(e){this.materials[e]&&(this.materials[e].dispose(),delete this.materials[e])}getMaterial(e){return this.materials[e]}getMaterialOrDeletedPlaceholder(e){return this.materials[e]??this.deletedMaterial}material(e){return typeof e=="string"?this.getMaterialOrDeletedPlaceholder(e):new oc(e,this)}getMaterials(){return this.materials}addImage(e,t){return this.images[e]?(this.images[e].updateSrc(t.data),!0):(this.images[e]=new Ny(t,this.onImageLoad),!1)}deleteImage(e){this.images[e]&&delete this.images[e]}getDefaultImage(){return this.images.image_0}getImage(e){return this.images[e]??this.deletedImage}image(e){return typeof e=="string"?this.getImage(e):new MM(e,this.onImageLoad)}getImages(){return this.images}addColor(e,t){return this.colors[e]?("a"in t?this.colors[e].setRGBA(t.r,t.g,t.b,t.a):this.colors[e].setRGBA(t.r,t.g,t.b,1),!0):("a"in t?this.colors[e]=new cf(t.r,t.g,t.b,t.a):this.colors[e]=new cf(t.r,t.g,t.b,1),!1)}updateColor(e,t){if(this.colors[e]){let r=this.colors[e];return this.colors[e].r=t.r??r.r,this.colors[e].g=t.g??r.g,this.colors[e].b=t.b??r.b,this.colors[e].a=t.a??r.a,!0}return!1}deleteColor(e){this.colors[e]&&delete this.colors[e]}getColor(e){return this.colors[e]}color(e){let t;if(typeof e=="string"){let r=this.getColor(e);r?t=r:(console.warn("Tried to create color layer params with a color key that does not exist in the assets manager"),t=new Cs(0,0,0,0))}else return"a"in e?new Cs(e.r,e.g,e.b,e.a):new Cs(e.r,e.g,e.b,1);return t}addAudio(e,t){this.audios[e]=t}getAudio(e){let t=this.audios[e];if(t instanceof Wp)return t;{let r=new Wp({src:t});return this.audios[e]=r,r}}deleteAudio(e){this.audios[e]&&delete this.audios[e]}dispose(){Object.keys(this.materials).forEach(e=>this.deleteMaterial(e)),this._onImageLoad=void 0,Object.values(this.audios).forEach(e=>{e instanceof Wp&&e.dispose()}),this.audios={}}},V_e=new GK(Ty.emptyData()),rL={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0,rewind:!0},X1={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},WK=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],df={CSS:{},springs:{}};rt={arr:function(e){return Array.isArray(e)},obj:function(e){return rd(Object.prototype.toString.call(e),"Object")},pth:function(e){return rt.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return!("isNode"in e)&&(e.nodeType||rt.svg(e))},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return rt.hex(e)||rt.rgb(e)||rt.hsl(e)},key:function(e){return!rL.hasOwnProperty(e)&&!X1.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};YK=function(){var e=11,t=1/(e-1);function r(h,u){return 1-3*u+3*h}function i(h,u){return 3*u-6*h}function s(h){return 3*h}function n(h,u,d){return((r(u,d)*h+i(u,d))*h+s(u))*h}function a(h,u,d){return 3*r(u,d)*h*h+2*i(u,d)*h+s(u)}function o(h,u,d,p,g){var m,f,v=0;do f=u+(d-u)/2,m=n(f,p,g)-h,m>0?d=f:u=f;while(Math.abs(m)>1e-7&&++v<10);return f}function l(h,u,d,p){for(var g=0;g<4;++g){var m=a(u,d,p);if(m===0)return u;var f=n(u,d,p)-h;u-=f/m}return u}function c(h,u,d,p){if(!(0<=h&&h<=1&&0<=d&&d<=1))return;var g=new Float32Array(e);if(h!==u||d!==p)for(var m=0;m<e;++m)g[m]=n(m*t,h,d);function f(v){for(var x=0,b=1,y=e-1;b!==y&&g[b]<=v;++b)x+=t;--b;var w=(v-g[b])/(g[b+1]-g[b]),_=x+w*t,D=a(_,h,d);return D>=.001?l(v,_,h,d):D===0?_:o(v,x,x+t,h,d)}return function(v){return h===u&&d===p||v===0||v===1?v:n(f(v),u,p)}}return c}(),nL=function(){var e={linear:function(){return function(i){return i}}},t={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var s,n=4;i<((s=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((s*3-2)/22-i,2)}},Elastic:function(i,s){i===void 0&&(i=1),s===void 0&&(s=.5);var n=nn(i,1,10),a=nn(s,.1,2);return function(o){return o===0||o===1?o:-n*Math.pow(2,10*(o-1))*Math.sin((o-1-a/(Math.PI*2)*Math.asin(1/n))*(Math.PI*2)/a)}}},r=["Quad","Cubic","Quart","Quint","Expo"];return r.forEach(function(i,s){t[i]=function(){return function(n){return Math.pow(n,s+2)}}}),Object.keys(t).forEach(function(i){var s=t[i];e["easeIn"+i]=s,e["easeOut"+i]=function(n,a){return function(o){return 1-s(n,a)(1-o)}},e["easeInOut"+i]=function(n,a){return function(o){return o<.5?s(n,a)(o*2)/2:1-s(n,a)(o*-2+2)/2}}}),e}();mL={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,i,s){if(i.list.set(t,r),t===i.last||s){var n="";i.list.forEach(function(a,o){n+=o+"("+a+") "}),e.style.transform=n}}};EC=0;ii=[],CC=[],gee=function(){function e(){qp=requestAnimationFrame(t)}function t(r){var i=ii.length;if(i){for(var s=0;s<i;){var n=ii[s];if(!n.paused)n.tick(r);else{var a=ii.indexOf(n);a>-1&&(ii.splice(a,1),i=ii.length)}s++}e()}else qp=cancelAnimationFrame(qp)}return e}();typeof document<"u"&&document.addEventListener("visibilitychange",vee);gr.version="3.2.0";gr.speed=1;gr.running=ii;gr.remove=yee;gr.get=ex;gr.set=gL;gr.convertPx=J1;gr.path=aee;gr.setDashoffset=see;gr.stagger=xee;gr.timeline=bee;gr.easing=Q1;gr.penner=nL;gr.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};G_e=new C,W_e=new C,q_e=new Xt,Y_e=new Yi,X_e=new Xe,Q_e=new C,Z_e=new qi,$_e=new Xe,J_e=new C,K_e=new qi;(e=>(e.isPlayable=t=>t.type==="audio"&&t.data.interaction==="play",e.create=function(t,r,i,s){if(!((r.trigger==="keyDown"||r.trigger==="keyUp")&&r.key===void 0))if(r.interaction==="play"){if(r.audio){let n=new Ea(t,r,i);return Ea.cache.set(t,n),n}}else return new wee(r,s)}))(MC||(MC={}));Ea=class{constructor(e,t,r){this.id=e,this.type="audio";let{audio:i,volume:s,delay:n,loop:a}=t,o=typeof i=="string"?r.getAudio(i).src:i.data;this.audioPlayer=new Wp({src:o,volume:s,delay:n,loop:a}),this.data=t}dispatch(){this.data.toggle==="stop"?this.audioPlayer.isStarted?this.audioPlayer.stop():(this.audioPlayer.stop(),this.audioPlayer.play()):this.data.toggle==="pause"?this.audioPlayer.isStarted?this.audioPlayer.pause():this.audioPlayer.play():(this.audioPlayer.stop(),this.audioPlayer.play())}dispose(){this.audioPlayer.dispose()}};Ea.cache=new Map;wee=class{constructor(e,t){this.type="audio",this.data=e,this.scene=t}dispatch(){this.data.object?this.data.audioEvent?this.pauseAudio(this.data.audioEvent):this.pauseAudiosByObject(this.data.object):this.pauseAudios()}pauseAudio(e){let t=Ea.cache.get(e),r=this.data.interaction;!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.audioPlayer[r](),this.disposeDelay()},this.data.delay)):t.audioPlayer[r]())}pauseAudiosByObject(e){let t=this.scene.find(e)?.interaction?.events.audio,r=this.data.interaction;if(t)if(this.data.delay>0)this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{for(let i of t)i instanceof Ea&&i.audioPlayer[r]();this.disposeDelay()},this.data.delay);else for(let i of t)i instanceof Ea&&i.audioPlayer[r]()}pauseAudios(){let e=this.data.interaction;if(this.data.delay>0)this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{for(let t of Ea.cache.values())t.audioPlayer[e]();this.disposeDelay()},this.data.delay);else for(let t of Ea.cache.values())t.audioPlayer[e]()}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},_ee=Math.pow(2,-24),kp=class{constructor(){}};In=32,Cee=(e,t)=>e.candidate-t.candidate,_a=new Array(In).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),Bp=new Float32Array(6);fn=class{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let r=1/0,i=-1/0;for(let s=0,n=e.length;s<n;s++){let a=e[s][t];r=a<r?a:r,i=a>i?a:i}this.min=r,this.max=i}setFromPoints(e,t){let r=1/0,i=-1/0;for(let s=0,n=t.length;s<n;s++){let a=t[s],o=e.dot(a);r=o<r?o:r,i=o>i?o:i}this.min=r,this.max=i}isSeparated(e){return this.min>e.max||e.min>this.max}};fn.prototype.setFromBox=function(){let e=new C;return function(t,r){let i=r.min,s=r.max,n=1/0,a=-1/0;for(let o=0;o<=1;o++)for(let l=0;l<=1;l++)for(let c=0;c<=1;c++){e.x=i.x*o+s.x*(1-o),e.y=i.y*l+s.y*(1-l),e.z=i.z*c+s.z*(1-c);let h=t.dot(e);n=Math.min(h,n),a=Math.max(h,a)}this.min=n,this.max=a}}();eDe=function(){let e=new fn;return function(t,r){let i=t.points,s=t.satAxes,n=t.satBounds,a=r.points,o=r.satAxes,l=r.satBounds;for(let c=0;c<3;c++){let h=n[c],u=s[c];if(e.setFromPoints(u,a),h.isSeparated(e))return!1}for(let c=0;c<3;c++){let h=l[c],u=o[c];if(e.setFromPoints(u,i),h.isSeparated(e))return!1}}}(),Bee=function(){let e=new C,t=new C,r=new C;return function(i,s,n){let a=i.start,o=e,l=s.start,c=t;r.subVectors(a,l),e.subVectors(i.end,s.start),t.subVectors(s.end,s.start);let h=r.dot(c),u=c.dot(o),d=c.dot(c),p=r.dot(o),g=o.dot(o)*d-u*u,m,f;g!==0?m=(h*u-p*d)/g:m=0,f=(h+m*u)/d,n.x=m,n.y=f}}(),ix=function(){let e=new se,t=new C,r=new C;return function(i,s,n,a){Bee(i,s,e);let o=e.x,l=e.y;if(o>=0&&o<=1&&l>=0&&l<=1){i.at(o,n),s.at(l,a);return}else if(o>=0&&o<=1){l<0?s.at(0,a):s.at(1,a),i.closestPointToPoint(a,!0,n);return}else if(l>=0&&l<=1){o<0?i.at(0,n):i.at(1,n),s.closestPointToPoint(n,!0,a);return}else{let c;o<0?c=i.start:c=i.end;let h;l<0?h=s.start:h=s.end;let u=t,d=r;if(i.closestPointToPoint(h,!0,t),s.closestPointToPoint(c,!0,r),u.distanceToSquared(h)<=d.distanceToSquared(c)){n.copy(u),a.copy(h);return}else{n.copy(c),a.copy(d);return}}}}(),Fee=function(){let e=new C,t=new C,r=new qi,i=new Ji;return function(s,n){let{radius:a,center:o}=s,{a:l,b:c,c:h}=n;if(i.start=l,i.end=c,i.closestPointToPoint(o,!0,e).distanceTo(o)<=a||(i.start=l,i.end=h,i.closestPointToPoint(o,!0,e).distanceTo(o)<=a)||(i.start=c,i.end=h,i.closestPointToPoint(o,!0,e).distanceTo(o)<=a))return!0;let u=n.getPlane(r);if(Math.abs(u.distanceToPoint(o))<=a){let d=u.projectPoint(o,t);if(n.containsPoint(d))return!0}return!1}}(),Oee=1e-15;Gn=class extends Xi{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new C),this.satBounds=new Array(4).fill().map(()=>new fn),this.points=[this.a,this.b,this.c],this.sphere=new Ms,this.plane=new qi,this.needsUpdate=!0}intersectsSphere(e){return Fee(e,this)}update(){let e=this.a,t=this.b,r=this.c,i=this.points,s=this.satAxes,n=this.satBounds,a=s[0],o=n[0];this.getNormal(a),o.setFromPoints(a,i);let l=s[1],c=n[1];l.subVectors(e,t),c.setFromPoints(l,i);let h=s[2],u=n[2];h.subVectors(t,r),u.setFromPoints(h,i);let d=s[3],p=n[3];d.subVectors(r,e),p.setFromPoints(d,i),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(a,e),this.needsUpdate=!1}};Gn.prototype.closestPointToSegment=function(){let e=new C,t=new C,r=new Ji;return function(i,s=null,n=null){let{start:a,end:o}=i,l=this.points,c,h=1/0;for(let u=0;u<3;u++){let d=(u+1)%3;r.start.copy(l[u]),r.end.copy(l[d]),ix(r,i,e,t),c=e.distanceToSquared(t),c<h&&(h=c,s&&s.copy(e),n&&n.copy(t))}return this.closestPointToPoint(a,e),c=a.distanceToSquared(e),c<h&&(h=c,s&&s.copy(e),n&&n.copy(a)),this.closestPointToPoint(o,e),c=o.distanceToSquared(e),c<h&&(h=c,s&&s.copy(e),n&&n.copy(o)),Math.sqrt(h)}}();Gn.prototype.intersectsTriangle=function(){let e=new Gn,t=new Array(3),r=new Array(3),i=new fn,s=new fn,n=new C,a=new C,o=new C,l=new C,c=new Ji,h=new Ji,u=new Ji;return function(d,p=null){this.needsUpdate&&this.update(),d.isExtendedTriangle?d.needsUpdate&&d.update():(e.copy(d),e.update(),d=e);let g=this.plane,m=d.plane;if(Math.abs(g.normal.dot(m.normal))>1-1e-10){let f=this.satBounds,v=this.satAxes;r[0]=d.a,r[1]=d.b,r[2]=d.c;for(let y=0;y<4;y++){let w=f[y],_=v[y];if(i.setFromPoints(_,r),w.isSeparated(i))return!1}let x=d.satBounds,b=d.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let y=0;y<4;y++){let w=x[y],_=b[y];if(i.setFromPoints(_,t),w.isSeparated(i))return!1}for(let y=0;y<4;y++){let w=v[y];for(let _=0;_<4;_++){let D=b[_];if(n.crossVectors(w,D),i.setFromPoints(n,t),s.setFromPoints(n,r),i.isSeparated(s))return!1}}return p&&(console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),p.start.set(0,0,0),p.end.set(0,0,0)),!0}else{let f=this.points,v=!1,x=0;for(let I=0;I<3;I++){let V=f[I],P=f[(I+1)%3];c.start.copy(V),c.end.copy(P),c.delta(a);let Q=v?h.start:h.end,G=Bl(m.distanceToPoint(V));if(Bl(m.normal.dot(a))&&G){h.copy(c),x=2;break}if((m.intersectLine(c,Q)||G)&&!Bl(Q.distanceTo(P))){if(x++,v)break;v=!0}}if(x===1&&this.containsPoint(h.start))return p&&(p.start.copy(h.start),p.end.copy(h.start)),!0;if(x!==2)return!1;let b=d.points,y=!1,w=0;for(let I=0;I<3;I++){let V=b[I],P=b[(I+1)%3];c.start.copy(V),c.end.copy(P),c.delta(o);let Q=y?u.start:u.end,G=Bl(g.distanceToPoint(V));if(Bl(g.normal.dot(o))&&G){u.copy(c),w=2;break}if((g.intersectLine(c,Q)||G)&&!Bl(Q.distanceTo(P))){if(w++,y)break;y=!0}}if(w===1&&this.containsPoint(u.start))return p&&(p.start.copy(u.start),p.end.copy(u.start)),!0;if(w!==2)return!1;if(h.delta(a),u.delta(o),a.dot(o)<0){let I=u.start;u.start=u.end,u.end=I}let _=h.start.dot(a),D=h.end.dot(a),S=u.start.dot(a),A=u.end.dot(a),E=D<S,M=_<A;return _!==A&&S!==D&&E===M?!1:(p&&(l.subVectors(h.start,u.start),l.dot(a)>0?p.start.copy(h.start):p.start.copy(u.start),l.subVectors(h.end,u.end),l.dot(a)<0?p.end.copy(h.end):p.end.copy(u.end)),!0)}}}();Gn.prototype.distanceToPoint=function(){let e=new C;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}();Gn.prototype.distanceToTriangle=function(){let e=new C,t=new C,r=["a","b","c"],i=new Ji,s=new Ji;return function(n,a=null,o=null){let l=a||o?i:null;if(this.intersectsTriangle(n,l))return(a||o)&&(a&&l.getCenter(a),o&&l.getCenter(o)),0;let c=1/0;for(let h=0;h<3;h++){let u,d=r[h],p=n[d];this.closestPointToPoint(p,e),u=p.distanceToSquared(e),u<c&&(c=u,a&&a.copy(e),o&&o.copy(p));let g=this[d];n.closestPointToPoint(g,e),u=g.distanceToSquared(e),u<c&&(c=u,a&&a.copy(g),o&&o.copy(e))}for(let h=0;h<3;h++){let u=r[h],d=r[(h+1)%3];i.set(this[u],this[d]);for(let p=0;p<3;p++){let g=r[p],m=r[(p+1)%3];s.set(n[g],n[m]),ix(i,s,e,t);let f=e.distanceToSquared(t);f<c&&(c=f,a&&a.copy(e),o&&o.copy(t))}}return Math.sqrt(c)}}();mn=class extends yr{constructor(...e){super(...e),this.isOrientedBox=!0,this.matrix=new Xe,this.invMatrix=new Xe,this.points=new Array(8).fill().map(()=>new C),this.satAxes=new Array(3).fill().map(()=>new C),this.satBounds=new Array(3).fill().map(()=>new fn),this.alignedSatBounds=new Array(3).fill().map(()=>new fn),this.needsUpdate=!1}set(e,t,r){super.set(e,t),this.matrix.copy(r),this.needsUpdate=!0}copy(e){super.copy(e),this.matrix.copy(e.matrix),this.needsUpdate=!0}};mn.prototype.update=function(){return function(){let e=this.matrix,t=this.min,r=this.max,i=this.points;for(let l=0;l<=1;l++)for(let c=0;c<=1;c++)for(let h=0;h<=1;h++){let u=1*l|2*c|4*h,d=i[u];d.x=l?r.x:t.x,d.y=c?r.y:t.y,d.z=h?r.z:t.z,d.applyMatrix4(e)}let s=this.satBounds,n=this.satAxes,a=i[0];for(let l=0;l<3;l++){let c=n[l],h=s[l],u=1<<l,d=i[u];c.subVectors(a,d),h.setFromPoints(c,i)}let o=this.alignedSatBounds;o[0].setFromPointsField(i,"x"),o[1].setFromPointsField(i,"y"),o[2].setFromPointsField(i,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}();mn.prototype.intersectsBox=function(){let e=new fn;return function(t){this.needsUpdate&&this.update();let r=t.min,i=t.max,s=this.satBounds,n=this.satAxes,a=this.alignedSatBounds;if(e.min=r.x,e.max=i.x,a[0].isSeparated(e)||(e.min=r.y,e.max=i.y,a[1].isSeparated(e))||(e.min=r.z,e.max=i.z,a[2].isSeparated(e)))return!1;for(let o=0;o<3;o++){let l=n[o],c=s[o];if(e.setFromBox(l,t),c.isSeparated(e))return!1}return!0}}();mn.prototype.intersectsTriangle=function(){let e=new Gn,t=new Array(3),r=new fn,i=new fn,s=new C;return function(n){this.needsUpdate&&this.update(),n.isExtendedTriangle?n.needsUpdate&&n.update():(e.copy(n),e.update(),n=e);let a=this.satBounds,o=this.satAxes;t[0]=n.a,t[1]=n.b,t[2]=n.c;for(let u=0;u<3;u++){let d=a[u],p=o[u];if(r.setFromPoints(p,t),d.isSeparated(r))return!1}let l=n.satBounds,c=n.satAxes,h=this.points;for(let u=0;u<3;u++){let d=l[u],p=c[u];if(r.setFromPoints(p,h),d.isSeparated(r))return!1}for(let u=0;u<3;u++){let d=o[u];for(let p=0;p<4;p++){let g=c[p];if(s.crossVectors(d,g),r.setFromPoints(s,t),i.setFromPoints(s,h),r.isSeparated(i))return!1}}return!0}}();mn.prototype.closestPointToPoint=function(){return function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t}}();mn.prototype.distanceToPoint=function(){let e=new C;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}();mn.prototype.distanceToBox=function(){let e=["x","y","z"],t=new Array(12).fill().map(()=>new Ji),r=new Array(12).fill().map(()=>new Ji),i=new C,s=new C;return function(n,a=0,o=null,l=null){if(this.needsUpdate&&this.update(),this.intersectsBox(n))return(o||l)&&(n.getCenter(s),this.closestPointToPoint(s,i),n.closestPointToPoint(i,s),o&&o.copy(i),l&&l.copy(s)),0;let c=a*a,h=n.min,u=n.max,d=this.points,p=1/0;for(let m=0;m<8;m++){let f=d[m];s.copy(f).clamp(h,u);let v=f.distanceToSquared(s);if(v<p&&(p=v,o&&o.copy(f),l&&l.copy(s),v<c))return Math.sqrt(v)}let g=0;for(let m=0;m<3;m++)for(let f=0;f<=1;f++)for(let v=0;v<=1;v++){let x=(m+1)%3,b=(m+2)%3,y=f<<x|v<<b,w=1<<m|f<<x|v<<b,_=d[y],D=d[w];t[g].set(_,D);let S=e[m],A=e[x],E=e[b],M=r[g],I=M.start,V=M.end;I[S]=h[S],I[A]=f?h[A]:u[A],I[E]=v?h[E]:u[A],V[S]=u[S],V[A]=f?h[A]:u[A],V[E]=v?h[E]:u[A],g++}for(let m=0;m<=1;m++)for(let f=0;f<=1;f++)for(let v=0;v<=1;v++){s.x=m?u.x:h.x,s.y=f?u.y:h.y,s.z=v?u.z:h.z,this.closestPointToPoint(s,i);let x=s.distanceToSquared(i);if(x<p&&(p=x,o&&o.copy(i),l&&l.copy(s),x<c))return Math.sqrt(x)}for(let m=0;m<12;m++){let f=t[m];for(let v=0;v<12;v++){let x=r[v];ix(f,x,i,s);let b=i.distanceToSquared(s);if(b<p&&(p=b,o&&o.copy(i),l&&l.copy(s),b<c))return Math.sqrt(b)}}return Math.sqrt(p)}}();Fp=new C,Op=new C,Ip=new C,BC=new se,FC=new se,OC=new se,IC=new C;bL=class{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){let e=this._primitives;return e.length===0?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}};Gl=new yr,hf=new C,jee=["x","y","z"];Hee=function(){let e,t,r=[],i=new bL(()=>new yr);return function(...n){e=i.getPrimitive(),t=i.getPrimitive(),r.push(e,t);let a=s(...n);i.releasePrimitive(e),i.releasePrimitive(t),r.pop(),r.pop();let o=r.length;return o>0&&(t=r[o-1],e=r[o-2]),a};function s(n,a,o,l,c=null,h=0,u=0){function d(x){let b=x*2,y=Fa,w=Oa;for(;!Ca(b,y);)x=md(x),b=x*2;return Jl(x,w)}function p(x){let b=x*2,y=Fa,w=Oa;for(;!Ca(b,y);)x=gd(x,w),b=x*2;return Jl(x,w)+fd(b,y)}let g=n*2,m=xc,f=Fa,v=Oa;if(Ca(g,f)){let x=Jl(n,v),b=fd(g,f);return Js(n,m,e),l(x,b,!1,u,h+n,e)}else{let x=md(n),b=gd(n,v),y=x,w=b,_,D,S,A;if(c&&(S=e,A=t,Js(y,m,S),Js(w,m,A),_=c(S),D=c(A),D<_)){y=b,w=x;let G=_;_=D,D=G,S=A}S||(S=e,Js(y,m,S));let E=Ca(y*2,f),M=o(S,E,_,u+1,h+y),I;if(M===2){let G=d(y),X=p(y)-G;I=l(G,X,!0,u+1,h+y,S)}else I=M&&s(y,a,o,l,c,h,u+1);if(I)return!0;A=t,Js(w,m,A);let V=Ca(w*2,f),P=o(A,V,D,u+1,h+w),Q;if(P===2){let G=d(w),X=p(w)-G;Q=l(G,X,!0,u+1,h+w,A)}else Q=P&&s(w,a,o,l,c,h,u+1);return!!Q}}}(),Vee=function(){let e=new Gn,t=new Gn,r=new Xe,i=new mn,s=new mn;return function n(a,o,l,c,h=null){let u=a*2,d=xc,p=Fa,g=Oa;if(h===null&&(l.boundingBox||l.computeBoundingBox(),i.set(l.boundingBox.min,l.boundingBox.max,c),h=i),Ca(u,p)){let m=o,f=m.index,v=m.attributes.position,x=l.index,b=l.attributes.position,y=Jl(a,g),w=fd(u,p);if(r.copy(c).invert(),l.boundsTree)return Js(a,d,s),s.matrix.copy(r),s.needsUpdate=!0,l.boundsTree.shapecast({intersectsBounds:_=>s.intersectsBox(_),intersectsTriangle:_=>{_.a.applyMatrix4(c),_.b.applyMatrix4(c),_.c.applyMatrix4(c),_.needsUpdate=!0;for(let D=y*3,S=(w+y)*3;D<S;D+=3)if(Qs(t,D,f,v),t.needsUpdate=!0,_.intersectsTriangle(t))return!0;return!1}});for(let _=y*3,D=w+y*3;_<D;_+=3){Qs(e,_,f,v),e.a.applyMatrix4(r),e.b.applyMatrix4(r),e.c.applyMatrix4(r),e.needsUpdate=!0;for(let S=0,A=x.count;S<A;S+=3)if(Qs(t,S,x,b),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}else{let m=a+8,f=g[a+6];return Js(m,d,Gl),!!(h.intersectsBox(Gl)&&n(m,o,l,c,h)||(Js(f,d,Gl),h.intersectsBox(Gl)&&n(f,o,l,c,h)))}}}();Xy=[];P0=Symbol("skip tree generation"),B0=new yr,F0=new yr,Fl=new Xe,mo=new mn,Iu=new mn,Ru=new C,Np=new C,Gee=new C,Wee=new C,qee=new C,NC=new yr,Gs=new bL(()=>new Gn),Yr=class{static serialize(e,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),Yr.serialize(arguments[0],{cloneBuffers:arguments[2]===void 0?!0:arguments[2]});t={cloneBuffers:!0,...t};let r=e.geometry,i=e._roots,s=r.getIndex(),n;return t.cloneBuffers?n={roots:i.map(a=>a.slice()),index:s.array.slice()}:n={roots:i,index:s.array},n}static deserialize(e,t,r={}){if(typeof r=="boolean")return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),Yr.deserialize(arguments[0],arguments[1],{setIndex:arguments[2]===void 0?!0:arguments[2]});r={setIndex:!0,...r};let{index:i,roots:s}=e,n=new Yr(t,{...r,[P0]:!0});if(n._roots=s,r.setIndex){let a=t.getIndex();if(a===null){let o=new wt(e.index,1,!1);t.setIndex(o)}else a.array!==i&&(a.array.set(i),a.needsUpdate=!0)}return n}constructor(e,t={}){if(e.isBufferGeometry){if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(t=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[P0]:!1},t),t.useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[P0]||(this._roots=Pee(e,t),!e.boundingBox&&t.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new yr))),this.geometry=e}refit(e=null){e&&Array.isArray(e)&&(e=new Set(e));let t=this.geometry,r=t.index.array,i=t.attributes.position,s=i.array,n=i.offset||0,a=3;i.isInterleavedBufferAttribute&&(a=i.data.stride);let o,l,c,h,u=0,d=this._roots;for(let g=0,m=d.length;g<m;g++)o=d[g],l=new Uint32Array(o),c=new Uint16Array(o),h=new Float32Array(o),p(0,u),u+=o.byteLength;function p(g,m,f=!1){let v=g*2;if(c[v+15]===65535){let x=l[g+6],b=c[v+14],y=1/0,w=1/0,_=1/0,D=-1/0,S=-1/0,A=-1/0;for(let E=3*x,M=3*(x+b);E<M;E++){let I=r[E]*a+n,V=s[I+0],P=s[I+1],Q=s[I+2];V<y&&(y=V),V>D&&(D=V),P<w&&(w=P),P>S&&(S=P),Q<_&&(_=Q),Q>A&&(A=Q)}return h[g+0]!==y||h[g+1]!==w||h[g+2]!==_||h[g+3]!==D||h[g+4]!==S||h[g+5]!==A?(h[g+0]=y,h[g+1]=w,h[g+2]=_,h[g+3]=D,h[g+4]=S,h[g+5]=A,!0):!1}else{let x=g+8,b=l[g+6],y=x+m,w=b+m,_=f,D=!1,S=!1;e?_||(D=e.has(y),S=e.has(w),_=!D&&!S):(D=!0,S=!0);let A=_||D,E=_||S,M=!1;A&&(M=p(x,m,_));let I=!1;E&&(I=p(b,m,_));let V=M||I;if(V)for(let P=0;P<3;P++){let Q=x+P,G=b+P,X=h[Q],F=h[Q+3],z=h[G],j=h[G+3];h[g+P]=X<z?X:z,h[g+P+3]=F>j?F:j}return V}}}traverse(e,t=0){let r=this._roots[t],i=new Uint32Array(r),s=new Uint16Array(r);n(0);function n(a,o=0){let l=a*2,c=s[l+15]===65535;if(c){let h=i[a+6],u=s[l+14];e(o,c,new Float32Array(r,a*4,6),h,u)}else{let h=a+8,u=i[a+6],d=i[a+7];e(o,c,new Float32Array(r,a*4,6),d)||(n(h,o+1),n(u,o+1))}}}raycast(e,t=Ia){let r=this._roots,i=this.geometry,s=[],n=t.isMaterial,a=Array.isArray(t),o=i.groups,l=n?t.side:t;for(let c=0,h=r.length;c<h;c++){let u=a?t[o[c].materialIndex].side:l,d=s.length;if(qu(r[c]),qy(0,i,u,e,s),Rp(),a){let p=o[c].materialIndex;for(let g=d,m=s.length;g<m;g++)s[g].face.materialIndex=p}}return s}raycastFirst(e,t=Ia){let r=this._roots,i=this.geometry,s=t.isMaterial,n=Array.isArray(t),a=null,o=i.groups,l=s?t.side:t;for(let c=0,h=r.length;c<h;c++){let u=n?t[o[c].materialIndex].side:l;qu(r[c]);let d=Yy(0,i,u,e);Rp(),d!=null&&(a==null||d.distance<a.distance)&&(a=d,n&&(d.face.materialIndex=o[c].materialIndex))}return a}intersectsGeometry(e,t){let r=this.geometry,i=!1;for(let s of this._roots)if(qu(s),i=Vee(0,r,e,t),Rp(),i)break;return i}shapecast(e,t,r){let i=this.geometry;if(e instanceof Function){if(t){let u=t;t=(d,p,g,m)=>{let f=p*3;return u(d,f,f+1,f+2,g,m)}}e={boundsTraverseOrder:r,intersectsBounds:e,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}let s=Gs.getPrimitive(),{boundsTraverseOrder:n,intersectsBounds:a,intersectsRange:o,intersectsTriangle:l}=e;if(o&&l){let u=o;o=(d,p,g,m,f)=>u(d,p,g,m,f)?!0:RC(d,p,i,l,g,m,s)}else o||(l?o=(u,d,p,g)=>RC(u,d,i,l,p,g,s):o=(u,d,p)=>p);let c=!1,h=0;for(let u of this._roots){if(qu(u),c=Hee(0,i,a,o,n,h),Rp(),c)break;h+=u.byteLength}return Gs.releasePrimitive(s),c}bvhcast(e,t,r){let{intersectsRanges:i,intersectsTriangles:s}=r,n=this.geometry.index,a=this.geometry.attributes.position,o=e.geometry.index,l=e.geometry.attributes.position;Fl.copy(t).invert();let c=Gs.getPrimitive(),h=Gs.getPrimitive();if(s){let d=function(p,g,m,f,v,x,b,y){for(let w=m,_=m+f;w<_;w++){Qs(h,w*3,o,l),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let D=p,S=p+g;D<S;D++)if(Qs(c,D*3,n,a),c.needsUpdate=!0,s(c,h,D,w,v,x,b,y))return!0}return!1};if(i){let p=i;i=function(g,m,f,v,x,b,y,w){return p(g,m,f,v,x,b,y,w)?!0:d(g,m,f,v,x,b,y,w)}}else i=d}e.getBoundingBox(F0),F0.applyMatrix4(t);let u=this.shapecast({intersectsBounds:d=>F0.intersectsBox(d),intersectsRange:(d,p,g,m,f,v)=>(B0.copy(v),B0.applyMatrix4(Fl),e.shapecast({intersectsBounds:x=>B0.intersectsBox(x),intersectsRange:(x,b,y,w,_)=>i(d,p,x,b,m,f,w,_)}))});return Gs.releasePrimitive(c),Gs.releasePrimitive(h),u}intersectsBox(e,t){return mo.set(e.min,e.max,t),mo.needsUpdate=!0,this.shapecast({intersectsBounds:r=>mo.intersectsBox(r),intersectsTriangle:r=>mo.intersectsTriangle(r)})}intersectsSphere(e){return this.shapecast({intersectsBounds:t=>e.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(e)})}closestPointToGeometry(e,t,r={},i={},s=0,n=1/0){e.boundingBox||e.computeBoundingBox(),mo.set(e.boundingBox.min,e.boundingBox.max,t),mo.needsUpdate=!0;let a=this.geometry,o=a.attributes.position,l=a.index,c=e.attributes.position,h=e.index,u=Gs.getPrimitive(),d=Gs.getPrimitive(),p=Np,g=Gee,m=null,f=null;i&&(m=Wee,f=qee);let v=1/0,x=null,b=null;return Fl.copy(t).invert(),Iu.matrix.copy(Fl),this.shapecast({boundsTraverseOrder:y=>mo.distanceToBox(y),intersectsBounds:(y,w,_)=>_<v&&_<n?(w&&(Iu.min.copy(y.min),Iu.max.copy(y.max),Iu.needsUpdate=!0),!0):!1,intersectsRange:(y,w)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:_=>Iu.distanceToBox(_),intersectsBounds:(_,D,S)=>S<v&&S<n,intersectsRange:(_,D)=>{for(let S=_*3,A=(_+D)*3;S<A;S+=3){Qs(d,S,h,c),d.a.applyMatrix4(t),d.b.applyMatrix4(t),d.c.applyMatrix4(t),d.needsUpdate=!0;for(let E=y*3,M=(y+w)*3;E<M;E+=3){Qs(u,E,l,o),u.needsUpdate=!0;let I=u.distanceToTriangle(d,p,m);if(I<v&&(g.copy(p),f&&f.copy(m),v=I,x=E/3,b=S/3),I<s)return!0}}}});{let _=h?h.count:c.count;for(let D=0,S=_;D<S;D+=3){Qs(d,D,h,c),d.a.applyMatrix4(t),d.b.applyMatrix4(t),d.c.applyMatrix4(t),d.needsUpdate=!0;for(let A=y*3,E=(y+w)*3;A<E;A+=3){Qs(u,A,l,o),u.needsUpdate=!0;let M=u.distanceToTriangle(d,p,m);if(M<v&&(g.copy(p),f&&f.copy(m),v=M,x=A/3,b=D/3),M<s)return!0}}}}}),Gs.releasePrimitive(u),Gs.releasePrimitive(d),v===1/0?null:(r.point?r.point.copy(g):r.point=g.clone(),r.distance=v,r.faceIndex=x,i&&(i.point?i.point.copy(f):i.point=f.clone(),i.point.applyMatrix4(Fl),g.applyMatrix4(Fl),i.distance=g.sub(i.point).length(),i.faceIndex=b),r)}closestPointToPoint(e,t={},r=0,i=1/0){let s=r*r,n=i*i,a=1/0,o=null;if(this.shapecast({boundsTraverseOrder:c=>(Ru.copy(e).clamp(c.min,c.max),Ru.distanceToSquared(e)),intersectsBounds:(c,h,u)=>u<a&&u<n,intersectsTriangle:(c,h)=>{c.closestPointToPoint(e,Ru);let u=e.distanceToSquared(Ru);return u<a&&(Np.copy(Ru),a=u,o=h),u<s}}),a===1/0)return null;let l=Math.sqrt(a);return t.point?t.point.copy(Np):t.point=Np.clone(),t.distance=l,t.faceIndex=o,t}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(t=>{Js(0,new Float32Array(t),NC),e.union(NC)}),e}},UC=Yr.prototype.raycast;Yr.prototype.raycast=function(...e){if(e[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "raycast" has changed. See docs for new signature.');let[t,r,i,s]=e;return UC.call(this,i,t.material).forEach(n=>{n=xL(n,t,r),n&&s.push(n)}),s}else return UC.apply(this,e)};zC=Yr.prototype.raycastFirst;Yr.prototype.raycastFirst=function(...e){if(e[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "raycastFirst" has changed. See docs for new signature.');let[t,r,i]=e;return xL(zC.call(this,i,t.material),t,r)}else return zC.apply(this,e)};jC=Yr.prototype.closestPointToPoint;Yr.prototype.closestPointToPoint=function(...e){if(e[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "closestPointToPoint" has changed. See docs for new signature.'),e.unshift();let t=e[1],r={};return e[1]=r,jC.apply(this,e),t&&t.copy(r.point),r.distance}else return jC.apply(this,e)};HC=Yr.prototype.closestPointToGeometry;Yr.prototype.closestPointToGeometry=function(...e){let t=e[2],r=e[3];if(t&&t.isVector3||r&&r.isVector3){console.warn('MeshBVH: The function signature and results frame for "closestPointToGeometry" has changed. See docs for new signature.');let i={},s={},n=e[1];return e[2]=i,e[3]=s,HC.apply(this,e),t&&t.copy(i.point),r&&r.copy(s.point).applyMatrix4(n),i.distance}else return HC.apply(this,e)};VC=Yr.prototype.refit;Yr.prototype.refit=function(...e){let t=e[0],r=e[1];if(r&&(r instanceof Set||Array.isArray(r))){console.warn('MeshBVH: The function signature for "refit" has changed. See docs for new signature.');let i=new Set;r.forEach(s=>i.add(s)),t&&t.forEach(s=>i.add(s)),VC.call(this,i)}else VC.apply(this,e)};["intersectsGeometry","shapecast","intersectsBox","intersectsSphere"].forEach(e=>{let t=Yr.prototype[e];Yr.prototype[e]=function(...r){return(r[0]===null||r[0].isMesh)&&(r.shift(),console.warn(`MeshBVH: The function signature for "${e}" has changed and no longer takes Mesh. See docs for new signature.`)),t.apply(this,r)}});Yee=KC(q5());iM.then(e=>{Qy=e});wL=new Xe,Xee=new Xe,Qee=new Xe,Ds=new yr,Da=new C,Zee=new Xe,$ee=new Xe,_L=class extends Vn{constructor(e,t,r,i){super(r??t,i),this.subdivPointer=e,this.originalGeometry=t,this.subdividedGeometry=r,this.objectType="SubdivObject",this.hiddenMatrixOld=new Xe,this.smoothShading=!0,this.phongAngle=35,this.matrixWorldRigid=new Xe,this.castShadow=!0,this.receiveShadow=!0,this.forceComputeSize=!1}static createFromState(e,t,r){let{subdivPointer:i,originalGeometry:s,subdividedGeometry:n}=Ss.build(t.geometry,void 0,void 0,!t.flatShading),a=r.material(t.material),o=new _L(i,s,n||void 0,a);return t.geometry.phongAngle!==void 0&&(o.phongAngle=t.geometry.phongAngle),o.calcBoundingBox(),o.freeSubdivPointer(),o.uuid=e,o.fromState(t),o}buildFromStore(e,t){let{originalGeometry:r,subdividedGeometry:i,subdivPointer:s}=Ss.build(e,t,this.subdivPointer,this.smoothShading,this.shearScale);e.phongAngle!==void 0&&(this.phongAngle=e.phongAngle),this.subdivPointer=s,r!==void 0&&(this.originalGeometry?.dispose(),this.originalGeometry=r),i!==void 0&&(this.subdividedGeometry?.dispose(),this.subdividedGeometry=i??void 0),this.geometry=this.subdividedGeometry??this.originalGeometry,If(this),Rf(this),e.width&&(this.geometry.userData.parameters={width:e.width,height:e.height,depth:e.depth})}updateMesh(e=!1){Ss.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1,this.originalGeometry,e?this.shearScaleInv:void 0),this.subdividedGeometry&&Ss.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1,this.subdividedGeometry,e?this.shearScaleInv:void 0)}updateTopology(){this.originalGeometry.dispose(),this.originalGeometry=Ss.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1),this.subdividedGeometry&&(this.subdividedGeometry.dispose(),this.subdividedGeometry=Ss.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1)),this.geometry=this.subdividedGeometry??this.originalGeometry}raycast(e,t){this.geometry=this.originalGeometry,Vn.prototype.raycast.call(this,e,t),this.geometry=this.subdividedGeometry??this.originalGeometry}updateMatrixWorldSVD(){let e=this.matrixWorld.elements,t=[[e[0],e[4],e[8]],[e[1],e[5],e[9]],[e[2],e[6],e[10]]],{u:r,v:i,q:s}=(0,Yee.SVD)(t),n=wL.set(r[0][0],r[0][1],r[0][2],0,r[1][0],r[1][1],r[1][2],0,r[2][0],r[2][1],r[2][2],0,0,0,0,1),a=Xee.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1),o=Qee.copy(a).transpose();this.shearScale=Zee.makeScale(s[0],s[1],s[2]).multiply(o).premultiply(a),this.shearScaleInv=$ee.copy(this.shearScale).invert(),this.matrixWorldRigid.multiplyMatrices(n,o),s.every(l=>Math.abs(s[0]-l)<.01)&&(this.shearScale=void 0,this.shearScaleInv=void 0)}activateSVDCompensation(){this.shearScale!==void 0&&(this.matrixAutoUpdate=!1,this.matrix.copy(this.matrixWorldRigid).copyPosition(this.matrixWorld),this.hiddenMatrixOld.copy(this.hiddenMatrix),this.hiddenMatrix.copy(this.parent.matrixWorld).invert())}deactivateSVDCompensation(){this.shearScale!==void 0&&(this.shearScale=void 0,this.shearScaleInv=void 0,this.matrixAutoUpdate=!0,this.hiddenMatrix.copy(this.hiddenMatrixOld))}calcBoundingBox(){let e=this.originalGeometry;e.boundingSphere===null&&(e.boundingSphere=new Ms);let t=e.attributes.position,r=e.boundingSphere.center;Ds.setFromBufferAttribute(t),Ds.getCenter(r),e.boundingSphere.radius=r.distanceTo(Ds.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Ds.getSize(Da);let i={width:Da.x,height:Da.y,depth:Da.z};return this.geometry.userData.parameters=i,i}updateBoundingBox(e){let t=this.originalGeometry;Ds.min.set(e[0],e[2],e[4]),Ds.max.set(e[1],e[3],e[5]),this.shearScaleInv&&(Ds.min.applyMatrix4(this.shearScaleInv),Ds.max.applyMatrix4(this.shearScaleInv)),t.boundingSphere===null&&(t.boundingSphere=new Ms);let r=t.boundingSphere.center;Ds.getCenter(r),t.boundingSphere.radius=r.distanceTo(Ds.max),isNaN(t.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Ds.getSize(Da);let i={width:Da.x,height:Da.y,depth:Da.z};return this.geometry.userData.parameters=i,i}freeSubdivPointer(){this.subdivPointer&&(Qy.free_bvh(this.subdivPointer),Qy.free_subdivision_surface(this.subdivPointer),this.subdivPointer=0)}updateGeometry(e){this.geometry.userData.scale||(this.geometry.userData.scale=Array(3)),this.geometry.userData.scale[0]=this.geometry.userData.parameters.width===0?1:e.parameters.width/this.geometry.userData.parameters.width,this.geometry.userData.scale[1]=this.geometry.userData.parameters.height===0?1:e.parameters.height/this.geometry.userData.parameters.height,this.geometry.userData.scale[2]=this.geometry.userData.parameters.depth===0?1:e.parameters.depth/this.geometry.userData.parameters.depth,GC(this.originalGeometry.attributes,...this.geometry.userData.scale),this.originalGeometry.attributes.position.needsUpdate=!0,this.originalGeometry.attributes.normal.needsUpdate=!0,this.subdividedGeometry&&(GC(this.subdividedGeometry.attributes,...this.subdividedGeometry.userData.scale),this.subdividedGeometry.attributes.position.needsUpdate=!0,this.subdividedGeometry.attributes.normal.needsUpdate=!0),this.geometry.userData.parameters={...e.parameters}}};nte=new oV,ate=new Xe,ote=new xd;XC=new C,DL=class extends nM(x3){constructor(e,t){super(),this.objectType="Scene",this.backupFog=new y3(16777215,.1,2e3),this.fogUseBGColor=!1,this.enableHelpers=!1,this.wireframeState=!1,this.needsTransmissionDirty=!0,this.needsNormalDirty=!0,this._needsTransmission=!1,this._needsNormal=!1,this.bgColor=new Cs(1,1,1,1),this.entityByUuid={},this.ambientLight=new J0(13882323,8553090,.75),this.ambientLight.name="Default Ambient Light",this.ambientLight.layers.enable(3),this.personalCamera=this.createPersonalCamera(),this.activeCamera=this.personalCamera,this.postprocessing=e.postprocessing,this.init(e,t)}needsTransmission(){return this.needsTransmissionDirty&&(this._needsTransmission=rte(this),this.needsTransmissionDirty=!1),this._needsTransmission}needsNormal(){return this.needsNormalDirty&&(this._needsNormal=tte(this),this.needsNormalDirty=!1),this._needsNormal}find(e){if(e===""||e===void 0)return;let t=this.entityByUuid[e];return t===void 0?this.getObjectByProperty("uuid",e):t}get enableFog(){return this.fog!==null}set enableFog(e){this.fog=e===!0?this.backupFog:null}init(e,t){if(this.createChildrenObjects(e.objects,this,t),this.personalCamera.removeFromParent(),this.add(this.personalCamera),this.ambientLight.removeFromParent(),this.add(this.ambientLight),this.setBackgroundColor(qr(e.backgroundColor,t)),this.updateFog(e.fog,t),this.updateAmbientLight(e.environment.ambientLight,t),this.activeCamera=this.personalCamera,e.publish.playCamera!==null){let r=this.find(e.publish.playCamera);r instanceof uf&&this.switchActiveCamera(r)}this.traverse(r=>{Ro(r)&&r.recomputeBoolean()})}clearScene(){this.traverseEntity(e=>{ite(e)});for(let e of this.children)Nn(e)&&e.removeFromParent()}resetAfterClear(e,t){this.init(e,t)}createPersonalCamera(){let e=uf.createFromState(DL.PERSONAL_CAMERA_ID,{...Ey.defaultData,name:"Personal Camera"});return e.objectHelper.visible=!1,delete e.isEntity,this.registerObjectCreatedInLegacy(e),e}raycast(e){let t=[],r=i=>{for(let s of i.children)Nn(s)&&!s.raycastLock&&s.visible&&((pd(s)||sM(s)&&this.enableHelpers&&s.objectHelper.visible)&&(e.intersectObject(s,!1,t),lte(s,e,t)),r(s))};return r(this),t}traverseEntity(e){for(let t of this.children)Nn(t)&&t.traverseEntity(e)}traverseVisibleEntity(e){for(let t of this.children)Nn(t)&&t.visible&&t.traverseVisibleEntity(e)}updateFog(e,t){this.enableFog=e.enabled,this.fogUseBGColor=e.useBackgroundColor,e.useBackgroundColor?this.backupFog.color.set(this.bgColor):this.backupFog.color=qr(e.color,t),this.backupFog.near=e.near,this.backupFog.far=e.far}dispose(){this.clearScene()}updateAmbientLight(e,t){LJ(this.ambientLight,e,t),e.groundColor!==void 0&&(this.ambientLight.groundColor=qr(e.groundColor,t)),e.enabled!==void 0&&(this.ambientLight.visible=e.enabled)}switchActiveCamera(e){this.activeCamera!==this.personalCamera&&(this.activeCamera.objectHelper.visible=!0),this.activeCamera=e,e.objectHelper.visible=!1}setBackgroundColor(e){this.bgColor=e,this.fogUseBGColor===!0&&(this.backupFog.color=e)}createChildrenObjects(e,t,r){for(let i of e)this.createChildObject(i.id,i.data,i.children,t,r)}registerObjectCreatedInLegacy(e){this.entityByUuid[e.uuid]=e}unregisterObject(e){delete this.entityByUuid[e.uuid];for(let t of e.children)this.unregisterObject(t)}createChildObject(e,t,r,i,s){let n=ete(e,t,s);return n&&(this.entityByUuid[e]=n,i.add(n),Ro(i)&&pd(n)&&(n.prevBooleanObjectParent=i),this.createChildrenObjects(r,n,s)),n}getCenter(e){let t=[];for(let i=0,s=e.length;i<s;++i){let{id:n,recursive:a}=e[i],o=this.find(n),l=a?o.recursiveBBox:o.singleBBox;t.push(...l.vertices)}let r=new yr;return r.setFromPoints(t),r.getCenter(XC),XC}copyMatrixWorld(e,t){if(e===null){t.identity();return}let r=this.find(e);r?t.copy(r.matrixWorld):t.identity()}copyParentMatrixWorld(e,t){if(e===null){t.identity();return}let r=this.find(e)?.parent;r?t.copy(r.matrixWorld):t.identity()}traverseMaterial(e){this.traverseEntity(t=>{if(t instanceof Vn)if(Array.isArray(t.material))for(let r=0;r<t.material.length;r++)t.material[r]instanceof oc&&e(t.material[r]);else t.material instanceof oc&&e(t.material)})}updateCanvasSize(e,t){this.activeCamera.setViewplaneSize(e,t);let r,i;e>=t?(r=t/e,i=1):(r=1,i=e/t),this.traverseMaterial(s=>{s.getLayersOfType("transmission").forEach(n=>{n.uniforms[`f${n.id}_aspectRatio`].value.x=r,n.uniforms[`f${n.id}_aspectRatio`].value.y=i})})}},cte=DL;cte.PERSONAL_CAMERA_ID="f23858d0-4a3b-4bd8-8173-66ed0af7f6fb-personalCamera";Xp=(e,t)=>{let r=t.x-e.x,i=t.y-e.y;return Math.sqrt(r*r+i*i)},ute=(e,t)=>{let r=t.x-e.x,i=t.y-e.y;return hte(Math.atan2(i,r))},dte=(e,t,r)=>{let i={x:0,y:0};return r=Zy(r),i.x=e.x-t*Math.cos(r),i.y=e.y-t*Math.sin(r),i},Zy=e=>e*(Math.PI/180),hte=e=>e*(180/Math.PI),pte=e=>isNaN(e.buttons)?e.pressure!==0:e.buttons!==0,O0=new Map,QC=e=>{O0.has(e)&&clearTimeout(O0.get(e)),O0.set(e,setTimeout(e,100))},ff=(e,t,r)=>{let i=t.split(/[ ,]+/g),s;for(let n=0;n<i.length;n+=1)s=i[n],e.addEventListener?e.addEventListener(s,r,!1):e.attachEvent&&e.attachEvent(s,r)},ZC=(e,t,r)=>{let i=t.split(/[ ,]+/g),s;for(let n=0;n<i.length;n+=1)s=i[n],e.removeEventListener?e.removeEventListener(s,r):e.detachEvent&&e.detachEvent(s,r)},SL=e=>(e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e),$C=()=>{if(typeof window>"u")return;let e=window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return{x:e,y:t}},$y=(e,t)=>{t.top||t.right||t.bottom||t.left?(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left):(e.style.left=t.x+"px",e.style.top=t.y+"px")},sx=(e,t,r)=>{let i=AL(e);for(let s in i)if(i.hasOwnProperty(s))if(typeof t=="string")i[s]=t+" "+r;else{let n="";for(let a=0,o=t.length;a<o;a+=1)n+=t[a]+" "+r+", ";i[s]=n.slice(0,-2)}return i},fte=(e,t)=>{let r=AL(e);for(let i in r)r.hasOwnProperty(i)&&(r[i]=t);return r},AL=e=>{let t={};return t[e]="",["webkit","Moz","o"].forEach(function(r){t[r+e.charAt(0).toUpperCase()+e.slice(1)]=""}),t},I0=(e,t)=>{for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},mte=(e,t)=>{let r={};for(let i in e)e.hasOwnProperty(i)&&t.hasOwnProperty(i)?r[i]=t[i]:e.hasOwnProperty(i)&&(r[i]=e[i]);return r},Jy=(e,t)=>{if(e.length)for(let r=0,i=e.length;r<i;r+=1)t(e[r]);else t(e)},gte=(e,t,r)=>({x:Math.min(Math.max(e.x,t.x-r),t.x+r),y:Math.min(Math.max(e.y,t.y-r),t.y+r)});typeof window<"u"&&(EL="ontouchstart"in window,CL=!!window.PointerEvent,TL=!!window.MSPointerEvent);Nu={touch:{start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"},MSPointer:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}},vd={};CL?Wl=Nu.pointer:TL?Wl=Nu.MSPointer:EL?(Wl=Nu.touch,vd=Nu.mouse):Wl=Nu.mouse;Ho.prototype.on=function(e,t){var r=this,i=e.split(/[ ,]+/g),s;r._handlers_=r._handlers_||{};for(var n=0;n<i.length;n+=1)s=i[n],r._handlers_[s]=r._handlers_[s]||[],r._handlers_[s].push(t);return r};Ho.prototype.off=function(e,t){var r=this;return r._handlers_=r._handlers_||{},e===void 0?r._handlers_={}:t===void 0?r._handlers_[e]=null:r._handlers_[e]&&r._handlers_[e].indexOf(t)>=0&&r._handlers_[e].splice(r._handlers_[e].indexOf(t),1),r};Ho.prototype.trigger=function(e,t){var r=this,i=e.split(/[ ,]+/g),s;r._handlers_=r._handlers_||{};for(var n=0;n<i.length;n+=1)s=i[n],r._handlers_[s]&&r._handlers_[s].length&&r._handlers_[s].forEach(function(a){a.call(r,{type:s,target:r},t)})};Ho.prototype.config=function(e){var t=this;t.options=t.defaults||{},e&&(t.options=mte(t.options,e))};Ho.prototype.bindEvt=function(e,t){var r=this;return r._domHandlers_=r._domHandlers_||{},r._domHandlers_[t]=function(){typeof r["on"+t]=="function"?r["on"+t].apply(r,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},ff(e,Wl[t],r._domHandlers_[t]),vd[t]&&ff(e,vd[t],r._domHandlers_[t]),r};Ho.prototype.unbindEvt=function(e,t){var r=this;return r._domHandlers_=r._domHandlers_||{},ZC(e,Wl[t],r._domHandlers_[t]),vd[t]&&ZC(e,vd[t],r._domHandlers_[t]),delete r._domHandlers_[t],this};nx=Ho;vr.prototype=new nx;vr.constructor=vr;vr.id=0;vr.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)};vr.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=fte("borderRadius","50%"),r=sx("transition","opacity",e),i={};return i.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},i.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:"rgba(255, 255, 255, .4)",border:"solid 2px rgba(0, 0, 0, .1)"},i.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:"rgba(255, 255, 255, .8)",border:"solid 2px rgba(0, 0, 0, .1)"},I0(i.el,r),this.options.shape==="circle"&&I0(i.back,t),I0(i.front,t),this.applyStyles(i),this};vr.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var r in e[t])this.ui[t].style[r]=e[t][r];return this};vr.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)};vr.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)};vr.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()};vr.prototype.show=function(e){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout(function(){t.ui.el.style.opacity=1},0),t.showTimeout=setTimeout(function(){t.trigger("shown",t.instance),typeof e=="function"&&e.call(this)},t.options.fadeTime)),t};vr.prototype.hide=function(e){var t=this;if(t.options.dataOnly)return t;if(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout(function(){var r=t.options.mode==="dynamic"?"none":"block";t.ui.el.style.display=r,typeof e=="function"&&e.call(t),t.trigger("hidden",t.instance)},t.options.fadeTime),t.options.restJoystick){let r=t.options.restJoystick,i={};i.x=r===!0||r.x!==!1?0:t.instance.frontPosition.x,i.y=r===!0||r.y!==!1?0:t.instance.frontPosition.y,t.setPosition(e,i)}return t};vr.prototype.setPosition=function(e,t){var r=this;r.frontPosition={x:t.x,y:t.y};var i=r.options.fadeTime+"ms",s={};s.front=sx("transition",["top","left"],i);var n={front:{}};n.front={left:r.frontPosition.x+"px",top:r.frontPosition.y+"px"},r.applyStyles(s),r.applyStyles(n),r.restTimeout=setTimeout(function(){typeof e=="function"&&e.call(r),r.restCallback()},r.options.fadeTime)};vr.prototype.restCallback=function(){var e=this,t={};t.front=sx("transition","none",""),e.applyStyles(t),e.trigger("rested",e.instance)};vr.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}};vr.prototype.computeDirection=function(e){var t=e.angle.radian,r=Math.PI/4,i=Math.PI/2,s,n,a;if(t>r&&t<r*3&&!e.lockX?s="up":t>-r&&t<=r&&!e.lockY?s="left":t>-r*3&&t<=-r&&!e.lockX?s="down":e.lockY||(s="right"),e.lockY||(t>-i&&t<i?n="left":n="right"),e.lockX||(t>0?a="up":a="down"),e.force>this.options.threshold){var o={},l;for(l in this.direction)this.direction.hasOwnProperty(l)&&(o[l]=this.direction[l]);var c={};this.direction={x:n,y:a,angle:s},e.direction=this.direction;for(l in o)o[l]===this.direction[l]&&(c[l]=!0);if(c.x&&c.y&&c.angle)return e;(!c.x||!c.y)&&this.trigger("plain",e),c.x||this.trigger("plain:"+n,e),c.y||this.trigger("plain:"+a,e),c.angle||this.trigger("dir dir:"+s,e)}else this.resetDirection();return e};vte=vr;lr.prototype=new nx;lr.constructor=lr;lr.id=0;lr.prototype.prepareNipples=function(){var e=this,t=e.nipples;t.on=e.on.bind(e),t.off=e.off.bind(e),t.options=e.options,t.destroy=e.destroy.bind(e),t.ids=e.ids,t.id=e.id,t.processOnMove=e.processOnMove.bind(e),t.processOnEnd=e.processOnEnd.bind(e),t.get=function(r){if(r===void 0)return t[0];for(var i=0,s=t.length;i<s;i+=1)if(t[i].identifier===r)return t[i];return!1}};lr.prototype.bindings=function(){var e=this;e.bindEvt(e.options.zone,"start"),e.options.zone.style.touchAction="none",e.options.zone.style.msTouchAction="none"};lr.prototype.begin=function(){var e=this,t=e.options;if(t.mode==="static"){var r=e.createNipple(t.position,e.manager.getIdentifier());r.add(),e.idles.push(r)}};lr.prototype.createNipple=function(e,t){var r=this,i=r.manager.scroll,s={},n=r.options,a={x:r.parentIsFlex?i.x:i.x+r.box.left,y:r.parentIsFlex?i.y:i.y+r.box.top};if(e.x&&e.y)s={x:e.x-a.x,y:e.y-a.y};else if(e.top||e.right||e.bottom||e.left){var o=document.createElement("DIV");o.style.display="hidden",o.style.top=e.top,o.style.right=e.right,o.style.bottom=e.bottom,o.style.left=e.left,o.style.position="absolute",n.zone.appendChild(o);var l=o.getBoundingClientRect();n.zone.removeChild(o),s=e,e={x:l.left+i.x,y:l.top+i.y}}var c=new vte(r,{color:n.color,size:n.size,threshold:n.threshold,fadeTime:n.fadeTime,dataOnly:n.dataOnly,restJoystick:n.restJoystick,restOpacity:n.restOpacity,mode:n.mode,identifier:t,position:e,zone:n.zone,frontPosition:{x:0,y:0},shape:n.shape});return n.dataOnly||($y(c.ui.el,s),$y(c.ui.front,c.frontPosition)),r.nipples.push(c),r.trigger("added "+c.identifier+":added",c),r.manager.trigger("added "+c.identifier+":added",c),r.bindNipple(c),c};lr.prototype.updateBox=function(){var e=this;e.box=e.options.zone.getBoundingClientRect()};lr.prototype.bindNipple=function(e){var t=this,r,i=function(s,n){r=s.type+" "+n.id+":"+s.type,t.trigger(r,n)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)};lr.prototype.pressureFn=function(e,t,r){var i=this,s=0;clearInterval(i.pressureIntervals[r]),i.pressureIntervals[r]=setInterval(function(){var n=e.force||e.pressure||e.webkitForce||0;n!==s&&(t.trigger("pressure",n),i.trigger("pressure "+t.identifier+":pressure",n),s=n)}.bind(i),100)};lr.prototype.onstart=function(e){var t=this,r=t.options,i=e;e=SL(e),t.updateBox();var s=function(n){t.actives.length<r.maxNumberOfNipples?t.processOnStart(n):i.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach(function(a){if(Object.values(i.touches).findIndex(function(l){return l.identifier===a})<0){var o=[e[0]];o.identifier=a,t.processOnEnd(o)}}),t.actives.length<r.maxNumberOfNipples&&t.processOnStart(n))};return Jy(e,s),t.manager.bindDocument(),!1};lr.prototype.processOnStart=function(e){var t=this,r=t.options,i,s=t.manager.getIdentifier(e),n=e.force||e.pressure||e.webkitForce||0,a={x:e.pageX,y:e.pageY},o=t.getOrCreate(s,a);o.identifier!==s&&t.manager.removeIdentifier(o.identifier),o.identifier=s;var l=function(h){h.trigger("start",h),t.trigger("start "+h.id+":start",h),h.show(),n>0&&t.pressureFn(e,h,h.identifier),t.processOnMove(e)};if((i=t.idles.indexOf(o))>=0&&t.idles.splice(i,1),t.actives.push(o),t.ids.push(o.identifier),r.mode!=="semi")l(o);else{var c=Xp(a,o.position);if(c<=r.catchDistance)l(o);else{o.destroy(),t.processOnStart(e);return}}return o};lr.prototype.getOrCreate=function(e,t){var r=this,i=r.options,s;return/(semi|static)/.test(i.mode)?(s=r.idles[0],s?(r.idles.splice(0,1),s):i.mode==="semi"?r.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1)):(s=r.createNipple(t,e),s)};lr.prototype.processOnMove=function(e){var t=this,r=t.options,i=t.manager.getIdentifier(e),s=t.nipples.get(i),n=t.manager.scroll;if(!pte(e)){this.processOnEnd(e);return}if(!s){console.error("Found zombie joystick with ID "+i),t.manager.removeIdentifier(i);return}if(r.dynamicPage){var a=s.el.getBoundingClientRect();s.position={x:n.x+a.left,y:n.y+a.top}}s.identifier=i;var o=s.options.size/2,l={x:e.pageX,y:e.pageY};r.lockX&&(l.y=s.position.y),r.lockY&&(l.x=s.position.x);var c=Xp(l,s.position),h=ute(l,s.position),u=Zy(h),d=c/o,p={distance:c,position:l},g,m;if(s.options.shape==="circle"?(g=Math.min(c,o),m=dte(s.position,g,h)):(m=gte(l,s.position,o),g=Xp(m,s.position)),r.follow){if(c>o){let b=l.x-m.x,y=l.y-m.y;s.position.x+=b,s.position.y+=y,s.el.style.top=s.position.y-(t.box.top+n.y)+"px",s.el.style.left=s.position.x-(t.box.left+n.x)+"px",c=Xp(l,s.position)}}else l=m,c=g;var f=l.x-s.position.x,v=l.y-s.position.y;s.frontPosition={x:f,y:v},r.dataOnly||$y(s.ui.front,s.frontPosition);var x={identifier:s.identifier,position:l,force:d,pressure:e.force||e.pressure||e.webkitForce||0,distance:c,angle:{radian:u,degree:h},vector:{x:f/o,y:-v/o},raw:p,instance:s,lockX:r.lockX,lockY:r.lockY};x=s.computeDirection(x),x.angle={radian:Zy(180-h),degree:180-h},s.trigger("move",x),t.trigger("move "+s.id+":move",x)};lr.prototype.processOnEnd=function(e){var t=this,r=t.options,i=t.manager.getIdentifier(e),s=t.nipples.get(i),n=t.manager.removeIdentifier(s.identifier);!s||(r.dataOnly||s.hide(function(){r.mode==="dynamic"&&(s.trigger("removed",s),t.trigger("removed "+s.id+":removed",s),t.manager.trigger("removed "+s.id+":removed",s),s.destroy())}),clearInterval(t.pressureIntervals[s.identifier]),s.resetDirection(),s.trigger("end",s),t.trigger("end "+s.id+":end",s),t.ids.indexOf(s.identifier)>=0&&t.ids.splice(t.ids.indexOf(s.identifier),1),t.actives.indexOf(s)>=0&&t.actives.splice(t.actives.indexOf(s),1),/(semi|static)/.test(r.mode)?t.idles.push(s):t.nipples.indexOf(s)>=0&&t.nipples.splice(t.nipples.indexOf(s),1),t.manager.unbindDocument(),/(semi|static)/.test(r.mode)&&(t.manager.ids[n.id]=n.identifier))};lr.prototype.onDestroyed=function(e,t){var r=this;r.nipples.indexOf(t)>=0&&r.nipples.splice(r.nipples.indexOf(t),1),r.actives.indexOf(t)>=0&&r.actives.splice(r.actives.indexOf(t),1),r.idles.indexOf(t)>=0&&r.idles.splice(r.idles.indexOf(t),1),r.ids.indexOf(t.identifier)>=0&&r.ids.splice(r.ids.indexOf(t.identifier),1),r.manager.removeIdentifier(t.identifier),r.manager.unbindDocument()};lr.prototype.destroy=function(){var e=this;e.unbindEvt(e.options.zone,"start"),e.nipples.forEach(function(r){r.destroy()});for(var t in e.pressureIntervals)e.pressureIntervals.hasOwnProperty(t)&&clearInterval(e.pressureIntervals[t]);e.trigger("destroyed",e.nipples),e.manager.unbindDocument(),e.off()};yte=lr;Tr.prototype=new nx;Tr.constructor=Tr;Tr.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var r;return e.collections.every(function(i){return r=i.get(t),!r}),r}};Tr.prototype.create=function(e){return this.createCollection(e)};Tr.prototype.createCollection=function(e){var t=this,r=new yte(t,e);return t.bindCollection(r),t.collections.push(r),r};Tr.prototype.bindCollection=function(e){var t=this,r,i=function(s,n){r=s.type+" "+n.id+":"+s.type,t.trigger(r,n)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",i),e.on("dir:up dir:right dir:down dir:left",i),e.on("plain:up plain:right plain:down plain:left",i)};Tr.prototype.bindDocument=function(){var e=this;e.binded||(e.bindEvt(document,"move").bindEvt(document,"end"),e.binded=!0)};Tr.prototype.unbindDocument=function(e){var t=this;(!Object.keys(t.ids).length||e===!0)&&(t.unbindEvt(document,"move").unbindEvt(document,"end"),t.binded=!1)};Tr.prototype.getIdentifier=function(e){var t;return e?(t=e.identifier===void 0?e.pointerId:e.identifier,t===void 0&&(t=this.latest||0)):t=this.index,this.ids[t]===void 0&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]};Tr.prototype.removeIdentifier=function(e){var t={};for(var r in this.ids)if(this.ids[r]===e){t.id=r,t.identifier=this.ids[r],delete this.ids[r];break}return t};Tr.prototype.onmove=function(e){var t=this;return t.onAny("move",e),!1};Tr.prototype.onend=function(e){var t=this;return t.onAny("end",e),!1};Tr.prototype.oncancel=function(e){var t=this;return t.onAny("end",e),!1};Tr.prototype.onAny=function(e,t){var r=this,i,s="processOn"+e.charAt(0).toUpperCase()+e.slice(1);t=SL(t);var n=function(o,l,c){c.ids.indexOf(l)>=0&&(c[s](o),o._found_=!0)},a=function(o){i=r.getIdentifier(o),Jy(r.collections,n.bind(null,o,i)),o._found_||r.removeIdentifier(i)};return Jy(t,a),!1};Tr.prototype.destroy=function(){var e=this;e.unbindDocument(!0),e.ids={},e.index=0,e.collections.forEach(function(t){t.destroy()}),e.off()};Tr.prototype.onDestroyed=function(e,t){var r=this;if(r.collections.indexOf(t)<0)return!1;r.collections.splice(r.collections.indexOf(t),1)};xte=Tr,tDe=new xte,rDe=new Xe,iDe=new C(1,1,1),sDe=new C,nDe=new Xt,aDe=new C,oDe=new cc,lDe=new lt,cDe=new Float32Array([255/256/256**3,255/256/256**2,255/256/256,255/256]),fr={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18},bte="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}",wte="vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}",_te="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}",Dte="float blend(const in float x,const in float y){return(y==0.0)? y : max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",Ste="float blend(const in float x,const in float y){return(y==1.0)? y : min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",Ate="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}",Ete="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}",Cte="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}",Tte="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}",Mte="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}",Lte="float blend(const in float x,const in float y){return(y>0.0)? min(x/y,1.0): 1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",kte="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}",Pte="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}",Bte="float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",Fte="float blend(const in float x,const in float y){return(y==1.0)? y : min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",Ote="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}",Ite="float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",Rte="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}",uDe=new Map([[fr.SKIP,null],[fr.ADD,bte],[fr.ALPHA,wte],[fr.AVERAGE,_te],[fr.COLOR_BURN,Dte],[fr.COLOR_DODGE,Ste],[fr.DARKEN,Ate],[fr.DIFFERENCE,Ete],[fr.EXCLUSION,Cte],[fr.LIGHTEN,Tte],[fr.MULTIPLY,Mte],[fr.DIVIDE,Lte],[fr.NEGATION,kte],[fr.NORMAL,Pte],[fr.OVERLAY,Bte],[fr.REFLECT,Fte],[fr.SCREEN,Ote],[fr.SOFT_LIGHT,Ite],[fr.SUBTRACT,Rte]]),dDe=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],hDe=1/1e3,pDe=new C,fDe=new Xe,mDe=new lt,gDe=Math.PI*.5,vDe=new C,yDe=new C,xDe=[new Float32Array(3),new Float32Array(3)],bDe=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],wDe=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]],_De=[new Float32Array(2),new Float32Array(2)],DDe=new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),SDe=[new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125])],ADe=[new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4])],EDe=[new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3])],CDe=new Map([[Rr(0,0,0,0),new Float32Array([0,0,0,0])],[Rr(0,0,0,1),new Float32Array([0,0,0,1])],[Rr(0,0,1,0),new Float32Array([0,0,1,0])],[Rr(0,0,1,1),new Float32Array([0,0,1,1])],[Rr(0,1,0,0),new Float32Array([0,1,0,0])],[Rr(0,1,0,1),new Float32Array([0,1,0,1])],[Rr(0,1,1,0),new Float32Array([0,1,1,0])],[Rr(0,1,1,1),new Float32Array([0,1,1,1])],[Rr(1,0,0,0),new Float32Array([1,0,0,0])],[Rr(1,0,0,1),new Float32Array([1,0,0,1])],[Rr(1,0,1,0),new Float32Array([1,0,1,0])],[Rr(1,0,1,1),new Float32Array([1,0,1,1])],[Rr(1,1,0,0),new Float32Array([1,1,0,0])],[Rr(1,1,0,1),new Float32Array([1,1,0,1])],[Rr(1,1,1,0),new Float32Array([1,1,1,0])],[Rr(1,1,1,1),new Float32Array([1,1,1,1])]]);TDe=new x3,MDe=new un({transparent:!0,vertexShader:`
        void main() {
            gl_Position = vec4(0.0);
        }
    `,fragmentShader:`
        void main() {
            gl_FragColor = vec4(0.0);
        }
    `}),LDe=new xi,kDe=new se});var Nte,Ute,ax,zte,jte,Hte,Vte,Gte,Wte,qte,Yte,Xte,Qte,Zte,$te,Jte,xr,es=ce(()=>{"use strict";Nte="_the_input_7cgyk_1",Ute="_the_input_pull_left_7cgyk_28 _the_input_7cgyk_1",ax={the_input:Nte,the_input_pull_left:Ute},zte="_input_field_container_q84t9_1",jte="_field_container_q84t9_14",Hte="_field_container_active_q84t9_29 _field_container_q84t9_14",Vte="_input_label_q84t9_34",Gte="_input_label_active_q84t9_46 _input_label_q84t9_34",Wte="_input_container_q84t9_54",qte="_area_code_container_q84t9_63",Yte="_phone_number_extras_q84t9_71",Xte="_phone_number_extras_hidden_q84t9_79 _phone_number_extras_q84t9_71",Qte="_input_status_q84t9_84",Zte="_status_indicator_q84t9_89",$te="_status_indicator_active_q84t9_100 _status_indicator_q84t9_89",Jte="_status_indicator_error_q84t9_106 _status_indicator_q84t9_89",xr={input_field_container:zte,field_container:jte,field_container_active:Hte,input_label:Vte,input_label_active:Gte,input_container:Wte,area_code_container:qte,phone_number_extras:Yte,phone_number_extras_hidden:Xte,input_status:Qte,status_indicator:Zte,status_indicator_active:$te,status_indicator_error:Jte}});var Kte,ere,tre,rre,ire,sre,nre,are,ore,lre,cre,wi,ts=ce(()=>{"use strict";Kte="_input_field_container_9cgac_1",ere="_field_container_9cgac_14",tre="_field_container_active_9cgac_29 _field_container_9cgac_14",rre="_input_label_9cgac_34",ire="_input_label_active_9cgac_46 _input_label_9cgac_34",sre="_input_container_9cgac_54",nre="_the_input_9cgac_63",are="_input_status_9cgac_83",ore="_status_indicator_9cgac_88",lre="_status_indicator_active_9cgac_99 _status_indicator_9cgac_88",cre="_status_indicator_error_9cgac_105 _status_indicator_9cgac_88",wi={input_field_container:Kte,field_container:ere,field_container_active:tre,input_label:rre,input_label_active:ire,input_container:sre,the_input:nre,input_status:are,status_indicator:ore,status_indicator_active:lre,status_indicator_error:cre}});var ure,ML,dre,hre,ox,pre,fre,lx,mre,LL,rs=ce(()=>{"use strict";ure="_day_k4mkx_1",ML={day:ure},dre="_container_uo8kc_1",hre="_label_uo8kc_23",ox={container:dre,label:hre},pre="_container_wbyoi_1",fre="_days_container_wbyoi_10",lx={container:pre,days_container:fre},mre="_lead_form_1ty10_1",LL={lead_form:mre}});var gre,vre,yre,xre,bre,wre,bc,_re,Dre,Sre,Are,Ere,Cre,Tre,Mre,Lre,qn,kre,Pre,Bre,Fre,Ore,Ire,Rre,Nre,Ure,Yn,zre,jre,Hre,Vre,Gre,bn,Wre,qre,Yre,Xre,Qre,Zre,$re,Jre,Kre,wn,eie,tie,rie,iie,sie,nie,aie,oie,lie,_n,cie,uie,die,hie,pie,fie,mie,gie,vie,Xn,yie,xie,bie,wie,_ie,Die,Sie,Aie,Eie,Qn,is=ce(()=>{"use strict";gre="_button_container_1obfg_1",vre="_button_1obfg_1",yre="_button_teal_1obfg_51 _button_1obfg_1",xre="_button_purple_1obfg_56 _button_1obfg_1",bre="_button_pink_1obfg_61 _button_1obfg_1",wre="_button_icon_1obfg_66",bc={button_container:gre,button:vre,button_teal:yre,button_purple:xre,button_pink:bre,button_icon:wre},_re="_form_container_1ydds_1",Dre="_content_container_1ydds_13",Sre="_form_headline_1ydds_22",Are="_form_description_1ydds_29",Ere="_input_container_1ydds_33",Cre="_price_container_1ydds_42",Tre="_price_sign_1ydds_53",Mre="_price_1ydds_42",Lre="_button_container_1ydds_66",qn={form_container:_re,content_container:Dre,form_headline:Sre,form_description:Are,input_container:Ere,price_container:Cre,price_sign:Tre,price:Mre,button_container:Lre},kre="_form_container_1ydds_1",Pre="_content_container_1ydds_13",Bre="_form_headline_1ydds_22",Fre="_form_description_1ydds_29",Ore="_input_container_1ydds_33",Ire="_price_container_1ydds_42",Rre="_price_sign_1ydds_53",Nre="_price_1ydds_42",Ure="_button_container_1ydds_66",Yn={form_container:kre,content_container:Pre,form_headline:Bre,form_description:Fre,input_container:Ore,price_container:Ire,price_sign:Rre,price:Nre,button_container:Ure},zre="_indicator_container_a47qi_1",jre="_type_container_a47qi_17",Hre="_type_container_active_a47qi_28 _type_container_a47qi_17",Vre="_type_label_a47qi_33",Gre="_type_label_active_a47qi_41 _type_label_a47qi_33",bn={indicator_container:zre,type_container:jre,type_container_active:Hre,type_label:Vre,type_label_active:Gre},Wre="_form_container_1td6p_1",qre="_content_container_1td6p_13",Yre="_form_headline_1td6p_22",Xre="_form_description_1td6p_29",Qre="_inputs_price_container_1td6p_33",Zre="_input_container_1td6p_42",$re="_price_container_1td6p_51",Jre="_price_sign_1td6p_62",Kre="_price_1td6p_51",wn={form_container:Wre,content_container:qre,form_headline:Yre,form_description:Xre,inputs_price_container:Qre,input_container:Zre,price_container:$re,price_sign:Jre,price:Kre},eie="_form_container_1td6p_1",tie="_content_container_1td6p_13",rie="_form_headline_1td6p_22",iie="_form_description_1td6p_29",sie="_inputs_price_container_1td6p_33",nie="_input_container_1td6p_42",aie="_price_container_1td6p_51",oie="_price_sign_1td6p_62",lie="_price_1td6p_51",_n={form_container:eie,content_container:tie,form_headline:rie,form_description:iie,inputs_price_container:sie,input_container:nie,price_container:aie,price_sign:oie,price:lie},cie="_form_container_1td6p_1",uie="_content_container_1td6p_13",die="_form_headline_1td6p_22",hie="_form_description_1td6p_29",pie="_inputs_price_container_1td6p_33",fie="_input_container_1td6p_42",mie="_price_container_1td6p_51",gie="_price_sign_1td6p_62",vie="_price_1td6p_51",Xn={form_container:cie,content_container:uie,form_headline:die,form_description:hie,inputs_price_container:pie,input_container:fie,price_container:mie,price_sign:gie,price:vie},yie="_form_container_1td6p_1",xie="_content_container_1td6p_13",bie="_form_headline_1td6p_22",wie="_form_description_1td6p_29",_ie="_inputs_price_container_1td6p_33",Die="_input_container_1td6p_42",Sie="_price_container_1td6p_51",Aie="_price_sign_1td6p_62",Eie="_price_1td6p_51",Qn={form_container:yie,content_container:xie,form_headline:bie,form_description:wie,inputs_price_container:_ie,input_container:Die,price_container:Sie,price_sign:Aie,price:Eie}});var Cie,Tie,cx,ss=ce(()=>{"use strict";Cie="_contact_form_y5wl3_1",Tie="_input_container_y5wl3_12",cx={contact_form:Cie,input_container:Tie}});var br=Ue((h3e,PL)=>{"use strict";var kL=Object.getOwnPropertySymbols,Mie=Object.prototype.hasOwnProperty,Lie=Object.prototype.propertyIsEnumerable;function kie(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Pie(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var i=Object.getOwnPropertyNames(t).map(function(n){return t[n]});if(i.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(n){s[n]=n}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}PL.exports=Pie()?Object.assign:function(e,t){for(var r,i=kie(e),s,n=1;n<arguments.length;n++){r=Object(arguments[n]);for(var a in r)Mie.call(r,a)&&(i[a]=r[a]);if(kL){s=kL(r);for(var o=0;o<s.length;o++)Lie.call(r,s[o])&&(i[s[o]]=r[s[o]])}}return i}});var dx=Ue(ux=>{"use strict";Object.defineProperty(ux,"__esModule",{value:!0});function Bie(e){return typeof e=="function"}ux.isFunction=Bie});var jf=Ue(px=>{"use strict";Object.defineProperty(px,"__esModule",{value:!0});var hx=!1;px.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+t.stack)}else hx&&console.log("RxJS: Back to a better error behavior. Thank you. <3");hx=e},get useDeprecatedSynchronousErrorHandling(){return hx}}});var mx=Ue(fx=>{"use strict";Object.defineProperty(fx,"__esModule",{value:!0});function Fie(e){setTimeout(function(){throw e},0)}fx.hostReportError=Fie});var vx=Ue(gx=>{"use strict";Object.defineProperty(gx,"__esModule",{value:!0});var Oie=jf(),Iie=mx();gx.empty={closed:!0,next:function(e){},error:function(e){if(Oie.config.useDeprecatedSynchronousErrorHandling)throw e;Iie.hostReportError(e)},complete:function(){}}});var BL=Ue(yx=>{"use strict";Object.defineProperty(yx,"__esModule",{value:!0});yx.isArray=function(){return Array.isArray||function(e){return e&&typeof e.length=="number"}}()});var FL=Ue(xx=>{"use strict";Object.defineProperty(xx,"__esModule",{value:!0});function Rie(e){return e!==null&&typeof e=="object"}xx.isObject=Rie});var OL=Ue(bx=>{"use strict";Object.defineProperty(bx,"__esModule",{value:!0});var Nie=function(){function e(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e}();bx.UnsubscriptionError=Nie});var RL=Ue(wx=>{"use strict";Object.defineProperty(wx,"__esModule",{value:!0});var Uie=BL(),zie=FL(),jie=dx(),Hf=OL(),Hie=function(){function e(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this,i=r._parentOrParents,s=r._ctorUnsubscribe,n=r._unsubscribe,a=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof e)i.remove(this);else if(i!==null)for(var o=0;o<i.length;++o){var l=i[o];l.remove(this)}if(jie.isFunction(n)){s&&(this._unsubscribe=void 0);try{n.call(this)}catch(u){t=u instanceof Hf.UnsubscriptionError?IL(u.errors):[u]}}if(Uie.isArray(a))for(var o=-1,c=a.length;++o<c;){var h=a[o];if(zie.isObject(h))try{h.unsubscribe()}catch(d){t=t||[],d instanceof Hf.UnsubscriptionError?t=t.concat(IL(d.errors)):t.push(d)}}if(t)throw new Hf.UnsubscriptionError(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var i=r;r=new e,r._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var s=r._parentOrParents;if(s===null)r._parentOrParents=this;else if(s instanceof e){if(s===this)return r;r._parentOrParents=[s,this]}else if(s.indexOf(this)===-1)s.push(this);else return r;var n=this._subscriptions;return n===null?this._subscriptions=[r]:n.push(r),r},e.prototype.remove=function(t){var r=this._subscriptions;if(r){var i=r.indexOf(t);i!==-1&&r.splice(i,1)}},e.EMPTY=function(t){return t.closed=!0,t}(new e),e}();wx.Subscription=Hie;function IL(e){return e.reduce(function(t,r){return t.concat(r instanceof Hf.UnsubscriptionError?r.errors:r)},[])}});var _x=Ue(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();Md.$$rxSubscriber=Md.rxSubscriber});var Ld=Ue(_c=>{"use strict";var UL=_c&&_c.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},e(t,r)};return function(t,r){e(t,r);function i(){this.constructor=t}t.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(_c,"__esModule",{value:!0});var NL=dx(),Dx=vx(),Vie=RL(),Gie=_x(),wc=jf(),Vf=mx(),zL=function(e){UL(t,e);function t(r,i,s){var n=e.call(this)||this;switch(n.syncErrorValue=null,n.syncErrorThrown=!1,n.syncErrorThrowable=!1,n.isStopped=!1,arguments.length){case 0:n.destination=Dx.empty;break;case 1:if(!r){n.destination=Dx.empty;break}if(typeof r=="object"){r instanceof t?(n.syncErrorThrowable=r.syncErrorThrowable,n.destination=r,r.add(n)):(n.syncErrorThrowable=!0,n.destination=new Sx(n,r));break}default:n.syncErrorThrowable=!0,n.destination=new Sx(n,r,i,s);break}return n}return t.prototype[Gie.rxSubscriber]=function(){return this},t.create=function(r,i,s){var n=new t(r,i,s);return n.syncErrorThrowable=!1,n},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},t}(Vie.Subscription);_c.Subscriber=zL;var Sx=function(e){UL(t,e);function t(r,i,s,n){var a=e.call(this)||this;a._parentSubscriber=r;var o,l=a;return NL.isFunction(i)?o=i:i&&(o=i.next,s=i.error,n=i.complete,i!==Dx.empty&&(l=Object.create(i),NL.isFunction(l.unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(a))),a._context=l,a._next=o,a._error=s,a._complete=n,a}return t.prototype.next=function(r){if(!this.isStopped&&this._next){var i=this._parentSubscriber;!wc.config.useDeprecatedSynchronousErrorHandling||!i.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(i,this._next,r)&&this.unsubscribe()}},t.prototype.error=function(r){if(!this.isStopped){var i=this._parentSubscriber,s=wc.config.useDeprecatedSynchronousErrorHandling;if(this._error)!s||!i.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(i,this._error,r),this.unsubscribe());else if(i.syncErrorThrowable)s?(i.syncErrorValue=r,i.syncErrorThrown=!0):Vf.hostReportError(r),this.unsubscribe();else{if(this.unsubscribe(),s)throw r;Vf.hostReportError(r)}}},t.prototype.complete=function(){var r=this;if(!this.isStopped){var i=this._parentSubscriber;if(this._complete){var s=function(){return r._complete.call(r._context)};!wc.config.useDeprecatedSynchronousErrorHandling||!i.syncErrorThrowable?(this.__tryOrUnsub(s),this.unsubscribe()):(this.__tryOrSetError(i,s),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(r,i){try{r.call(this._context,i)}catch(s){if(this.unsubscribe(),wc.config.useDeprecatedSynchronousErrorHandling)throw s;Vf.hostReportError(s)}},t.prototype.__tryOrSetError=function(r,i,s){if(!wc.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{i.call(this._context,s)}catch(n){return wc.config.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=n,r.syncErrorThrown=!0,!0):(Vf.hostReportError(n),!0)}return!1},t.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},t}(zL);_c.SafeSubscriber=Sx});var jL=Ue(Ax=>{"use strict";Object.defineProperty(Ax,"__esModule",{value:!0});var Wie=Ld();function qie(e){for(;e;){var t=e,r=t.closed,i=t.destination,s=t.isStopped;if(r||s)return!1;i&&i instanceof Wie.Subscriber?e=i:e=null}return!0}Ax.canReportError=qie});var VL=Ue(Cx=>{"use strict";Object.defineProperty(Cx,"__esModule",{value:!0});var Ex=Ld(),HL=_x(),Yie=vx();function Xie(e,t,r){if(e){if(e instanceof Ex.Subscriber)return e;if(e[HL.rxSubscriber])return e[HL.rxSubscriber]()}return!e&&!t&&!r?new Ex.Subscriber(Yie.empty):new Ex.Subscriber(e,t,r)}Cx.toSubscriber=Xie});var GL=Ue(Tx=>{"use strict";Object.defineProperty(Tx,"__esModule",{value:!0});Tx.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var WL=Ue(Mx=>{"use strict";Object.defineProperty(Mx,"__esModule",{value:!0});function Qie(e){return e}Mx.identity=Qie});var YL=Ue(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});var Zie=WL();function $ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return qL(e)}Gf.pipe=$ie;function qL(e){return e.length===0?Zie.identity:e.length===1?e[0]:function(r){return e.reduce(function(i,s){return s(i)},r)}}Gf.pipeFromArray=qL});var QL=Ue(Lx=>{"use strict";Object.defineProperty(Lx,"__esModule",{value:!0});var Jie=jL(),Kie=VL(),ese=GL(),tse=YL(),Wf=jf(),rse=function(){function e(t){this._isScalar=!1,t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,i){var s=this.operator,n=Kie.toSubscriber(t,r,i);if(s?n.add(s.call(n,this.source)):n.add(this.source||Wf.config.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),Wf.config.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){Wf.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),Jie.canReportError(t)?t.error(r):console.warn(r)}},e.prototype.forEach=function(t,r){var i=this;return r=XL(r),new r(function(s,n){var a;a=i.subscribe(function(o){try{t(o)}catch(l){n(l),a&&a.unsubscribe()}},n,s)})},e.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},e.prototype[ese.observable]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length===0?this:tse.pipeFromArray(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=XL(t),new t(function(i,s){var n;r.subscribe(function(a){return n=a},function(a){return s(a)},function(){return i(n)})})},e.create=function(t){return new e(t)},e}();Lx.Observable=rse;function XL(e){if(e||(e=Wf.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}});var ZL=Ue(kd=>{"use strict";var ise=kd&&kd.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},e(t,r)};return function(t,r){e(t,r);function i(){this.constructor=t}t.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(kd,"__esModule",{value:!0});var sse=Ld();function nse(e,t){return function(i){return i.lift(new ase(e,t))}}kd.filter=nse;var ase=function(){function e(t,r){this.predicate=t,this.thisArg=r}return e.prototype.call=function(t,r){return r.subscribe(new ose(t,this.predicate,this.thisArg))},e}(),ose=function(e){ise(t,e);function t(r,i,s){var n=e.call(this,r)||this;return n.predicate=i,n.thisArg=s,n.count=0,n}return t.prototype._next=function(r){var i;try{i=this.predicate.call(this.thisArg,r,this.count++)}catch(s){this.destination.error(s);return}i&&this.destination.next(r)},t}(sse.Subscriber)});var JL=Ue(Dc=>{"use strict";var lse=Dc&&Dc.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},e(t,r)};return function(t,r){e(t,r);function i(){this.constructor=t}t.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(Dc,"__esModule",{value:!0});var cse=Ld();function use(e,t){return function(i){if(typeof e!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new $L(e,t))}}Dc.map=use;var $L=function(){function e(t,r){this.project=t,this.thisArg=r}return e.prototype.call=function(t,r){return r.subscribe(new dse(t,this.project,this.thisArg))},e}();Dc.MapOperator=$L;var dse=function(e){lse(t,e);function t(r,i,s){var n=e.call(this,r)||this;return n.project=i,n.count=0,n.thisArg=s||n,n}return t.prototype._next=function(r){var i;try{i=this.project.call(this.thisArg,r,this.count++)}catch(s){this.destination.error(s);return}this.destination.next(i)},t}(cse.Subscriber)});var Sc=Ue((k3e,KL)=>{"use strict";var hse=QL(),pse=hse.Observable,fse=ZL(),mse=fse.filter,gse=JL(),vse=gse.map;KL.exports={Observable:pse,filter:mse,map:vse}});var kx=Ue((P3e,ek)=>{"use strict";ek.exports=function(t){if(typeof t=="string"||Array.isArray(t))return{id:t};if(t&&t.query)return"params"in t?{query:t.query,params:t.params}:{query:t.query};var r=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(r))}});var Va=Ue(Ls=>{"use strict";function Px(e){return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(e)}var tk=["image","file"],rk=["before","after","replace"];Ls.dataset=function(e){if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")};Ls.projectId=function(e){if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")};Ls.validateAssetType=function(e){if(tk.indexOf(e)===-1)throw new Error("Invalid asset type: ".concat(e,". Must be one of ").concat(tk.join(", ")))};Ls.validateObject=function(e,t){if(t===null||Px(t)!=="object"||Array.isArray(t))throw new Error("".concat(e,"() takes an object of properties"))};Ls.requireDocumentId=function(e,t){if(!t._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));Ls.validateDocumentId(e,t._id)};Ls.validateDocumentId=function(e,t){if(typeof t!="string"||!/^[a-z0-9_.-]+$/i.test(t))throw new Error("".concat(e,'(): "').concat(t,'" is not a valid document ID'))};Ls.validateInsert=function(e,t,r){var i="insert(at, selector, items)";if(rk.indexOf(e)===-1){var s=rk.map(function(n){return'"'.concat(n,'"')}).join(", ");throw new Error("".concat(i,' takes an "at"-argument which is one of: ').concat(s))}if(typeof t!="string")throw new Error("".concat(i,' takes a "selector"-argument which must be a string'));if(!Array.isArray(r))throw new Error("".concat(i,' takes an "items"-argument which must be an array'))};Ls.hasDataset=function(e){if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""};Ls.requestTag=function(e){if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e}});var qf=Ue((F3e,sk)=>{"use strict";function Bx(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ga=br(),yse=kx(),ik=Va(),Fx=ik.validateObject,xse=ik.validateInsert;function Ox(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this.selection=e,this.operations=Ga({},t),this.client=r}Ga(Ox.prototype,{clone:function(){return new Ox(this.selection,Ga({},this.operations),this.client)},set:function(t){return this._assign("set",t)},diffMatchPatch:function(t){return Fx("diffMatchPatch",t),this._assign("diffMatchPatch",t)},unset:function(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Ga({},this.operations,{unset:t}),this},setIfMissing:function(t){return this._assign("setIfMissing",t)},replace:function(t){return Fx("replace",t),this._set("set",{$:t})},inc:function(t){return this._assign("inc",t)},dec:function(t){return this._assign("dec",t)},insert:function(t,r,i){var s;return xse(t,r,i),this._assign("insert",(s={},Bx(s,t,r),Bx(s,"items",i),s))},append:function(t,r){return this.insert("after","".concat(t,"[-1]"),r)},prepend:function(t,r){return this.insert("before","".concat(t,"[0]"),r)},splice:function(t,r,i,s){var n=typeof i>"u"||i===-1,a=r<0?r-1:r,o=n?-1:Math.max(0,r+i),l=a<0&&o>=0?"":o,c="".concat(t,"[").concat(a,":").concat(l,"]");return this.insert("replace",c,s||[])},ifRevisionId:function(t){return this.operations.ifRevisionID=t,this},serialize:function(){return Ga(yse(this.selection),this.operations)},toJSON:function(){return this.serialize()},commit:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.client)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");var r=typeof this.selection=="string",i=Ga({returnFirst:r,returnDocuments:!0},t);return this.client.mutate({patch:this.serialize()},i)},reset:function(){return this.operations={},this},_set:function(t,r){return this._assign(t,r,!1)},_assign:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Fx(t,r),this.operations=Ga({},this.operations,Bx({},t,Ga({},i&&this.operations[t]||{},r))),this}});sk.exports=Ox});var Ux=Ue((O3e,ak)=>{"use strict";function nk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ix=br(),Ac=Va(),Rx=qf(),bse={returnDocuments:!1};function Nx(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;this.trxId=r,this.operations=e,this.client=t}Ix(Nx.prototype,{clone:function(){return new Nx(this.operations.slice(0),this.client,this.trxId)},create:function(t){return Ac.validateObject("create",t),this._add({create:t})},createIfNotExists:function(t){var r="createIfNotExists";return Ac.validateObject(r,t),Ac.requireDocumentId(r,t),this._add(nk({},r,t))},createOrReplace:function(t){var r="createOrReplace";return Ac.validateObject(r,t),Ac.requireDocumentId(r,t),this._add(nk({},r,t))},delete:function(t){return Ac.validateDocumentId("delete",t),this._add({delete:{id:t}})},patch:function(t,r){var i=typeof r=="function",s=t instanceof Rx;if(s)return this._add({patch:t.serialize()});if(i){var n=r(new Rx(t,{},this.client));if(!(n instanceof Rx))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:n.serialize()})}return this._add({patch:Ix({id:t},r)})},transactionId:function(t){return t?(this.trxId=t,this):this.trxId},serialize:function(){return this.operations.slice()},toJSON:function(){return this.serialize()},commit:function(t){if(!this.client)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.client.mutate(this.serialize(),Ix({transactionId:this.trxId},bse,t||{}))},reset:function(){return this.operations=[],this},_add:function(t){return this.operations.push(t),this}});ak.exports=Nx});var zx=Ue((I3e,ok)=>{"use strict";var wse=["tag"];function _se(e,t){if(e==null)return{};var r=Dse(e,t),i,s;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(r[i]=e[i]))}return r}function Dse(e,t){if(e==null)return{};var r={},i=Object.keys(e),s,n;for(n=0;n<i.length;n++)s=i[n],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var Ec=encodeURIComponent;ok.exports=function(e){var t=e.query,r=e.params,i=r===void 0?{}:r,s=e.options,n=s===void 0?{}:s,a=n.tag,o=_se(n,wse),l="query=".concat(Ec(t)),c=a?"?tag=".concat(Ec(a),"&").concat(l):"?".concat(l),h=Object.keys(i).reduce(function(u,d){return"".concat(u,"&").concat(Ec("$".concat(d)),"=").concat(Ec(JSON.stringify(i[d])))},c);return Object.keys(o).reduce(function(u,d){return n[d]?"".concat(u,"&").concat(Ec(d),"=").concat(Ec(n[d])):u},h)}});var lk=Ue((jx,Yf)=>{(function(e){"use strict";var t=e.setTimeout,r=e.clearTimeout,i=e.XMLHttpRequest,s=e.XDomainRequest,n=e.ActiveXObject,a=e.EventSource,o=e.document,l=e.Promise,c=e.fetch,h=e.Response,u=e.TextDecoder,d=e.TextEncoder,p=e.AbortController;if(typeof window<"u"&&typeof o<"u"&&!("readyState"in o)&&o.body==null&&(o.readyState="loading",window.addEventListener("load",function(W){o.readyState="complete"},!1)),i==null&&n!=null&&(i=function(){return new n("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(W){function ne(){}return ne.prototype=W,new ne}),Date.now||(Date.now=function(){return new Date().getTime()}),p==null){var g=c;c=function(W,ne){var xe=ne.signal;return g(W,{headers:ne.headers,credentials:ne.credentials,cache:ne.cache}).then(function(ae){var _e=ae.body.getReader();return xe._reader=_e,xe._aborted&&xe._reader.cancel(),{status:ae.status,statusText:ae.statusText,headers:ae.headers,body:{getReader:function(){return _e}}}})},p=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function m(){this.bitsNeeded=0,this.codePoint=0}m.prototype.decode=function(W){function ne(k,ee,ve){if(ve===1)return k>=128>>ee&&k<<ee<=2047;if(ve===2)return k>=2048>>ee&&k<<ee<=55295||k>=57344>>ee&&k<<ee<=65535;if(ve===3)return k>=65536>>ee&&k<<ee<=1114111;throw new Error}function xe(k,ee){if(k===6*1)return ee>>6>15?3:ee>31?2:1;if(k===6*2)return ee>15?3:2;if(k===6*3)return 3;throw new Error}for(var ae=65533,_e="",Ce=this.bitsNeeded,Ie=this.codePoint,Qe=0;Qe<W.length;Qe+=1){var B=W[Qe];Ce!==0&&(B<128||B>191||!ne(Ie<<6|B&63,Ce-6,xe(Ce,Ie)))&&(Ce=0,Ie=ae,_e+=String.fromCharCode(Ie)),Ce===0?(B>=0&&B<=127?(Ce=0,Ie=B):B>=192&&B<=223?(Ce=6*1,Ie=B&31):B>=224&&B<=239?(Ce=6*2,Ie=B&15):B>=240&&B<=247?(Ce=6*3,Ie=B&7):(Ce=0,Ie=ae),Ce!==0&&!ne(Ie,Ce,xe(Ce,Ie))&&(Ce=0,Ie=ae)):(Ce-=6,Ie=Ie<<6|B&63),Ce===0&&(Ie<=65535?_e+=String.fromCharCode(Ie):(_e+=String.fromCharCode(55296+(Ie-65535-1>>10)),_e+=String.fromCharCode(56320+(Ie-65535-1&1023))))}return this.bitsNeeded=Ce,this.codePoint=Ie,_e};var f=function(){try{return new u().decode(new d().encode("test"),{stream:!0})==="test"}catch(W){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+W)}return!1};(u==null||d==null||!f())&&(u=m);var v=function(){};function x(W){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=v,this.onload=v,this.onerror=v,this.onreadystatechange=v,this._contentType="",this._xhr=W,this._sendTimeout=0,this._abort=v}x.prototype.open=function(W,ne){this._abort(!0);var xe=this,ae=this._xhr,_e=1,Ce=0;this._abort=function(ve){xe._sendTimeout!==0&&(r(xe._sendTimeout),xe._sendTimeout=0),(_e===1||_e===2||_e===3)&&(_e=4,ae.onload=v,ae.onerror=v,ae.onabort=v,ae.onprogress=v,ae.onreadystatechange=v,ae.abort(),Ce!==0&&(r(Ce),Ce=0),ve||(xe.readyState=4,xe.onabort(null),xe.onreadystatechange())),_e=0};var Ie=function(){if(_e===1){var ve=0,De="",Pe=void 0;if("contentType"in ae)ve=200,De="OK",Pe=ae.contentType;else try{ve=ae.status,De=ae.statusText,Pe=ae.getResponseHeader("Content-Type")}catch{ve=0,De="",Pe=void 0}ve!==0&&(_e=2,xe.readyState=2,xe.status=ve,xe.statusText=De,xe._contentType=Pe,xe.onreadystatechange())}},Qe=function(){if(Ie(),_e===2||_e===3){_e=3;var ve="";try{ve=ae.responseText}catch{}xe.readyState=3,xe.responseText=ve,xe.onprogress()}},B=function(ve,De){if((De==null||De.preventDefault==null)&&(De={preventDefault:v}),Qe(),_e===1||_e===2||_e===3){if(_e=4,Ce!==0&&(r(Ce),Ce=0),xe.readyState=4,ve==="load")xe.onload(De);else if(ve==="error")xe.onerror(De);else if(ve==="abort")xe.onabort(De);else throw new TypeError;xe.onreadystatechange()}},k=function(ve){ae!=null&&(ae.readyState===4?(!("onload"in ae)||!("onerror"in ae)||!("onabort"in ae))&&B(ae.responseText===""?"error":"load",ve):ae.readyState===3?"onprogress"in ae||Qe():ae.readyState===2&&Ie())},ee=function(){Ce=t(function(){ee()},500),ae.readyState===3&&Qe()};"onload"in ae&&(ae.onload=function(ve){B("load",ve)}),"onerror"in ae&&(ae.onerror=function(ve){B("error",ve)}),"onabort"in ae&&(ae.onabort=function(ve){B("abort",ve)}),"onprogress"in ae&&(ae.onprogress=Qe),"onreadystatechange"in ae&&(ae.onreadystatechange=function(ve){k(ve)}),("contentType"in ae||!("ontimeout"in i.prototype))&&(ne+=(ne.indexOf("?")===-1?"?":"&")+"padding=true"),ae.open(W,ne,!0),"readyState"in ae&&(Ce=t(function(){ee()},0))},x.prototype.abort=function(){this._abort(!1)},x.prototype.getResponseHeader=function(W){return this._contentType},x.prototype.setRequestHeader=function(W,ne){var xe=this._xhr;"setRequestHeader"in xe&&xe.setRequestHeader(W,ne)},x.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},x.prototype.send=function(){if((!("ontimeout"in i.prototype)||!("sendAsBinary"in i.prototype)&&!("mozAnon"in i.prototype))&&o!=null&&o.readyState!=null&&o.readyState!=="complete"){var W=this;W._sendTimeout=t(function(){W._sendTimeout=0,W.send()},4);return}var ne=this._xhr;"withCredentials"in ne&&(ne.withCredentials=this.withCredentials);try{ne.send(void 0)}catch(xe){throw xe}};function b(W){return W.replace(/[A-Z]/g,function(ne){return String.fromCharCode(ne.charCodeAt(0)+32)})}function y(W){for(var ne=Object.create(null),xe=W.split(`\r
`),ae=0;ae<xe.length;ae+=1){var _e=xe[ae],Ce=_e.split(": "),Ie=Ce.shift(),Qe=Ce.join(": ");ne[b(Ie)]=Qe}this._map=ne}y.prototype.get=function(W){return this._map[b(W)]},i!=null&&i.HEADERS_RECEIVED==null&&(i.HEADERS_RECEIVED=2);function w(){}w.prototype.open=function(W,ne,xe,ae,_e,Ce,Ie){W.open("GET",_e);var Qe=0;W.onprogress=function(){var k=W.responseText,ee=k.slice(Qe);Qe+=ee.length,xe(ee)},W.onerror=function(k){k.preventDefault(),ae(new Error("NetworkError"))},W.onload=function(){ae(null)},W.onabort=function(){ae(null)},W.onreadystatechange=function(){if(W.readyState===i.HEADERS_RECEIVED){var k=W.status,ee=W.statusText,ve=W.getResponseHeader("Content-Type"),De=W.getAllResponseHeaders();ne(k,ee,ve,new y(De))}},W.withCredentials=Ce;for(var B in Ie)Object.prototype.hasOwnProperty.call(Ie,B)&&W.setRequestHeader(B,Ie[B]);return W.send(),W};function _(W){this._headers=W}_.prototype.get=function(W){return this._headers.get(W)};function D(){}D.prototype.open=function(W,ne,xe,ae,_e,Ce,Ie){var Qe=null,B=new p,k=B.signal,ee=new u;return c(_e,{headers:Ie,credentials:Ce?"include":"same-origin",signal:k,cache:"no-store"}).then(function(ve){return Qe=ve.body.getReader(),ne(ve.status,ve.statusText,ve.headers.get("Content-Type"),new _(ve.headers)),new l(function(De,Pe){var Je=function(){Qe.read().then(function(de){if(de.done)De(void 0);else{var ze=ee.decode(de.value,{stream:!0});xe(ze),Je()}}).catch(function(de){Pe(de)})};Je()})}).catch(function(ve){if(ve.name!=="AbortError")return ve}).then(function(ve){ae(ve)}),{abort:function(){Qe?.cancel(),B.abort()}}};function S(){this._listeners=Object.create(null)}function A(W){t(function(){throw W},0)}S.prototype.dispatchEvent=function(W){W.target=this;var ne=this._listeners[W.type];if(ne!=null)for(var xe=ne.length,ae=0;ae<xe;ae+=1){var _e=ne[ae];try{typeof _e.handleEvent=="function"?_e.handleEvent(W):_e.call(this,W)}catch(Ce){A(Ce)}}},S.prototype.addEventListener=function(W,ne){W=String(W);var xe=this._listeners,ae=xe[W];ae==null&&(ae=[],xe[W]=ae);for(var _e=!1,Ce=0;Ce<ae.length;Ce+=1)ae[Ce]===ne&&(_e=!0);_e||ae.push(ne)},S.prototype.removeEventListener=function(W,ne){W=String(W);var xe=this._listeners,ae=xe[W];if(ae!=null){for(var _e=[],Ce=0;Ce<ae.length;Ce+=1)ae[Ce]!==ne&&_e.push(ae[Ce]);_e.length===0?delete xe[W]:xe[W]=_e}};function E(W){this.type=W,this.target=void 0}function M(W,ne){E.call(this,W),this.data=ne.data,this.lastEventId=ne.lastEventId}M.prototype=Object.create(E.prototype);function I(W,ne){E.call(this,W),this.status=ne.status,this.statusText=ne.statusText,this.headers=ne.headers}I.prototype=Object.create(E.prototype);function V(W,ne){E.call(this,W),this.error=ne.error}V.prototype=Object.create(E.prototype);var P=-1,Q=0,G=1,X=2,F=-1,z=0,j=1,Z=2,U=3,J=/^text\/event\-stream(;.*)?$/i,oe=1e3,he=18e6,q=function(W,ne){var xe=W==null?ne:parseInt(W,10);return xe!==xe&&(xe=ne),Ee(xe)},Ee=function(W){return Math.min(Math.max(W,oe),he)},$=function(W,ne,xe){try{typeof ne=="function"&&ne.call(W,xe)}catch(ae){A(ae)}};function fe(W,ne){S.call(this),ne=ne||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,ge(this,W,ne)}function te(){return i!=null&&"withCredentials"in i.prototype||s==null?new i:new s}var Oe=c!=null&&h!=null&&"body"in h.prototype;function ge(W,ne,xe){ne=String(ne);var ae=Boolean(xe.withCredentials),_e=xe.lastEventIdQueryParameterName||"lastEventId",Ce=Ee(1e3),Ie=q(xe.heartbeatTimeout,45e3),Qe="",B=Ce,k=!1,ee=0,ve=xe.headers||{},De=xe.Transport,Pe=Oe&&De==null?void 0:new x(De!=null?new De:te()),Je=De!=null&&typeof De!="string"?new De:Pe==null?new D:new w,de=void 0,ze=0,Te=P,Be="",Y="",Le="",Fe="",qe=z,He=0,Ke=0,ke=function(Ct,It,jr,Dr){if(Te===Q)if(Ct===200&&jr!=null&&J.test(jr)){Te=G,k=Date.now(),B=Ce,W.readyState=G;var Lr=new I("open",{status:Ct,statusText:It,headers:Dr});W.dispatchEvent(Lr),$(W,W.onopen,Lr)}else{var sr="";Ct!==200?(It&&(It=It.replace(/\s+/g," ")),sr="EventSource's response has a status "+Ct+" "+It+" that is not 200. Aborting the connection."):sr="EventSource's response has a Content-Type specifying an unsupported type: "+(jr==null?"-":jr.replace(/\s+/g," "))+". Aborting the connection.",dt();var Lr=new I("error",{status:Ct,statusText:It,headers:Dr});W.dispatchEvent(Lr),$(W,W.onerror,Lr),console.error(sr)}},Ze=function(Ct){if(Te===G){for(var It=-1,jr=0;jr<Ct.length;jr+=1){var Dr=Ct.charCodeAt(jr);(Dr===`
`.charCodeAt(0)||Dr==="\r".charCodeAt(0))&&(It=jr)}var Lr=(It!==-1?Fe:"")+Ct.slice(0,It+1);Fe=(It===-1?Fe:"")+Ct.slice(It+1),Ct!==""&&(k=Date.now(),ee+=Ct.length);for(var sr=0;sr<Lr.length;sr+=1){var Dr=Lr.charCodeAt(sr);if(qe===F&&Dr===`
`.charCodeAt(0))qe=z;else if(qe===F&&(qe=z),Dr==="\r".charCodeAt(0)||Dr===`
`.charCodeAt(0)){if(qe!==z){qe===j&&(Ke=sr+1);var Ai=Lr.slice(He,Ke-1),us=Lr.slice(Ke+(Ke<sr&&Lr.charCodeAt(Ke)===" ".charCodeAt(0)?1:0),sr);Ai==="data"?(Be+=`
`,Be+=us):Ai==="id"?Y=us:Ai==="event"?Le=us:Ai==="retry"?(Ce=q(us,Ce),B=Ce):Ai==="heartbeatTimeout"&&(Ie=q(us,Ie),ze!==0&&(r(ze),ze=t(function(){Gt()},Ie)))}if(qe===z){if(Be!==""){Qe=Y,Le===""&&(Le="message");var sa=new M(Le,{data:Be.slice(1),lastEventId:Y});if(W.dispatchEvent(sa),Le==="open"?$(W,W.onopen,sa):Le==="message"?$(W,W.onmessage,sa):Le==="error"&&$(W,W.onerror,sa),Te===X)return}Be="",Le=""}qe=Dr==="\r".charCodeAt(0)?F:z}else qe===z&&(He=sr,qe=j),qe===j?Dr===":".charCodeAt(0)&&(Ke=sr+1,qe=Z):qe===Z&&(qe=U)}}},ut=function(Ct){if(Te===G||Te===Q){Te=P,ze!==0&&(r(ze),ze=0),ze=t(function(){Gt()},B),B=Ee(Math.min(Ce*16,B*2)),W.readyState=Q;var It=new V("error",{error:Ct});W.dispatchEvent(It),$(W,W.onerror,It),Ct!=null&&console.error(Ct)}},dt=function(){Te=X,de!=null&&(de.abort(),de=void 0),ze!==0&&(r(ze),ze=0),W.readyState=X},Gt=function(){if(ze=0,Te!==P){if(!k&&de!=null)ut(new Error("No activity within "+Ie+" milliseconds. "+(Te===Q?"No response received.":ee+" chars received.")+" Reconnecting.")),de!=null&&(de.abort(),de=void 0);else{var Ct=Math.max((k||Date.now())+Ie-Date.now(),1);k=!1,ze=t(function(){Gt()},Ct)}return}k=!1,ee=0,ze=t(function(){Gt()},Ie),Te=Q,Be="",Le="",Y=Qe,Fe="",He=0,Ke=0,qe=z;var It=ne;if(ne.slice(0,5)!=="data:"&&ne.slice(0,5)!=="blob:"&&Qe!==""){var jr=ne.indexOf("?");It=jr===-1?ne:ne.slice(0,jr+1)+ne.slice(jr+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(us,sa){return sa===_e?"":us}),It+=(ne.indexOf("?")===-1?"?":"&")+_e+"="+encodeURIComponent(Qe)}var Dr=W.withCredentials,Lr={};Lr.Accept="text/event-stream";var sr=W.headers;if(sr!=null)for(var Ai in sr)Object.prototype.hasOwnProperty.call(sr,Ai)&&(Lr[Ai]=sr[Ai]);try{de=Je.open(Pe,ke,Ze,ut,It,Dr,Lr)}catch(us){throw dt(),us}};W.url=ne,W.readyState=Q,W.withCredentials=ae,W.headers=ve,W._close=dt,Gt()}fe.prototype=Object.create(S.prototype),fe.prototype.CONNECTING=Q,fe.prototype.OPEN=G,fe.prototype.CLOSED=X,fe.prototype.close=function(){this._close()},fe.CONNECTING=Q,fe.OPEN=G,fe.CLOSED=X,fe.prototype.withCredentials=void 0;var be=a;i!=null&&(a==null||!("withCredentials"in a.prototype))&&(be=fe),function(W){if(typeof Yf=="object"&&typeof Yf.exports=="object"){var ne=W(jx);ne!==void 0&&(Yf.exports=ne)}else typeof define=="function"&&define.amd?define(["exports"],W):W(e)}(function(W){W.EventSourcePolyfill=fe,W.NativeEventSource=a,W.EventSource=be})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:jx:globalThis)});var uk=Ue((R3e,ck)=>{var Sse=lk();ck.exports=Sse.EventSourcePolyfill});var hk=Ue((N3e,dk)=>{"use strict";dk.exports=function(e,t){return t.reduce(function(r,i){return typeof e[i]>"u"||(r[i]=e[i]),r},{})}});var fk=Ue((U3e,pk)=>{"use strict";pk.exports=function(e,t){return Object.keys(t).concat(Object.keys(e)).reduce(function(r,i){return r[i]=typeof e[i]>"u"?t[i]:e[i],r},{})}});var wk=Ue((z3e,bk)=>{"use strict";function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(i){Ase(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Ase(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ese=br(),Cse=Sc(),vk=Cse.Observable,Tse=uk(),Mse=hk(),Lse=fk(),kse=zx(),Pse=16e3-1200,yk=Tse,Bse=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],Fse={includeResult:!0};bk.exports=function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.clientConfig,n=s.url,a=s.token,o=s.withCredentials,l=s.requestTagPrefix,c=i.tag&&l?[l,i.tag].join("."):i.tag,h=gk(gk({},Lse(i,Fse)),{},{tag:c}),u=Mse(h,Bse),d=kse({query:t,params:r,options:u,tag:c}),p="".concat(n).concat(this.getDataUrl("listen",d));if(p.length>Pse)return new vk(function(v){return v.error(new Error("Query too large for listener"))});var g=h.events?h.events:["mutation"],m=g.indexOf("reconnect")!==-1,f={};return(a||o)&&(f.withCredentials=!0),a&&(f.headers={Authorization:"Bearer ".concat(a)}),new vk(function(v){var x=M(),b,y=!1;function w(){y||(E(),!y&&x.readyState===yk.CLOSED&&(A(),clearTimeout(b),b=setTimeout(I,100)))}function _(P){v.error(Ose(P))}function D(P){var Q=xk(P);return Q instanceof Error?v.error(Q):v.next(Q)}function S(P){y=!0,A(),v.complete()}function A(){x.removeEventListener("error",w,!1),x.removeEventListener("channelError",_,!1),x.removeEventListener("disconnect",S,!1),g.forEach(function(P){return x.removeEventListener(P,D,!1)}),x.close()}function E(){m&&v.next({type:"reconnect"})}function M(){var P=new yk(p,f);return P.addEventListener("error",w,!1),P.addEventListener("channelError",_,!1),P.addEventListener("disconnect",S,!1),g.forEach(function(Q){return P.addEventListener(Q,D,!1)}),P}function I(){x=M()}function V(){y=!0,A()}return V})};function xk(e){try{var t=e.data&&JSON.parse(e.data)||{};return Ese({type:e.type},t)}catch(r){return r}}function Ose(e){if(e instanceof Error)return e;var t=xk(e);return t instanceof Error?t:new Error(Ise(t))}function Ise(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}});var Ck=Ue((j3e,Ek)=>{"use strict";function _k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rse=br(),Ak=Sc(),Pd=Ak.map,Hx=Ak.filter,Vx=Va(),Nse=kx(),Use=zx(),Dk=Ux(),Sk=qf(),zse=wk(),jse=function(t,r){var i=typeof t>"u"?r:t;return t===!1?void 0:i},Hse=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:t.dryRun,returnIds:!0,returnDocuments:jse(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}},Gx=function(t){return t.type==="response"},Vse=function(t){return t.body},Gse=function(t,r){return t.reduce(function(i,s){return i[r(s)]=s,i},Object.create(null))},Xf=function(t){return t.toPromise()},Wse=11264;Ek.exports={listen:zse,getDataUrl:function(t,r){var i=this.clientConfig,s=Vx.hasDataset(i),n="/".concat(t,"/").concat(s),a=r?"".concat(n,"/").concat(r):n;return"/data".concat(a).replace(/\/($|\?)/,"$1")},fetch:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.filterResponse===!1?function(a){return a}:function(a){return a.result},n=this._dataRequest("query",{query:t,params:r},i).pipe(Pd(s));return this.isPromiseAPI()?Xf(n):n},getDocument:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i={uri:this.getDataUrl("doc",t),json:!0,tag:r.tag},s=this._requestObservable(i).pipe(Hx(Gx),Pd(function(n){return n.body.documents&&n.body.documents[0]}));return this.isPromiseAPI()?Xf(s):s},getDocuments:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i={uri:this.getDataUrl("doc",t.join(",")),json:!0,tag:r.tag},s=this._requestObservable(i).pipe(Hx(Gx),Pd(function(n){var a=Gse(n.body.documents||[],function(o){return o._id});return t.map(function(o){return a[o]||null})}));return this.isPromiseAPI()?Xf(s):s},create:function(t,r){return this._create(t,"create",r)},createIfNotExists:function(t,r){return Vx.requireDocumentId("createIfNotExists",t),this._create(t,"createIfNotExists",r)},createOrReplace:function(t,r){return Vx.requireDocumentId("createOrReplace",t),this._create(t,"createOrReplace",r)},patch:function(t,r){return new Sk(t,r,this)},delete:function(t,r){return this.dataRequest("mutate",{mutations:[{delete:Nse(t)}]},r)},mutate:function(t,r){var i=t instanceof Sk||t instanceof Dk?t.serialize():t,s=Array.isArray(i)?i:[i],n=r&&r.transactionId;return this.dataRequest("mutate",{mutations:s,transactionId:n},r)},transaction:function(t){return new Dk(t,this)},dataRequest:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this._dataRequest(t,r,i);return this.isPromiseAPI()?Xf(s):s},_dataRequest:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=t==="mutate",n=t==="query",a=!s&&Use(r),o=!s&&a.length<Wse,l=o?a:"",c=i.returnFirst,h=i.timeout,u=i.token,d=i.tag,p=i.headers,g=this.getDataUrl(t,l),m={method:o?"GET":"POST",uri:g,json:!0,body:o?void 0:r,query:s&&Hse(i),timeout:h,headers:p,token:u,tag:d,canUseCdn:n};return this._requestObservable(m).pipe(Hx(Gx),Pd(Vse),Pd(function(f){if(!s)return f;var v=f.results||[];if(i.returnDocuments)return c?v[0]&&v[0].document:v.map(function(y){return y.document});var x=c?"documentId":"documentIds",b=c?v[0]&&v[0].id:v.map(function(y){return y.id});return _k({transactionId:f.transactionId,results:v},x,b)}))},_create:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=_k({},r,t),n=Rse({returnFirst:!0,returnDocuments:!0},i);return this.dataRequest("mutate",{mutations:[s]},n)}}});var Lk=Ue((H3e,Mk)=>{"use strict";var qse=br(),Yse=Va();function Tk(e){this.request=e.request.bind(e)}qse(Tk.prototype,{create:function(t,r){return this._modify("PUT",t,r)},edit:function(t,r){return this._modify("PATCH",t,r)},delete:function(t){return this._modify("DELETE",t)},list:function(){return this.request({uri:"/datasets"})},_modify:function(t,r,i){return Yse.dataset(r),this.request({method:t,uri:"/datasets/".concat(r),body:i})}});Mk.exports=Tk});var Bk=Ue((V3e,Pk)=>{"use strict";var Xse=br();function kk(e){this.client=e}Xse(kk.prototype,{list:function(){return this.client.request({uri:"/projects"})},getById:function(t){return this.client.request({uri:"/projects/".concat(t)})}});Pk.exports=kk});var Ok=Ue((G3e,Fk)=>{"use strict";Fk.exports=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(e[r])));return t.length>0?"?".concat(t.join("&")):""}});var jk=Ue((W3e,zk)=>{"use strict";function Qse(e,t){return Kse(e)||Jse(e,t)||$se(e,t)||Zse()}function Zse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $se(e,t){if(!!e){if(typeof e=="string")return Ik(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ik(e,t)}}function Ik(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function Jse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i=[],s=!0,n=!1,a,o;try{for(r=r.call(e);!(s=(a=r.next()).done)&&(i.push(a.value),!(t&&i.length===t));s=!0);}catch(l){n=!0,o=l}finally{try{!s&&r.return!=null&&r.return()}finally{if(n)throw o}}return i}}function Kse(e){if(Array.isArray(e))return e}var Rk=br(),Nk=Sc(),ene=Nk.map,tne=Nk.filter,rne=Ok(),Qf=Va();function Uk(e){this.client=e}function ine(e,t){return typeof window>"u"||!(t instanceof window.File)?e:Rk({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}Rk(Uk.prototype,{upload:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Qf.validateAssetType(t);var s=i.extract||void 0;s&&!s.length&&(s=["none"]);var n=Qf.hasDataset(this.client.clientConfig),a=t==="image"?"images":"files",o=ine(i,r),l=o.tag,c=o.label,h=o.title,u=o.description,d=o.creditLine,p=o.filename,g=o.source,m={label:c,title:h,description:u,filename:p,meta:s,creditLine:d};g&&(m.sourceId=g.id,m.sourceName=g.name,m.sourceUrl=g.url);var f=this.client._requestObservable({tag:l,method:"POST",timeout:o.timeout||0,uri:"/assets/".concat(a,"/").concat(n),headers:o.contentType?{"Content-Type":o.contentType}:{},query:m,body:r});return this.client.isPromiseAPI()?f.pipe(tne(function(v){return v.type==="response"}),ene(function(v){return v.body.document})).toPromise():f},delete:function(t,r){console.warn("client.assets.delete() is deprecated, please use client.delete(<document-id>)");var i=r||"";return/^(image|file)-/.test(i)?t._id&&(i=t._id):i="".concat(t,"-").concat(i),Qf.hasDataset(this.client.clientConfig),this.client.delete(i)},getImageUrl:function(t,r){var i=t._ref||t;if(typeof i!="string")throw new Error("getImageUrl() needs either an object with a _ref, or a string with an asset document ID");if(!/^image-[A-Za-z0-9_]+-\d+x\d+-[a-z]{1,5}$/.test(i))throw new Error('Unsupported asset ID "'.concat(i,'". URL generation only works for auto-generated IDs.'));var s=i.split("-"),n=Qse(s,4),a=n[1],o=n[2],l=n[3];Qf.hasDataset(this.client.clientConfig);var c=this.client.clientConfig,h=c.projectId,u=c.dataset,d=r?rne(r):"";return"https://cdn.sanity.io/images/".concat(h,"/").concat(u,"/").concat(a,"-").concat(o,".").concat(l).concat(d)}});zk.exports=Uk});var Gk=Ue((q3e,Vk)=>{"use strict";var sne=br();function Hk(e){this.client=e}sne(Hk.prototype,{getById:function(t){return this.client.request({uri:"/users/".concat(t)})}});Vk.exports=Hk});var Yk=Ue((Y3e,qk)=>{"use strict";var nne=br();function Wk(e){this.client=e}nne(Wk.prototype,{getLoginProviders:function(){return this.client.request({uri:"/auth/providers"})},logout:function(){return this.client.request({uri:"/auth/logout",method:"POST"})}});qk.exports=Wk});var Qk=Ue((X3e,Xk)=>{Xk.exports=function(){var t=[];return{subscribe:r,publish:i};function r(s){return t.push(s),function(){var a=t.indexOf(s);a>-1&&t.splice(a,1)}}function i(){for(var s=0;s<t.length;s++)t[s].apply(null,arguments)}}});var $k=Ue((Q3e,Zk)=>{"use strict";Zk.exports=function(e){var t=function(i,s){for(var n=i==="onError",a=s,o=arguments.length,l=new Array(o>2?o-2:0),c=2;c<o;c++)l[c-2]=arguments[c];for(var h=0;h<e[i].length;h++){var u=e[i][h];if(a=u.apply(void 0,[a].concat(l)),n&&!a)break}return a};return t}});var Kk=Ue((Z3e,Jk)=>{"use strict";Jk.exports=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}});var rP=Ue(Wx=>{"use strict";var ane=Object.prototype.hasOwnProperty,one;function eP(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function tP(e){try{return encodeURIComponent(e)}catch{return null}}function lne(e){for(var t=/([^=?#&]+)=?([^&]*)/g,r={},i;i=t.exec(e);){var s=eP(i[1]),n=eP(i[2]);s===null||n===null||s in r||(r[s]=n)}return r}function cne(e,t){t=t||"";var r=[],i,s;typeof t!="string"&&(t="?");for(s in e)if(ane.call(e,s)){if(i=e[s],!i&&(i===null||i===one||isNaN(i))&&(i=""),s=tP(s),i=tP(i),s===null||i===null)continue;r.push(s+"="+i)}return r.length?t+r.join("&"):""}Wx.stringify=cne;Wx.parse=lne});var uP=Ue((J3e,cP)=>{"use strict";var sP=Kk(),Zf=rP(),une=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,nP=/[\n\r\t]/g,dne=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,aP=/:\d+$/,hne=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,pne=/^[a-zA-Z]:/;function Yx(e){return(e||"").toString().replace(une,"")}var qx=[["#","hash"],["?","query"],function(t,r){return Dn(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],iP={hash:1,query:1};function oP(e){var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t={};var r=t.location||{};e=e||r;var i={},s=typeof e,n;if(e.protocol==="blob:")i=new Sn(unescape(e.pathname),{});else if(s==="string"){i=new Sn(e,{});for(n in iP)delete i[n]}else if(s==="object"){for(n in e)n in iP||(i[n]=e[n]);i.slashes===void 0&&(i.slashes=dne.test(e.href))}return i}function Dn(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function lP(e,t){e=Yx(e),e=e.replace(nP,""),t=t||{};var r=hne.exec(e),i=r[1]?r[1].toLowerCase():"",s=!!r[2],n=!!r[3],a=0,o;return s?n?(o=r[2]+r[3]+r[4],a=r[2].length+r[3].length):(o=r[2]+r[4],a=r[2].length):n?(o=r[3]+r[4],a=r[3].length):o=r[4],i==="file:"?a>=2&&(o=o.slice(2)):Dn(i)?o=r[4]:i?s&&(o=o.slice(2)):a>=2&&Dn(t.protocol)&&(o=r[4]),{protocol:i,slashes:s||Dn(i),slashesCount:a,rest:o}}function fne(e,t){if(e==="")return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=r.length,s=r[i-1],n=!1,a=0;i--;)r[i]==="."?r.splice(i,1):r[i]===".."?(r.splice(i,1),a++):a&&(i===0&&(n=!0),r.splice(i,1),a--);return n&&r.unshift(""),(s==="."||s==="..")&&r.push(""),r.join("/")}function Sn(e,t,r){if(e=Yx(e),e=e.replace(nP,""),!(this instanceof Sn))return new Sn(e,t,r);var i,s,n,a,o,l,c=qx.slice(),h=typeof t,u=this,d=0;for(h!=="object"&&h!=="string"&&(r=t,t=null),r&&typeof r!="function"&&(r=Zf.parse),t=oP(t),s=lP(e||"",t),i=!s.protocol&&!s.slashes,u.slashes=s.slashes||i&&t.slashes,u.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||pne.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!Dn(u.protocol)))&&(c[3]=[/(.*)/,"pathname"]);d<c.length;d++){if(a=c[d],typeof a=="function"){e=a(e,u);continue}n=a[0],l=a[1],n!==n?u[l]=e:typeof n=="string"?(o=n==="@"?e.lastIndexOf(n):e.indexOf(n),~o&&(typeof a[2]=="number"?(u[l]=e.slice(0,o),e=e.slice(o+a[2])):(u[l]=e.slice(o),e=e.slice(0,o)))):(o=n.exec(e))&&(u[l]=o[1],e=e.slice(0,o.index)),u[l]=u[l]||i&&a[3]&&t[l]||"",a[4]&&(u[l]=u[l].toLowerCase())}r&&(u.query=r(u.query)),i&&t.slashes&&u.pathname.charAt(0)!=="/"&&(u.pathname!==""||t.pathname!=="")&&(u.pathname=fne(u.pathname,t.pathname)),u.pathname.charAt(0)!=="/"&&Dn(u.protocol)&&(u.pathname="/"+u.pathname),sP(u.port,u.protocol)||(u.host=u.hostname,u.port=""),u.username=u.password="",u.auth&&(o=u.auth.indexOf(":"),~o?(u.username=u.auth.slice(0,o),u.username=encodeURIComponent(decodeURIComponent(u.username)),u.password=u.auth.slice(o+1),u.password=encodeURIComponent(decodeURIComponent(u.password))):u.username=encodeURIComponent(decodeURIComponent(u.auth)),u.auth=u.password?u.username+":"+u.password:u.username),u.origin=u.protocol!=="file:"&&Dn(u.protocol)&&u.host?u.protocol+"//"+u.host:"null",u.href=u.toString()}function mne(e,t,r){var i=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(r||Zf.parse)(t)),i[e]=t;break;case"port":i[e]=t,sP(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,aP.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!r;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";i[e]=t.charAt(0)!==s?s+t:t}else i[e]=t;break;case"username":case"password":i[e]=encodeURIComponent(t);break;case"auth":var n=t.indexOf(":");~n?(i.username=t.slice(0,n),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=t.slice(n+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<qx.length;a++){var o=qx[a];o[4]&&(i[o[1]]=i[o[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin=i.protocol!=="file:"&&Dn(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function gne(e){(!e||typeof e!="function")&&(e=Zf.stringify);var t,r=this,i=r.host,s=r.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var n=s+(r.protocol&&r.slashes||Dn(r.protocol)?"//":"");return r.username?(n+=r.username,r.password&&(n+=":"+r.password),n+="@"):r.password?(n+=":"+r.password,n+="@"):r.protocol!=="file:"&&Dn(r.protocol)&&!i&&r.pathname!=="/"&&(n+="@"),(i[i.length-1]===":"||aP.test(r.hostname)&&!r.port)&&(i+=":"),n+=i+r.pathname,t=typeof r.query=="object"?e(r.query):r.query,t&&(n+=t.charAt(0)!=="?"?"?"+t:t),r.hash&&(n+=r.hash),n}Sn.prototype={set:mne,toString:gne};Sn.extractProtocol=lP;Sn.location=oP;Sn.trimLeft=Yx;Sn.qs=Zf;cP.exports=Sn});var pP=Ue((K3e,hP)=>{"use strict";var Xx=br(),vne=uP(),yne=typeof navigator>"u"?!1:navigator.product==="ReactNative",xne=Object.prototype.hasOwnProperty,Qx={timeout:yne?6e4:12e4};hP.exports=function(e){var t=typeof e=="string"?Xx({url:e},Qx):Xx({},Qx,e),r=vne(t.url,{},!0);return t.timeout=dP(t.timeout),t.query&&(r.query=Xx({},r.query,wne(t.query))),t.method=t.body&&!t.method?"POST":(t.method||"GET").toUpperCase(),t.url=r.toString(bne),t};function bne(e){var t=[];for(var r in e)xne.call(e,r)&&i(r,e[r]);return t.length?t.join("&"):"";function i(s,n){Array.isArray(n)?n.forEach(function(a){return i(s,a)}):t.push([s,n].map(encodeURIComponent).join("="))}}function dP(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;var t=Number(e);return isNaN(t)?dP(Qx.timeout):{connect:t,socket:t}}function wne(e){var t={};for(var r in e)e[r]!==void 0&&(t[r]=e[r]);return t}});var mP=Ue((eTe,fP)=>{"use strict";var _ne=/^https?:\/\//i;fP.exports=function(e){if(!_ne.test(e.url))throw new Error('"'.concat(e.url,'" is not a valid URL'))}});var yP=Ue((tTe,vP)=>{"use strict";var gP=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/;vP.exports={regex:gP,parse:function(e){var t=gP.exec(e);return t?{protocol:(t[1]||"").toLowerCase()||void 0,hostname:(t[5]||"").toLowerCase()||void 0,port:t[6]||void 0}:{}}}});var wP=Ue((rTe,bP)=>{"use strict";var xP=yP();bP.exports=function(e,t,r){if(e===t)return!0;var i=xP.parse(e,!1,!0),s=xP.parse(t,!1,!0),n=i.port|0||(i.protocol==="https"?443:80),a=s.port|0||(s.protocol==="https"?443:80),o={proto:i.protocol===s.protocol,hostname:i.hostname===s.hostname,port:n===a};return o.proto&&o.hostname&&(o.port||r)}});var DP=Ue((iTe,_P)=>{var Zx=function(e){return e.replace(/^\s+|\s+$/g,"")},Dne=function(e){return Object.prototype.toString.call(e)==="[object Array]"};_P.exports=function(e){if(!e)return{};for(var t={},r=Zx(e).split(`
`),i=0;i<r.length;i++){var s=r[i],n=s.indexOf(":"),a=Zx(s.slice(0,n)).toLowerCase(),o=Zx(s.slice(n+1));typeof t[a]>"u"?t[a]=o:Dne(t[a])?t[a].push(o):t[a]=[t[a],o]}return t}});var AP=Ue((sTe,SP)=>{"use strict";function Cc(){this.readyState=0}Cc.prototype.open=function(e,t){this._method=e,this._url=t,this._resHeaders="",this.readyState=1,this.onreadystatechange()};Cc.prototype.abort=function(){this._controller&&this._controller.abort()};Cc.prototype.getAllResponseHeaders=function(){return this._resHeaders};Cc.prototype.setRequestHeader=function(e,t){this._headers=this._headers||{},this._headers[e]=t};Cc.prototype.send=function(e){var t=this,r=this._controller=typeof AbortController=="function"&&new AbortController,i=this.responseType!=="arraybuffer",s={method:this._method,headers:this._headers,signal:r&&r.signal,body:e};typeof window<"u"&&(s.credentials=this.withCredentials?"include":"omit"),fetch(this._url,s).then(function(n){return n.headers.forEach(function(a,o){t._resHeaders+="".concat(o,": ").concat(a,`\r
`)}),t.status=n.status,t.statusText=n.statusText,t.readyState=3,i?n.text():n.arrayBuffer()}).then(function(n){i?t.responseText=n:t.response=n,t.readyState=4,t.onreadystatechange()}).catch(function(n){if(n.name==="AbortError"){t.onabort();return}t.onerror(n)})};SP.exports=Cc});var LP=Ue((nTe,MP)=>{"use strict";var Sne=wP(),Ane=DP(),EP=AP(),Ene=function(){},Wa=typeof window>"u"?void 0:window,CP=Wa?"xhr":"fetch",$f=typeof XMLHttpRequest=="function"?XMLHttpRequest:Ene,Cne="withCredentials"in new $f,Tne=typeof XDomainRequest>"u"?void 0:XDomainRequest,TP=Cne?$f:Tne;Wa||($f=EP,TP=EP);MP.exports=function(e,t){var r=e.options,i=e.applyMiddleware("finalizeOptions",r),s={},n=Wa&&Wa.location&&!Sne(Wa.location.href,i.url),a=e.applyMiddleware("interceptRequest",void 0,{adapter:CP,context:e});if(a){var o=setTimeout(t,0,null,a),l=function(){return clearTimeout(o)};return{abort:l}}var c=n?new TP:new $f,h=Wa&&Wa.XDomainRequest&&c instanceof Wa.XDomainRequest,u=i.headers,d=i.timeout,p=!1,g=!1,m=!1;c.onerror=_,c.ontimeout=_,c.onabort=function(){w(!0),p=!0},c.onprogress=function(){};var f=h?"onload":"onreadystatechange";if(c[f]=function(){y(),!(p||c.readyState!==4&&!h)&&c.status!==0&&S()},c.open(i.method,i.url,!0),c.withCredentials=!!i.withCredentials,u&&c.setRequestHeader)for(var v in u)u.hasOwnProperty(v)&&c.setRequestHeader(v,u[v]);else if(u&&h)throw new Error("Headers cannot be set on an XDomainRequest object");return i.rawBody&&(c.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:i,adapter:CP,request:c,context:e}),c.send(i.body||null),d&&(s.connect=setTimeout(function(){return b("ETIMEDOUT")},d.connect)),{abort:x};function x(){p=!0,c&&c.abort()}function b(A){m=!0,c.abort();var E=new Error(A==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(i.url):"Connection timed out on request to ".concat(i.url));E.code=A,e.channels.error.publish(E)}function y(){!d||(w(),s.socket=setTimeout(function(){return b("ESOCKETTIMEDOUT")},d.socket))}function w(A){(A||p||c.readyState>=2&&s.connect)&&clearTimeout(s.connect),s.socket&&clearTimeout(s.socket)}function _(A){if(!g){w(!0),g=!0,c=null;var E=A||new Error("Network error while attempting to reach ".concat(i.url));E.isNetworkError=!0,E.request=i,t(E)}}function D(){var A=c.status,E=c.statusText;if(h&&A===void 0)A=200;else{if(A>12e3&&A<12156)return _();A=c.status===1223?204:c.status,E=c.status===1223?"No Content":E}return{body:c.response||c.responseText,url:i.url,method:i.method,headers:h?{}:Ane(c.getAllResponseHeaders()),statusCode:A,statusMessage:E}}function S(){if(!(p||g||m)){if(c.status===0){_(new Error("Unknown XHR error"));return}w(),g=!0,t(null,D())}}}});var PP=Ue((aTe,kP)=>{"use strict";kP.exports=LP()});var OP=Ue((oTe,FP)=>{"use strict";var Mne=Qk(),Lne=$k(),kne=pP(),Pne=mP(),Bne=PP(),Fne=["request","response","progress","error","abort"],BP=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];FP.exports=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bne,i=[],s=BP.reduce(function(a,o){return a[o]=a[o]||[],a},{processOptions:[kne],validateOptions:[Pne]});function n(a){var o=Fne.reduce(function(m,f){return m[f]=Mne(),m},{}),l=Lne(s),c=l("processOptions",a);l("validateOptions",c);var h={options:c,channels:o,applyMiddleware:l},u=null,d=o.request.subscribe(function(m){u=r(m,function(f,v){return g(f,v,m)})});o.abort.subscribe(function(){d(),u&&u.abort()});var p=l("onReturn",o,h);return p===o&&o.request.publish(h),p;function g(m,f,v){var x=m,b=f;if(!x)try{b=l("onResponse",f,v)}catch(y){b=null,x=y}x=x&&l("onError",x,v),x?o.error.publish(x):b&&o.response.publish(b)}}return n.use=function(o){if(!o)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof o=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(o.onReturn&&s.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return BP.forEach(function(l){o[l]&&s[l].push(o[l])}),i.push(o),n},n.clone=function(){return e(i)},t.forEach(n.use),n}});var RP=Ue((lTe,IP)=>{IP.exports=OP()});var NP=Ue((cTe,Tc)=>{"use strict";typeof globalThis<"u"?Tc.exports=globalThis:typeof window<"u"?Tc.exports=window:typeof global<"u"?Tc.exports=global:typeof self<"u"?Tc.exports=self:Tc.exports={}});var jP=Ue((uTe,zP)=>{"use strict";var One=NP(),UP=br();zP.exports=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.implementation||One.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:function(i,s){return new t(function(n){return i.error.subscribe(function(a){return n.error(a)}),i.progress.subscribe(function(a){return n.next(UP({type:"progress"},a))}),i.response.subscribe(function(a){n.next(UP({type:"response"},a)),n.complete()}),i.request.publish(s),function(){return i.abort.publish()}})}}}});var VP=Ue((dTe,HP)=>{"use strict";HP.exports=function(t){return t!=null&&typeof t=="object"&&Array.isArray(t)===!1}});var qP=Ue((hTe,WP)=>{"use strict";var Ine=VP();function GP(e){return Ine(e)===!0&&Object.prototype.toString.call(e)==="[object Object]"}WP.exports=function(t){var r,i;return!(GP(t)===!1||(r=t.constructor,typeof r!="function")||(i=r.prototype,GP(i)===!1)||i.hasOwnProperty("isPrototypeOf")===!1)}});var QP=Ue((pTe,XP)=>{"use strict";function $x(e){return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$x(e)}var YP=br(),Rne=qP(),Nne=["boolean","string","number"],Une=function(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};XP.exports=function(){return{processOptions:function(t){var r=t.body;if(!r)return t;var i=typeof r.pipe=="function",s=!i&&!Une(r)&&(Nne.indexOf($x(r))!==-1||Array.isArray(r)||Rne(r));return s?YP({},t,{body:JSON.stringify(t.body),headers:YP({},t.headers,{"Content-Type":"application/json"})}):t}}}});var $P=Ue((fTe,ZP)=>{"use strict";var Jx=br();ZP.exports=function(e){return{onResponse:function(r){var i=r.headers["content-type"]||"",s=e&&e.force||i.indexOf("application/json")!==-1;return!r.body||!i||!s?r:Jx({},r,{body:zne(r.body)})},processOptions:function(r){return Jx({},r,{headers:Jx({Accept:"application/json"},r.headers)})}}};function zne(e){try{return JSON.parse(e)}catch(t){throw t.message="Failed to parsed response body as JSON: ".concat(t.message),t}}});var KP=Ue((mTe,JP)=>{"use strict";JP.exports=function(){return{onRequest:function(t){if(t.adapter!=="xhr")return;var r=t.request,i=t.context;"upload"in r&&"onprogress"in r.upload&&(r.upload.onprogress=s("upload")),"onprogress"in r&&(r.onprogress=s("download"));function s(n){return function(a){var o=a.lengthComputable?a.loaded/a.total*100:-1;i.channels.progress.publish({stage:n,percent:o,total:a.total,loaded:a.loaded,lengthComputable:a.lengthComputable})}}}}}});var tB=Ue((gTe,eB)=>{"use strict";eB.exports=KP()});var nB=Ue((eb,sB)=>{"use strict";var rB=typeof Reflect<"u"?Reflect.construct:void 0,Mc=Object.defineProperty,Kx=Error.captureStackTrace;Kx===void 0&&(Kx=function(t){var r=new Error;Mc(t,"stack",{configurable:!0,get:function(){var s=r.stack;return Mc(this,"stack",{configurable:!0,value:s,writable:!0}),s},set:function(s){Mc(t,"stack",{configurable:!0,value:s,writable:!0})}})});function Jf(e){e!==void 0&&Mc(this,"message",{configurable:!0,value:e,writable:!0});var t=this.constructor.name;t!==void 0&&t!==this.name&&Mc(this,"name",{configurable:!0,value:t,writable:!0}),Kx(this,this.constructor)}Jf.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:Jf,writable:!0}});var iB=function(){function e(r,i){return Mc(r,"name",{configurable:!0,value:i})}try{var t=function(){};if(e(t,"foo"),t.name==="foo")return e}catch{}}();function jne(e,t){if(t==null||t===Error)t=Jf;else if(typeof t!="function")throw new TypeError("super_ should be a function");var r;if(typeof e=="string")r=e,e=rB!==void 0?function(){return rB(t,arguments,this.constructor)}:function(){t.apply(this,arguments)},iB!==void 0&&(iB(e,r),r=void 0);else if(typeof e!="function")throw new TypeError("constructor should be either a string or a function");e.super_=e.super=t;var i={constructor:{configurable:!0,value:e,writable:!0}};return r!==void 0&&(i.name={configurable:!0,value:r,writable:!0}),e.prototype=Object.create(t.prototype,i),e}eb=sB.exports=jne;eb.BaseError=Jf});var cB=Ue(ib=>{"use strict";var aB=nB(),oB=br();function tb(e){var t=lB(e);tb.super.call(this,t.message),oB(this,t)}function rb(e){var t=lB(e);rb.super.call(this,t.message),oB(this,t)}function lB(e){var t=e.body,r={response:e,statusCode:e.statusCode,responseBody:Vne(t,e)};return t.error&&t.message?(r.message="".concat(t.error," - ").concat(t.message),r):t.error&&t.error.description?(r.message=t.error.description,r.details=t.error,r):(r.message=t.error||t.message||Hne(e),r)}function Hne(e){var t=e.statusMessage?" ".concat(e.statusMessage):"";return"".concat(e.method,"-request to ").concat(e.url," resulted in HTTP ").concat(e.statusCode).concat(t)}function Vne(e,t){var r=(t.headers["content-type"]||"").toLowerCase(),i=r.indexOf("application/json")!==-1;return i?JSON.stringify(e,null,2):e}aB(tb);aB(rb);ib.ClientError=tb;ib.ServerError=rb});var dB=Ue((yTe,uB)=>{"use strict";uB.exports=[]});var vB=Ue((xTe,gB)=>{"use strict";var Gne=RP(),Wne=br(),qne=jP(),Yne=QP(),Xne=$P(),Qne=tB(),Zne=Sc(),$ne=Zne.Observable,hB=cB(),pB=hB.ClientError,fB=hB.ServerError,Jne={onResponse:function(t){if(t.statusCode>=500)throw new fB(t);if(t.statusCode>=400)throw new pB(t);return t}},Kne={onResponse:function(t){var r=t.headers["x-sanity-warning"],i=Array.isArray(r)?r:[r];return i.filter(Boolean).forEach(function(s){return console.warn(s)}),t}},eae=dB(),tae=eae.concat([Kne,Yne(),Xne(),Qne(),Jne,qne({implementation:$ne})]),mB=Gne(tae);function Kf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mB;return t(Wne({maxRedirects:0},e))}Kf.defaultRequester=mB;Kf.ClientError=pB;Kf.ServerError=fB;gB.exports=Kf});var bB=Ue((bTe,xB)=>{"use strict";var yB=br(),rae="X-Sanity-Project-ID";xB.exports=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r={},i=t.token||e.token;i&&(r.Authorization="Bearer ".concat(i)),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(r[rae]=e.projectId);var s=Boolean(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),n=typeof t.timeout>"u"?e.timeout:t.timeout;return yB({},t,{headers:yB({},r,t.headers||{}),timeout:typeof n>"u"?5*60*1e3:n,proxy:t.proxy||e.proxy,json:!0,withCredentials:s})}});var sb=Ue((wTe,wB)=>{"use strict";var iae="https://docs.sanity.io/help/";wB.exports=function(t){return iae+t}});var DB=Ue((_Te,_B)=>{"use strict";_B.exports=function(e){var t=!1,r;return function(){return t||(r=e.apply(void 0,arguments),t=!0),r}}});var SB=Ue(em=>{"use strict";var nb=sb(),sae=DB(),ab=function(t){return sae(function(){for(var r,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(r=console).warn.apply(r,[t.join(" ")].concat(s))})};em.printCdnWarning=ab(["You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and","cheaper. Think about it! For more info, see ".concat(nb("js-client-cdn-configuration"),"."),"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating","the client."]);em.printBrowserTokenWarning=ab(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(nb("js-client-browser-token")," for more information and how to hide this warning.")]);em.printNoApiVersionSpecifiedWarning=ab(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(nb("js-client-api-version"))])});var EB=Ue(Bd=>{"use strict";var AB=br(),nae=sb(),ob=Va(),lb=SB(),aae="apicdn.sanity.io",cb={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,isPromiseAPI:!0},oae=["localhost","127.0.0.1","0.0.0.0"],lae=function(t){return oae.indexOf(t)!==-1};Bd.defaultConfig=cb;Bd.initConfig=function(e,t){var r=AB({},t,e);r.apiVersion||lb.printNoApiVersionSpecifiedWarning();var i=AB({},cb,r),s=i.useProjectHostname;if(typeof Promise>"u"){var n=nae("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(n))}if(s&&!i.projectId)throw new Error("Configuration must contain `projectId`");var a=typeof window<"u"&&window.location&&window.location.hostname,o=a&&lae(window.location.hostname);a&&o&&i.token&&i.ignoreBrowserTokenWarning!==!0?lb.printBrowserTokenWarning():typeof i.useCdn>"u"&&lb.printCdnWarning(),s&&ob.projectId(i.projectId),i.dataset&&ob.dataset(i.dataset),"requestTagPrefix"in i&&(i.requestTagPrefix=i.requestTagPrefix?ob.requestTag(i.requestTagPrefix).replace(/\.+$/,""):void 0),i.apiVersion="".concat(i.apiVersion).replace(/^v/,""),i.isDefaultApi=i.apiHost===cb.apiHost,i.useCdn=Boolean(i.useCdn)&&!i.withCredentials,Bd.validateApiVersion(i.apiVersion);var l=i.apiHost.split("://",2),c=l[0],h=l[1],u=i.isDefaultApi?aae:h;return i.useProjectHostname?(i.url="".concat(c,"://").concat(i.projectId,".").concat(h,"/v").concat(i.apiVersion),i.cdnUrl="".concat(c,"://").concat(i.projectId,".").concat(u,"/v").concat(i.apiVersion)):(i.url="".concat(i.apiHost,"/v").concat(i.apiVersion),i.cdnUrl=i.url),i};Bd.validateApiVersion=function(t){if(!(t==="1"||t==="X")){var r=new Date(t),i=/^\d{4}-\d{2}-\d{2}$/.test(t)&&r instanceof Date&&r.getTime()>0;if(!i)throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}}});var ns=Ue((ATe,MB)=>{"use strict";function CB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function ub(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CB(Object(r),!0).forEach(function(i){cae(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function cae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lc=br(),db=Sc(),uae=db.Observable,dae=db.map,hae=db.filter,pae=qf(),fae=Ux(),mae=Ck(),gae=Lk(),vae=Bk(),yae=jk(),xae=Gk(),bae=Yk(),tm=vB(),wae=bB(),TB=EB(),_ae=TB.defaultConfig,Dae=TB.initConfig,Sae=Va(),Aae=function(t){return t.toPromise()};function _i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_ae;if(!(this instanceof _i))return new _i(e);if(this.config(e),this.assets=new yae(this),this.datasets=new gae(this),this.projects=new vae(this),this.users=new xae(this),this.auth=new bae(this),this.clientConfig.isPromiseAPI){var t=Lc({},this.clientConfig,{isPromiseAPI:!1});this.observable=new _i(t)}}Lc(_i.prototype,mae);Lc(_i.prototype,{clone:function(){return new _i(this.config())},config:function(t){if(typeof t>"u")return Lc({},this.clientConfig);if(this.clientConfig&&this.clientConfig.allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");if(this.observable){var r=Lc({},t,{isPromiseAPI:!1});this.observable.config(r)}return this.clientConfig=Dae(t,this.clientConfig||{}),this},withConfig:function(t){return new _i(ub(ub({},this.config()),t))},getUrl:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=r?this.clientConfig.cdnUrl:this.clientConfig.url;return"".concat(i,"/").concat(t.replace(/^\//,""))},isPromiseAPI:function(){return this.clientConfig.isPromiseAPI},_requestObservable:function(t){var r=this,i=t.url||t.uri,s=typeof t.canUseCdn>"u"?["GET","HEAD"].indexOf(t.method||"GET")>=0&&i.indexOf("/data/")===0:t.canUseCdn,n=this.clientConfig.useCdn&&s,a=t.tag&&this.clientConfig.requestTagPrefix?[this.clientConfig.requestTagPrefix,t.tag].join("."):t.tag||this.clientConfig.requestTagPrefix;a&&(t.query=ub({tag:Sae.requestTag(a)},t.query));var o=wae(this.clientConfig,Lc({},t,{url:this.getUrl(i,n)}));return new uae(function(l){return tm(o,r.clientConfig.requester).subscribe(l)})},request:function(t){var r=this._requestObservable(t).pipe(hae(function(i){return i.type==="response"}),dae(function(i){return i.body}));return this.isPromiseAPI()?Aae(r):r}});_i.Patch=pae;_i.Transaction=fae;_i.ClientError=tm.ClientError;_i.ServerError=tm.ServerError;_i.requester=tm.defaultRequester;MB.exports=_i});var LB=Ue((hb,pb)=>{(function(e,t){typeof hb=="object"&&typeof pb<"u"?pb.exports=t():typeof define=="function"&&define.amd?define(t):e.SanityImageUrlBuilder=t()})(hb,function(){var e="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function t(y){var w=y.split("-"),_=w[1],D=w[2],S=w[3];if(!_||!D||!S)throw new Error("Malformed asset _ref '"+y+`'. Expected an id like "`+e+'".');var A=D.split("x"),E=A[0],M=A[1],I=+E,V=+M,P=isFinite(I)&&isFinite(V);if(!P)throw new Error("Malformed asset _ref '"+y+`'. Expected an id like "`+e+'".');return{id:_,width:I,height:V,format:S}}var r=function(y){var w=y;return w?typeof w._ref=="string":!1},i=function(y){var w=y;return w?typeof w._id=="string":!1},s=function(y){var w=y;return w&&w.asset?typeof w.asset.url=="string":!1};function n(y){if(!y)return null;var w;if(typeof y=="string"&&a(y))w={asset:{_ref:o(y)}};else if(typeof y=="string")w={asset:{_ref:y}};else if(r(y))w={asset:y};else if(i(y))w={asset:{_ref:y._id||""}};else if(s(y))w={asset:{_ref:o(y.asset.url)}};else if(typeof y.asset=="object")w=y;else return null;var _=y;return _.crop&&(w.crop=_.crop),_.hotspot&&(w.hotspot=_.hotspot),l(w)}function a(y){return/^https?:\/\//.test(""+y)}function o(y){var w=y.split("/").slice(-1);return("image-"+w[0]).replace(/\.([a-z]+)$/,"-$1")}function l(y){if(y.crop&&y.hotspot)return y;var w=Object.assign({},y);return w.crop||(w.crop={left:0,top:0,bottom:0,right:0}),w.hotspot||(w.hotspot={x:.5,y:.5,height:1,width:1}),w}var c=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function h(y){var w=Object.assign({},y||{}),_=w.source;delete w.source;var D=n(_);if(!D)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(_)+")");var S=D.asset._ref||D.asset._id||"",A=t(S),E=Math.round(D.crop.left*A.width),M=Math.round(D.crop.top*A.height),I={left:E,top:M,width:Math.round(A.width-D.crop.right*A.width-E),height:Math.round(A.height-D.crop.bottom*A.height-M)},V=D.hotspot.height*A.height/2,P=D.hotspot.width*A.width/2,Q=D.hotspot.x*A.width,G=D.hotspot.y*A.height,X={left:Q-P,top:G-V,right:Q+P,bottom:G+V};return w.rect||w.focalPoint||w.ignoreImageParams||w.crop||(w=Object.assign({},w,d({crop:I,hotspot:X},w))),u(Object.assign({},w,{asset:A}))}function u(y){var w=y.baseUrl||"https://cdn.sanity.io",_=y.asset.id+"-"+y.asset.width+"x"+y.asset.height+"."+y.asset.format,D=w+"/images/"+y.projectId+"/"+y.dataset+"/"+_,S=[];if(y.rect){var A=y.rect,E=A.left,M=A.top,I=A.width,V=A.height,P=E!==0||M!==0||V!==y.asset.height||I!==y.asset.width;P&&S.push("rect="+E+","+M+","+I+","+V)}y.bg&&S.push("bg="+y.bg),y.focalPoint&&(S.push("fp-x="+y.focalPoint.x),S.push("fp-y="+y.focalPoint.y));var Q=[y.flipHorizontal&&"h",y.flipVertical&&"v"].filter(Boolean).join("");return Q&&S.push("flip="+Q),c.forEach(function(G){var X=G[0],F=G[1];typeof y[X]<"u"?S.push(F+"="+encodeURIComponent(y[X])):typeof y[F]<"u"&&S.push(F+"="+encodeURIComponent(y[F]))}),S.length===0?D:D+"?"+S.join("&")}function d(y,w){var _,D=w.width,S=w.height;if(!(D&&S))return{width:D,height:S,rect:y.crop};var A=y.crop,E=y.hotspot,M=D/S,I=A.width/A.height;if(I>M){var V=Math.round(A.height),P=Math.round(V*M),Q=Math.max(0,Math.round(A.top)),G=Math.round((E.right-E.left)/2+E.left),X=Math.max(0,Math.round(G-P/2));X<A.left?X=A.left:X+P>A.left+A.width&&(X=A.left+A.width-P),_={left:X,top:Q,width:P,height:V}}else{var F=A.width,z=Math.round(F/M),j=Math.max(0,Math.round(A.left)),Z=Math.round((E.bottom-E.top)/2+E.top),U=Math.max(0,Math.round(Z-z/2));U<A.top?U=A.top:U+z>A.top+A.height&&(U=A.top+A.height-z),_={left:j,top:U,width:F,height:z}}return{width:D,height:S,rect:_}}var p=["clip","crop","fill","fillmax","max","scale","min"],g=["top","bottom","left","right","center","focalpoint","entropy"],m=["format"];function f(y){return y?typeof y.clientConfig=="object":!1}function v(y){for(var w=c,_=0,D=w;_<D.length;_+=1){var S=D[_],A=S[0],E=S[1];if(y===A||y===E)return A}return y}function x(y){var w=y;if(f(w)){var _=w.clientConfig,D=_.apiHost,S=_.projectId,A=_.dataset,E=D||"https://api.sanity.io";return new b(null,{baseUrl:E.replace(/^https:\/\/api\./,"https://cdn."),projectId:S,dataset:A})}return new b(null,y)}var b=function(w,_){this.options=w?Object.assign({},w.options||{},_||{}):Object.assign({},_||{})};return b.prototype.withOptions=function(w){var _=w.baseUrl||this.options.baseUrl,D={baseUrl:_};for(var S in w)if(w.hasOwnProperty(S)){var A=v(S);D[A]=w[S]}return new b(this,Object.assign({},{baseUrl:_},D))},b.prototype.image=function(w){return this.withOptions({source:w})},b.prototype.dataset=function(w){return this.withOptions({dataset:w})},b.prototype.projectId=function(w){return this.withOptions({projectId:w})},b.prototype.bg=function(w){return this.withOptions({bg:w})},b.prototype.dpr=function(w){return this.withOptions(w&&w!==1?{dpr:w}:{})},b.prototype.width=function(w){return this.withOptions({width:w})},b.prototype.height=function(w){return this.withOptions({height:w})},b.prototype.focalPoint=function(w,_){return this.withOptions({focalPoint:{x:w,y:_}})},b.prototype.maxWidth=function(w){return this.withOptions({maxWidth:w})},b.prototype.minWidth=function(w){return this.withOptions({minWidth:w})},b.prototype.maxHeight=function(w){return this.withOptions({maxHeight:w})},b.prototype.minHeight=function(w){return this.withOptions({minHeight:w})},b.prototype.size=function(w,_){return this.withOptions({width:w,height:_})},b.prototype.blur=function(w){return this.withOptions({blur:w})},b.prototype.sharpen=function(w){return this.withOptions({sharpen:w})},b.prototype.rect=function(w,_,D,S){return this.withOptions({rect:{left:w,top:_,width:D,height:S}})},b.prototype.format=function(w){return this.withOptions({format:w})},b.prototype.invert=function(w){return this.withOptions({invert:w})},b.prototype.orientation=function(w){return this.withOptions({orientation:w})},b.prototype.quality=function(w){return this.withOptions({quality:w})},b.prototype.forceDownload=function(w){return this.withOptions({download:w})},b.prototype.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},b.prototype.flipVertical=function(){return this.withOptions({flipVertical:!0})},b.prototype.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},b.prototype.fit=function(w){if(p.indexOf(w)===-1)throw new Error('Invalid fit mode "'+w+'"');return this.withOptions({fit:w})},b.prototype.crop=function(w){if(g.indexOf(w)===-1)throw new Error('Invalid crop mode "'+w+'"');return this.withOptions({crop:w})},b.prototype.saturation=function(w){return this.withOptions({saturation:w})},b.prototype.auto=function(w){if(m.indexOf(w)===-1)throw new Error('Invalid auto mode "'+w+'"');return this.withOptions({auto:w})},b.prototype.pad=function(w){return this.withOptions({pad:w})},b.prototype.url=function(){return h(this.options)},b.prototype.toString=function(){return this.url()},x})});function im(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function mb(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function gb(e){return mb(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function vb(e){return e._type==="@list"}function yb(e){return e._type==="@span"}function xb(e){return e._type==="@text"}function Bae(e,t,r){if(!im(e)||!e.marks)return[];if(!e.marks.length)return[];let i=e.marks.slice(),s={};return i.forEach(n=>{s[n]=1;for(let a=t+1;a<r.length;a++){let o=r[a];if(o&&im(o)&&Array.isArray(o.marks)&&o.marks.indexOf(n)!==-1)s[n]++;else break}}),i.sort((n,a)=>Fae(s,n,a))}function Fae(e,t,r){let i=e[t],s=e[r];if(i!==s)return s-i;let n=BB.indexOf(t),a=BB.indexOf(r);return n!==a?n-a:t.localeCompare(r)}function FB(e){var t;let{children:r,markDefs:i=[]}=e;if(!r||!r.length)return[];let s=r.map(Bae),n={_type:"@span",children:[],markType:"<unknown>"},a=[n];for(let o=0;o<r.length;o++){let l=r[o];if(!l)continue;let c=s[o]||[],h=1;if(a.length>1)for(h;h<a.length;h++){let d=((t=a[h])==null?void 0:t.markKey)||"",p=c.indexOf(d);if(p===-1)break;c.splice(p,1)}a=a.slice(0,h);let u=a[a.length-1];if(!!u){for(let d of c){let p=i.find(f=>f._key===d),g=p?p._type:d,m={_type:"@span",_key:l._key,children:[],markDef:p,markType:g,markKey:d};u.children.push(m),a.push(m),u=m}if(im(l)){let d=l.text.split(`
`);for(let p=d.length;p-- >1;)d.splice(p,0,`
`);u.children=u.children.concat(d.map(p=>({_type:"@text",text:p})))}else u.children=u.children.concat(l)}}return n.children}function OB(e,t){let r=[],i;for(let s=0;s<e.length;s++){let n=e[s];if(!!n){if(!gb(n)){r.push(n),i=void 0;continue}if(!i){i=rm(n,s,t),r.push(i);continue}if(Oae(n,i)){i.children.push(n);continue}if((n.level||1)>i.level){let a=rm(n,s,t);if(t==="html"){let o=i.children[i.children.length-1],l=Pae(kae({},o),{children:[...o.children,a]});i.children[i.children.length-1]=l}else i.children.push(a);i=a;continue}if((n.level||1)<i.level){let a=r[r.length-1],o=a&&fb(a,n);if(o){i=o,i.children.push(n);continue}i=rm(n,s,t),r.push(i);continue}if(n.listItem!==i.listItem){let a=r[r.length-1],o=a&&fb(a,{level:n.level||1});if(o&&o.listItem===n.listItem){i=o,i.children.push(n);continue}else{i=rm(n,s,t),r.push(i);continue}}console.warn("Unknown state encountered for block",n),r.push(n)}}return r}function Oae(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function rm(e,t,r){return{_type:"@list",_key:`${e._key||`${t}`}-parent`,mode:r,level:e.level||1,listItem:e.listItem,children:[e]}}function fb(e,t){let r=t.level||1,i=t.listItem||"normal",s=typeof t.listItem=="string";if(vb(e)&&(e.level||1)===r&&s&&(e.listItem||"normal")===i)return e;if(!("children"in e))return;let n=e.children[e.children.length-1];return n&&!im(n)?fb(n,t):void 0}function bb(e){let t="";return e.children.forEach(r=>{xb(r)?t+=r.text:yb(r)&&(t+=bb(r))}),t}var Eae,Cae,Tae,kB,Mae,Lae,PB,kae,Pae,BB,IB=ce(()=>{Eae=Object.defineProperty,Cae=Object.defineProperties,Tae=Object.getOwnPropertyDescriptors,kB=Object.getOwnPropertySymbols,Mae=Object.prototype.hasOwnProperty,Lae=Object.prototype.propertyIsEnumerable,PB=(e,t,r)=>t in e?Eae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,kae=(e,t)=>{for(var r in t||(t={}))Mae.call(t,r)&&PB(e,r,t[r]);if(kB)for(var r of kB(t))Lae.call(t,r)&&PB(e,r,t[r]);return e},Pae=(e,t)=>Cae(e,Tae(t));BB=["strong","em","code","underline","strike-through"]});function HB(e){return e.replace(/[&<>"']/g,t=>`&${zae[t]};`)}function jae(e){let t=(e||"").trim(),r=t.charAt(0);if(r==="#"||r==="/")return!0;let i=t.indexOf(":");if(i===-1)return!0;let s=t.slice(0,i).toLowerCase();if(Uae.indexOf(s)!==-1)return!0;let n=t.indexOf("?");if(n!==-1&&i>n)return!0;let a=t.indexOf("#");return a!==-1&&i>a}function Zae(e){console.warn(e)}function soe(e,t){let r=t,{block:i,list:s,listItem:n,marks:a,types:o}=r,l=_b(r,["block","list","listItem","marks","types"]);return kc(wb(kc({},e),{block:Fd(e,t,"block"),list:Fd(e,t,"list"),listItem:Fd(e,t,"listItem"),marks:Fd(e,t,"marks"),types:Fd(e,t,"types")}),l)}function Fd(e,t,r){let i=t[r],s=e[r];return typeof i=="function"||i&&typeof s=="function"?i:i?kc(kc({},s),i):s}function GB(e,t={}){let{components:r,onMissingComponent:i=Zae}=t,s=i||aoe,n=Array.isArray(e)?e:[e],a=OB(n,"html"),o=r?soe(NB,r):NB,l=noe(o,s);return a.map((h,u)=>l({node:h,index:u,isInline:!1,renderNode:l})).join("")}function UB(e){let{node:t,index:r,isInline:i,renderNode:s}=e,a=FB(t).map((o,l)=>s({node:o,isInline:!0,index:l,renderNode:s}));return{_key:t._key||`block-${r}`,children:a.join(""),index:r,isInline:i,node:t}}function aoe(){}var Iae,Rae,Nae,sm,zB,jB,RB,kc,wb,_b,Uae,zae,Hae,Vae,Gae,Wae,Od,VB,qae,Yae,Xae,Qae,$ae,Jae,Kae,eoe,toe,roe,ioe,NB,noe,WB=ce(()=>{IB();Iae=Object.defineProperty,Rae=Object.defineProperties,Nae=Object.getOwnPropertyDescriptors,sm=Object.getOwnPropertySymbols,zB=Object.prototype.hasOwnProperty,jB=Object.prototype.propertyIsEnumerable,RB=(e,t,r)=>t in e?Iae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,kc=(e,t)=>{for(var r in t||(t={}))zB.call(t,r)&&RB(e,r,t[r]);if(sm)for(var r of sm(t))jB.call(t,r)&&RB(e,r,t[r]);return e},wb=(e,t)=>Rae(e,Nae(t)),_b=(e,t)=>{var r={};for(var i in e)zB.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&sm)for(var i of sm(e))t.indexOf(i)<0&&jB.call(e,i)&&(r[i]=e[i]);return r},Uae=["http","https","mailto","tel"],zae={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#x27"};Hae=({children:e,value:t})=>{let r=t?.href||"";return jae(r)?`<a href="${HB(r)}">${e}</a>`:e},Vae={em:({children:e})=>`<em>${e}</em>`,strong:({children:e})=>`<strong>${e}</strong>`,code:({children:e})=>`<code>${e}</code>`,underline:({children:e})=>`<span style="text-decoration:underline">${e}</span>`,"strike-through":({children:e})=>`<del>${e}</del>`,link:Hae},Gae={number:({children:e})=>`<ol>${e}</ol>`,bullet:({children:e})=>`<ul>${e}</ul>`},Wae=({children:e})=>`<li>${e}</li>`,Od=(e,t)=>`Unknown ${e}, specify a component for it in the \`components.${t}\` option`,VB=e=>Od(`block type "${e}"`,"types"),qae=e=>Od(`mark type "${e}"`,"marks"),Yae=e=>Od(`block style "${e}"`,"block"),Xae=e=>Od(`list style "${e}"`,"list"),Qae=e=>Od(`list item style "${e}"`,"listItem");$ae=({value:e,isInline:t})=>{let r=VB(e._type);return t?`<span style="display:none">${r}</span>`:`<div style="display:none">${r}</div>`},Jae=({markType:e,children:t})=>`<span class="unknown__pt__mark__${e}">${t}</span>`,Kae=({children:e})=>`<p>${e}</p>`,eoe=({children:e})=>`<ul>${e}</ul>`,toe=({children:e})=>`<li>${e}</li>`,roe=()=>"<br/>",ioe={normal:({children:e})=>`<p>${e}</p>`,blockquote:({children:e})=>`<blockquote>${e}</blockquote>`,h1:({children:e})=>`<h1>${e}</h1>`,h2:({children:e})=>`<h2>${e}</h2>`,h3:({children:e})=>`<h3>${e}</h3>`,h4:({children:e})=>`<h4>${e}</h4>`,h5:({children:e})=>`<h5>${e}</h5>`,h6:({children:e})=>`<h6>${e}</h6>`},NB={types:{},block:ioe,marks:Vae,list:Gae,listItem:Wae,hardBreak:roe,unknownType:$ae,unknownMark:Jae,unknownList:eoe,unknownListItem:toe,unknownBlockStyle:Kae};noe=(e,t)=>{function r(c){let{node:h,index:u,isInline:d}=c;return vb(h)?s(h,u):gb(h)?i(h,u):yb(h)?n(h):mb(h)?a(h,u,d):xb(h)?o(h):l(h,u,d)}function i(c,h){let u=UB({node:c,index:h,isInline:!1,renderNode:r}),d=e.listItem,g=(typeof d=="function"?d:d[c.listItem])||e.unknownListItem;if(g===e.unknownListItem){let f=c.listItem||"bullet";t(Qae(f),{type:f,nodeType:"listItemStyle"})}let m=u.children;if(c.style&&c.style!=="normal"){let f=c,{listItem:v}=f,x=_b(f,["listItem"]);m=r({node:x,index:h,isInline:!1,renderNode:r})}return g({value:c,index:h,isInline:!1,renderNode:r,children:m})}function s(c,h){let u=c.children.map((m,f)=>r({node:m._key?m:wb(kc({},m),{_key:`li-${h}-${f}`}),index:h,isInline:!1,renderNode:r})),d=e.list,g=(typeof d=="function"?d:d[c.listItem])||e.unknownList;if(g===e.unknownList){let m=c.listItem||"bullet";t(Xae(m),{nodeType:"listStyle",type:m})}return g({value:c,index:h,isInline:!1,renderNode:r,children:u.join("")})}function n(c){let{markDef:h,markType:u,markKey:d}=c,p=e.marks[u]||e.unknownMark,g=c.children.map((m,f)=>r({node:m,index:f,isInline:!0,renderNode:r}));return p===e.unknownMark&&t(qae(u),{nodeType:"mark",type:u}),p({text:bb(c),value:h,markType:u,markKey:d,renderNode:r,children:g.join("")})}function a(c,h,u){let d=UB({node:c,index:h,isInline:u,renderNode:r}),{_key:p}=d,g=_b(d,["_key"]),m=g.node.style||"normal",v=(typeof e.block=="function"?e.block:e.block[m])||e.unknownBlockStyle;return v===e.unknownBlockStyle&&t(Yae(m),{nodeType:"blockStyle",type:m}),v(wb(kc({},g),{value:g.node,renderNode:r}))}function o(c){if(c.text===`
`){let h=e.hardBreak;return h?h():`
`}return HB(c.text)}function l(c,h,u){let d=e.types[c._type];return d||t(VB(c._type),{nodeType:"block",type:c._type}),(d||e.unknownType)({value:c,isInline:u,index:h,renderNode:r})}return r}});var as=Ue(Db=>{"use strict";Db.parse=coe;Db.serialize=uoe;var ooe=decodeURIComponent,loe=encodeURIComponent,nm=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function coe(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},i=t||{},s=e.split(";"),n=i.decode||ooe,a=0;a<s.length;a++){var o=s[a],l=o.indexOf("=");if(!(l<0)){var c=o.substring(0,l).trim();if(r[c]==null){var h=o.substring(l+1,o.length).trim();h[0]==='"'&&(h=h.slice(1,-1)),r[c]=doe(h,n)}}}return r}function uoe(e,t,r){var i=r||{},s=i.encode||loe;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!nm.test(e))throw new TypeError("argument name is invalid");var n=s(t);if(n&&!nm.test(n))throw new TypeError("argument val is invalid");var a=e+"="+n;if(i.maxAge!=null){var o=i.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(o)}if(i.domain){if(!nm.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain="+i.domain}if(i.path){if(!nm.test(i.path))throw new TypeError("option path is invalid");a+="; Path="+i.path}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function doe(e,t){try{return t(e)}catch{return e}}});var Sb={};ds(Sb,{Content:()=>goe,compiledContent:()=>moe,default:()=>am,file:()=>poe,frontmatter:()=>YB,getHeadings:()=>XB,rawContent:()=>foe,url:()=>hoe});function XB(){return[]}function qB(e){let t=Object.assign({p:"p",strong:"strong"},e.components);return T(Ot,{children:[T(t.p,{children:"Getting ranked in Google and Bing (yes people still use Bing) is the pinnacle of traffic to your website."}),`
`,T(t.p,{children:"Once obtained, it\u2019s free\u2026 consistent\u2026 and it tends to convert better than paid ads."}),`
`,T(t.p,{children:"To get this traffic you need consistent content\u2026 i.e. blog posts."}),`
`,T(t.p,{children:[T(t.strong,{children:"And blogging takes time"}),". ",T(t.strong,{children:"So let us do it for you"}),"."]}),`
`,T(rr,{children:"What You Get"}),`
`,T(t.p,{children:["Select the number of blog posts you want and ",T(t.strong,{children:"we\u2019ll deliver posts ranging from 500 to 600 words"}),"."]}),`
`,T(t.p,{children:"Each post will include notes on:"}),`
`,T(Br,{children:[T(St,{type:"check",bullet:"Where to include images"}),T(St,{type:"check",bullet:"What images or graphics to include"}),T(St,{type:"check",bullet:"Where to insert call to actions"})]}),`
`,T(rr,{children:"How It Works"}),`
`,T(t.p,{children:"Select the number of posts, up to 5 max per order."}),`
`,T(t.p,{children:[T(t.strong,{children:"Click the button below to complete your purchase"}),". On the thank you page, you\u2019ll complete the blog breakdown form."]}),`
`,T(t.p,{children:"I\u2019ll reach out to you for a 20 minute chat follow up."}),`
`,T(t.p,{children:"In 2 to 7 days\u2026 based on the number of posts you choose\u2026 I\u2019ll deliver your blog posts in Google Docs format."})]})}function am(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(qB,{...e})}):qB(e)}function foe(){throw new Error("MDX does not support rawContent()! If you need to read the Markdown contents to calculate values (ex. reading time), we suggest injecting frontmatter via remark plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}function moe(){throw new Error("MDX does not support compiledContent()! If you need to read the HTML contents to calculate values (ex. reading time), we suggest injecting frontmatter via rehype plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}var qTe,YTe,XTe,$Te,YB,hoe,poe,goe,Ab=ce(()=>{"use strict";os();Ti();ci();Mi();Li();ki();Pi();Fi();Oi();Ii();Ki();es();ts();rs();is();ss();qTe=st(ns(),1),YTe=st(li(),1),XTe=st(as(),1);Vr();di();$Te=st(hi(),1),YB={id:4,title:"Blog Post Writing",slug:"blog-post-writing",imageUrl:'https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/blog-post-writing-card_PbXHptGAd.png?ik-sdk-version=javascript-1.4.3"',altTag:"Blog post writing icon.",titleTag:"Blog Post Writing",headline:"Blog Posts",description:"Get quality blog posts to <strong>help your site rank</strong> and convince your readers to become leads.",buttonLabel:"Write My Blog Posts",buttonTitle:"Write My Blog Posts",formType:"blogPosts"};Me(XB,"astro:jsx");Me(am,"astro:jsx");am[Symbol.for("astro.needsHeadRendering")]=!Boolean(YB.layout);hoe="src/data/copy-services/blog-posts-copy.mdx",poe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/copy-services/blog-posts-copy.mdx";goe=am});var Eb={};ds(Eb,{Content:()=>woe,compiledContent:()=>boe,default:()=>om,file:()=>yoe,frontmatter:()=>ZB,getHeadings:()=>$B,rawContent:()=>xoe,url:()=>voe});function $B(){return[]}function QB(e){let t=Object.assign({p:"p",strong:"strong"},e.components);return T(Ot,{children:[T(t.p,{children:"Are you buying Google ads?"}),`
`,T(t.p,{children:"Maybe Facebook ads\u2026 or even Tik Tok ads?"}),`
`,T(t.p,{children:["If your ads ",T(t.strong,{children:"aren\u2019t getting clicked"}),"\u2026 you\u2019re wasting money."]}),`
`,T(t.p,{children:["If your ads ",T(t.strong,{children:"aren\u2019t getting clicked by the right people"}),"\u2026 you\u2019re wasting money."]}),`
`,T(t.p,{children:["We\u2019ll study your ideal prospect and write ads that will ",T(t.strong,{children:"deliver quality clicks"})," to your landing pages or product pages."]}),`
`,T(rr,{children:"What You Get"}),`
`,T(t.p,{children:[T(t.strong,{children:"If you choose Google ads you\u2019ll get"}),":"]}),`
`,T(Br,{children:[T(St,{type:"check",bullet:"2 Google Responsive Search ads"}),T(St,{type:"check",bullet:"15 headlines per ad"}),T(St,{type:"check",bullet:"4 descriptions per ad"}),T(St,{type:"check",bullet:"8 images per ad"}),T(St,{type:"check",bullet:"Site extensions NOT included in ad pack"})]}),`
`,T(t.p,{children:[T(t.strong,{children:"If you choose Facebook ads you\u2019ll get"}),":"]}),`
`,T(Br,{children:[T(St,{type:"check",bullet:"2 Facebook ads"}),T(St,{type:"check",bullet:"2 custom images"}),T(St,{type:"check",bullet:"No video unless you have your own video already"}),T(St,{type:"check",bullet:"2 sets of description body copy"}),T(St,{type:"check",bullet:"4 headlines"})]}),`
`,T(t.p,{children:"I\u2019ll also provide you some strategy on implementing the ads based on your current ad account performance."}),`
`,T(rr,{children:"How It Works"}),`
`,T(t.p,{children:[T(t.strong,{children:"Choose the platform"})," you want ads for."]}),`
`,T(t.p,{children:"You won\u2019t be able to purchase more than one set of ads. Too many and testing takes too long."}),`
`,T(t.p,{children:[T(t.strong,{children:"Click the button to purchase your ad copy"}),"."]}),`
`,T(t.p,{children:"On the thank you page, you\u2019ll fill out a short campaign discover form."}),`
`,T(t.p,{children:"I\u2019ll reach out for a short 20 minute follow up call."}),`
`,T(t.p,{children:"And I\u2019ll deliver your ads so you can start running them."}),`
`,T(t.p,{children:"This is just ad copy\u2026 NOT account management."})]})}function om(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(QB,{...e})}):QB(e)}function xoe(){throw new Error("MDX does not support rawContent()! If you need to read the Markdown contents to calculate values (ex. reading time), we suggest injecting frontmatter via remark plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}function boe(){throw new Error("MDX does not support compiledContent()! If you need to read the HTML contents to calculate values (ex. reading time), we suggest injecting frontmatter via rehype plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}var fMe,mMe,gMe,xMe,ZB,voe,yoe,woe,Cb=ce(()=>{"use strict";os();Ti();ci();Mi();Li();ki();Pi();Fi();Oi();Ii();Ki();es();ts();rs();is();ss();fMe=st(ns(),1),mMe=st(li(),1),gMe=st(as(),1);Vr();di();xMe=st(hi(),1),ZB={id:3,title:"Ad Writing Copy",slug:"digital-ad-copy",imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/ad-writing-card_cNlBZkaTh.png?ik-sdk-version=javascript-1.4.3",altTag:"Ad writing icon",titleTag:"Facebook and Google Ad Writing",headline:"Digtial Ad Copy",description:"Get headlines and ad copy to deliver high click through rates and <strong>cheap, quality clicks</strong>.",buttonLabel:"Write My Ad Copy",buttonTitle:"Write My Ad Copy",formType:"adCopy"};Me($B,"astro:jsx");Me(om,"astro:jsx");om[Symbol.for("astro.needsHeadRendering")]=!Boolean(ZB.layout);voe="src/data/copy-services/digital-ad-writing-copy.mdx",yoe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/copy-services/digital-ad-writing-copy.mdx";woe=om});var Tb={};ds(Tb,{Content:()=>Eoe,compiledContent:()=>Aoe,default:()=>lm,file:()=>Doe,frontmatter:()=>KB,getHeadings:()=>eF,rawContent:()=>Soe,url:()=>_oe});function eF(){return[]}function JB(e){let t=Object.assign({p:"p",strong:"strong"},e.components);return T(Ot,{children:[T(t.p,{children:"Most e-commerce owners give their products a lame paragraph of \u201Csales\u201D copy."}),`
`,T(t.p,{children:["And it\u2019s hardly sales copy. It\u2019s a ",T(t.strong,{children:"bleached out description nobody cares to read"})," because there\u2019s no reason to."]}),`
`,T(t.p,{children:["Your products\u2026 especially the HOT products\u2026 deserve words that ",T(t.strong,{children:"add some pizzaz and polish"})," so conversion rates go to the moon."]}),`
`,T(t.p,{children:"That\u2019s what we\u2019ll do for your e-commerce products."}),`
`,T(rr,{children:"What You Get"}),`
`,T(t.p,{children:"Based on whether you choose short punchy description copy or long sales page copy\u2026"}),`
`,T(t.p,{children:["You\u2019ll get sales copy that get\u2019s your ",T(t.strong,{children:"add to cart button clicked"})," more than\u2026"]}),`
`,T(t.p,{children:"Short description:"}),`
`,T(Br,{children:[T(St,{type:"check",bullet:"1 section of body copy"}),T(St,{type:"check",bullet:"1 call to action"}),T(St,{type:"check",bullet:"200 to 300 words"})]}),`
`,T(t.p,{children:"Long Sales Page Copy:"}),`
`,T(Br,{children:[T(St,{type:"check",bullet:"2 to 4 sections of body copy"}),T(St,{type:"check",bullet:"1 call to action"}),T(St,{type:"check",bullet:"500 to 700 words"})]}),`
`,T(rr,{children:"How It Works"}),`
`,T(t.p,{children:[T(t.strong,{children:"Select how many products you want"})," copy for\u2026 up to 10 max for your first purchase."]}),`
`,T(t.p,{children:"Select if you want short punchy descriptions or long sales page copy."}),`
`,T(t.p,{children:[T(t.strong,{children:"Click the button below to complete your purchase"}),"."]}),`
`,T(t.p,{children:"On the thank you page, you\u2019ll fill out a short ecommerce breakdown form."}),`
`,T(t.p,{children:"I\u2019ll reach out to you for a short 20 minute follow-up phone call."}),`
`,T(t.p,{children:"In 2 to 15 days\u2026 depending on how much copy you need\u2026 I\u2019ll deliver descriptions that will increase your add to cart rate."})]})}function lm(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(JB,{...e})}):JB(e)}function Soe(){throw new Error("MDX does not support rawContent()! If you need to read the Markdown contents to calculate values (ex. reading time), we suggest injecting frontmatter via remark plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}function Aoe(){throw new Error("MDX does not support compiledContent()! If you need to read the HTML contents to calculate values (ex. reading time), we suggest injecting frontmatter via rehype plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}var IMe,RMe,NMe,jMe,KB,_oe,Doe,Eoe,Mb=ce(()=>{"use strict";os();Ti();ci();Mi();Li();ki();Pi();Fi();Oi();Ii();Ki();es();ts();rs();is();ss();IMe=st(ns(),1),RMe=st(li(),1),NMe=st(as(),1);Vr();di();jMe=st(hi(),1),KB={id:2,title:"Ecommerce Product Copy",slug:"product-sales-copy",imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/product-copy-card_SonaWJqpe.png?ik-sdk-version=javascript-1.4.3",altTag:"Ecommerce product copy icon.",titleTag:"Ecommerce Product Copy",headline:"Product Sales Copy",description:"Get product sales copy that sizzles and makes your store visitors <strong>click your add to cart button</strong>.",buttonLabel:"Write My Product Copy",buttonTitle:"Write My Product Copy",formType:"ecomProducts"};Me(eF,"astro:jsx");Me(lm,"astro:jsx");lm[Symbol.for("astro.needsHeadRendering")]=!Boolean(KB.layout);_oe="src/data/copy-services/ecom-product-copy.mdx",Doe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/copy-services/ecom-product-copy.mdx";Eoe=lm});var Lb={};ds(Lb,{Content:()=>koe,compiledContent:()=>Loe,default:()=>cm,file:()=>Toe,frontmatter:()=>rF,getHeadings:()=>iF,rawContent:()=>Moe,url:()=>Coe});function iF(){return[]}function tF(e){let t=Object.assign({p:"p",strong:"strong"},e.components);return T(Ot,{children:[T(t.p,{children:"Not everyone has a Tic Tok account\u2026 not everyone has a Facebook account\u2026 or Instagram or YouTube\u2026"}),`
`,T(t.p,{children:[T(t.strong,{children:"But everyone has an email account"}),"."]}),`
`,T(t.p,{children:"Email drives more sales than any other digital channel."}),`
`,T(t.p,{children:["But you have to cut through the noise of a busy inbox and ",T(t.strong,{children:"strike while desire is hot"}),"\u2026 because your prospects will forget you."]}),`
`,T(t.p,{children:["We write emails and automations that ",T(t.strong,{children:"get opened and clicked"})," so you get sales."]}),`
`,T(rr,{children:"What You Get"}),`
`,T(t.p,{children:"One email or up to a 10 email sequence."}),`
`,T(t.p,{children:[T(t.strong,{children:"One email is a broadcast"})," when you need to make an offer sell now."]}),`
`,T(t.p,{children:["An ",T(t.strong,{children:"automation or sequence is evergreen and used on a continual basis"})," for one specific offer you\u2019re making."]}),`
`,T(t.p,{children:"Do you need sales now for an urgent offer?"}),`
`,T(t.p,{children:"Choose broadcast."}),`
`,T(t.p,{children:"Do you want to a sequence that will turn website leads into customers over time?"}),`
`,T(t.p,{children:"Choose an automation."}),`
`,T(rr,{children:"How It Works"}),`
`,T(t.p,{children:"Choose whether you want a broadcast or an automation."}),`
`,T(t.p,{children:"Select the number of emails you want\u2026 10 max right now."}),`
`,T(t.p,{children:[T(t.strong,{children:"Click the button below to complete the purchase"}),"."]}),`
`,T(t.p,{children:"On the thank you page, you\u2019ll fill out a short offer breakdown."}),`
`,T(t.p,{children:"I\u2019ll reach out to you for a short 20 minute chat to follow up on your answers."}),`
`,T(t.p,{children:"I\u2019ll deliver your email copy by the end of 2 to 5 days depending on how many emails you selected."})]})}function cm(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(tF,{...e})}):tF(e)}function Moe(){throw new Error("MDX does not support rawContent()! If you need to read the Markdown contents to calculate values (ex. reading time), we suggest injecting frontmatter via remark plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}function Loe(){throw new Error("MDX does not support compiledContent()! If you need to read the HTML contents to calculate values (ex. reading time), we suggest injecting frontmatter via rehype plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}var sLe,nLe,aLe,cLe,rF,Coe,Toe,koe,kb=ce(()=>{"use strict";os();Ti();ci();Mi();Li();ki();Pi();Fi();Oi();Ii();Ki();es();ts();rs();is();ss();sLe=st(ns(),1),nLe=st(li(),1),aLe=st(as(),1);Vr();di();cLe=st(hi(),1),rF={id:1,title:"Email And Automations Copy",slug:"email-marketing-copy",imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/email-copy-card_StPIG87k6.png?ik-sdk-version=javascript-1.4.3",altTag:"Email marketing icon",titleTag:"Email Copy And Automation",headline:"Email Marketing Copy",description:"Get emails and automations that get opened, read, and clicked so <strong>you get more sales</strong>.",buttonLabel:"Write My Email Copy",buttonTitle:"Write My Email Copy",formType:"emails"};Me(iF,"astro:jsx");Me(cm,"astro:jsx");cm[Symbol.for("astro.needsHeadRendering")]=!Boolean(rF.layout);Coe="src/data/copy-services/email-marketing-copy.mdx",Toe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/copy-services/email-marketing-copy.mdx";koe=cm});var Pb={};ds(Pb,{Content:()=>Ioe,compiledContent:()=>Ooe,default:()=>um,file:()=>Boe,frontmatter:()=>nF,getHeadings:()=>aF,rawContent:()=>Foe,url:()=>Poe});function aF(){return[]}function sF(e){let t=Object.assign({p:"p",strong:"strong"},e.components);return T(Ot,{children:[T(t.p,{children:"Are you starting a new website?"}),`
`,T(t.p,{children:"Maybe you want copy for a specialty menu?"}),`
`,T(t.p,{children:"Perhaps you need on-going copy help?"}),`
`,T(t.p,{children:[T(t.strong,{children:"Your business is unique and so are your needs"}),". So let\u2019s schedule a copy chat and hash things out."]}),`
`,T(rr,{children:"What You Get"}),`
`,T(t.p,{children:["You get ",T(t.strong,{children:"60 minutes of my time"})," to help you with your copy project."]}),`
`,T(t.p,{children:"You\u2019ll walk away with a game plan on how to attack the copy portion of your project."}),`
`,T(t.p,{children:"Plus I\u2019ll try to show you examples online you can use as a template."}),`
`,T(rr,{children:"How It Works"}),`
`,T(t.p,{children:[T(t.strong,{children:"Click below to purchase a 60 minute chunk or my nerd time"}),"."]}),`
`,T(t.p,{children:"On the thank you page, you can schedule when you would like the call to happen."}),`
`,T(t.p,{children:"Plus you\u2019ll fill out a copy breakdown form so I know what your goals are."}),`
`,T(t.p,{children:"That\u2019s it."}),`
`,T(t.p,{children:"Once you\u2019re scheduled\u2026 you\u2019re scheduled. I\u2019ll talk with you on that date!"})]})}function um(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(sF,{...e})}):sF(e)}function Foe(){throw new Error("MDX does not support rawContent()! If you need to read the Markdown contents to calculate values (ex. reading time), we suggest injecting frontmatter via remark plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}function Ooe(){throw new Error("MDX does not support compiledContent()! If you need to read the HTML contents to calculate values (ex. reading time), we suggest injecting frontmatter via rehype plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}var ELe,CLe,TLe,kLe,nF,Poe,Boe,Ioe,Bb=ce(()=>{"use strict";os();Ti();ci();Mi();Li();ki();Pi();Fi();Oi();Ii();Ki();es();ts();rs();is();ss();ELe=st(ns(),1),CLe=st(li(),1),TLe=st(as(),1);Vr();di();kLe=st(hi(),1),nF={id:5,title:"Nerd Copy Chat",slug:"nerd-copy-chat",imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/copy-chat-card_-i7Le2lPf.png?ik-sdk-version=javascript-1.4.3",altTag:"Nerd copy chat icon.",titleTag:"Nerd Copy Chat",headline:"Nerd Copy Chat",description:"Let's talk about your copy needs and how a Nerd can whip up copy to <strong>help your business grow</strong>.",buttonLabel:"Help With My Copy",buttonTitle:"Help With My Copy",formType:"nerdCopyChat"};Me(aF,"astro:jsx");Me(um,"astro:jsx");um[Symbol.for("astro.needsHeadRendering")]=!Boolean(nF.layout);Poe="src/data/copy-services/nerd-copy-chat.mdx",Boe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/copy-services/nerd-copy-chat.mdx";Ioe=um});var Fb={};ds(Fb,{Content:()=>joe,compiledContent:()=>zoe,default:()=>dm,file:()=>Noe,frontmatter:()=>lF,getHeadings:()=>cF,rawContent:()=>Uoe,url:()=>Roe});function cF(){return[]}function oF(e){let t=Object.assign({p:"p",strong:"strong"},e.components);return T(Ot,{children:[T(t.p,{children:[T(t.strong,{children:"Money pages"}),". The pages that:"]}),`
`,T(Br,{children:[T(Et,{children:"Ask for the sale\u2026"}),`
`,T(Et,{children:"Make the offer to sign up\u2026"}),`
`,T(Et,{children:"Even tell you visitor to call you\u2026"})]}),`
`,T(t.p,{children:"They\u2019re the most important pages on your site."}),`
`,T(t.p,{children:["We\u2019ll turn the ",T(t.strong,{children:"small flame of interest into a burning fire of desire"})," that drives the action you want."]}),`
`,T(rr,{children:"What You Get"}),`
`,T(t.p,{children:"500 to 1000 words that capture attention, stir desire, and prompt action."}),`
`,T(Br,{children:[T(St,{type:"check",bullet:"One headline"}),T(St,{type:"check",bullet:"2 to 4 sections of body copy"}),T(St,{type:"check",bullet:"1 call to action"}),T(St,{type:"check",bullet:"Notes on images to support copy"})]}),`
`,T(rr,{children:"How It Works"}),`
`,T(t.p,{children:[T(t.strong,{children:"Purchase by clicking the button below"}),"."]}),`
`,T(t.p,{children:"On the thank you page, you\u2019ll fill out a short offer breakdown form."}),`
`,T(t.p,{children:"I\u2019ll reach out for a short 20 minute phone call."}),`
`,T(t.p,{children:"And I\u2019ll deliver your copy by the end of 5 days."})]})}function dm(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(oF,{...e})}):oF(e)}function Uoe(){throw new Error("MDX does not support rawContent()! If you need to read the Markdown contents to calculate values (ex. reading time), we suggest injecting frontmatter via remark plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}function zoe(){throw new Error("MDX does not support compiledContent()! If you need to read the HTML contents to calculate values (ex. reading time), we suggest injecting frontmatter via rehype plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}var XLe,QLe,ZLe,KLe,lF,Roe,Noe,joe,Ob=ce(()=>{"use strict";os();Ti();ci();Mi();Li();ki();Pi();Fi();Oi();Ii();Ki();es();ts();rs();is();ss();XLe=st(ns(),1),QLe=st(li(),1),ZLe=st(as(),1);Vr();di();KLe=st(hi(),1),lF={id:0,title:"Web Page Sales Copy",slug:"web-page-sales-copy",imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/website-sales-copy_k4Db98kT2.png?ik-sdk-version=javascript-1.4.3",altTag:"Website page and copy icon.",titleTag:"Website Sales Copy",headline:"Web Page Sales Copy",description:"Get sales copy for the money pages on your website so they <strong>convert leads and make sales</strong>.",buttonLabel:"Write My Copy",buttonTitle:"Write My Sales Page Copy",formType:"webSalesPages"};Me(cF,"astro:jsx");Me(dm,"astro:jsx");dm[Symbol.for("astro.needsHeadRendering")]=!Boolean(lF.layout);Roe="src/data/copy-services/web-page-sales-copy.mdx",Noe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/copy-services/web-page-sales-copy.mdx";joe=dm});var pF={};ds(pF,{Content:()=>qoe,compiledContent:()=>Woe,default:()=>hm,file:()=>Voe,frontmatter:()=>dF,getHeadings:()=>hF,rawContent:()=>Goe,url:()=>Hoe});function hF(){return[]}function uF(e){let t=Object.assign({p:"p"},e.components);return T(Ot,{children:[T(t.p,{children:"This is the blog posts"}),`
`,T(t.p,{children:"Newsletter sign up with create signal and with create store"})]})}function hm(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(uF,{...e})}):uF(e)}function Goe(){throw new Error("MDX does not support rawContent()! If you need to read the Markdown contents to calculate values (ex. reading time), we suggest injecting frontmatter via remark plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}function Woe(){throw new Error("MDX does not support compiledContent()! If you need to read the HTML contents to calculate values (ex. reading time), we suggest injecting frontmatter via rehype plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}var gke,vke,yke,wke,dF,Hoe,Voe,qoe,fF=ce(()=>{"use strict";os();Ti();ci();Mi();Li();ki();Pi();Fi();Oi();Ii();Ki();es();ts();rs();is();ss();gke=st(ns(),1),vke=st(li(),1),yke=st(as(),1);Vr();di();wke=st(hi(),1),dF={draft:!0,date:"10 / 22 / 2022",seoTitle:"SEO Title",seoDescription:"SEO Description",headline:"Post Headline",cardTeaser:"This is the teaser for the blog card",author:"Dan",featureImageUrl:"",socialImageUrl:"",headerImageUrl:"",altTag:"Alt Tag",titleTag:"Title Tag",buttonLabel:"Click to read about this",tags:["tag1","tag2"],category:"code",slug:"post-slug"};Me(hF,"astro:jsx");Me(hm,"astro:jsx");hm[Symbol.for("astro.needsHeadRendering")]=!Boolean(dF.layout);Hoe="posts/post-2022-9-solid-createSignal.mdx",Voe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/posts/post-2022-9-solid-createSignal.mdx";qoe=hm});var Yoe,mF,Xoe,gF,Qoe,ks,Zoe,Zn,$oe,Vt,Ib=ce(()=>{"use strict";os();Yoe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/svgs/InternalLinkIcon.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),mF=ie(async(e,t,r)=>{let i=e.createAstro(Yoe,t,r);i.self=mF;let{width:s,height:n}=i.props;return N`${pe(e)}<svg id="internal-link-icon" data-name="internal-link-icon" xmlns="http://www.w3.org/2000/svg"${Se(s,"width")}${Se(n,"height")} viewBox="0 0 72.66 72.24">
  <path d="M35.04 57l-7.14 7.12a14 14 0 01-19.8 0h0a14 14 0 010-19.8L22.24 30.2a14 14 0 0119.8 0h0" fill="none" stroke="#7d83ff" stroke-linecap="round" stroke-miterlimit="10" stroke-width="8"></path>
  <path d="M36.81 16.06l8-8a14 14 0 0119.8 0h0a14 14 0 010 19.8L50.42 42.04a14 14 0 01-19.8 0h0" fill="none" stroke="#7d83ff" stroke-linecap="round" stroke-miterlimit="10" stroke-width="8"></path>
</svg>`}),Xoe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/svgs/ExternalLinkIcon.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),gF=ie(async(e,t,r)=>{let i=e.createAstro(Xoe,t,r);i.self=gF;let{width:s,height:n}=i.props;return N`${pe(e)}<svg id="external-link-icon" xmlns="http://www.w3.org/2000/svg"${Se(s,"width")}${Se(n,"height")} viewBox="0 0 83.24 81.95">
  <path id="box" d="M69.95 45.72v14a16.26 16.26 0 01-16.22 16.25H22.21A16.26 16.26 0 016 59.73V28.21a16.26 16.26 0 0116.21-16.24h12.35" fill="none" stroke="#7d83ff" stroke-linecap="round" stroke-miterlimit="10" stroke-width="12"></path>
  <g id="arrow" fill="none" stroke="#7d83ff" stroke-linecap="round" stroke-miterlimit="10" stroke-width="12">
    <path id="link-out-base-line" d="M37.97 43.97L77.09 6.09"></path>
    <path id="top-arrow-head" d="M56.13 6h21"></path>
    <path id="bottom-arrow-head" d="M77.24 6v21"></path>
  </g>
</svg>`}),Qoe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/blog/Link.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),ks=ie(async(e,t,r)=>{let i=e.createAstro(Qoe,t,r);i.self=ks;let{type:s,url:n}=i.props,a=s==="external"?"noopener noreferrer":"prefetch",o=s==="external"?"_blank":"_self",l=[];for(let c of l)e.styles.add(c);return N`${pe(e)}<span class="link-container astro-4Q2T2ZZI">
  <a${Se(n,"href")}${Se(a,"rel")}${Se(o,"target")} class="astro-4Q2T2ZZI">
    ${zt(e,r.default)}
  </a>
  <span class="icon astro-4Q2T2ZZI">
    ${s==="external"?N`${O(e,"ExternalLinkIcon",gF,{class:"astro-4Q2T2ZZI"})}`:N`${O(e,"InternalLinkIcon",mF,{class:"astro-4Q2T2ZZI"})}`}
  </span>
</span>`}),Zoe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/blog/UnorderedList.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Zn=ie(async(e,t,r)=>{let i=e.createAstro(Zoe,t,r);i.self=Zn;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<ul class="astro-OIYCPQPI">
  ${zt(e,r.default)}
</ul>`}),$oe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/blog/Bullet.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Vt=ie(async(e,t,r)=>{let i=e.createAstro($oe,t,r);i.self=Vt;let{type:s}=i.props,l=s==="blue"?"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/radio-focus_UiuHs8It6.png?ik-sdk-version=javascript-1.4.3":s==="purple"?"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/radio-not-active_khmUjQ0M0.png?ik-sdk-version=javascript-1.4.3":"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/exclaimation-bullet_6hT7S6T9g.png?ik-sdk-version=javascript-1.4.3",c=s==="important"?"50px":"40px",h=s==="important"?"translateY(-12px)":"translateY(-2px)",u=ai([{bulletWidth:c,bulletTranslateY:h}]),d=[{props:{lang:"scss","define:vars":{bulletWidth:c,bulletTranslateY:h},"data-astro-id":"WXHSWTC3"},children:".base-bullet:where(.astro-WXHSWTC3){display:grid;grid-template-columns:min-content 1fr;gap:12px;justify-items:start;align-items:start;font-size:2.1rem;font-weight:700;line-height:1.6;color:var(--font-color-light);width:100%}@media (min-width: 600px){.base-bullet:where(.astro-WXHSWTC3){font-size:2.4rem}}.block:where(.astro-WXHSWTC3){width:var(--bulletWidth);transform:var(--bulletTranslateY)}"}];for(let p of d)e.styles.add(p);return N`${pe(e)}<li class="base-bullet astro-WXHSWTC3"${Se(u,"style")}>
  <img class="block astro-WXHSWTC3"${Se(l,"src")} alt="Bullet point" title="Bullet Point">
  ${zt(e,r.default)}
</li>`})});var Rb={};ds(Rb,{Content:()=>rle,compiledContent:()=>tle,default:()=>pm,file:()=>Koe,frontmatter:()=>yF,getHeadings:()=>xF,rawContent:()=>ele,url:()=>Joe});function xF(){return[{depth:2,slug:"how-are-we-going-to-fill-membership",text:"How Are We Going To Fill Membership?"},{depth:2,slug:"fww-live-tech-stack",text:"FWW LIVE Tech Stack"},{depth:4,slug:"technologies-used",text:"Technologies Used:"},{depth:2,slug:"app-features-for-round-1",text:"App Features For Round 1"},{depth:2,slug:"workout-tracking",text:"Workout Tracking"},{depth:2,slug:"workout-journal",text:"Workout Journal"},{depth:2,slug:"training-plans",text:"Training Plans"},{depth:2,slug:"converting-from-react-to-solidjs-and-using-d1",text:"Converting From React to SolidJS And Using D1"},{depth:2,slug:"change-1-solidjs",text:"Change 1: SolidJS"},{depth:2,slug:"change-2-cloudflare-d1",text:"Change 2: Cloudflare D1"},{depth:2,slug:"change-3-bonus-auth",text:"Change 3: Bonus\u2026 Auth"},{depth:2,slug:"deadline-jan-1st-2023",text:"Deadline: Jan 1st 2023"}]}function vF(e){let t=Object.assign({p:"p",strong:"strong",h2:"h2",h4:"h4",code:"code"},e.components);return T(Ot,{children:[T(t.p,{children:["This past year, my wife and I shut our fitness studio down ",T(t.strong,{children:"after 7 years"})," in business. I\u2019ll spare you the details."]}),`
`,T(t.p,{children:["We created an online streaming fitness program called ",T(ks,{type:"external",url:"https://fitwomensweekly.com/fww-live/what-members-get",children:"Fit Women\u2019s Weekly LIVE"}),". It\u2019s a unique program. Among other things, ",T(t.strong,{children:"only 300 members are allowed to be active"})," at any one time."]}),`
`,T(t.p,{children:["We decided on this membership limit because ",T(t.strong,{children:"we talk to our members and give them real training help"}),". It\u2019s important to us to keep a close relationship with our members."]}),`
`,T(t.p,{children:["We have another program called ",T(ks,{type:"external",url:"https://fitwomensweekly.com/fww-habit/what-members-get",children:"Habit"})," on our horizon. Habit will have an uncapped membership. Our goal for it will be 5,000 active members. And who knows\u2026 maybe we can blow it up more!?!"]}),`
`,T(t.p,{children:["Currently there are ",T(t.strong,{children:"78 active members in Fit Women\u2019s Weekly LIVE"}),"."]}),`
`,T(t.h2,{id:"how-are-we-going-to-fill-membership",children:"How Are We Going To Fill Membership?"}),`
`,T(t.p,{children:"The app."}),`
`,T(t.p,{children:"The app is going to be our primary lead generation method."}),`
`,T(t.p,{children:"And obviously\u2026 are primary member retention mechanism. There must be a better word for mechanism. (And I\u2019m a copywriter.)"}),`
`,T(t.p,{children:["Because this is a private app\u2026 I decided to keep this a ",T(t.strong,{children:"web app (PWA)"}),". I plan on making it fully offline compatible over time."]}),`
`,T(t.p,{children:["We offer ",T(t.strong,{children:"three FREE 14 day training plans"})," among the paid training plans."]}),`
`,T(t.p,{children:["The FREE training plan is being tested with a downloadable PDF and it\u2019s converting well from prospect to lead. ",T(t.strong,{children:"Lead to member can use a boost"}),"\u2026 but that is what the app is supposed to help with."]}),`
`,T(t.p,{children:"Let\u2019s get technical, here\u2019s the tech stack."}),`
`,T(t.h2,{id:"fww-live-tech-stack",children:"FWW LIVE Tech Stack"}),`
`,T(t.h4,{id:"technologies-used",children:"Technologies Used:"}),`
`,T(Zn,{children:[T(Vt,{type:"blue",children:"SolidJS"}),`
`,T(Vt,{type:"blue",children:"Cloudflare Workers"}),`
`,T(Vt,{type:"blue",children:"Cloudflare D1"}),`
`,T(Vt,{type:"blue",children:"Cloudflare Images"}),`
`,T(Vt,{type:"blue",children:"Cloudflare Stream"}),`
`,T(Vt,{type:"blue",children:"Auth is undecided"})]}),`
`,T(t.p,{children:["This app is build on what I call the ",T(t.strong,{children:"Cloudflare stack"}),"."]}),`
`,T(t.h2,{id:"app-features-for-round-1",children:"App Features For Round 1"}),`
`,T(t.p,{children:"In this group, we stream (and record) two LIVE workouts every weekday and one Saturday stretch session. It\u2019s done through a private Facebook Group at the moment. (Cloudflare Stream within the next 6 months.)"}),`
`,T(t.p,{children:"The app is built around 30 day training plans that use these workouts."}),`
`,T(t.p,{children:"However, you don\u2019t have to use a training plan. You can structure your weekly workouts using the LIVE Workouts and recordings."}),`
`,T(t.h2,{id:"workout-tracking",children:"Workout Tracking"}),`
`,T(t.p,{children:["I don\u2019t want to go into the details here too much because I have some really cool ideas to implement ",T(t.strong,{children:"machine learning"})," with the data we\u2019re collecting."]}),`
`,T(t.p,{children:"This is not your typical workout tracking app."}),`
`,T(t.p,{children:"I\u2019m bringing over 10 years of personal training experience to this project\u2026 so I have some fresh ideas on how to make tracking helpful."}),`
`,T(t.h2,{id:"workout-journal",children:"Workout Journal"}),`
`,T(t.p,{children:"This is pretty basic. Just a journal or personal blog of your workout days."}),`
`,T(t.p,{children:"At the moment, nothing fancy here. Just the ability to tag journal entries and mark a journal entry as a favorite."}),`
`,T(t.h2,{id:"training-plans",children:"Training Plans"}),`
`,T(t.p,{children:"This is the meat of the app."}),`
`,T(t.p,{children:"Most training plans are 30 days long. We have two special yearly training plans that are 60 days long."}),`
`,T(t.p,{children:"The app tracks everything day to day."}),`
`,T(t.p,{children:[T(t.strong,{children:"Everyday you have a series of goals to complete"}),"."]}),`
`,T(Zn,{children:[T(Vt,{type:"blue",children:"A primary goal"}),`
`,T(Vt,{type:"blue",children:"A busy woman\u2019s goal"}),`
`,T(Vt,{type:"blue",children:"A fitness challenge"}),`
`,T(Vt,{type:"blue",children:"And more\u2026"})]}),`
`,T(t.p,{children:["Some days the ",T(t.strong,{children:"primary goal is to take a rest day"}),". So all you have to do is check that off."]}),`
`,T(Zn,{children:[T(Vt,{type:"blue",children:"Each goal has points."}),`
`,T(Vt,{type:"blue",children:"Each combination of completed goals has points."}),T(Vt,{type:"blue",children:T(t.p,{children:"You can even get negative points for not completing days."})})]}),`
`,T(t.p,{children:["Your goal is to ",T(t.strong,{children:"get as many points as possible during the training plan"})," and see if you can crack the top 10 leaderboard for that plan."]}),`
`,T(t.p,{children:"There\u2019s even more that makes the training plan so cool. This feature is going to be the central feature in Habit when I build that out next."}),`
`,T(t.p,{children:["I want our members to use and rely on this feature to help them workout more. In my eyes it\u2019s the star, but ",T(t.strong,{children:"you never know what users will do"}),"."]}),`
`,T(t.h2,{id:"converting-from-react-to-solidjs-and-using-d1",children:"Converting From React to SolidJS And Using D1"}),`
`,T(t.p,{children:"I do have a 97% working version of the app built with React and NextJS on the frontend."}),`
`,T(t.p,{children:"The backend is using the Cloudflare stack as I mentioned."}),`
`,T(Zn,{children:[T(Vt,{type:"blue",children:"Workers for edge functions"}),`
`,T(Vt,{type:"blue",children:"KV for some database needs"}),T(Vt,{type:"blue",children:T(t.p,{children:"Durable Objects for transactional and consistent data storage needs."})})]}),`
`,T(t.p,{children:"But this is going to change a little."}),`
`,T(t.h2,{id:"change-1-solidjs",children:"Change 1: SolidJS"}),`
`,T(t.p,{children:["I started to learn ",T(ks,{type:"external",url:"https://www.solidjs.com/",children:"Solid"})," and I really enjoy it."]}),`
`,T(t.p,{children:["Once you get your head around the way signals and stores work in Solid\u2026 it makes so much more sense to update the UI compared to React and ",T(t.code,{children:"useEffect"}),"."]}),`
`,T(t.p,{children:["React is fixing most of the issues with ",T(t.code,{children:"useEffect"})," with a new hook. I can\u2019t remember the name of it. I don\u2019t even think it\u2019s released yet. Knowing React, it will probably take another year for it to come out."]}),`
`,T(t.p,{children:["But Solid is pretty awesome. And I really like ",T(ks,{type:"external",url:"https://twitter.com/RyanCarniato",children:"Ryan Carniato"}),". I think he is one of the smartest coders. I trust he and his team will make Solid a beast of a framework going forward."]}),`
`,T(t.p,{children:["Plus ",T(t.strong,{children:"this transition also lets me double check all my logic and make improvements"})," to features if needed."]}),`
`,T(t.p,{children:"I\u2019ve already found some big bugs and smashed them."}),`
`,T(t.h2,{id:"change-2-cloudflare-d1",children:"Change 2: Cloudflare D1"}),`
`,T(t.p,{children:["I got early access to D1\u2026 ",T(t.strong,{children:"Cloudflare\u2019s distributed SQLite database"}),". I think they call it distributed. It should be in open beta by now."]}),`
`,T(t.p,{children:"I am going to get rid of Durable Objects and use D1 instead. I think it makes a lot more sense to solve the problems I\u2019m having with Durable Objects."}),`
`,T(t.p,{children:"Durable Objects are pretty cool. But I find they can be tough to work with at the moment. I still plan on using them for future features."}),`
`,T(t.p,{children:[T(t.strong,{children:"UPDATE"})," - I might stick with Durable Objects. Mainly because I want total flexibility with my persistance until I know what the final version of the app will look like."]}),`
`,T(t.h2,{id:"change-3-bonus-auth",children:"Change 3: Bonus\u2026 Auth"}),`
`,T(t.p,{children:"I\u2019m still trying to find a good auth solution I like."}),`
`,T(t.p,{children:"I wanted to go with Magic.link. I really like them, but there are so many other possibilities like Stytch I\u2019m interested in trying."}),`
`,T(t.p,{children:["I was looking at Stytch the other day and really like it. ",T(t.strong,{children:"It has API endpoints you can hit rather than be forced to use an SDK"}),". I really like that. So this is currently in first place. I\u2019ll blog more about this when I start playing with it."]}),`
`,T(t.p,{children:"I might roll my own OAuth2 solution with Google, Facebook, and Apple logins. Not sure but I\u2019ve been wanting to learn OAuth2 deeply for some time now."}),`
`,T(t.h2,{id:"deadline-jan-1st-2023",children:"Deadline: Jan 1st 2023"}),`
`,T(t.p,{children:[T(t.strong,{children:"This deadline is approaching FAST"}),"."]}),`
`,T(t.p,{children:"But I think I can transition the app to Solid before Jan. We have one of those \u201Cspecial\u201D eight week training plans coming up in early January."}),`
`,T(t.p,{children:"Kindal and I want to use the app to msanage it. And hopefully get our membership full by then as well."})]})}function pm(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(vF,{...e})}):vF(e)}function ele(){throw new Error("MDX does not support rawContent()! If you need to read the Markdown contents to calculate values (ex. reading time), we suggest injecting frontmatter via remark plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}function tle(){throw new Error("MDX does not support compiledContent()! If you need to read the HTML contents to calculate values (ex. reading time), we suggest injecting frontmatter via rehype plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}var jke,Hke,Vke,qke,yF,Joe,Koe,rle,Nb=ce(()=>{"use strict";os();Ib();Ti();ci();Mi();Li();ki();Pi();Fi();Oi();Ii();Ki();es();ts();rs();is();ss();jke=st(ns(),1),Hke=st(li(),1),Vke=st(as(),1);Vr();di();qke=st(hi(),1),yF={draft:!0,date:"9 / 30 / 22",seoTitle:"Build The Fit Women's Weekly LIVE App. A Fitness App Like No Other",seoDescription:"The FWW LIVE app is my first big app. I am finishing the build for this and it's a huge goal for our fitness business. Read about it.",headline:"FWW LIVE Web App (PWA)",cardTeaser:"The FWW LIVE app is my first big app. I am finishing the build for this and it's a huge goal for our fitness business. Read about it.",author:"Dan",featureImageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/now/fww-live-now-feature_-WAjAZ0hg.jpg?ik-sdk-version=javascript-1.4.3",socialImageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/now/fww-live-now-social_Zhj5Z5pJw.jpg?ik-sdk-version=javascript-1.4.3",headerImageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/now/fww-live-post-header_jXwuZVowa.png?ik-sdk-version=javascript-1.4.3",altTag:"Fit Women's Weekly LIVE",titleTag:"Fit Women's Weekly LIVE",buttonLabel:"Read About The LIVE App",tags:[{tag:"now"},{tag:"apps"},{tag:"pwa"}],category:"now",slug:"fww-live-app"};Me(xF,"astro:jsx");Me(pm,"astro:jsx");pm[Symbol.for("astro.needsHeadRendering")]=!Boolean(yF.layout);Joe="src/data/now/fww-live-app.mdx",Koe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/now/fww-live-app.mdx";rle=pm});var Ub={};ds(Ub,{Content:()=>ole,compiledContent:()=>ale,default:()=>fm,file:()=>sle,frontmatter:()=>wF,getHeadings:()=>_F,rawContent:()=>nle,url:()=>ile});function _F(){return[{depth:2,slug:"deadline-november-1-2022",text:"Deadline: November 1, 2022"}]}function bF(e){let t=Object.assign({p:"p",strong:"strong",h2:"h2",em:"em"},e.components);return T(Ot,{children:[T(t.p,{children:["Word ",T(ks,{type:"external",url:"http://fitwomensweekly.com",children:"Fit Women\u2019s Weekly"})," is Kindal and I\u2019s online fitness business."]}),`
`,T(t.p,{children:"Our marketing site has been in production for about two years. It\u2019s going through some transformations to say the least."}),`
`,T(t.p,{children:["Currently it\u2019s built with ",T(ks,{type:"external",url:"https://nextjs.org/",children:"NextJs"}),"."]}),`
`,T(t.p,{children:[T(t.strong,{children:"It\u2019s also in dire need or an update"}),"."]}),`
`,T(Zn,{children:[T(Vt,{type:"blue",children:"We are dialing in our offerings."}),`
`,T(Vt,{type:"blue",children:"We are dialing in the offers to get customers."}),`
`,T(Vt,{type:"blue",children:"And I need to tweak the design slightly as well."})]}),`
`,T(t.p,{children:["This is a good chance to port it to ",T(ks,{type:"external",url:"https://astro.build/",children:"Astro"})," or ",T(ks,{type:"external",url:"https://qwik.builder.io/",children:"Qwik"}),"."]}),`
`,T(t.p,{children:"I\u2019ve really enjoyed building Nerds in Astro (for the most part). It\u2019s a great solution for so many use cases online."}),`
`,T(t.p,{children:["Plus porting it won\u2019t be that big of a challenge. The hardest part for me is using ",T(t.strong,{children:"CSS modules in my SolidJS components"}),"."]}),`
`,T(t.p,{children:"That extra CSS file as opposed to having the CSS directly in the component file\u2026 it\u2019s a headache to deal with."}),`
`,T(t.p,{children:"Yes, you read that correctly. I will switch the React components that need interaction to SolidJS. I really enjoy Solid compared to React. That sounds like an opinion blog post."}),`
`,T(t.h2,{id:"deadline-november-1-2022",children:"Deadline: November 1, 2022"}),`
`,T(t.p,{children:[T(t.strong,{children:"By November 1, 2022 I want"}),"\u2026"]}),`
`,T(Zn,{children:[T(Vt,{type:"important",children:T(t.p,{children:"An organized Figma file with every detail of my update mapped out."})}),T(Vt,{type:"important",children:"A catalog of the new components I need."}),T(Vt,{type:"important",children:T(t.p,{children:"A process to update and change existing components over to better versions."})}),T(Vt,{type:"important",children:T(t.p,{children:`And I want to know which components I want to add to my personal component
library.`})})]}),`
`,T(t.p,{children:"The biggest mistake I\u2019ve made over the last few years of building websites and the few apps I have built\u2026"}),`
`,T(t.p,{children:[T(t.em,{children:"Not FULLY designing them in Figma first"}),"."]}),`
`,T(t.p,{children:"And I mean every possible view and state the UI could have\u2026 including error states."}),`
`,T(t.p,{children:["I am making a promise to myself here\u2026 ",T(t.strong,{children:"I will design EVERYTHING first before I start building in code"}),"."]}),`
`,T(t.p,{children:"I made this mistake back with Nerds. I got excited and started coding before everything was designed. It slows the process down so much."})]})}function fm(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(bF,{...e})}):bF(e)}function nle(){throw new Error("MDX does not support rawContent()! If you need to read the Markdown contents to calculate values (ex. reading time), we suggest injecting frontmatter via remark plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}function ale(){throw new Error("MDX does not support compiledContent()! If you need to read the HTML contents to calculate values (ex. reading time), we suggest injecting frontmatter via rehype plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}var uPe,dPe,hPe,mPe,wF,ile,sle,ole,zb=ce(()=>{"use strict";os();Ib();Ti();ci();Mi();Li();ki();Pi();Fi();Oi();Ii();Ki();es();ts();rs();is();ss();uPe=st(ns(),1),dPe=st(li(),1),hPe=st(as(),1);Vr();di();mPe=st(hi(),1),wF={draft:!0,date:"9 / 30 / 22",seoTitle:"Working On Now - Big Update and Port Of Fit Women's Weekly Marketing Site",seoDescription:"We have dialed in our product offering and dates for when everything will be done. So it's time to update the site and tweak it more for conversion. Let's build!",headline:"Big Update On The Fit Women's Weekly Marketing Site",cardTeaser:"We've got our product offering down. It's time to build out the site for conversion and improve the SEO profile as well.",author:"Dan",featureImageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/now/fww-live-marketing-now-feature_pTLeWmaiM.jpg?ik-sdk-version=javascript-1.4.3",socialImageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/now/fww-live-marketing-now-social_SwjIlQjhd.jpg?ik-sdk-version=javascript-1.4.3",headerImageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/now/fww-marketing-post-header_8PH3iE-Ms.png?ik-sdk-version=javascript-1.4.3",altTag:"Fit Women's Weekly Marketing Website",titleTag:"Fit Women's Weekly Marketing Website",buttonLabel:"Learn About The Updates",tags:[{tag:"now"},{tag:"fww"},{tag:"marketing"}],category:"now",slug:"fww-marketing-site"};Me(_F,"astro:jsx");Me(fm,"astro:jsx");fm[Symbol.for("astro.needsHeadRendering")]=!Boolean(wF.layout);ile="src/data/now/fww-marketing-site.mdx",sle="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/now/fww-marketing-site.mdx";ole=fm});var jb={};ds(jb,{Content:()=>hle,compiledContent:()=>dle,default:()=>mm,file:()=>cle,frontmatter:()=>SF,getHeadings:()=>AF,rawContent:()=>ule,url:()=>lle});function AF(){return[{depth:2,slug:"brad-schiff---wordpress-for-developers",text:"Brad Schiff - Wordpress for Developers"},{depth:2,slug:"deadline-february-28-2023",text:"Deadline: February 28, 2023"}]}function DF(e){let t=Object.assign({p:"p",strong:"strong",h2:"h2"},e.components);return T(Ot,{children:[T(t.p,{children:"I know how to use Wordpress (WP, going forward). I understand the idea behind how it\u2019s coded and why."}),`
`,T(t.p,{children:["But ",T(t.strong,{children:"I never built a Wordpress site from scratch"}),"."]}),`
`,T(t.p,{children:"I never got into the WP functions and methods."}),`
`,T(t.p,{children:"And WP is changing so fast with Gutenberg\u2026 I wanted to make sure I know the ins and outs."}),`
`,T(t.p,{children:"I\u2019ve read they are floating the idea of making core WP use plugins for nearly all additional features\u2026 to keep core lightweight. That\u2019s a big change."}),`
`,T(t.p,{children:["Plus ",T(t.strong,{children:"I do take on clients in a case by case basis"}),"."]}),`
`,T(t.p,{children:"And since nearly every small to medium sized business has a website built with Wordpress\u2026 it makes sense to master 80% of the WP functionality."}),`
`,T(t.p,{children:"80% is good enough in this case."}),`
`,T(t.h2,{id:"brad-schiff---wordpress-for-developers",children:"Brad Schiff - Wordpress for Developers"}),`
`,T(t.p,{children:"I am going through Brads course on Wordpress. You can find it on Udemy."}),`
`,T(t.p,{children:"It\u2019s a HUGE course. Brad talks really slow\u2026 so he\u2019s great for beginners. I tend to speed up the videos."}),`
`,T(t.p,{children:[T(t.strong,{children:"I definitely recommend his courses if you\u2019re new to coding"}),"."]}),`
`,T(t.p,{children:"I enjoy going through the course because as he builds features, I will pause the video and build it before he does."}),`
`,T(t.p,{children:"I\u2019ll learn what I can on my own and then compare my solutions to his."}),`
`,T(t.p,{children:"For the Wordpress stuff so far, I\u2019m learning a lot."}),`
`,T(t.p,{children:"For the Javascript stuff, I\u2019m still learning a lot. It\u2019s fun to see how other developers solve problems."}),`
`,T(t.h2,{id:"deadline-february-28-2023",children:"Deadline: February 28, 2023"}),`
`,T(t.p,{children:["I want to build ",T(t.strong,{children:"a complete recipe Wordpress theme"})," from scratch\u2026 coded well enough and packed with the right features to get accepted into ThemeForest or some similar marketplace."]}),`
`,T(t.p,{children:"I want it to be a Block based and maybe even plugin based if that comes to fruition."}),`
`,T(t.p,{children:"Why a recipe theme?"}),`
`,T(t.p,{children:[T(t.strong,{children:"Kindal is a great cook"})," and I really want her to start recording her recipes. So what better way to cement my Wordpress knowledge than build a theme that will actually get used."]})]})}function mm(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(DF,{...e})}):DF(e)}function ule(){throw new Error("MDX does not support rawContent()! If you need to read the Markdown contents to calculate values (ex. reading time), we suggest injecting frontmatter via remark plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}function dle(){throw new Error("MDX does not support compiledContent()! If you need to read the HTML contents to calculate values (ex. reading time), we suggest injecting frontmatter via rehype plugins. Learn more on our docs: https://docs.astro.build/en/guides/integrations-guide/mdx/#inject-frontmatter-via-remark-or-rehype-plugins")}var PPe,BPe,FPe,RPe,SF,lle,cle,hle,Hb=ce(()=>{"use strict";os();Ti();ci();Mi();Li();ki();Pi();Fi();Oi();Ii();Ki();es();ts();rs();is();ss();PPe=st(ns(),1),BPe=st(li(),1),FPe=st(as(),1);Vr();di();RPe=st(hi(),1),SF={draft:!0,date:"9 / 30 / 22",seoTitle:"Working On Now - Build My First From Scratch Wordpress Theme",seoDescription:"I've never fully learned Wordpress. I wanted to, so I am. And the only way to really learn is to build. So I'm building a theme from scratch.",headline:"Build a Full Wordpress Theme From Scratch",cardTeaser:"I wanted to learn Wordpress. So I am. And the only real way to learn is to build. So I'm going to build a recipe theme from scratch. Here's why...",author:"Dan",featureImageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/now/wp-full-theme-feature_Z-48ONHXu.jpg?ik-sdk-version=javascript-1.4.3",socialImageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/now/wp-full-theme-social_zydbWked8.jpg?ik-sdk-version=javascript-1.4.3",headerImageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/now/wp-full-theme-post-header_SNtAVMloZ.png?ik-sdk-version=javascript-1.4.3",altTag:"Wordpress logo over some code",titleTag:"Learn Wordpress and Build",buttonLabel:"Why Build In Wordpress",tags:[{tag:"now"},{tag:"wordpress"},{tag:"selling themes"}],category:"now",slug:"build-wordpress-theme-from-scratch"};Me(AF,"astro:jsx");Me(mm,"astro:jsx");mm[Symbol.for("astro.needsHeadRendering")]=!Boolean(SF.layout);lle="src/data/now/wordpress-recipe-theme.mdx",cle="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/now/wordpress-recipe-theme.mdx";hle=mm});function mle(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function gle(e){e=mle(e);let t=dw(Go,ple);if(!t)throw e;for(let r of t)r(e)}function We(e,t){return[()=>e,r=>e=typeof r=="function"?r(e):r]}function vt(e,t){Go={owner:Go,context:null};let r;try{r=e(t)}catch(i){gle(i)}finally{Go=Go.owner}return()=>r}function vle(e){return e()}function uw(e){let t;return Go&&(t=dw(Go,fle))&&(t.cleanups?t.cleanups.push(e):t.cleanups=[e]),e}function Nc(e){let t=vt(()=>sw(e()));return t.toArray=()=>{let r=t();return Array.isArray(r)?r:r!=null?[r]:[]},t}function dw(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:dw(e.owner,t):void 0}function sw(e){if(typeof e=="function"&&!e.length)return sw(e());if(Array.isArray(e)){let t=[];for(let r=0;r<e.length;r++){let i=sw(e[r]);Array.isArray(i)?t.push.apply(t,i):t.push(i)}return t}return e}function EF(e){Di.context=e}function xle(){return Di.context?{...Di.context,id:`${Di.context.id}${Di.context.count++}-`,count:0}:void 0}function Ne(e,t){if(Di.context&&!Di.context.noHydrate){let r=Di.context;EF(xle());let i=e(t||{});return EF(r),i}return e(t||{})}function ble(e,t){let r=e.each||[],i=r.length,s=e.children;if(i){let n=Array(i);for(let a=0;a<i;a++)n[a]=t(s,r[a],a);return n}return e.fallback}function pO(e){return ble(e,(t,r,i)=>t(()=>r,i))}function vm(e){if(wm(e,"")){let t=Bt[0];for(let r=1,i=Bt.length;r<i;r++)t+=Bt[r];if(Hd){if(Ud.size){let r=Bc.get(e);typeof r=="number"&&(r=pw(Hd++),t=r+"="+t);for(let[i,s]of Ud)t+=";"+s+i;t+=";return "+r,Ud=new Map}else t="return "+t;t="(function("+Cle()+"){"+t+"}())"}else e&&e.constructor===Object&&(t="("+t+")");return Bt.length=0,Bc=new WeakMap,t}return"void 0"}function wm(e,t){switch(typeof e){case"string":Bt.push(mO(e,0));break;case"number":Bt.push(e+"");break;case"boolean":Bt.push(e?"!0":"!1");break;case"object":if(e===null)Bt.push("null");else{let r=Dle(e,t);switch(r){case!0:return!1;case!1:switch(e.constructor){case Object:MF(e);break;case Array:Vb(e);break;case Date:Bt.push('new Date("'+e.toISOString()+'")');break;case RegExp:Bt.push(e+"");break;case Map:Bt.push("new Map("),Vb(Array.from(e)),Bt.push(")");break;case Set:Bt.push("new Set("),Vb(Array.from(e)),Bt.push(")");break;case void 0:Bt.push("Object.assign(Object.create(null),"),MF(e),Bt.push("))");break;default:return!1}break;default:Bt.push(r);break}}break;default:return!1}return!0}function MF(e){let t="{";Wo.push(e);for(let r in e)if(_le.call(e,r)){let i=e[r],s=Sle(r);Bt.push(t+s+":"),wm(i,s)?t=",":Bt.pop()}t==="{"?Bt.push("{}"):Bt.push("}"),Wo.pop()}function Vb(e){Bt.push("["),Wo.push(e),wm(e[0],0);for(let t=1,r=e.length;t<r;t++)Bt.push(","),wm(e[t],t);Wo.pop(),Bt.push("]")}function Dle(e,t){let r=Bc.get(e);if(r===void 0)return Bc.set(e,Bt.length),!1;if(typeof r=="number"&&(r=LF(e,r)),Wo.includes(e)){let i=Wo[Wo.length-1],s=Bc.get(i);return typeof s=="number"&&(s=LF(i,s)),Ud.set(r,(Ud.get(r)||"")+Ale(s,t)+"="),!0}return r}function Sle(e){let t=Ele(e);return t===-1?e:mO(e,t)}function Ale(e,t){return e+(typeof t=="number"||t[0]==='"'?"["+t+"]":"."+t)}function Ele(e){let t=e[0];if(!(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"))return 0;for(let r=1,i=e.length;r<i;r++)if(t=e[r],!(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"))return r;return-1}function mO(e,t){let r="",i=0;for(let s=t,n=e.length;s<n;s++){let a;switch(e[s]){case'"':a='\\"';break;case"\\":a="\\\\";break;case"<":a="\\x3C";break;case`
`:a="\\n";break;case"\r":a="\\r";break;case"\u2028":a="\\u2028";break;case"\u2029":a="\\u2029";break;default:continue}r+=e.slice(i,s)+a,i=s+1}return i===t?r=e:r+=e.slice(i),'"'+r+'"'}function LF(e,t){let r=pw(Hd++);return Bc.set(e,r),t?Bt[t-1]+=r+"=":Bt[t]=r+"="+Bt[t],r}function Cle(){let e=hw[0];for(let t=1;t<Hd;t++)e+=","+pw(t);return Hd=0,e}function pw(e){let t=e%CF,r=hw[t];for(e=(e-t)/CF;e>0;)t=e%TF,r+=fO[t],e=(e-t)/TF;return r}function Tle(e,t={}){let r="";Di.context={id:t.renderId||"",count:0,suspense:{},assets:[],nonce:t.nonce,writeResource(s,n,a){if(!Di.context.noHydrate){if(a)return r+=`_$HY.set("${s}", ${Ple(n)});`;r+=`_$HY.set("${s}", ${vm(n)});`}}};let i=Vd(L(e()));return Di.context.noHydrate=!0,i=Lle(Di.context.assets,i),r.length&&(i=kle(i,r,t.nonce)),i}function nt(e,...t){if(t.length){let r="";for(let i=0;i<t.length;i++){r+=e[i];let s=t[i];s!==void 0&&(r+=Vd(s))}e=r+e[t.length]}return{t:e}}function En(e){if(!e)return"";if(typeof e=="string")return e;let t="",r=Object.keys(e);for(let i=0;i<r.length;i++){let s=r[i],n=e[s];n!=null&&(i&&(t+=";"),t+=`${s}:${L(n,!0)}`)}return t}function H(e,t,r){return r?t?" "+e:"":t!=null?` ${e}="${t}"`:""}function at(){let e=Mle();return e?` data-hk="${e}"`:""}function L(e,t){let r=typeof e;if(r!=="string"){if(!t&&r==="function")return L(e(),t);if(!t&&Array.isArray(e)){let c="";for(let h=0;h<e.length;h++)c+=Vd(L(e[h],t));return{t:c}}return t&&r==="boolean"?String(e):e}let i=t?'"':"<",s=t?"&quot;":"&lt;",n=e.indexOf(i),a=e.indexOf("&");if(n<0&&a<0)return e;let o=0,l="";for(;n>=0&&a>=0;)n<a?(o<n&&(l+=e.substring(o,n)),l+=s,o=n+1,n=e.indexOf(i,o)):(o<a&&(l+=e.substring(o,a)),l+="&amp;",o=a+1,a=e.indexOf("&",o));if(n>=0)do o<n&&(l+=e.substring(o,n)),l+=s,o=n+1,n=e.indexOf(i,o);while(n>=0);else for(;a>=0;)o<a&&(l+=e.substring(o,a)),l+="&amp;",o=a+1,a=e.indexOf("&",o);return o<e.length?l+e.substring(o):l}function Vd(e){let t=typeof e;if(t==="string")return e;if(e==null||t==="boolean")return"";if(Array.isArray(e)){let r="";for(let i=0,s=e.length;i<s;i++)r+=Vd(e[i]);return r}return t==="object"?e.t:t==="function"?Vd(e()):String(e)}function Mle(){let e=Di.context;return e&&!e.noHydrate&&`${e.id}${e.count++}`}function Lle(e,t){if(!e||!e.length)return t;let r="";for(let i=0,s=e.length;i<s;i++)r+=e[i]();return t.replace("</head>",r+"</head>")}function kle(e,t,r){let i=`<script${r?` nonce="${r}"`:""}>${t}<\/script>`,s=e.indexOf("<!--xs-->");return s>-1?e.slice(0,s)+i+e.slice(s):e+i}function Ple(e){if(e.message){let t={},r=Object.getOwnPropertyNames(e);for(let i=0;i<r.length;i++){let s=r[i],n=e[s];(!n||s!=="message"&&typeof n!="function")&&(t[s]=n)}return`Object.assign(new Error(${vm(e.message)}), ${vm(t)})`}return vm(e)}function Ble(e){if(Gb.has(e))return Gb.get(e);let t={c:0,get id(){return"s"+this.c.toString()}};return Gb.set(e,t),t}function Fle(e){let t=e.id;return e.c++,t}function Ile(e,t,r){if(typeof e!="function")return!1;let{html:i}=gO.call(this,e,t,r);return typeof i=="string"}function gO(e,t,{default:r,...i},s){let n=s?.hydrate?Fle(Ble(this.result)):"",a=Tle(()=>{let o={};for(let[c,h]of Object.entries(i)){let u=Ole(c);o[u]=nt(`<astro-slot name="${u}">${h}</astro-slot>`)}let l={...t,...o,children:r!=null?nt(`<astro-slot>${r}</astro-slot>`):r};return Ne(e,l)},{renderId:n});return{attrs:{"data-solid-render-id":n},html:a}}function Ule(){return()=>{throw new Error("Deprecated: Astro.fetchContent() has been replaced with Astro.glob().")}}function zle(){return(t,r)=>{let i=[...Object.values(t)];if(i.length===0)throw new Error(`Astro.glob(${JSON.stringify(r())}) - no matches found.`);return Promise.all(i.map(s=>s()))}}function re(e,t,r){let i=t?new URL(t):void 0,s=new URL(e,"http://localhost"),n=new URL(r);return{site:i,generator:`Astro v${Nle}`,fetchContent:Ule(),glob:zle(),resolve(...a){let o=a.reduce((l,c)=>new URL(c,l),s).pathname;return o.startsWith(n.pathname)&&(o="/"+o.slice(n.pathname.length)),o}}}function jle(e){return Object.prototype.toString.call(e)==="[object HTMLString]"}function Hle(e){return new _m(e)}async function*kF(e){for await(let t of e)yield Mr(t)}function*Vle(e){for(let t of e)yield Mr(t)}function Mr(e){if(!!e&&typeof e=="object"){if(e instanceof Uint8Array)return Hle(e);if(e instanceof Response&&e.body){let t=e.body;return kF(t)}else{if(typeof e.then=="function")return Promise.resolve(e).then(t=>Mr(t));if(Symbol.iterator in e)return Vle(e);if(Symbol.asyncIterator in e)return kF(e)}}return _t(e)}function Zle(e){return e._metadata.hasHydrationScript?!1:e._metadata.hasHydrationScript=!0}function $le(e,t){return e._metadata.hasDirectives.has(t)?!1:(e._metadata.hasDirectives.add(t),!0)}function BF(e){if(!(e in PF))throw new Error(`Unknown directive: ${e}`);return PF[e]}function Jle(e,t){switch(e){case"both":return`<style>astro-island,astro-slot{display:contents}</style><script>${BF(t)+Qle}<\/script>`;case"directive":return`<script>${BF(t)}<\/script>`}return""}function vO(e,t){switch(t.type){case"directive":{let{hydration:r}=t,i=r&&Zle(e),s=r&&$le(e,r.directive),n=i?"both":s?"directive":null;if(n){let a=Jle(n,r.directive);return _t(a)}else return""}default:return t.toString()}}async function Jn(e,t){switch(!0){case t instanceof qo:return t.toString().trim()===""?"":t;case typeof t=="string":return _t(zd(t));case typeof t=="function":return t;case(!t&&t!==0):return"";case Array.isArray(t):return _t((await Promise.all(t.map(r=>Jn(e,r)))).join(""))}if(jd(t)){switch(!0){case!t.type:throw new Error(`Unable to render ${e._metadata.pathname} because it contains an undefined Component!
Did you forget to import the component or is it possible there is a typo?`);case t.type===Symbol.for("astro:fragment"):return Jn(e,t.props.children);case t.type.isAstroComponentFactory:{let r={},i={};for(let[s,n]of Object.entries(t.props??{}))s==="children"||n&&typeof n=="object"&&n.$$slot?i[s==="children"?"default":s]=()=>Jn(e,n):r[s]=n;return _t(await uce(e,t.type,r,i))}case(!t.type&&t.type!==0):return"";case(typeof t.type=="string"&&t.type!==FF):return _t(await tce(e,t.type,t.props??{}))}if(t.type){let r=function(c){if(Array.isArray(c))return c.map(h=>r(h));if(!jd(c)){n.default.push(c);return}if("slot"in c.props){n[c.props.slot]=[...n[c.props.slot]??[],c],delete c.props.slot;return}n.default.push(c)};if(typeof t.type=="function"&&t.type["astro:renderer"]&&Wb.add(t.type),typeof t.type=="function"&&t.props["server:root"]){let c=await t.type(t.props??{});return await Jn(e,c)}if(typeof t.type=="function"&&!Wb.has(t.type)){rce();try{let c=await t.type(t.props??{});if(c&&c[Om])return await Jn(e,c);if(!c)return await Jn(e,c)}catch{Wb.add(t.type)}finally{ice()}}let{children:i=null,...s}=t.props??{},n={default:[]};r(i);for(let[c,h]of Object.entries(s))h.$$slot&&(n[c]=h,delete s[c]);let a=[],o={};for(let[c,h]of Object.entries(n))a.push(Jn(e,h).then(u=>{u.toString().trim().length!==0&&(o[c]=()=>u)}));await Promise.all(a);let l;if(t.type===FF&&t.props["client:only"]?l=await O(e,t.props["client:display-name"]??"",null,s,o):l=await O(e,typeof t.type=="function"?t.type.name:t.type,t.type,s,o),typeof l!="string"&&Symbol.asyncIterator in l){let c=new Sm;for await(let h of l)c.append(h,e);return _t(c.toString())}else return _t(l)}}return _t(`${t}`)}async function tce(e,t,{children:r,...i}){return _t(`<${t}${Ece(i)}${_t((r==null||r=="")&&gw.test(t)?"/>":`>${r==null?"":await Jn(e,r)}</${t}>`)}`)}function rce(){if(mw++,!nw){nw=console.error;try{console.error=sce}catch{}}}function ice(){mw--}function sce(e,...t){mw>0&&typeof e=="string"&&e.includes("Warning: Invalid hook call.")&&e.includes("https://reactjs.org/link/invalid-hook-call")||nw(e,...t)}function qb(e,t={},r=new WeakSet){if(r.has(e))throw new Error(`Cyclic reference detected while serializing props for <${t.displayName} client:${t.hydrate}>!

Cyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);r.add(e);let i=e.map(s=>xO(s,t,r));return r.delete(e),i}function yO(e,t={},r=new WeakSet){if(r.has(e))throw new Error(`Cyclic reference detected while serializing props for <${t.displayName} client:${t.hydrate}>!

Cyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);r.add(e);let i=Object.fromEntries(Object.entries(e).map(([s,n])=>[s,xO(n,t,r)]));return r.delete(e),i}function xO(e,t={},r=new WeakSet){switch(Object.prototype.toString.call(e)){case"[object Date]":return[ls.Date,e.toISOString()];case"[object RegExp]":return[ls.RegExp,e.source];case"[object Map]":return[ls.Map,JSON.stringify(qb(Array.from(e),t,r))];case"[object Set]":return[ls.Set,JSON.stringify(qb(Array.from(e),t,r))];case"[object BigInt]":return[ls.BigInt,e.toString()];case"[object URL]":return[ls.URL,e.toString()];case"[object Array]":return[ls.JSON,JSON.stringify(qb(e,t,r))];case"[object Uint8Array]":return[ls.Uint8Array,JSON.stringify(Array.from(e))];case"[object Uint16Array]":return[ls.Uint16Array,JSON.stringify(Array.from(e))];case"[object Uint32Array]":return[ls.Uint32Array,JSON.stringify(Array.from(e))];default:return e!==null&&typeof e=="object"?[ls.Value,yO(e,t,r)]:[ls.Value,e]}}function bO(e,t){return JSON.stringify(yO(e,t))}function wO(e){let t={};return r(e),Object.keys(t).join(" ");function r(i){i&&typeof i.forEach=="function"?i.forEach(r):i===Object(i)?Object.keys(i).forEach(s=>{i[s]&&r(s)}):(i=i===!1||i==null?"":String(i).trim(),i&&i.split(/\s+/).forEach(s=>{t[s]=!0}))}}function ace(e){let t={isPage:!1,hydration:null,props:{}};for(let[r,i]of Object.entries(e))if(r.startsWith("server:")&&r==="server:root"&&(t.isPage=!0),r.startsWith("client:"))switch(t.hydration||(t.hydration={directive:"",value:"",componentUrl:"",componentExport:{value:""}}),r){case"client:component-path":{t.hydration.componentUrl=i;break}case"client:component-export":{t.hydration.componentExport.value=i;break}case"client:component-hydration":break;case"client:display-name":break;default:{if(t.hydration.directive=r.split(":")[1],t.hydration.value=i,!nce.has(t.hydration.directive))throw new Error(`Error: invalid hydration directive "${r}". Supported hydration methods: ${Array.from(DO).join(", ")}`);if(t.hydration.directive==="media"&&typeof t.hydration.value!="string")throw new Error('Error: Media query must be provided for "client:media", similar to client:media="(max-width: 600px)"');break}}else r==="class:list"?i&&(t.props[r.slice(0,-5)]=wO(i)):t.props[r]=i;return t}async function oce(e,t){let{renderer:r,result:i,astroId:s,props:n,attrs:a}=e,{hydrate:o,componentUrl:l,componentExport:c}=t;if(!c.value)throw new Error(`Unable to resolve a valid export for "${t.displayName}"! Please open an issue at https://astro.build/issues!`);let h={children:"",props:{uid:s}};if(a)for(let[d,p]of Object.entries(a))h.props[d]=zd(p);h.props["component-url"]=await i.resolve(decodeURI(l)),r.clientEntrypoint&&(h.props["component-export"]=c.value,h.props["renderer-url"]=await i.resolve(decodeURI(r.clientEntrypoint)),h.props.props=zd(bO(n,t))),h.props.ssr="",h.props.client=o;let u=await i.resolve("astro:scripts/before-hydration.js");return u.length&&(h.props["before-hydration-url"]=u),h.props.opts=zd(JSON.stringify({name:t.displayName,value:t.hydrateArgs||""})),h}async function zt(e,t,r){if(t){let i=Gd(t),s="",n=null;for await(let a of i)a.type==="directive"?(n===null&&(n=[]),n.push(a)):s+=a;return _t(new Am(s,n))}return r}async function OF(e,t={}){let r=null,i={};return t&&await Promise.all(Object.entries(t).map(([s,n])=>zt(e,n).then(a=>{a.instructions&&(r===null&&(r=[]),r.push(...a.instructions)),i[s]=a}))),{slotInstructions:r,children:i}}async function*Gd(e){if(e=await e,e instanceof Am)e.instructions&&(yield*e.instructions),yield e;else if(jle(e))yield e;else if(Array.isArray(e))for(let t of e)yield _t(await Gd(t));else typeof e=="function"?yield*Gd(e()):typeof e=="string"?yield _t(zd(e)):!e&&e!==0||(e instanceof Em||Object.prototype.toString.call(e)==="[object AstroComponent]"?yield*Fm(e):ArrayBuffer.isView(e)?yield e:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e)?yield*e:yield e)}function lce(e,t){var r;if(((r=Object.assign({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},{_:process.env._}))==null?void 0:r.DEV)&&e!=null)for(let i of Object.keys(e))DO.has(i)&&console.warn(`You are attempting to render <${t} ${i} />, but ${t} is an Astro component. Astro components do not render in the client and should not have a hydration directive. Please use a framework component for client rendering.`)}function SO(e){return typeof e=="object"&&Object.prototype.toString.call(e)==="[object AstroComponent]"}function cce(e){return e==null?!1:!!e.isAstroComponentFactory}async function*Fm(e){for await(let t of e)if(t||t===0)for await(let r of Gd(t))switch(r.type){case"directive":{yield r;break}default:{yield _t(r);break}}}async function uce(e,t,r,i){let s=await t(e,r,i);if(!SO(s))throw s;let n=new Sm;for await(let a of Fm(s))n.append(a,e);return n.toString()}async function dce(e,t,r,i,s){lce(i,r);let n=await t(e,i,s);if(!SO(n))throw console.warn("Returning a Response is only supported inside of page components. Consider refactoring this logic into something like a function that can be used in the page."),n;return Fm(n)}async function N(e,...t){return new Em(e,t)}function hce(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);t=(t<<5)-t+i,t=t&t}return t}function pce(e){let t,r="",i=hce(e),s=i<0?"Z":"";for(i=Math.abs(i);i>=Yb;)t=i%Yb,i=Math.floor(i/Yb),r=aw[t]+r;return i>0&&(r=aw[i]+r),s+r}function wce(e){let t="";for(let[r,i]of Object.entries(e))t+=`const ${yce(r)} = ${JSON.stringify(i)};
`;return _t(t)}function Xb(e){return e.length===1?e[0]:`${e.slice(0,-1).join(", ")} or ${e[e.length-1]}`}function Se(e,t,r=!0){if(e==null)return"";if(e===!1)return mce.test(t)||gce.test(t)?_t(` ${t}="false"`):"";if(vce.has(t))return console.warn(`[astro] The "${t}" directive cannot be applied dynamically at runtime. It will not be rendered as an attribute.

Make sure to use the static attribute syntax (\`${t}={value}\`) instead of the dynamic spread syntax (\`{...{ "${t}": value }}\`).`),"";if(t==="class:list"){let i=Nd(wO(e),r);return i===""?"":_t(` ${t.slice(0,-5)}="${i}"`)}return t==="style"&&!(e instanceof qo)&&typeof e=="object"?_t(` ${t}="${Nd(bce(e),r)}"`):t==="className"?_t(` class="${Nd(e,r)}"`):e===!0&&(t.startsWith("data-")||fce.test(t))?_t(` ${t}`):_t(` ${t}="${Nd(e,r)}"`)}function ow(e,t=!0){let r="";for(let[i,s]of Object.entries(e))r+=Se(s,i,t);return _t(r)}function ym(e,{props:t,children:r=""},i=!0){let{lang:s,"data-astro-id":n,"define:vars":a,...o}=t;return a&&(e==="style"&&(delete o["is:global"],delete o["is:scoped"]),e==="script"&&(delete o.hoist,r=wce(a)+`
`+r)),(r==null||r=="")&&gw.test(e)?`<${e}${ow(o,i)} />`:`<${e}${ow(o,i)}>${r}</${e}>`}function IF(e){return typeof HTMLElement<"u"&&HTMLElement.isPrototypeOf(e)}async function _ce(e,t,r,i){let s=Dce(t),n="";for(let a in r)n+=` ${a}="${Nd(await r[a])}"`;return _t(`<${s}${n}>${await zt(e,i?.default)}</${s}>`)}function Dce(e){let t=customElements.getName(e);return t||e.name.replace(/^HTML|Element$/g,"").replace(/[A-Z]/g,"-$&").toLowerCase().replace(/^-/,"html-")}function Sce(e){switch(e?.split(".").pop()){case"svelte":return["@astrojs/svelte"];case"vue":return["@astrojs/vue"];case"jsx":case"tsx":return["@astrojs/react","@astrojs/preact","@astrojs/vue (jsx)"];default:return["@astrojs/react","@astrojs/preact","@astrojs/vue","@astrojs/svelte"]}}function Ace(e){return e===Ot?"fragment":e&&typeof e=="object"&&e["astro:html"]?"html":cce(e)?"astro-factory":"unknown"}async function O(e,t,r,i,s={}){var n;switch(r=await r,Ace(r)){case"fragment":{let _=await zt(e,s?.default);return _==null?_:_t(_)}case"html":{let{slotInstructions:_,children:D}=await OF(e,s),S=r.render({slots:D}),A=_?_.map(E=>vO(e,E)).join(""):"";return _t(A+S)}case"astro-factory":{async function*_(){yield*await dce(e,r,t,i,s)}return _()}}if(!r&&!i["client:only"])throw new Error(`Unable to render ${t} because it is ${r}!
Did you forget to import the component or is it possible there is a typo?`);let{renderers:a}=e._metadata,o={displayName:t},{hydration:l,isPage:c,props:h}=ace(i),u="",d;l&&(o.hydrate=l.directive,o.hydrateArgs=l.value,o.componentExport=l.componentExport,o.componentUrl=l.componentUrl);let p=Sce(o.componentUrl);if(Array.isArray(a)&&a.length===0&&typeof r!="string"&&!IF(r)){let _=`Unable to render ${o.displayName}!

There are no \`integrations\` set in your \`astro.config.mjs\` file.
Did you mean to add ${Xb(p.map(D=>"`"+D+"`"))}?`;throw new Error(_)}let{children:g,slotInstructions:m}=await OF(e,s),f;if(o.hydrate!=="only"){if(r&&r[Dm]){let _=r[Dm];f=a.find(({name:D})=>D===_)}if(!f){let _;for(let D of a)try{if(await D.ssr.check.call({result:e},r,h,g)){f=D;break}}catch(S){_??(_=S)}if(!f&&_)throw _}if(!f&&typeof HTMLElement=="function"&&IF(r))return _ce(e,r,i,s)}else{if(o.hydrateArgs){let _=o.hydrateArgs,D=RF.has(_)?RF.get(_):_;f=a.find(({name:S})=>S===`@astrojs/${D}`||S===D)}if(!f&&a.length===1&&(f=a[0]),!f){let _=(n=o.componentUrl)==null?void 0:n.split(".").pop();f=a.filter(({name:D})=>D===`@astrojs/${_}`||D===_)[0]}}if(f)o.hydrate==="only"?u=await zt(e,s?.fallback):{html:u,attrs:d}=await f.ssr.renderToStaticMarkup.call({result:e},r,h,g,o);else{if(o.hydrate==="only")throw new Error(`Unable to render ${o.displayName}!

Using the \`client:only\` hydration strategy, Astro needs a hint to use the correct renderer.
Did you mean to pass <${o.displayName} client:only="${p.map(_=>_.replace("@astrojs/","")).join("|")}" />
`);if(typeof r!="string"){let _=a.filter(S=>p.includes(S.name)),D=a.length>1;if(_.length===0)throw new Error(`Unable to render ${o.displayName}!

There ${D?"are":"is"} ${a.length} renderer${D?"s":""} configured in your \`astro.config.mjs\` file,
but ${D?"none were":"it was not"} able to server-side render ${o.displayName}.

Did you mean to enable ${Xb(p.map(S=>"`"+S+"`"))}?`);if(_.length===1)f=_[0],{html:u,attrs:d}=await f.ssr.renderToStaticMarkup.call({result:e},r,h,g,o);else throw new Error(`Unable to render ${o.displayName}!

This component likely uses ${Xb(p)},
but Astro encountered an error during server-side rendering.

Please ensure that ${o.displayName}:
1. Does not unconditionally access browser-specific globals like \`window\` or \`document\`.
   If this is unavoidable, use the \`client:only\` hydration directive.
2. Does not conditionally return \`null\` or \`undefined\` when rendered on the server.

If you're still stuck, please open an issue on GitHub or join us at https://astro.build/chat.`)}}if(f&&!f.clientEntrypoint&&f.name!=="@astrojs/lit"&&o.hydrate)throw new Error(`${o.displayName} component has a \`client:${o.hydrate}\` directive, but no client entrypoint was provided by ${f.name}!`);if(!u&&typeof r=="string"){let _=Object.values(g).join(""),D=Fm(await N`<${r}${ow(h)}${_t(_===""&&gw.test(r)?"/>":`>${_}</${r}>`)}`);u="";for await(let S of D)u+=S}if(!l)return async function*(){m&&(yield*m),c||f?.name==="astro:jsx"?yield u:yield _t(u.replace(/\<\/?astro-slot\>/g,""))}();let v=pce(`<!--${o.componentExport.value}:${o.componentUrl}-->
${u}
${bO(h,o)}`),x=await oce({renderer:f,result:e,astroId:v,props:h,attrs:d},o),b=[];if(u){if(Object.keys(g).length>0)for(let _ of Object.keys(g))u.includes(_==="default"?"<astro-slot>":`<astro-slot name="${_}">`)||b.push(_)}else b=Object.keys(g);let y=b.length>0?b.map(_=>`<template data-astro-template${_!=="default"?`="${_}"`:""}>${g[_]}</template>`).join(""):"";x.children=`${u??""}${y}`,x.children&&(x.props["await-children"]="");async function*w(){m&&(yield*m),yield{type:"directive",hydration:l,result:e},yield _t(ym("astro-island",x,!1))}return w()}function AO(e){e._metadata.hasRenderedHead=!0;let t=Array.from(e.styles).filter(Qb).map(s=>ym("style",s));e.styles.clear();let r=Array.from(e.scripts).filter(Qb).map((s,n)=>ym("script",s,!1)),i=Array.from(e.links).filter(Qb).map(s=>ym("link",s,!1));return _t(i.join(`
`)+t.join(`
`)+r.join(`
`))}async function*pe(e){e._metadata.hasRenderedHead||(yield AO(e))}function ie(e){return e.isAstroComponentFactory=!0,e}function Me(e,t){!e||typeof e=="function"&&Object.defineProperty(e,Dm,{value:t,enumerable:!1,writable:!1})}function Ece(e,t,{class:r}={}){let i="";r&&(typeof e.class<"u"?e.class+=` ${r}`:typeof e["class:list"]<"u"?e["class:list"]=[e["class:list"],r]:e.class=r);for(let[s,n]of Object.entries(e))i+=Se(n,s,!0);return _t(i)}function ai(e){let t="",r=Array.isArray(e)?e:[e];for(let i of r)for(let[s,n]of Object.entries(i))(n||n===0)&&(t+=`--${s}: ${n};`);return _t(t)}function jd(e){return e&&typeof e=="object"&&e[Om]}function Cce(e){if(typeof e.type=="string")return e;let t={};if(jd(e.props.children)){let r=e.props.children;if(!jd(r)||!("slot"in r.props))return;let i=UF(r.props.slot);t[i]=[r],t[i].$$slot=!0,delete r.props.slot,delete e.props.children}Array.isArray(e.props.children)&&(e.props.children=e.props.children.map(r=>{if(!jd(r)||!("slot"in r.props))return r;let i=UF(r.props.slot);return Array.isArray(t[i])?t[i].push(r):(t[i]=[r],t[i].$$slot=!0),delete r.props.slot,NF}).filter(r=>r!==NF)),Object.assign(e.props,t)}function EO(e){return typeof e=="string"?_t(e):Array.isArray(e)?e.map(t=>EO(t)):e}function Tce(e){if("set:html"in e.props||"set:text"in e.props){if("set:html"in e.props){let t=EO(e.props["set:html"]);delete e.props["set:html"],Object.assign(e.props,{children:t});return}if("set:text"in e.props){let t=e.props["set:text"];delete e.props["set:text"],Object.assign(e.props,{children:t});return}}}function T(e,t){let r={[Dm]:"astro:jsx",[Om]:!0,type:e,props:t??{}};return Tce(r),Cce(r),r}async function Mce(e,t,{default:r=null,...i}={}){if(typeof e!="function")return!1;let s={};for(let[n,a]of Object.entries(i)){let o=CO(n);s[o]=a}try{return(await e({...t,...s,children:r}))[Om]}catch{}return!1}async function Lce(e,t={},{default:r=null,...i}={}){let s={};for(let[o,l]of Object.entries(i)){let c=CO(o);s[c]=l}let{result:n}=this;return{html:await Jn(n,T(e,{...t,...s,children:r}))}}function Ope(e,t,r){let i=new IntersectionObserver(t,r),s=c=>i.observe(c),n=c=>i.unobserve(c),a=()=>e.forEach(s),o=()=>i.disconnect(),l=()=>i.takeRecords().forEach(c=>n(c.target));return a(),uw(o),{add:s,remove:n,start:a,stop:o,reset:l,observer:i}}function Ipe(e,t){let r=new WeakMap,{add:i,remove:s,stop:n}=Ope([],(l,c)=>{l.forEach(h=>r.get(h.target)?.(h,c))},e);function a(l,c){i(l),r.set(l,c)}let o=t?(l,c)=>{let h=Fpe(t);return u=>c(h(u,{visible:yle(l)}))}:(l,c)=>h=>{if(!e?.shouldUnobserve){c(h.isIntersecting);return}if(h&&h.isIntersecting&&e?.shouldUnobserve){c(h.isIntersecting),s(h.target);return}};return l=>{let[c,h]=We(e?.initialValue??!1),u=o(c,h);return typeof l=="function"||l&&a(l,u),uw(()=>{}),c}}async function Jfe(){return(await $fe.glob(Object.assign({"../../../data/copy-services/blog-posts-copy.mdx":()=>Promise.resolve().then(()=>(Ab(),Sb)),"../../../data/copy-services/digital-ad-writing-copy.mdx":()=>Promise.resolve().then(()=>(Cb(),Eb)),"../../../data/copy-services/ecom-product-copy.mdx":()=>Promise.resolve().then(()=>(Mb(),Tb)),"../../../data/copy-services/email-marketing-copy.mdx":()=>Promise.resolve().then(()=>(kb(),Lb)),"../../../data/copy-services/nerd-copy-chat.mdx":()=>Promise.resolve().then(()=>(Bb(),Pb)),"../../../data/copy-services/web-page-sales-copy.mdx":()=>Promise.resolve().then(()=>(Ob(),Fb))}),()=>"../../../data/copy-services/*.mdx")).map(r=>{let i=r.frontmatter;return{params:{copy:i.slug},props:{data:i,service:r}}})}function cme(){return[]}function nO(e){let t=Object.assign({p:"p",strong:"strong"},e.components);return T(Ot,{children:[T(t.p,{children:"Welcome to Nerds Who Sell."}),`
`,T(t.p,{children:[T(t.strong,{children:"We\u2019re Nerds who love to code"}),":"]}),`
`,T(Br,{showTwoCols:!0,children:[T(Et,{small:!0,children:"Frontend technologies"}),`
`,T(Et,{small:!0,children:"iOS development"}),`
`,T(Et,{small:!0,children:"Backend technologies"}),`
`,T(Et,{small:!0,children:"Database technologies"}),`
`,T(Et,{small:!0,children:"Machine learning and big data"})]})]})}function Ew(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(nO,{...e})}):nO(e)}function fme(){return[]}function aO(e){let t=Object.assign({p:"p",strong:"strong"},e.components);return T(Ot,{children:[T(t.p,{children:["We\u2019re also Nerds with a deep background in ",T(t.strong,{children:"sales and digital marketing"}),"."]}),`
`,T(Br,{showTwoCols:!0,children:[T(Et,{small:!0,children:"Telephone sales"}),`
`,T(Et,{small:!0,children:"Google Ads"}),`
`,T(Et,{small:!0,children:"Facebook Ads"}),`
`,T(Et,{small:!0,children:"Copywriting"}),`
`,T(Et,{small:!0,children:"Email marketing"}),`
`,T(Et,{small:!0,children:"And more!"})]})]})}function Cw(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(aO,{...e})}):aO(e)}function xme(){return[]}function oO(e){let t=Object.assign({p:"p",strong:"strong"},e.components);return T(Ot,{children:[T(rr,{children:"What is this site about?"}),`
`,T(t.p,{children:"We\u2019re building this site to share our journey and try to help you as much as possible."}),`
`,T(t.p,{children:[T(t.strong,{children:"You\u2019ll discover topics like"}),":"]}),`
`,T(Br,{children:[T(Et,{small:!0,children:"What we\u2019re learning as we build real products and apps."}),`
`,T(Et,{small:!0,children:"What coding technologies we\u2019re using."}),`
`,T(Et,{small:!0,children:"How to use the coding technologies we\u2019re using."}),`
`,T(Et,{small:!0,children:"How we plan digital marketing campaigns."}),`
`,T(Et,{small:!0,children:"The results when we run digital marketing campaigns."}),`
`,T(Et,{small:!0,children:"Even the tech we use and in-depth reviews."})]}),`
`,T(t.p,{children:["If you love to learn from ",T(t.strong,{children:"real Nerds building real products"})," and apps\u2026"]}),`
`,T(t.p,{children:"Make sure you checkout the current projects page to see what we are working on now\u2026 plus projects upcoming."})]})}function Tw(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(oO,{...e})}):oO(e)}function Dme(){return[]}function lO(e){let t=Object.assign({p:"p",strong:"strong"},e.components);return T(Ot,{children:[T(rr,{children:"What are the services we offer and to who?"}),`
`,T(t.p,{children:"In our past we\u2019ve owned a pair or small fitness studios, ecommerce sites, and more."}),`
`,T(t.p,{children:"We know how tough it can be for a non-technical business owner to optimize the online part of their business."}),`
`,T(t.p,{children:[T(t.strong,{children:"So e offer to the right businesses"}),":"]}),`
`,T(Br,{children:[T(Et,{small:!0,children:"Premium web design and develop services"}),`
`,T(Et,{small:!0,children:"Web design consulting and expertise"}),`
`,T(Et,{small:!0,children:"Copywriting services"}),`
`,T(Et,{small:!0,children:"Digital marketing services"})]}),`
`,T(t.p,{children:["We do not do this full time. Which is why ",T(t.strong,{children:"we\u2019re very picky"})," about the businesses we want to work with."]}),`
`,T(t.p,{children:["If you\u2019re a business ",T(t.strong,{children:"committed to separating yourself"})," from the competition all around you\u2026"]}),`
`,T(t.p,{children:["Go ",T(t.strong,{children:"checkout our services"})," and contact us today."]})]})}function Mw(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(lO,{...e})}):lO(e)}function Cme(){return[]}function cO(e){let t=Object.assign({p:"p",strong:"strong"},e.components);return T(Ot,{children:[T(rr,{children:"Learn More By Reading Our Blog"}),`
`,T(t.p,{children:"Life is busy."}),`
`,T(t.p,{children:"But we\u2019re committed to blogging and sharing on a regular basis. The goal is at least one blog post per week."}),`
`,T(t.p,{children:[T(t.strong,{children:"Our blog is separated into"}),":"]}),`
`,T(Br,{children:[T(Et,{small:!0,children:"Design related posts"}),`
`,T(Et,{small:!0,children:"Coding case studies and tutorials"}),`
`,T(Et,{small:!0,children:"Marketing case studies and tutorials"}),`
`,T(Et,{small:!0,children:"Tech and software reviews"})]}),`
`,T(t.p,{children:"Thanks for visiting Nerds Who Sell."})]})}function Lw(e={}){let{wrapper:t}=e.components||{};return t?T(t,{...e,children:T(cO,{...e})}):cO(e)}async function lge(){let e=(0,Yo.default)({projectId:"05wlmifi",dataset:"production",apiVersion:"2021-03-25",token:"skwcW9VMyicBhpo9fBaPr6c4wQA34W5pCyrwDXiQ3nYlRcxxtlaNa9JnAeItCz8Bl6fi9KdfLFQiKMuNbptgkJUUis5iX7PFjB0oabd4gVFhM4OJOJQA70UEmbUkcX8coKTEOBSw00mgWidSf7oEveCc9d3EpQwMbs2yo0ePOjapBpk3lhUb",useCdn:!0}),t=`
    {
      "blogPostData": *[_type == 'blogPost' && "marketing" in category.category] {
        "seoTitle": seoMeta.title,
        "seoDescription": seoMeta.description,
        "socialHeadline": socialMeta.headline,
        "socialDescription": socialMeta.description,
        "socialSlug":  socialMeta.slug.current,
        "socialHeadline": socialMeta.headline,
        "socialDescription": socialMeta.description,
        "socialImage": socialMeta.image.asset->url,
        "slug": slug.current,
        "headerImage": postHeaderImage.image.asset,
        "altTag": postHeaderImage.altTag,
        "titleTag": postHeaderImage.titleTag,
        "headline": headline,
        "category": category.category[0],
        "tags": tags[]->{ tag },
        "author": author->{
          name, 
          "image": image.asset->url,
          description,
          github,
          twitter,
          instagram,
          tiktok,
        },
        "postBody": blogContent[] {
            ...,   
            "imageUrl": image.asset->url,
            markDefs[] {
              ...,
              "blogLocation": blogLocation[0],
              "slug": linkReference->slug.current,
          }
        }
      }
    }
  `,r=await e.fetch(t),{blogPostData:i}=r;return i.map(n=>({params:{marketing:n.slug},props:{headMeta:{seoTitle:n.seoTitle,seoDescription:n.seoDescription,socialHeadline:n.socialHeadline,socialDescription:n.socialDescription,socialSlug:n.socialSlug,socialImage:n.socialImage},postPage:{headerImage:n.headerImage,altTag:n.altTag,titleTag:n.titleTag,headline:n.headline,category:n.category,tags:n.tags,author:n.author},blockContent:n.postBody}}))}function vge(){}async function Ege(){let e=(0,Yo.default)({projectId:"05wlmifi",dataset:"production",apiVersion:"2021-03-25",token:"skwcW9VMyicBhpo9fBaPr6c4wQA34W5pCyrwDXiQ3nYlRcxxtlaNa9JnAeItCz8Bl6fi9KdfLFQiKMuNbptgkJUUis5iX7PFjB0oabd4gVFhM4OJOJQA70UEmbUkcX8coKTEOBSw00mgWidSf7oEveCc9d3EpQwMbs2yo0ePOjapBpk3lhUb",useCdn:!0}),t=`
      {
        "blogPostData": *[_type == 'blogPost' && "design" in category.category] {
          "seoTitle": seoMeta.title,
          "seoDescription": seoMeta.description,
          "socialHeadline": socialMeta.headline,
          "socialDescription": socialMeta.description,
          "socialSlug":  socialMeta.slug.current,
          "socialHeadline": socialMeta.headline,
          "socialDescription": socialMeta.description,
          "socialImage": socialMeta.image.asset->url,
          "slug": slug.current,
          "headerImage": postHeaderImage.image.asset,
          "altTag": postHeaderImage.altTag,
          "titleTag": postHeaderImage.titleTag,
          "headline": headline,
          "category": category.category[0],
          "tags": tags[]->{ tag },
          "author": author->{
            name, 
            "image": image.asset->url,
            description,
            github,
            twitter,
            instagram,
            tiktok,
          },
          "postBody": blogContent[] {
              ...,   
              "imageUrl": image.asset->url,
              markDefs[] {
                ...,
                "blogLocation": blogLocation[0],
                "slug": linkReference->slug.current,
            }
          }
        }
      }
    `,r=await e.fetch(t),{blogPostData:i}=r;return i.map(n=>({params:{design:n.slug},props:{headMeta:{seoTitle:n.seoTitle,seoDescription:n.seoDescription,socialHeadline:n.socialHeadline,socialDescription:n.socialDescription,socialSlug:n.socialSlug,socialImage:n.socialImage},postPage:{headerImage:n.headerImage,altTag:n.altTag,titleTag:n.titleTag,headline:n.headline,category:n.category,tags:n.tags,author:n.author},blockContent:n.postBody}}))}function Oge(){}async function Kge(){return(await Jge.glob(Object.assign({"../../data/now/fww-live-app.mdx":()=>Promise.resolve().then(()=>(Nb(),Rb)),"../../data/now/fww-marketing-site.mdx":()=>Promise.resolve().then(()=>(zb(),Ub)),"../../data/now/wordpress-recipe-theme.mdx":()=>Promise.resolve().then(()=>(Hb(),jb))}),()=>"../../data/now/*.mdx")).map(r=>{let i=r.frontmatter;return{params:{now:i.slug},props:{data:i,now:r}}})}function ove(e,t){let r=e.map(n=>"/"+n.map(a=>a.spread?`:${a.content.slice(3)}(.*)?`:a.dynamic?`:${a.content}`:a.content.normalize().replace(/\?/g,"%3F").replace(/#/g,"%23").replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("")).join(""),i="";return t==="always"&&e.length&&(i="/"),OD(r+i)}function dO(e){return{route:e.route,type:e.type,pattern:new RegExp(e.pattern),params:e.params,component:e.component,generate:ove(e.segments,e._meta.trailingSlash),pathname:e.pathname||void 0,segments:e.segments}}function lve(e){let t=[];for(let i of e.routes){t.push({...i,routeData:dO(i.routeData)});let s=i;s.routeData=dO(i.routeData)}let r=new Set(e.assets);return{...e,assets:r,routes:t}}var Yo,Rc,eBe,tBe,sBe,ple,fle,Go,yle,Di,wle,_le,hw,CF,fO,TF,Wo,Bt,Ud,Bc,Hd,fw,Gb,Ole,Rle,Nle,zd,_m,qo,_t,Gle,Wle,qle,Yle,Xle,Qle,PF,Ot,Dm,Kle,ece,Sm,FF,Wb,nw,mw,ls,_O,nce,DO,Am,Em,aw,Yb,gw,fce,mce,gce,vce,yce,Nd,xce,bce,RF,Qb,Om,NF,UF,CO,kce,Pce,vw,Bce,TO,Fce,MO,LO,Oce,Ice,Rce,Nce,Uce,zce,kO,jce,PO,Hce,BO,Vce,FO,Gce,OO,Wce,IO,qce,RO,Yce,Zt,Xce,Cn,Qce,NO,Zce,_r,$ce,UO,Jce,zO,Kce,jO,eue,HO,tue,oi,rue,VO,iue,yw,sue,nue,GO,aue,WO,oue,qO,lue,YO,cue,XO,uue,xw,due,QO,hue,ZO,pue,fue,mue,$O,gue,JO,vue,Wd,Im,Ya,yue,xue,bue,wue,zF,_ue,Due,Sue,Aue,Eue,Cue,Tue,Mue,Lue,kue,Pue,Bue,Fue,Oue,Kn,Iue,Fc,Rue,Si,Nue,ea,Uue,Zb,zue,jF,jue,$b,Hue,HF,Vue,Jb,Gue,VF,Wue,Cm,que,Tm,Yue,Mm,Xue,Lm,Que,Kb,Zue,ew,$ue,bw,Oc,Rm,qa,Jue,GF,Kue,WF,ede,qF,KO,km,e4,Pm,tde,rde,ide,t4,sde,Uc,nde,ww,ade,r4,ode,xm,lde,Xo,cde,zc,ude,Nm,dde,ir,hde,i4,pde,fde,mde,gde,ia,vde,_w,yde,s4,An,xde,bde,wr,wde,_de,gm,Dde,Sde,Vo,Ade,Ede,Id,Cde,Tde,Rd,Mde,Lde,$n,kde,Pde,tw,Bde,Fde,rw,Ode,YF,Ide,Rde,XF,Nde,n4,Ude,zde,jde,a4,Hde,Vde,Gde,o4,Wde,qde,Yde,l4,Xde,Qde,Zde,c4,$de,Jde,QF,Kde,ZF,ehe,the,$F,JF,rhe,ihe,KF,she,nhe,eO,ahe,tO,ohe,lhe,rO,che,u4,uhe,ra,dhe,Um,hhe,zm,phe,jm,fhe,Ic,mhe,d4,ghe,Pc,vhe,h4,yhe,qd,xhe,p4,bhe,Yd,whe,f4,_he,m4,Dhe,She,Ahe,Ehe,g4,iO,Che,The,sO,Mhe,v4,Lhe,khe,Phe,Bhe,y4,Fhe,x4,Ohe,Ihe,Rhe,Nhe,b4,Uhe,w4,zhe,_4,jhe,Hhe,Vhe,Ghe,D4,Whe,S4,qhe,A4,Yhe,Xhe,Qhe,Zhe,E4,$he,C4,Jhe,T4,Khe,jc,epe,M4,tpe,L4,rpe,k4,ipe,P4,spe,B4,npe,F4,ape,O4,ope,lpe,cpe,upe,I4,aBe,oBe,cs,lBe,dpe,hpe,ppe,R4,fpe,N4,mpe,St,gpe,U4,vpe,z4,ype,j4,xpe,H4,bpe,V4,wpe,G4,_pe,W4,Dpe,q4,Spe,Y4,Ape,X4,Epe,Q4,Cpe,Z4,Tpe,$4,Mpe,J4,Lpe,K4,kpe,eI,Ppe,tI,Bpe,rI,Fpe,Rpe,iI,Npe,sI,Upe,Dw,zpe,Et,jpe,nI,Hpe,ta,Vpe,bm,Gpe,Sw,Wpe,aI,qpe,oI,Ype,lI,Xpe,Qpe,Zpe,$pe,cI,Jpe,uI,Kpe,dI,hI,efe,tfe,pI,rfe,fI,ife,mI,sfe,gI,nfe,vI,afe,yI,ofe,xI,lfe,bI,cfe,wI,ufe,dfe,_I,hfe,DI,pfe,SI,ffe,AI,mfe,EI,gfe,CI,vfe,TI,yfe,MI,xfe,LI,bfe,kI,wfe,_fe,Dfe,Sfe,PI,Afe,BI,Efe,FI,Cfe,OI,Tfe,II,Mfe,RI,Lfe,NI,kfe,UI,Pfe,Bfe,Ffe,Ofe,zI,Ife,Qo,Rfe,jI,Nfe,HI,Ufe,VI,zfe,GI,jfe,WI,Hfe,qI,Vfe,YI,Gfe,Aw,Wfe,XI,qfe,QI,Yfe,ZI,Xfe,$I,Qfe,JI,Zfe,Hc,KI,$fe,eR,Kfe,eme,tme,rme,tR,ime,rR,sme,nme,ame,ome,Br,lme,ume,dme,iR,hme,sR,pme,mme,gme,nR,vme,rr,yme,bme,wme,aR,_me,Sme,Ame,oR,Eme,Tme,Mme,lR,Lme,cR,kme,Pme,Bme,Fme,uR,Ome,Ime,Rme,Nme,Xd,Ume,dR,zme,hR,jme,Qd,Hme,Bm,pR,Vme,Gme,Wme,qme,kw,Yme,Xme,Pw,Qme,Zme,$me,Jme,Kme,uO,ege,tge,rge,iw,ige,sge,nge,fR,age,Bw,oge,mR,cge,uge,dge,hge,gR,pge,fge,mge,gge,vR,yge,xge,bge,wge,lw,yR,_ge,Dge,Sge,Age,xR,Cge,Tge,Mge,Lge,cw,bR,kge,Pge,Bge,Fge,wR,Ige,Rge,Nge,Uge,_R,zge,DR,jge,SR,Hge,Vge,Gge,Wge,AR,qge,ER,Yge,CR,Xge,TR,Qge,MR,Zge,LR,$ge,kR,PR,Jge,BR,eve,tve,rve,ive,sve,nve,ave,FR,OR,cve,cBe,hO,os=ce(()=>{Ti();ci();Mi();Li();ki();Pi();Q2();Fi();Oi();Ii();Ki();es();ts();rs();is();ss();Yo=st(ns()),Rc=st(LB());WB();eBe=st(li()),tBe=st(as());Vr();di();sBe=st(hi());ID();ple=Symbol("error"),fle=Symbol("branch");Go=null;yle=vle;Di={};wle=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"];[...wle];({hasOwnProperty:_le}=Object.prototype),hw="hjkmoquxzABCDEFGHIJKLNPQRTUVWXYZ$_",CF=hw.length,fO="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$_",TF=fO.length,Wo=[],Bt=[""],Ud=new Map,Bc=new WeakMap,Hd=0;Bt.pop();fw=!0,Gb=new WeakMap;Ole=e=>e.trim().replace(/[-_]([a-z])/g,(t,r)=>r.toUpperCase());Rle={check:Ile,renderToStaticMarkup:gO},Nle="1.5.3";zd=th,_m=class extends Uint8Array{};Object.defineProperty(_m.prototype,Symbol.toStringTag,{get(){return"HTMLBytes"}});qo=class extends String{get[Symbol.toStringTag](){return"HTMLString"}},_t=e=>e instanceof qo?e:typeof e=="string"?new qo(e):e;Gle='(self.Astro=self.Astro||{}).idle=t=>{const e=async()=>{await(await t())()};"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,200)},window.dispatchEvent(new Event("astro:idle"));',Wle='(self.Astro=self.Astro||{}).load=a=>{(async()=>await(await a())())()},window.dispatchEvent(new Event("astro:load"));',qle='(self.Astro=self.Astro||{}).media=(s,a)=>{const t=async()=>{await(await s())()};if(a.value){const e=matchMedia(a.value);e.matches?t():e.addEventListener("change",t,{once:!0})}},window.dispatchEvent(new Event("astro:media"));',Yle='(self.Astro=self.Astro||{}).only=t=>{(async()=>await(await t())())()},window.dispatchEvent(new Event("astro:only"));',Xle='(self.Astro=self.Astro||{}).visible=(s,c,n)=>{const r=async()=>{await(await s())()};let i=new IntersectionObserver(e=>{for(const t of e)if(!!t.isIntersecting){i.disconnect(),r();break}});for(let e=0;e<n.children.length;e++){const t=n.children[e];i.observe(t)}},window.dispatchEvent(new Event("astro:visible"));',Qle='var l;{const c={0:t=>t,1:t=>JSON.parse(t,o),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(JSON.parse(t,o)),5:t=>new Set(JSON.parse(t,o)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(JSON.parse(t)),9:t=>new Uint16Array(JSON.parse(t)),10:t=>new Uint32Array(JSON.parse(t))},o=(t,s)=>{if(t===""||!Array.isArray(s))return s;const[e,n]=s;return e in c?c[e](n):void 0};customElements.get("astro-island")||customElements.define("astro-island",(l=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=()=>{if(!this.hydrator||this.parentElement&&this.parentElement.closest("astro-island[ssr]"))return;const s=this.querySelectorAll("astro-slot"),e={},n=this.querySelectorAll("template[data-astro-template]");for(const r of n){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(const r of s){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("name")||"default"]=r.innerHTML)}const a=this.hasAttribute("props")?JSON.parse(this.getAttribute("props"),o):{};this.hydrator(this)(this.Component,a,e,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),window.removeEventListener("astro:hydrate",this.hydrate),window.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((s,e)=>{e.disconnect(),this.childrenConnectedCallback()}).observe(this,{childList:!0})}async childrenConnectedCallback(){window.addEventListener("astro:hydrate",this.hydrate);let s=this.getAttribute("before-hydration-url");s&&await import(s),this.start()}start(){const s=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(Astro[e]===void 0){window.addEventListener(`astro:${e}`,()=>this.start(),{once:!0});return}Astro[e](async()=>{const n=this.getAttribute("renderer-url"),[a,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),i=this.getAttribute("component-export")||"default";if(!i.includes("."))this.Component=a[i];else{this.Component=a;for(const d of i.split("."))this.Component=this.Component[d]}return this.hydrator=r,this.hydrate},s,this)}attributeChangedCallback(){this.hydrator&&this.hydrate()}},l.observedAttributes=["props"],l))}';PF={idle:Gle,load:Wle,only:Yle,media:qle,visible:Xle};Ot=Symbol.for("astro:fragment"),Dm=Symbol.for("astro:renderer"),Kle=new TextEncoder,ece=new TextDecoder;Sm=class{constructor(){this.parts=""}append(t,r){ArrayBuffer.isView(t)?this.parts+=ece.decode(t):this.parts+=vO(r,t)}toString(){return this.parts}toArrayBuffer(){return Kle.encode(this.parts)}},FF="astro-client-only",Wb=new WeakSet,mw=0;ls={Value:0,JSON:1,RegExp:2,Date:3,Map:4,Set:5,BigInt:6,URL:7,Uint8Array:8,Uint16Array:9,Uint32Array:10};_O=["load","idle","media","visible","only"],nce=new Set(_O),DO=new Set(_O.map(e=>`client:${e}`));Am=class extends qo{constructor(t,r){super(t),this.instructions=r}};Em=class{constructor(t,r){this.htmlParts=t,this.expressions=r}get[Symbol.toStringTag](){return"AstroComponent"}async*[Symbol.asyncIterator](){let{htmlParts:t,expressions:r}=this;for(let i=0;i<t.length;i++){let s=t[i],n=r[i];yield _t(s),yield*Gd(n)}}};aw="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXY",Yb=aw.length;gw=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,fce=/^(allowfullscreen|async|autofocus|autoplay|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|itemscope)$/i,mce=/^(contenteditable|draggable|spellcheck|value)$/i,gce=/^(autoReverse|externalResourcesRequired|focusable|preserveAlpha)$/i,vce=new Set(["set:html","set:text"]),yce=e=>e.trim().replace(/(?:(?!^)\b\w|\s+|[^\w]+)/g,(t,r)=>/[^\w]|\s/.test(t)?"":r===0?t:t.toUpperCase()),Nd=(e,t=!0)=>t?String(e).replace(/&/g,"&#38;").replace(/"/g,"&#34;"):e,xce=e=>e.toLowerCase()===e?e:e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),bce=e=>Object.entries(e).map(([t,r])=>`${xce(t)}:${r}`).join(";");RF=new Map([["solid","solid-js"]]);Qb=(e,t,r)=>{let i=JSON.stringify(e.props),s=e.children;return t===r.findIndex(n=>JSON.stringify(n.props)===i&&n.children==s)};typeof process=="object"&&Object.prototype.toString.call(process);Om="astro:jsx",NF=Symbol("empty"),UF=e=>e;CO=e=>e.trim().replace(/[-_]([a-z])/g,(t,r)=>r.toUpperCase());kce={check:Mce,renderToStaticMarkup:Lce},Pce=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/navigation/Logo.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),vw=ie(async(e,t,r)=>{let i=e.createAstro(Pce,t,r);i.self=vw;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/nerds-logo_88Uda-NMY.png?ik-sdk-version=javascript-1.4.3",n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<img${Se(s,"src")} alt="Nerds Who Sell Logo" title="Nerds Who Sell" class="astro-JNEMENES">`}),Bce=["<img",' style="','"',">"],TO=e=>{let t={"--icon-width":`${e.iconWidth}px`};return nt(Bce,at(),En(t),H("class",L(VD.icon_container,!0),!1)+H("src",L(e.imageUrl,!0),!1)+H("alt",L(e.altTag,!0),!1)+H("title",L(e.titleTag,!0),!1))};Me(TO,"@astrojs/solid-js");Fce=["<li","><!--#-->","<!--/--><a",">","</a></li>"],MO=e=>{let[t,r]=We(!1);return nt(Fce,at()+H("class",L(Vg.item_container,!0),!1),L(Ne(TO,{get navType(){return e.navType},get imageUrl(){return e.imageUrl},get altTag(){return e.altTag},get titleTag(){return e.titleTag},get iconWidth(){return e.iconWidth},get isHovering(){return t()}})),H("class",L(Vg.item_link,!0),!1)+H("href",L(e.slug,!0),!1),L(e.navLabel))};Me(MO,"@astrojs/solid-js");LO=[{id:0,navType:"about",imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/tr:w-100/home-icon_4oHN5S2B8.png?ik-sdk-version=javascript-1.4.3",altTag:"Code brackets",titleTag:"About Nerds",iconWidth:50,navLabel:"About",slug:"/about"},{id:1,navType:"now",imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/tr:w-80/now-icon_u0oJBs1lm.png?ik-sdk-version=javascript-1.4.3",altTag:"Exclaimation mark",titleTag:"Working On Now",iconWidth:20,navLabel:"Now",slug:"/now"},{id:2,navType:"services",imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/tr:w-100/services-icon_v5x0YFZoAF.png?ik-sdk-version=javascript-1.4.3",altTag:"Computer with code",titleTag:"Nerd Services",iconWidth:40,navLabel:"Services",slug:"/services"},{id:3,navType:"blog",imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/tr:w-100/blog-icon_bcg8Wyw9v.png?ik-sdk-version=javascript-1.4.3",altTag:"Server icon",titleTag:"Blogs",iconWidth:40,navLabel:"Blogs",slug:"/blog"},{id:4,navType:"contact",imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/tr:w-100/contact-icon_xvwhxHZZY.png?ik-sdk-version=javascript-1.4.3",altTag:"Contact envelop",titleTag:"Contact Nerds",iconWidth:30,navLabel:"Contact",slug:"/contact"}],Oce=[{id:0,type:"admin",label:"Home",slug:"/"},{id:1,type:"admin",label:"About",slug:"/about"},{id:2,type:"admin",label:"Services",slug:"/services"},{id:3,type:"admin",label:"Blog",slug:"/blog"},{id:4,type:"admin",label:"Contact",slug:"/contact"},{id:5,type:"admin",label:"Privacy",slug:"/legal/privacy"}],Ice=[{id:0,type:"service",label:"Web Design & Dev",slug:"/services/web-design-and-development"},{id:1,type:"service",label:"7 Day Site",slug:"/services/seven-day-site"},{id:2,type:"service",label:"Web Strategy Chat",slug:"/services/web-strategy-chat"}],Rce=[{id:0,type:"service",label:"Web Sales Copy",slug:"/services/web-page-sales-copy"},{id:1,type:"service",label:"Email Copy",slug:"/services/email-marketing-copoy"},{id:2,type:"service",label:"Digital Ad Copy",slug:"/services/digital-ad-copy"},{id:3,type:"service",label:"Product Copy",slug:"/services/product-sales-copy"},{id:4,type:"service",label:"Blog Posts",slug:"/services/blog-post-writing"},{id:5,type:"service",label:"Copy Chat",slug:"/services/nerd-copy-chat"}],Nce=[{id:0,type:"service",label:"Coding Blog",slug:"/blog/coding"},{id:1,type:"service",label:"Marketing Blog",slug:"/services/marketing"},{id:2,type:"service",label:"Tech Blog",slug:"/services/tech"}],Uce=[{id:0,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/tr:w-600/nerds-who-sell/blog/marketing-cover-1200x680_zVkusqHke.jpg?ik-sdk-version=javascript-1.4.3",altTag:"Google Analytics graph.",titleTag:"Marketing Blog",category:"marketing",slug:"/blog/marketing"},{id:1,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/tr:w-600/nerds-who-sell/blog/code-cover-1200x680_6svvGtpow.jpg?ik-sdk-version=javascript-1.4.3",altTag:"The code of the Nerds Who Sell site.",titleTag:"Coding Blog",category:"coding",slug:"/blog/coding"},{id:2,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/tr:w-600/nerds-who-sell/blog/design-cover-1200x680_vWoJxEab9.jpg?ik-sdk-version=javascript-1.4.3",altTag:"Figma design of a fitness app.",titleTag:"Design Blog",category:"design",slug:"/blog/design"},{id:3,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/tr:w-600/nerds-who-sell/blog/tech-cover-1200x680_oGaql4TAq.jpg?ik-sdk-version=javascript-1.4.3",altTag:"Dygma Raise keyboard",titleTag:"Tech Blog",category:"tech",slug:"/blog/tech"}],zce=["<ul",">","</ul>"],kO=()=>{let e=LO.map(t=>{let{navType:r,imageUrl:i,altTag:s,titleTag:n,iconWidth:a,navLabel:o,slug:l}=t;return Ne(MO,{navType:r,imageUrl:i,altTag:s,titleTag:n,iconWidth:a,navLabel:o,slug:l})});return nt(zce,at()+H("class",L(GD.link_container,!0),!1),L(e))};Me(kO,"@astrojs/solid-js");jce=["<button",' type="button" aria-label="Main Menu Icon"',' title="Main Menu"><img',' alt="Top menu bar"><img',' alt="Middle menu bar"><img',' alt="Bottom menu bar"></button>'],PO=()=>{let e="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/top-nav-bar_A2qvqjAJg.png?ik-sdk-version=javascript-1.4.3",t="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/middle-nav-bar_B9ahbRYGw.png?ik-sdk-version=javascript-1.4.3",r="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/bottom-nav-bar_Uw8KdS3YK.png?ik-sdk-version=javascript-1.4.3";return nt(jce,at(),H("class",L(uu.burger_container,!0),!1),H("class",L(uu.nav_bar,!0),!1)+H("src",L(e,!0),!1),H("class",L(uu.nav_bar,!0),!1)+H("src",L(t,!0),!1),H("class",L(uu.nav_bar,!0),!1)+H("src",L(r,!0),!1))};Me(PO,"@astrojs/solid-js");Hce=["<li","><button","><img",' style="','"',"><p",">","</p></button></li>"],BO=e=>{let t={"--icon-width":`${e.iconWidth}px`};return nt(Hce,at(),H("class",L(Mh.item_container,!0),!1)+H("title",L(e.navLabel,!0),!1),H("class",L(Mh.item_icon,!0),!1),En(t),H("src",L(e.imageUrl,!0),!1)+H("alt",L(e.altTag,!0),!1)+H("title",L(e.titleTag,!0),!1),H("class",L(Mh.item_label,!0),!1),L(e.navLabel))};Me(BO,"@astrojs/solid-js");Vce=["<div",">","</div>"],FO=()=>{let e=LO.map(t=>{let{id:r,navType:i,imageUrl:s,altTag:n,titleTag:a,iconWidth:o,navLabel:l,slug:c}=t;return Ne(BO,{id:r,navType:i,imageUrl:s,altTag:n,titleTag:a,iconWidth:o,navLabel:l,slug:c})});return nt(Vce,at()+H("class",L(WD.mobile_nav_container,!0),!1),L(e))};Me(FO,"@astrojs/solid-js");Gce=["<div","><div",">","</div></div>"],OO=()=>nt(Gce,at()+H("class",L(Gg.drawer_click_layer,!0),!1),H("class",L(Gg.drawer_container,!0),!1),L(Ne(FO,{})));Me(OO,"@astrojs/solid-js");Wce=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/navigation/HeaderNav.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),IO=ie(async(e,t,r)=>{let i=e.createAstro(Wce,t,r);return i.self=IO,N`${O(e,"HeaderNavLinks",kO,{"client:load":!0,"client:component-hydration":"load","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/navigation/HeaderNavLinks","client:component-export":"HeaderNavLinks"})}
${O(e,"HamburgerIcon",PO,{"client:load":!0,"client:component-hydration":"load","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/navigation/MainMobileNav/HamburgerIcon","client:component-export":"HamburgerIcon"})}
${O(e,"MobileNavDrawer",OO,{"client:media":"(max-width: 600px)","client:component-hydration":"media","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/navigation/MobileNavDrawer","client:component-export":"MobileNavDrawer"})}`}),qce=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/navigation/NavBar.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),RO=ie(async(e,t,r)=>{let i=e.createAstro(qce,t,r);i.self=RO;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-Z6X76CGK">
  <div class="nav-container astro-Z6X76CGK">
    <a class="logo-container astro-Z6X76CGK" href="/" title="Nerds Who Sell">
      ${O(e,"Logo",vw,{class:"astro-Z6X76CGK"})}
    </a>
    ${O(e,"HeaderNav",IO,{class:"astro-Z6X76CGK"})}
  </div>
</div>`}),Yce=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/layouts/Layout.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Zt=ie(async(e,t,r)=>{let i=e.createAstro(Yce,t,r);i.self=Zt;let{title:s}=i.props;return N`<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<link rel="icon" type="image/x-icon" href="/favicon.ico">
		<meta name="generator"${Se(i.generator,"content")}>
		<title>${s}</title>
	${AO(e)}</head>
	<body>
		${O(e,"NavBar",RO,{})}
		${zt(e,r.default)}
	</body></html>`}),Xce=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/typography/PerspectiveGradient.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Cn=ie(async(e,t,r)=>{let i=e.createAstro(Xce,t,r);i.self=Cn;let{isSmall:s}=i.props,n=s?"5.8rem":"6.8rem",a=ai([{fontSize:n}]),o=[{props:{lang:"scss","define:vars":{fontSize:n},"data-astro-id":"GC4ZDMU2"},children:".container:where(.astro-GC4ZDMU2){display:grid;grid-template-columns:1fr;grid-template-rows:1fr;line-height:1;width:max-content;transform:skew(-8deg) rotate(-6deg)}.perspective-gradient:where(.astro-GC4ZDMU2){grid-column:1/-1;grid-row:1/-1;font-size:var(--fontSize);font-weight:800;letter-spacing:0.4rem;background-image:linear-gradient(110deg,var(--accent-teal),#138ecb,var(--accent-purple) 80%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;z-index:1}@media (min-width: 600px){.perspective-gradient:where(.astro-GC4ZDMU2){font-size:9rem}}.shadow:where(.astro-GC4ZDMU2){grid-column:1/-1;grid-row:1/-1;font-size:var(--fontSize);font-weight:800;color:#000;letter-spacing:0.4rem;transform:translate(-6px,4px)}@media (min-width: 600px){.shadow:where(.astro-GC4ZDMU2){font-size:9rem}}"}];for(let l of o)e.styles.add(l);return N`${pe(e)}<span class="container astro-GC4ZDMU2"${Se(a,"style")}>
  <span class="perspective-gradient astro-GC4ZDMU2">
    ${zt(e,r.default)}
  </span>
  <span class="shadow astro-GC4ZDMU2">
    ${zt(e,r.default)}
  </span>
</span>`}),Qce=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/home/Header/Content.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),NO=ie(async(e,t,r)=>{let i=e.createAstro(Qce,t,r);i.self=NO;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<h1 class="astro-TAUZ3JKQ">
  <span class="normal pull-left astro-TAUZ3JKQ">We Are</span>
    ${O(e,"PerspectiveGradient",Cn,{class:"astro-TAUZ3JKQ"},{default:()=>N`Nerds`})}
    ${O(e,"PerspectiveGradient",Cn,{class:"astro-TAUZ3JKQ"},{default:()=>N`Who`})}
  ${O(e,"PerspectiveGradient",Cn,{class:"astro-TAUZ3JKQ"},{default:()=>N`SELL`})}
</h1>`}),Zce=["<canvas","></canvas>"],_r=e=>nt(Zce,at()+H("width",L(e.width,!0),!1)+H("height",L(e.height,!0),!1));Me(_r,"@astrojs/solid-js");$ce=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/home/Header/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),UO=ie(async(e,t,r)=>{let i=e.createAstro($ce,t,r);i.self=UO;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/mobile-header-background-600x1300_rnK6VWPmd.png?ik-sdk-version=javascript-1.4.3",n="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/above-mobile-header-background-1200x600_D6CYD4YKt.png?ik-sdk-version=javascript-1.4.3",a=[];for(let o of a)e.styles.add(o);return N`${pe(e)}<div class="container astro-4WXTL6LT">
  ${O(e,"Content",NO,{class:"astro-4WXTL6LT"})}
  <picture class="astro-4WXTL6LT">
    <source${Se(n,"srcset")} media="(min-width: 600px)" class="astro-4WXTL6LT">
    <img${Se(s,"src")} alt="A picture of Dan and Kindal" title="Nerds Who Sell" class="astro-4WXTL6LT">
  </picture>
  <div class="galaxy-teal astro-4WXTL6LT">
    ${O(e,"Galaxy",_r,{"client:visible":!0,color:"teal",width:200,height:200,blur:200,"client:component-hydration":"visible","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-4WXTL6LT"})}
  </div>
  <div class="galaxy-dark-purple astro-4WXTL6LT">
    ${O(e,"Galaxy",_r,{"client:visible":!0,color:"dark-purple",width:200,height:200,blur:200,"client:component-hydration":"visible","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-4WXTL6LT"})}
  </div>
</div>

`}),Jce=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/home/ServiceCards/ContentSection.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),zO=ie(async(e,t,r)=>{let i=e.createAstro(Jce,t,r);i.self=zO;let s=["If you <strong>need a website</strong> or you need your current website to <strong>convert and grow your business</strong>...","<strong>Click below on the service</strong> that will help you the most and let's set up a Nerd Chat."],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-RYV7COPO">
  <h2 class="headline astro-RYV7COPO">Need a Nerds Help?</h2>
  <div class="paragraph-container astro-RYV7COPO">
    ${s.map(a=>N`<p class="astro-RYV7COPO">${Mr(a)}</p>`)}
  </div>
</div>

`}),Kce=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/cards/CopywritingCard/Headline.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),jO=ie(async(e,t,r)=>{let i=e.createAstro(Kce,t,r);i.self=jO;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-2P3XXZMS">
  <h3 class="headline astro-2P3XXZMS">
    ~ ${zt(e,r.default)}
  </h3>
</div>

`}),eue=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/svgs/NerdChatIcon.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),HO=ie(async(e,t,r)=>{let i=e.createAstro(eue,t,r);i.self=HO;let{width:s,height:n}=i.props;return N`${pe(e)}<svg viewBox="0 0 339 251" xmlns="http://www.w3.org/2000/svg"${Se(s,"width")}${Se(n,"height")} style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2">
  <path style="fill:none" d="M0 0h338.726v250.17H0z"></path>
  <circle cx="153.957" cy="91.939" r="13.073" fill-opacity="0.4" style="fill:var(--buttonLabelColor, #f8f8f8)"></circle>
  <circle cx="216.755" cy="92.109" r="8.027" style="fill:var(--buttonLabelColor, #f8f8f8);fill-opacity:.4"></circle>
  <path d="M118.383 139.839c-12.216-13.867-19.327-30.464-19.327-48.293 0-48.554 52.739-87.974 117.699-87.974 64.96 0 117.699 39.42 117.699 87.974s-52.739 87.974-117.699 87.974c-23.633 0-45.648-5.217-64.092-14.193l-37.33 14.558a6.15 6.15 0 0 1-8.05-7.726l11.1-32.32Zm35.988-71.113c12.811 0 23.213 10.401 23.213 23.213 0 12.811-10.402 23.212-23.213 23.212-12.811 0-23.212-10.401-23.212-23.212 0-12.812 10.401-23.213 23.212-23.213Zm62.384 0c12.811 0 23.212 10.401 23.212 23.213 0 12.811-10.401 23.212-23.212 23.212-12.812 0-23.213-10.401-23.213-23.212 0-12.812 10.401-23.213 23.213-23.213Zm62.383 0c12.812 0 23.213 10.401 23.213 23.213 0 12.811-10.401 23.212-23.213 23.212-12.811 0-23.212-10.401-23.212-23.212 0-12.812 10.401-23.213 23.212-23.213Z" style="fill:var(--buttonLabelColor, #f8f8f8)"></path>
  <path d="M84.893 100.136c-45.941 6.067-80.882 36.083-80.882 72.15 0 40.439 43.924 73.27 98.027 73.27 19.682 0 38.017-4.345 53.379-11.82l31.656 12.345a4.84 4.84 0 0 0 6.336-6.082l-9.442-27.491c5.239-5.947 9.351-12.496 12.107-19.479-17.605-1.668-34.074-6.084-48.624-12.631l-33.589 13.1a15.526 15.526 0 0 1-20.323-19.506l9.389-27.335c-10.788-13.732-17.212-29.603-18.034-46.521Z" style="fill:var(--buttonLabelColor, #f8f8f8);fill-opacity:.5"></path>
</svg>`}),tue=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/buttons/InternalNavButton.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),oi=ie(async(e,t,r)=>{let i=e.createAstro(tue,t,r);i.self=oi;let{slug:s,title:n,type:a,width:o,cta:l=!0}=i.props,c=l?"min-content 1fr":"1fr",h=a==="teal"?"var(--accent-teal-dark)":"var(--font-color-light)",u=a==="teal"?"var(--accent-teal)":a==="pink"?"var(--accent-pink)":"var(--accent-purple)",d=a==="teal"?"var(--accent-purple-dark)":a==="pink"?"var(--accent-pink-dark)":"var(--accent-purple-dark)",p=o?`${o}px`:"100%",g=a==="teal"?"var(--accent-purple)":"var(--accent-teal)",m=ai([{buttonLayout:c,buttonLabelColor:h,backgroundColor:u,shadowColor:d,buttonWidth:p,focusOutline:g}]),f=[{props:{lang:"scss","define:vars":{buttonLayout:c,buttonLabelColor:h,backgroundColor:u,shadowColor:d,buttonWidth:p,focusOutline:g},"data-astro-id":"SVGXXBP4"},children:".container:where(.astro-SVGXXBP4){display:grid;grid-template-columns:1fr;grid-template-rows:1fr;justify-items:center;align-items:center;width:var(--buttonWidth)}a:where(.astro-SVGXXBP4){grid-column:1/-1;grid-row:1/-1;padding:12px 14px;display:grid;grid-template-columns:var(--buttonLayout);gap:8px;justify-items:center;align-items:center;font-size:2rem;font-weight:700;color:var(--buttonLabelColor);text-decoration:none;line-height:1;background-color:var(--backgroundColor);border:none;border-radius:12px;width:var(--buttonWidth);height:60px;z-index:1;transition:box-shadow,transform,300ms ease-in-out}a:where(.astro-SVGXXBP4):focus{color:var(--buttonLabelColor);outline-offset:6px;outline:4px solid var(--focusOutline)}a:where(.astro-SVGXXBP4):hover{color:var(--buttonLabelColor);box-shadow:1px 2px 4px 1px hsla(0deg,0%,0%,0.4);transform:translate(-8px,-8px)}a:where(.astro-SVGXXBP4):visited{color:var(--buttonLabelColor)}a:where(.astro-SVGXXBP4):visited:hover{color:var(--buttonLabelColor)}.chat-icon:where(.astro-SVGXXBP4){width:46px}.shadow:where(.astro-SVGXXBP4){grid-column:1/-1;grid-row:1/-1;background-color:var(--shadowColor);border-radius:12px 8px 16px 8px;width:98%;height:90%}"}];for(let v of f)e.styles.add(v);return N`${pe(e)}<div class="container astro-SVGXXBP4"${Se(m,"style")}>
  <a${Se(s,"href")}${Se(n,"title")} class="astro-SVGXXBP4">
    ${l?N`<div class="chat-icon astro-SVGXXBP4">
          ${O(e,"NerdChatIcon",HO,{class:"astro-SVGXXBP4"})}
        </div>`:null}
    ${zt(e,r.default,N`Learn More`)}
  </a>
  <div class="shadow astro-SVGXXBP4"></div>
</div>

`}),rue=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/cards/CopywritingCard/CardContent.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),VO=ie(async(e,t,r)=>{let i=e.createAstro(rue,t,r);i.self=VO;let{headline:s,description:n,buttonLabel:a,buttonTitle:o,slug:l}=i.props,c=[];for(let h of c)e.styles.add(h);return N`${pe(e)}<div class="container astro-6SB26QFV">
  <div class="spacer astro-6SB26QFV"></div>
  <div class="content-container astro-6SB26QFV">
    ${O(e,"Headline",jO,{class:"astro-6SB26QFV"},{default:()=>N`${s}`})}
    <p class="astro-6SB26QFV">${Mr(n)}</p>
  </div>
  ${O(e,"InternalNavButton",oi,{cta:!1,type:"teal",title:o,slug:l,class:"astro-6SB26QFV"},{default:()=>N`${a}`})}
</div>

`}),iue=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/cards/CopywritingCard/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),yw=ie(async(e,t,r)=>{let i=e.createAstro(iue,t,r);i.self=yw;let{imageUrl:s,altTag:n,titleTag:a,headline:o,description:l,buttonLabel:c,buttonTitle:h,slug:u}=i.props,d=[];for(let p of d)e.styles.add(p);return N`${pe(e)}<div class="base-container astro-KPVRQJVL">
  <div class="card-container astro-KPVRQJVL">
    <img class="copy-image astro-KPVRQJVL"${Se(s,"src")}${Se(n,"alt")}${Se(a,"title")}>
    ${O(e,"CardContent",VO,{headline:o,description:l,buttonLabel:c,buttonTitle:h,slug:u,class:"astro-KPVRQJVL"})}
  </div>
</div>

`}),sue=[{id:0,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/web-design-dev-card-icon_9si6hjKZ5.png?ik-sdk-version=javascript-1.4.3",altTag:"Website design and development.",titleTag:"Website Design and Development",headline:"Web Design & Dev",description:"Get a custom website designed to convert, written to sell, and coded to be blazingly fast.",buttonLabel:"I Need a New Site",buttonTitle:"Get a New Site Today",slug:"/services/web-design-and-development"},{id:1,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/seven-day-site-card-icon_mL4jeBHqh.png?ik-sdk-version=javascript-1.4.3",altTag:"7 Day Site Design.",titleTag:"7 Day Site Design",headline:"7 Day Site",description:"Get a custom starter site designed and coded to sell and finally get your business online.",buttonLabel:"I Want a 7 Day Site",buttonTitle:"Get a 7 Day Site",slug:"/services/seven-day-site"},{id:2,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/copywriting-card-icon_ZI5CqWSll.png?ik-sdk-version=javascript-1.4.3",altTag:"Copywriting serives.",titleTag:"Copywriting Services To Sell",headline:"Words That Sell",description:"Get sales copy for the money pages on your website so they convert leads and make sales.",buttonLabel:"I Need Words That Sell",buttonTitle:"I Need Words That Sell",slug:"/services/copy"}],nue=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/home/ServiceCards/CardsContainer.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),GO=ie(async(e,t,r)=>{let i=e.createAstro(nue,t,r);i.self=GO;let s="var(--accent-purple)",n=ai([{cardContentBackgroundColor:s}]),a=[{props:{lang:"scss","define:vars":{cardContentBackgroundColor:s},"data-astro-id":"JUP2AHSJ"},children:".container:where(.astro-JUP2AHSJ){display:grid;grid-template-columns:1fr;grid-auto-rows:min-content;gap:200px;justify-items:center;width:100%}@media (min-width: 600px){.container:where(.astro-JUP2AHSJ){grid-template-columns:1fr 1fr;column-gap:20px;row-gap:200px}}@media (min-width: 960px){.container:where(.astro-JUP2AHSJ){grid-template-columns:repeat(3,1fr);gap:12px}}@media (min-width: 1100px){.container:where(.astro-JUP2AHSJ){width:1200px}}"}];for(let o of a)e.styles.add(o);return N`${pe(e)}<div class="container astro-JUP2AHSJ"${Se(n,"style")}>
  ${sue.map(o=>{let{id:l,imageUrl:c,altTag:h,titleTag:u,headline:d,description:p,buttonLabel:g,buttonTitle:m,slug:f}=o;return N`${O(e,"CopywritingCard",yw,{id:l,imageUrl:c,altTag:h,titleTag:u,headline:d,description:p,buttonLabel:g,buttonTitle:m,slug:f,class:"astro-JUP2AHSJ"})}`})}
</div>`}),aue=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/home/ServiceCards/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),WO=ie(async(e,t,r)=>{let i=e.createAstro(aue,t,r);i.self=WO;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-TMVGSN2E">
  <div class="galaxy astro-TMVGSN2E">
    ${O(e,"Galaxy",_r,{"client:idle":!0,color:"dark-purple",width:200,height:200,blur:160,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-TMVGSN2E"})}
  </div>
  ${O(e,"ContentSection",zO,{class:"astro-TMVGSN2E"})}
  ${O(e,"CardsContainer",GO,{class:"astro-TMVGSN2E"})}
</div>

`}),oue=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/home/BlogSection/ContentSection.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),qO=ie(async(e,t,r)=>{let i=e.createAstro(oue,t,r);i.self=qO;let s=["We blog about our experience marketing... designing... coding... and reviewing the cool tech and software we use on a daily basis.","<strong>Click on a blog card</strong> to read the posts from that category."],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-CHYNT2FW">
  <h2 class="headline astro-CHYNT2FW">Read The Nerd Blogs:</h2>
  <div class="paragraph-container astro-CHYNT2FW">
    ${s.map(a=>N`<p class="astro-CHYNT2FW">${Mr(a)}</p>`)}
  </div>
</div>

`}),lue=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/cards/BlogCategoryCard/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),YO=ie(async(e,t,r)=>{let i=e.createAstro(lue,t,r);i.self=YO;let{imageUrl:s,altTag:n,titleTag:a,category:o,slug:l}=i.props,c=o==="marketing"?"#171717":"var(--font-color-light)",h=ai([{buttonLabelColor:c}]),u=[{props:{lang:"scss","define:vars":{buttonLabelColor:c},"data-astro-id":"TC5XUC3T"},children:".container:where(.astro-TC5XUC3T){display:grid;grid-template-columns:1fr;grid-template-rows:1fr;width:100%}.card-link:where(.astro-TC5XUC3T){grid-column:1/-1;grid-row:1/-1;display:grid;grid-template-columns:1fr;grid-template-rows:1fr;justify-items:start;align-items:end;border-radius:20px;text-transform:uppercase;text-decoration:none;line-height:1;width:100%;outline:none;overflow:hidden;cursor:pointer;box-shadow:2px 2px 12px 1px hsla(0deg,0%,0%,0.5);transition:transform,box-shadow,300ms ease-in-out;aspect-ratio:30/17}.card-link:where(.astro-TC5XUC3T):hover{transform:translate(-8px,-8px);box-shadow:2px 2px 12px 1px hsla(0deg,0%,0%,0.5)}.card-link:where(.astro-TC5XUC3T):focus{transform:translate(-8px,-8px);outline-offset:8px;outline-style:solid;outline-width:3px;outline-color:var(--accent-pink)}.label:where(.astro-TC5XUC3T){grid-column:1/-1;grid-row:1/-1;padding:0 0 12px 12px;font-size:5rem;font-weight:700;color:var(--buttonLabelColor);z-index:2}@media (min-width: 960px){.label:where(.astro-TC5XUC3T){font-size:7rem}}@media (min-width: 1100px){.label:where(.astro-TC5XUC3T){font-size:8rem}}.category-image:where(.astro-TC5XUC3T){grid-column:1/-1;grid-row:1/-1;width:100%;z-index:1}.background:where(.astro-TC5XUC3T){grid-column:1/-1;grid-row:1/-1;background-color:var(--accent-purple);border-radius:20px 20px 26px 20px;width:100%;height:100%}"}];for(let d of u)e.styles.add(d);return N`${pe(e)}<div class="container astro-TC5XUC3T"${Se(h,"style")}>
  <a class="card-link astro-TC5XUC3T"${Se(l,"href")}>
    <img${Se(s,"src")}${Se(n,"alt")}${Se(a,"title")} class="category-image astro-TC5XUC3T">
    <span class="label astro-TC5XUC3T">${o}</span>
  </a>
  <div class="background astro-TC5XUC3T"></div>
</div>

`}),cue=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/home/BlogSection/CardsSection.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),XO=ie(async(e,t,r)=>{let i=e.createAstro(cue,t,r);i.self=XO;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-PMRM2YP2">
  ${Uce.map(n=>{let{imageUrl:a,altTag:o,titleTag:l,category:c,slug:h}=n;return N`${O(e,"BlogCategoryCard",YO,{imageUrl:a,altTag:o,titleTag:l,category:c,slug:h,class:"astro-PMRM2YP2"})}`})}
  <div class="galaxy astro-PMRM2YP2"></div>
</div>`}),uue=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/home/BlogSection/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),xw=ie(async(e,t,r)=>{let i=e.createAstro(uue,t,r);i.self=xw;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-T5PDU6B6">
  ${O(e,"ContentSection",qO,{class:"astro-T5PDU6B6"})}
  ${O(e,"CardsSection",XO,{class:"astro-T5PDU6B6"})}
</div>`}),due=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/callToActionSections/NewsletterSection/ContentContainer.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),QO=ie(async(e,t,r)=>{let i=e.createAstro(due,t,r);i.self=QO;let s=["Every week I choose the best marketing... design... coding... and tech link I found from the internet. I'll share the link and a short synopsis so you know if you want to check it out.","<strong>Enter your email address below</strong>. You can unsubscribe whenever you want."],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-X3AAPQGI">
  <h2 class="headline astro-X3AAPQGI">4 Links Letter:</h2>
  <div class="paragraph-container astro-X3AAPQGI">
    ${s.map(a=>N`<p class="astro-X3AAPQGI">${Mr(a)}</p>`)}
  </div>
</div>

`}),hue=["<input",">"],ZO=e=>nt(hue,at()+H("class",L(qD.the_input,!0),!1)+H("id",L(e.name,!0),!1)+H("type",L(e.inputType,!0),!1)+H("name",L(e.name,!0),!1)+H("data-name",L(e.dataName,!0),!1)+H("value",L(e.value,!0),!1)+H("placeholder",L(e.placeholder,!0),!1));Me(ZO,"@astrojs/solid-js");pue=(e,t,r)=>{pl(e,{transform:"scale(0.4)",opacity:.3},{duration:.5,easing:"ease-in-out",repeat:1/0,direction:"alternate-reverse",delay:.4}),pl(t,{transform:"scale(0.4)",opacity:.3},{duration:.5,easing:"ease-in-out",repeat:1/0,direction:"alternate-reverse",delay:.25}),pl(r,{transform:"scale(0.4)",opacity:.3},{duration:.5,easing:"ease-in-out",repeat:1/0,direction:"alternate-reverse",delay:0})},fue=(e,t)=>{pl(e,{x:`${t}px`},{duration:.25,easing:_v({velocity:1e3,stiffness:600,damping:30})})},mue=["<svg",' viewBox="0 0 1301 478"',' xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5"><path fill="none" d="M0 0h1300.54v477.043H0z"></path><path d="m16.191 251.301 1107.47-80.324 21.85 195.728-1115.51 97.088-13.809-212.492Z" fill-opacity="0.4"></path><path d="m100.063 170.977 52.271-67.268 14.382 213.676-49.184 53.153-17.469-199.561Z" stroke="#000" stroke-width="15.42px"></path><path d="m166.716 317.385 1114.94-96.627-55.973 57.979-1107.13 91.801 48.16-53.153Z" stroke="#000" stroke-width="15.42px"></path><path d="m152.334 104.893 1107.47-80.324 21.85 195.728-1115.51 97.088-13.808-212.492Z" fill="#0c0d1b" stroke="#000" stroke-width="16.67px"></path><path d="M291.996 183.196a7.117 7.117 0 0 0-7.65-6.539l-78.203 6.128a7.12 7.12 0 0 0-6.539 7.651l3.412 43.554a7.118 7.118 0 0 0 7.651 6.539l78.203-6.128a7.12 7.12 0 0 0 6.539-7.651l-3.413-43.554Z" fill="none" stroke="#f8f8f8" stroke-width="5.21px"></path><path d="m200.3 199.317 48.183 21.743 44.209-28.983M234.92 215.887l-27.818 19.943M260.259 213.901l31.251 15.315" fill="none" stroke="#f8f8f8" stroke-width="5.21px"></path></svg>'],$O=e=>nt(mue,at(),H("width",L(e.width,!0),!1)+H("height",L(e.height,!0),!1));Me($O,"@astrojs/solid-js");gue=["<svg",' viewBox="0 0 926 365"',` xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5"><path fill="none" d="M0 0h925.125v364.752H0z"></path><path d="m15.558 139.118 847.15-54.883 26.533 191.413L29.367 351.61 15.558 139.118Z" fill-opacity="0.4"></path><path d="m42.642 120.198 25.904-46.249 14.382 213.676L56.1 314.53 42.642 120.198Z" fill="#151F2D" stroke="#000" stroke-width="15.42px"></path><path d="m82.928 287.625 818.35-69.703-22.338 26.52L57.085 314.53l25.843-26.905Z" fill="#364A69" stroke="#000" stroke-width="15.42px"></path><path d="M68.546 75.133 878.05 23.162l23.228 194.76-818.924 69.703L68.546 75.133Z" fill="#364A69" stroke="#000" stroke-width="16.67px"></path><text x="115.971" y="219.647" style="font-family:'AvenirNext-Bold','Avenir Next',sans-serif;font-weight:700;font-size:71.128px" transform="rotate(-3.773 -261.33 -63.95)">`,"</text></svg>"],JO=e=>nt(gue,at(),H("width",L(e.width,!0),!1)+H("height",L(e.height,!0),!1),e.isValid?"SEND ME THE LINKS":"ENTER EMAIL...");Me(JO,"@astrojs/solid-js");vue=["<svg",' id="form-check" xmlns="http://www.w3.org/2000/svg"',' viewBox="0 0 164.85 127.53"><path style="','" id="check" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="34" stroke-dashoffset="1" stroke-dasharray="1" pathLength="1" d="M147.85 17l-93.52 93.53L17 73.2"></path></svg>'],Wd=e=>nt(vue,at(),H("width",L(e.width,!0),!1)+H("height",L(e.height,!0),!1),"stroke:"+L(e.isTextInput?"hsla(149, 83%, 48%, 1)":"hsla(237, 100%, 96%, 1)",!0)+";visibility:hidden");Me(Wd,"@astrojs/solid-js");Im=(e,t)=>e.map(r=>r.value===t?(r.isChecked=!r.isChecked,r):(r.isChecked&&(r.isChecked=!r.isChecked),r)),Ya=(e,t)=>e.map(r=>r.value===t&&!r.isSelected?(r.isSelected=!r.isSelected,r):(r.isSelected&&(r.isSelected=!r.isSelected),r)),yue=e=>{let t=e.split(""),r=t.shift()?.toUpperCase();return r?(t.unshift(r),t.join("")):""},xue=(e,t)=>{let r=a=>{let l=a.toString().trim();return Number(l)},i=!0,s=typeof e=="string"?e.trim():"",n=typeof e=="number"?r(e):0;for(let a in t)switch(a){case"maxLength":i=i&&bue(s,t[a]);break;case"minLength":i=i&&wue(s,t[a]);break;case"isRequired":{s&&(i=i&&zF(s)),n&&(i=i&&zF(n));break}case"isEmail":i=i&&_ue(s);break;default:i=!0;break}return i},bue=(e,t)=>t?e.length<=t:!0,wue=(e,t)=>e.length>=t,zF=e=>typeof e=="string"||typeof e=="number"?e!=="":!1,_ue=e=>{var t=/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())},Due={minLength:4,isEmail:!0,isRequired:!0},Sue=[{id:0,value:"website_design_and_dev",label:"Website Design & Developement",isChecked:!1},{id:1,value:"copywriting",label:"Copywriting Services",isChecked:!1},{id:2,value:"blog_posts",label:"Guest Blog Posts",isChecked:!1},{id:3,value:"tech_reviews",label:"Tech Review",isChecked:!1},{id:4,value:"other",label:"Something else",isChecked:!1}],Aue=[{id:0,value:"new_website",label:"New Website",isChecked:!1},{id:1,value:"update_website",label:"Update / Manage Current Website",isChecked:!1},{id:2,value:"need_blog_posts",label:"Need Blog Posts",isChecked:!1},{id:3,value:"need_sales_copy",label:"Need Sales Copy",isChecked:!1},{id:4,value:"need_emails",label:"Need Email Copy",isChecked:!1},{id:5,value:"need_tech_help",label:"Need Nerdy Tech Help",isChecked:!1}],Eue=[{id:0,value:"new_mini_website",label:"New Mini Website",isChecked:!1},{id:1,value:"promote_one_service",label:"Promote One Service / Product",isChecked:!1},{id:2,value:"collect_leads",label:"Collect Leads",isChecked:!1},{id:3,value:"other",label:"Something Else",isChecked:!1}],Cue=[{id:0,name:"blog_post",label:"1",value:1,isSelected:!1},{id:1,name:"blog_post",label:"2",value:2,isSelected:!0},{id:2,name:"blog_post",label:"3",value:3,isSelected:!1},{id:3,name:"blog_post",label:"4",value:4,isSelected:!1},{id:4,name:"blog_post",label:"5",value:5,isSelected:!1}],Tue=[{id:0,name:"productType",label:"Short",value:1,isSelected:!0},{id:1,name:"productType",label:"Long",value:2,isSelected:!1}],Mue=[{id:0,name:"ecom_product",label:"1",value:1,isSelected:!1},{id:1,name:"ecom_product",label:"2",value:2,isSelected:!1},{id:2,name:"ecom_product",label:"3",value:3,isSelected:!1},{id:3,name:"ecom_product",label:"4",value:4,isSelected:!1},{id:4,name:"ecom_product",label:"5",value:5,isSelected:!0},{id:5,name:"ecom_product",label:"6",value:6,isSelected:!1},{id:6,name:"ecom_product",label:"7",value:7,isSelected:!1},{id:7,name:"ecom_product",label:"8",value:8,isSelected:!1},{id:8,name:"ecom_product",label:"9",value:9,isSelected:!1},{id:9,name:"ecom_product",label:"10",value:10,isSelected:!1}],Lue=[{id:0,name:"emails",label:"1",value:1,isSelected:!1},{id:1,name:"emails",label:"2",value:2,isSelected:!1},{id:2,name:"emails",label:"3",value:3,isSelected:!1},{id:3,name:"emails",label:"4",value:4,isSelected:!1},{id:4,name:"emails",label:"5",value:5,isSelected:!0},{id:5,name:"emails",label:"6",value:6,isSelected:!1},{id:6,name:"emails",label:"7",value:7,isSelected:!1},{id:7,name:"emails",label:"8",value:8,isSelected:!1},{id:8,name:"emails",label:"9",value:9,isSelected:!1},{id:9,name:"emails",label:"10",value:10,isSelected:!1}],kue=[{id:0,name:"web_sales_copy",label:"1",value:1,isSelected:!1},{id:1,name:"web_sales_copy",label:"2",value:2,isSelected:!0},{id:2,name:"web_sales_copy",label:"3",value:3,isSelected:!1},{id:3,name:"web_sales_copy",label:"4",value:4,isSelected:!1}],Pue=[{id:0,name:"adCopy",label:"Google Ads",value:1,isSelected:!0},{id:1,name:"adCopy",label:"Facebook Ads",value:2,isSelected:!1}],Bue=[{id:0,name:"nerdCopyChat",label:"30 Minutes",value:1,isSelected:!0},{id:1,name:"nerdCopyChat",label:"60 Minutes",value:2,isSelected:!1}],Fue=[{id:0,name:"haveDesignOptions",label:"No I Don't",value:1,isSelected:!0},{id:1,name:"haveDesignOptions",label:"Yes I Do",value:2,isSelected:!1}],Oue=[{id:0,label:"Under 14 days",value:"under_14_days",isChecked:!0},{id:1,label:"One month or so",value:"one_month",isChecked:!1},{id:1,label:"Two months or so",value:"two_months",isChecked:!1},{id:1,label:"I want a site but I'm in no rush",value:"not_serious",isChecked:!1}],[Kn,Iue]=We({value:"",valid:!1}),[Fc,Rue]=We({initial:!0,touched:!1}),[Si,Nue]=We({value:"",valid:!1}),[ea,Uue]=We({initial:!0,touched:!1}),[Zb,zue]=We({value:"",valid:!1}),[jF,jue]=We({initial:!0,touched:!1}),[$b,Hue]=We({value:"",valid:!1}),[HF,Vue]=We({initial:!0,touched:!1}),[Jb,Gue]=We({value:"",valid:!1}),[VF,Wue]=We({initial:!0,touched:!1}),[Cm,que]=We({value:"",valid:!1}),[Tm,Yue]=We({initial:!0,touched:!1}),[Mm,Xue]=We({value:"",valid:!1}),[Lm,Que]=We({initial:!0,touched:!1}),[Kb,Zue]=We({value:"",options:Aue}),[ew,$ue]=We({value:"",options:Eue}),bw=e=>{let r=e.currentTarget.value;Iue(()=>{let i=r.length>1;return{value:yue(r),valid:i}})},Oc=e=>{Rue(t=>({initial:!1,touched:!t.touched}))},Rm=e=>{let r=e.currentTarget.value;Nue(()=>{let i=xue(r,Due);return{value:r.toLowerCase(),valid:i}})},qa=e=>{Uue(t=>({initial:!1,touched:!t.touched}))},Jue=e=>{let r=e.currentTarget.value.slice(0,3);zue(()=>({value:r,valid:r.length===3}))},GF=()=>{jue(e=>({initial:!1,touched:!e.touched}))},Kue=e=>{let r=e.currentTarget.value.slice(0,3);Hue(()=>({value:r,valid:r.length===3}))},WF=()=>{Vue(e=>({initial:!1,touched:!e.touched}))},ede=e=>{let r=e.currentTarget.value.slice(0,4);Gue(()=>({value:r,valid:r.length===4}))},qF=()=>{Wue(e=>({initial:!1,touched:!e.touched}))},KO=e=>{let r=e.currentTarget.value;que(()=>({value:r,valid:!0}))},km=e=>{Yue(t=>({initial:!1,touched:!t.touched}))},e4=e=>{let r=e.currentTarget.value,i=r.length>5;Xue(()=>({value:r,valid:i}))},Pm=e=>{Que(t=>({initial:!1,touched:!t.touched}))},tde=e=>{let r=e.currentTarget.value;Zue(i=>{let s=[...i.options],n=Im(s,r);return{value:r,options:n}})},rde=e=>{let r=e.currentTarget.value;$ue(i=>{let s=[...i.options],n=Im(s,r);return{value:r,options:n}})},ide=["<form","><div","><div",">","</div><div",">","</div><div",">",'</div></div><button type="submit" aria-label="Submit newsletter form"',">","</button></form>"],t4=()=>nt(ide,at()+H("class",L(io.form_container,!0),!1),H("class",L(io.input_container,!0),!1),H("class",L(io.fake_input,!0),!1),L(Ne($O,{get initial(){return ea().initial},get isTouched(){return ea().touched},get isValid(){return Si().valid}})),H("class",L(io.real_input,!0),!1),L(Ne(ZO,{name:"emailAddress",dataName:"lastFour",inputType:"email",placeholder:"Enter your email address...",get value(){return Si().value},onInput:Rm,onFocus:qa,onBlur:qa})),H("class",L(io.check_icon,!0),!1),L(Ne(Wd,{get isActive(){return Si().valid&&!ea().touched},isTextInput:!0,isTrackingCheck:!1})),H("class",L(io.button_container,!0),!1),L(Ne(JO,{get isValid(){return Si().valid}})));Me(t4,"@astrojs/solid-js");sde=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/callToActionSections/NewsletterSection/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Uc=ie(async(e,t,r)=>{let i=e.createAstro(sde,t,r);i.self=Uc;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-HJEL6PDU">
  <div class="content-container astro-HJEL6PDU">
    ${O(e,"ContentContainer",QO,{class:"astro-HJEL6PDU"})}
    ${O(e,"NewsletterForm",t4,{"client:visible":!0,"client:component-hydration":"visible","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/forms/NewsletterForm","client:component-export":"NewsletterForm",class:"astro-HJEL6PDU"})}
  </div>
</div>`}),nde=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/buttons/FooterLinkItem.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),ww=ie(async(e,t,r)=>{let i=e.createAstro(nde,t,r);i.self=ww;let{linkType:s,slug:n}=i.props,a="2.4rem",o=ai([{linkFontSize:a}]),l=[{props:{lang:"scss","define:vars":{linkFontSize:a},"data-astro-id":"2LKXSUPM"},children:'li:where(.astro-2LKXSUPM){overflow:hidden;width:100%}a:where(.astro-2LKXSUPM){position:relative;font-size:2.4rem;font-weight:700;text-decoration:none;color:var(--font-color-light);cursor:pointer;outline:none;transition:color 300ms ease-in-out;isolation:isolate}a:where(.astro-2LKXSUPM):hover{color:var(--accent-teal)}a:where(.astro-2LKXSUPM):active{color:var(--font-color-light)}a:where(.astro-2LKXSUPM):visited{color:var(--font-color-light)}a:where(.astro-2LKXSUPM):visited:hover{color:var(--accent-teal)}a:where(.astro-2LKXSUPM)::before{position:absolute;left:0;bottom:-4px;content:"";background-color:var(--accent-pink);width:100%;height:3px;transform:translateX(-102%);transition:transform 300ms ease-in-out}a:where(.astro-2LKXSUPM):hover::before{transform:translateX(0%)}a:where(.astro-2LKXSUPM):focus{color:var(--accent-teal)}a:where(.astro-2LKXSUPM):focus::before{transform:translateX(0%)}@media (min-width: 600px){a:where(.astro-2LKXSUPM){font-size:2.4rem}}'}];for(let c of l)e.styles.add(c);return N`${pe(e)}<li class="astro-2LKXSUPM"${Se(o,"style")}>
  <a${Se(n,"href")} class="astro-2LKXSUPM">
  ${zt(e,r.default)}
  </a>
</li>`}),ade=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/Footer/AdminLinkBlock.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),r4=ie(async(e,t,r)=>{let i=e.createAstro(ade,t,r);i.self=r4;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<nav class="astro-NR3HNUYH">
  <ul class="astro-NR3HNUYH">
    ${Oce.map(n=>{let{type:a,label:o,slug:l}=n;return N`${O(e,"FooterLinkItem",ww,{linkType:a,slug:l,class:"astro-NR3HNUYH"},{default:()=>N`${o}`})}`})}
  </ul>
</nav>`}),ode=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/Footer/ServiceLinkBlock.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),xm=ie(async(e,t,r)=>{let i=e.createAstro(ode,t,r);i.self=xm;let{links:s}=i.props,n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<nav class="astro-GA4WXZGV">
  <ul class="astro-GA4WXZGV">
    ${s.map(a=>{let{type:o,label:l,slug:c}=a;return N`${O(e,"FooterLinkItem",ww,{linkType:o,slug:c,class:"astro-GA4WXZGV"},{default:()=>N`${l}`})}`})}
  </ul>
</nav>`}),lde=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/accents/TopRightAccent.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Xo=ie(async(e,t,r)=>{let i=e.createAstro(lde,t,r);i.self=Xo;let{backgroundType:s}=i.props,n=s==="body"?"var(--background-color)":s==="footer"?"var(--footer-background)":"var(--background-color-dark)",a=ai([{gridBlockBackground:n}]),o=[{props:{lang:"scss","define:vars":{gridBlockBackground:n},"data-astro-id":"Q7C6R5B7"},children:".accent-container:where(.astro-Q7C6R5B7){position:absolute;top:0;right:0;display:grid;grid-template-columns:1fr;grid-template-rows:1fr;width:300px;z-index:-1;aspect-ratio:1/1;overflow:hidden}@media (min-width: 600px){.accent-container:where(.astro-Q7C6R5B7){width:400px}}.galaxy:where(.astro-Q7C6R5B7){grid-column:1/-1;grid-row:1/-1;background-image:linear-gradient(217deg,rgba(122,0,255,0.8),rgba(48,0,219,0.2) 70%),linear-gradient(20deg,rgba(255,49,253,0.8),rgba(0,255,184,0.2) 70%);border-radius:50%;filter:blur(70px);transform:translate(60%,-40%);animation:rotateTopRightGalaxy 4000ms linear infinite}.grid-container:where(.astro-Q7C6R5B7){grid-column:1/-1;grid-row:1/-1;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);gap:6px;width:100%;z-index:1}.grid-block:where(.astro-Q7C6R5B7){background-color:var(--gridBlockBackground);width:100%;height:100%}@keyframes rotateTopRightGalaxy{0%{transform:translate(60%,-40%) rotate(0deg)}100%{transform:translate(60%,-40%) rotate(360deg)}}"}];for(let l of o)e.styles.add(l);return N`${pe(e)}<div class="accent-container astro-Q7C6R5B7"${Se(a,"style")}>
  <div class="galaxy astro-Q7C6R5B7"></div>
  <div class="grid-container astro-Q7C6R5B7">
    <div class="grid-block astro-Q7C6R5B7"></div>
    <div class="grid-block astro-Q7C6R5B7"></div>
    <div class="grid-block astro-Q7C6R5B7"></div>
    <div class="astro-Q7C6R5B7"></div>
    <div class="grid-block astro-Q7C6R5B7"></div>
    <div class="grid-block astro-Q7C6R5B7"></div>
    <div class="astro-Q7C6R5B7"></div>
    <div class="astro-Q7C6R5B7"></div>
    <div class="grid-block astro-Q7C6R5B7"></div>
  </div>
</div>`}),cde=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/accents/BottomLeftAccent.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),zc=ie(async(e,t,r)=>{let i=e.createAstro(cde,t,r);i.self=zc;let{backgroundType:s}=i.props,n=s==="body"?"var(--background-color)":s==="footer"?"var(--footer-background)":"var(--background-color-dark)",a=ai([{gridBlockBackground:n}]),o=[{props:{lang:"scss","define:vars":{gridBlockBackground:n},"data-astro-id":"F7YJ32NJ"},children:".accent-container:where(.astro-F7YJ32NJ){position:absolute;bottom:0;left:0;display:grid;grid-template-columns:1fr;grid-template-rows:1fr;width:300px;z-index:-1;aspect-ratio:1/1}@media (min-width: 600px){.accent-container:where(.astro-F7YJ32NJ){width:400px}}@media (min-width: 960px){.accent-container:where(.astro-F7YJ32NJ){width:500px}}.galaxy:where(.astro-F7YJ32NJ){grid-column:1/-1;grid-row:1/-1;background-image:linear-gradient(217deg,rgba(122,0,255,0.8),rgba(48,0,219,0.2) 70%),linear-gradient(20deg,rgba(255,49,253,0.8),rgba(0,255,184,0.2) 70%);border-radius:50%;filter:blur(70px);transform:translate(-40%,40%);animation:rotateBottmLeftGalaxy 4000ms linear infinite}.grid-container:where(.astro-F7YJ32NJ){grid-column:1/-1;grid-row:1/-1;display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(5,1fr);gap:6px;width:100%;z-index:1}.grid-block:where(.astro-F7YJ32NJ){background-color:var(--gridBlockBackground);width:100%;height:100%}@keyframes rotateBottmLeftGalaxy{0%{transform:translate(-40%,40%) rotate(0deg)}100%{transform:translate(-40%,40%) rotate(360deg)}}"}];for(let l of o)e.styles.add(l);return N`${pe(e)}<div class="accent-container astro-F7YJ32NJ"${Se(a,"style")}>
  <div class="galaxy astro-F7YJ32NJ"></div>
  <div class="grid-container astro-F7YJ32NJ">
    <div class="grid-block astro-F7YJ32NJ"></div>
    <div class="astro-F7YJ32NJ"></div>
    <div class="astro-F7YJ32NJ"></div>
    <div class="astro-F7YJ32NJ"></div>
    <div class="astro-F7YJ32NJ"></div>
    <div class="grid-block astro-F7YJ32NJ"></div>
    <div class="grid-block astro-F7YJ32NJ"></div>
    <div class="astro-F7YJ32NJ"></div>
    <div class="astro-F7YJ32NJ"></div>
    <div class="astro-F7YJ32NJ"></div>
    <div class="grid-block astro-F7YJ32NJ"></div>
    <div class="grid-block astro-F7YJ32NJ"></div>
    <div class="grid-block astro-F7YJ32NJ"></div>
    <div class="astro-F7YJ32NJ"></div>
    <div class="astro-F7YJ32NJ"></div>
    <div class="grid-block astro-F7YJ32NJ"></div>
    <div class="grid-block astro-F7YJ32NJ"></div>
    <div class="grid-block astro-F7YJ32NJ"></div>
    <div class="grid-block astro-F7YJ32NJ"></div>
    <div class="astro-F7YJ32NJ"></div>
    <div class="grid-block astro-F7YJ32NJ"></div>
    <div class="grid-block astro-F7YJ32NJ"></div>
    <div class="grid-block astro-F7YJ32NJ"></div>
    <div class="grid-block astro-F7YJ32NJ"></div>
    <div class="grid-block astro-F7YJ32NJ"></div>
  </div>
</div>`}),ude=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/accents/MiddleRightAccent.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Nm=ie(async(e,t,r)=>{let i=e.createAstro(ude,t,r);i.self=Nm;let{backgroundType:s}=i.props,n=s==="body"?"var(--background-color)":s==="footer"?"var(--footer-background)":"var(--background-color-dark)",a=ai([{gridBlockBackground:n}]),o=[{props:{lang:"scss","define:vars":{gridBlockBackground:n},"data-astro-id":"VBFA6RLS"},children:".accent-container:where(.astro-VBFA6RLS){position:absolute;top:50%;right:0;display:grid;grid-template-columns:1fr;grid-template-rows:1fr;width:100%;z-index:-1;transform:translateY(-50%);aspect-ratio:4/5}@media (min-width: 600px){.accent-container:where(.astro-VBFA6RLS){width:400px}}.galaxy:where(.astro-VBFA6RLS){grid-column:1/-1;grid-row:1/-1;background-image:linear-gradient(217deg,rgba(20,255,255,0.8),rgb(48,0,219) 70%);border-radius:50%;filter:blur(70px);transform:translate(80%,0);animation:rotateMiddleRightGalaxy 4000ms linear infinite}.grid-container:where(.astro-VBFA6RLS){grid-column:1/-1;grid-row:1/-1;display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(5,1fr);gap:6px;width:100%;z-index:1}.grid-block:where(.astro-VBFA6RLS){background-color:var(--gridBlockBackground);width:100%;height:100%}@keyframes rotateMiddleRightGalaxy{0%{transform:translate(80%,0) rotate(0deg)}100%{transform:translate(80%,0) rotate(360deg)}}"}];for(let l of o)e.styles.add(l);return N`${pe(e)}<div class="accent-container astro-VBFA6RLS"${Se(a,"style")}>
  <div class="galaxy astro-VBFA6RLS"></div>
  <div class="grid-container astro-VBFA6RLS">
    <div class="astro-VBFA6RLS"></div>
    <div class="astro-VBFA6RLS"></div>
    <div class="astro-VBFA6RLS"></div>
    <div class="grid-block astro-VBFA6RLS"></div>
    <div class="astro-VBFA6RLS"></div>
    <div class="astro-VBFA6RLS"></div>
    <div class="grid-block astro-VBFA6RLS"></div>
    <div class="grid-block astro-VBFA6RLS"></div>
    <div class="grid-block astro-VBFA6RLS"></div>
    <div class="grid-block astro-VBFA6RLS"></div>
    <div class="grid-block astro-VBFA6RLS"></div>
    <div class="grid-block astro-VBFA6RLS"></div>
    <div class="astro-VBFA6RLS"></div>
    <div class="grid-block astro-VBFA6RLS"></div>
    <div class="grid-block astro-VBFA6RLS"></div>
    <div class="grid-block astro-VBFA6RLS"></div>
    <div class="astro-VBFA6RLS"></div>
    <div class="astro-VBFA6RLS"></div>
    <div class="astro-VBFA6RLS"></div>
    <div class="grid-block astro-VBFA6RLS"></div>
  </div>
</div>`}),dde=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/Footer/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),ir=ie(async(e,t,r)=>{let i=e.createAstro(dde,t,r);i.self=ir;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<footer class="astro-ZPWICKC4">
  <div class="header astro-ZPWICKC4">
    ${O(e,"Logo",vw,{class:"astro-ZPWICKC4"})}
  </div>
  <div class="link-blocks-container astro-ZPWICKC4">
    ${O(e,"AdminLinkBlock",r4,{class:"astro-ZPWICKC4"})}
    ${O(e,"ServiceLinkBlock",xm,{links:Ice,class:"astro-ZPWICKC4"})}
    ${O(e,"ServiceLinkBlock",xm,{links:Rce,class:"astro-ZPWICKC4"})}
    ${O(e,"ServiceLinkBlock",xm,{links:Nce,class:"astro-ZPWICKC4"})}
  </div>
  ${O(e,"TopRightAccent",Xo,{backgroundType:"footer",class:"astro-ZPWICKC4"})}
  ${O(e,"BottomLeftAccent",zc,{backgroundType:"footer",class:"astro-ZPWICKC4"})}
  <div class="accent astro-ZPWICKC4">
    ${O(e,"MiddleRightAccent",Nm,{backgroundType:"footer",class:"astro-ZPWICKC4"})}
  </div>
</footer>`}),hde=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),i4=ie(async(e,t,r)=>{let i=e.createAstro(hde,t,r);return i.self=i4,N`${O(e,"BaseLayout",Zt,{title:"Page title"},{default:()=>N`${O(e,"Header",UO,{})}${O(e,"ServiceCards",WO,{})}${O(e,"BlogSection",xw,{})}${O(e,"NewsletterSection",Uc,{})}${O(e,"Footer",ir,{})}`})}`}),pde="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/index.astro",fde="",mde=Object.freeze(Object.defineProperty({__proto__:null,default:i4,file:pde,url:fde},Symbol.toStringTag,{value:"Module"})),gde=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/headers/SmallHeader.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),ia=ie(async(e,t,r)=>{let i=e.createAstro(gde,t,r);i.self=ia;let{headline:s,imageUrl:n,altTag:a,titleTag:o}=i.props,l=[];for(let c of l)e.styles.add(c);return N`${pe(e)}<div class="container astro-VBLTWHQB">
  <h1 class="headline astro-VBLTWHQB">${s}</h1>
  <div class="header-image astro-VBLTWHQB">
    <img class="header-logo astro-VBLTWHQB"${Se(n,"src")}${Se(a,"alt")}${Se(o,"title")}>
  </div>
  <div class="galaxy-pink astro-VBLTWHQB">
    ${O(e,"Galaxy",_r,{"client:idle":!0,color:"pink",width:240,height:240,blur:200,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-VBLTWHQB"})}
  </div>
  <div class="galaxy-purple astro-VBLTWHQB">
    ${O(e,"Galaxy",_r,{"client:idle":!0,color:"purple",width:240,height:240,blur:200,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-VBLTWHQB"})}
  </div>
</div>

`}),vde=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/typography/HeadlineParagraph.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),_w=ie(async(e,t,r)=>{let i=e.createAstro(vde,t,r);i.self=_w;let{headline:s,paragraphs:n}=i.props,a=[];for(let o of a)e.styles.add(o);return N`${pe(e)}<div class="container astro-M3HRAX2I">
  <h1 class="headline astro-M3HRAX2I">${s}</h1>
  <div class="paragraph-container astro-M3HRAX2I">
    ${n.map(o=>N`<p class="astro-M3HRAX2I">${Mr(o)}</p>`)}
  </div>
</div>

`}),yde=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/nerdChat/WebDevPreNerdChat/Instructions.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),s4=ie(async(e,t,r)=>{let i=e.createAstro(yde,t,r);i.self=s4;let s="Pre - Nerd Chat Form",n=["Great you're alsmost done. Fill out this form below.","It will give me a little extra information to make sure <strong>our conversation goes smoothly</strong>.",`If you have any issues, <a href="/contact">contact me</a> and I'll help you immediately. Talk soon!`],a=[];for(let o of a)e.styles.add(o);return N`${pe(e)}<div class="container astro-UNXUE2GA">
  ${O(e,"HeadlineParagraph",_w,{headline:s,paragraphs:n,class:"astro-UNXUE2GA"})}
</div>`}),[An,xde]=We({value:2,options:Cue}),bde=e=>{let t=e.currentTarget,r=Number(t.value);xde(i=>{let s=[...i.options],n=Ya(s,r);return{value:r,options:n}})},[wr,wde]=We({value:5,options:Lue}),_de=e=>{let t=e.currentTarget,r=Number(t.value);wde(i=>{let s=[];if(i.value!==r){let n=[...i.options];s=Ya(n,r)}return i.value===r&&(s=i.options),{value:r,options:s}})},[gm,Dde]=We({value:1,options:Tue}),Sde=e=>{let t=e.currentTarget,r=Number(t.value);Dde(i=>{let s=[];if(i.value!==r){let n=[...i.options];s=Ya(n,r)}return i.value===r&&(s=i.options),{value:r,options:s}})},[Vo,Ade]=We({value:5,options:Mue}),Ede=e=>{let t=e.currentTarget,r=Number(t.value);Ade(i=>{let s=[];if(i.value!==r){let n=[...i.options];s=Ya(n,r)}return i.value===r&&(s=i.options),{value:r,options:s}})},[Id,Cde]=We({value:1,options:Pue}),Tde=e=>{let t=e.currentTarget,r=Number(t.value);Cde(i=>{let s=[];if(i.value!==r){let n=[...i.options];s=Ya(n,r)}return i.value===r&&(s=i.options),{value:r,options:s}})},[Rd,Mde]=We({value:1,options:Bue}),Lde=e=>{let t=e.currentTarget,r=Number(t.value);Mde(i=>{let s=[];if(i.value!==r){let n=[...i.options];s=Ya(n,r)}return i.value===r&&(s=i.options),{value:r,options:s}})},[$n,kde]=We({value:2,options:kue}),Pde=e=>{let t=e.currentTarget,r=Number(t.value);kde(i=>{let s=[...i.options],n=Ya(s,r);return{value:r,options:n}})},[tw,Bde]=We({value:"",options:Sue}),Fde=e=>{let r=e.currentTarget.value;Bde(i=>{let s=[];if(i.value!==r){let n=[...i.options];s=Im(n,r)}return i.value===r&&(s=i.options),{value:r,options:s}})},[rw,Ode]=We({value:"",valid:!1}),[YF,Ide]=We({initial:!0,touched:!1}),Rde=e=>{let r=e.currentTarget.value,i=r.length>0;Ode({value:r,valid:i})},XF=()=>{Ide(e=>({initial:!1,touched:!e.touched}))},[Nde,n4]=We(!1),Ude=()=>{n4(e=>!e)},zde=e=>{e.key==="Enter"&&n4(t=>!t)},[jde,a4]=We(!1),Hde=()=>{a4(e=>!e)},Vde=e=>{e.key==="Enter"&&a4(t=>!t)},[Gde,o4]=We(!1),Wde=()=>{o4(e=>!e)},qde=e=>{e.key==="Enter"&&o4(t=>!t)},[Yde,l4]=We(!1),Xde=()=>{l4(e=>!e)},Qde=e=>{e.key==="Enter"&&l4(t=>!t)},[Zde,c4]=We(!1),$de=()=>{c4(e=>!e)},Jde=e=>{e.key==="Enter"&&c4(t=>!t)},[QF,Kde]=We({value:"",valid:!1}),[ZF,ehe]=We({initial:!0,touched:!1}),the=e=>{let r=e.currentTarget.value;Kde({value:r,valid:!0})},$F=()=>{ehe(e=>({initial:!1,touched:!e.touched}))},[JF,rhe]=We({value:"",options:Oue}),ihe=e=>{let r=e.currentTarget.value;rhe(i=>{let s=[];if(i.value!==r){let n=[...i.options];s=Im(n,r)}return i.value===r&&(s=i.options),{value:r,options:s}})},[KF,she]=We({value:1,options:Fue}),nhe=e=>{let t=e.currentTarget,r=Number(t.value);she(i=>{let s=[];if(i.value!==r){let n=[...i.options];s=Ya(n,r)}return i.value===r&&(s=i.options),{value:r,options:s}})},[eO,ahe]=We({value:"",valid:!1}),[tO,ohe]=We({initial:!0,touched:!1}),lhe=e=>{let r=e.currentTarget.value;ahe({value:r,valid:!0})},rO=e=>{ohe(t=>({initial:!1,touched:!t.touched}))},che=["<div","><label",' tabindex="0" style="','"><span',">",'</span></label><input type="radio"',"","></div>"],u4=e=>{let t=Nc(()=>e.children);return nt(che,at()+H("class",L(so.option_container,!0),!1),H("for",L(e.id,!0),!1)+H("class",L(so.option_label_container,!0),!1),En(so),H("class",e.isSelected?L(so.option_label_active,!0):L(so.option_label,!0),!1),L(t()),H("class",L(so.option_input,!0),!1)+H("id",L(e.id,!0),!1)+H("name",L(e.name,!0),!1)+H("value",L(e.value,!0),!1),H("checked",e.isSelected,!0))};Me(u4,"@astrojs/solid-js");uhe=["<div",' style="','"><p',"><!--#-->","<!--/-->: <span",">","</span></p><div","><!--#-->","<!--/--><div","></div></div></div>"],ra=e=>{let t,r=e.options.length,[i,s]=We(351);vt(()=>{s(e.inputWidth)});let n=vt(()=>i()-12),a=vt(()=>n()/r),o=vt(()=>n()-(n()-a()*(e.startingValue-1)));vt(()=>{let h=n()-(n()-a()*(e.value-1));setTimeout(()=>fue(t,h))});let l=vt(()=>e.options.map(h=>Ne(u4,{get id(){return`${h.label}-${h.name}`},get name(){return e.name},get value(){return h.value},get isSelected(){return h.isSelected},get updateInputValue(){return e.updateInputValue},get children(){return h.label}}))),c=vt(()=>({"--container-width":`${e.inputWidth}px`,"--options-container-cols":`repeat(${e.options.length}, 1fr)`,"--indicator-width":`${a()}px`,"--knob-start-x":`${o()}px`}));return nt(uhe,at()+H("class",L(ul.slider_input_container,!0),!1),En(c()),H("class",L(ul.slider_input_label,!0),!1),L(e.label),H("class",L(ul.slider_input_label_value,!0),!1),L(e.value),H("class",L(ul.slider_option_container,!0),!1),L(l()),H("class",L(ul.slider_knob,!0),!1))};Me(ra,"@astrojs/solid-js");dhe=["<svg",' id="form-error-icon"',' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129.51 129.51"><path style="','" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="34" stroke-dasharray="1" stroke-dashoffset="-1" pathLength="1" d="M17 112.51L112.51 17" id="right-cross"></path><path style="','" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-dasharray="1" stroke-dashoffset="-1" stroke-width="34" pathLength="1" d="M112.51 112.51L17 17" id="left-cross"></path></svg>'],Um=e=>nt(dhe,at(),H("width",L(e.width,!0),!1)+H("height",L(e.height,!0),!1),"stroke:var(--error-stroke, #D31313);visibility:hidden","stroke:var(--error-stroke, #D31313);visibility:hidden");Me(Um,"@astrojs/solid-js");hhe=["<svg",' viewBox="0 0 227 228" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5"><path style="fill:none" d="M0 0h226.202v227.868H0z"></path><circle id="outterCircle" cx="113.025" cy="114.376" r="98.216" fill="none" stroke="#ab6ce5" stroke-width="25px" style="','"></circle><circle cx="113.025" cy="114.376" r="56.707" fill="none" stroke="#ce99ff" stroke-width="25px" style="','"></circle><circle cx="113.025" cy="114.376" r="25.736" fill="#e9d2ff" style="','"></circle></svg>'],zm=e=>{let t,r,i;vt(()=>{setTimeout(()=>{e.isActive&&t&&r&&i&&pue(t,r,i)})});let s={"transform-origin":"50% 50%",transform:"scale(1)",opacity:1};return nt(hhe,at(),En(s),En(s),En(s))};Me(zm,"@astrojs/solid-js");phe=["<div","><p",">Optional</p></div>"],jm=e=>nt(phe,at()+H("class",e.isTextArea?L(jh.tag_container_textarea,!0):L(jh.tag_container,!0),!1),H("class",L(jh.tag_label,!0),!1));Me(jm,"@astrojs/solid-js");fhe=["<div","><div","><label",">","</label><!--#-->","<!--/--><div","><textarea",' typeof="text"',"></textarea><div","><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--></div></div><div","></div></div><div","></div></div>"],Ic=e=>{let[t,r]=We(!1);return vt(()=>{e.optional&&e.value===""?r(!0):r(!1)}),nt(fhe,at()+H("class",L(pi.input_field_container,!0),!1),H("class",e.touched?L(pi.field_container_active,!0):L(pi.field_container,!0),!1),H("html-for",L(e.labelFor,!0),!1)+H("class",e.touched||!e.touched&&e.valid||e.optional&&e.value!==""?L(pi.input_label_active,!0):L(pi.input_label,!0),!1),L(e.labelName),L(Ne(jm,{get showTag(){return t()},isTextArea:!0})),H("class",L(pi.input_container,!0),!1),H("class",L(pi.the_input,!0),!1)+H("id",L(e.name,!0),!1),H("name",L(e.name,!0),!1)+H("value",L(e.value,!0),!1)+H("maxlength",L(e.maxLength,!0),!1)+H("rows",L(e.rows,!0),!1)+H("placeholder",L(e.placeholder,!0),!1),H("class",L(pi.input_status,!0),!1),e.valid&&!e.touched?L(Ne(Wd,{isTextInput:!0,isTrackingCheck:!1,get isActive(){return e.valid&&!e.touched}})):L(null),e.touched?L(Ne(zm,{get isActive(){return e.touched}})):L(null),!e.valid&&!e.touched&&!e.initial&&e.optional&&e.value!==""?L(Ne(Um,{get isActive(){return!e.valid&&!e.touched}})):L(null),H("class",e.touched?L(pi.status_indicator_active,!0):!e.touched&&!e.valid&&!e.initial&&e.optional&&e.value!==""?L(pi.status_indicator_error,!0):L(pi.status_indicator,!0),!1),H("class",L(pi.input_shadow,!0),!1))};Me(Ic,"@astrojs/solid-js");mhe=["<div","><p",">","</p><div",">","</div></div>"],d4=e=>{let t=Nc(()=>e.children);return nt(mhe,at()+H("class",L(Lh.container,!0),!1),H("class",L(Lh.question_label,!0),!1),L(e.questionLabel),H("class",L(Lh.options_container,!0),!1),L(t()))};Me(d4,"@astrojs/solid-js");ghe=["<label",' tabindex="0"><input',' type="checkbox"',"","><div","></div><!--#-->","<!--/--></label>"],Pc=e=>{let t=Nc(()=>e.children);return nt(ghe,at()+H("for",L(e.name,!0),!1)+H("class",L(du.label_container,!0),!1),H("class",L(du.checkbox_input,!0),!1),H("id",L(e.name,!0),!1)+H("name",L(e.name,!0),!1),H("checked",e.isChecked,!0),H("class",e.isChecked?L(du.indicator_selected,!0):L(du.indicator,!0),!1),L(t()))};Me(Pc,"@astrojs/solid-js");vhe=["<label","><input",' type="radio"',"","><div","></div><!--#-->","<!--/--></label>"],h4=e=>{let t=Nc(()=>e.children);return nt(vhe,at()+H("for",L(e.value,!0),!1)+H("class",L(_u.label_container,!0),!1),H("class",L(_u.radio_input,!0),!1),H("id",L(e.value,!0),!1)+H("name",L(e.name,!0),!1)+H("value",L(e.value,!0),!1),H("checked",e.isChecked,!0),H("class",e.isChecked?L(_u.indicator_selected,!0):L(_u.indicator,!0),!1),L(t()))};Me(h4,"@astrojs/solid-js");yhe=["<div","><p",">","</p><div",">","</div></div>"],qd=e=>{let t=vt(()=>e.options.map(r=>(r.isChecked&&console.log(`Option id of: ${r.id} is checked.`),Ne(h4,{get id(){return`priority-${r.id}`},get name(){return e.name},get value(){return r.value},get isChecked(){return r.isChecked},get updateInputValue(){return e.updateInputValue},get children(){return r.label}}))));return nt(yhe,at()+H("class",L(Hh.container,!0),!1),H("class",L(Hh.question_label,!0),!1),L(e.questionLabel),H("class",L(Hh.options_container,!0),!1),L(t()))};Me(qd,"@astrojs/solid-js");xhe=["<svg",' viewBox="0 0 341 300" xmlns="http://www.w3.org/2000/svg"',' fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" style="','"><path style="fill:none" d="M0 0h340.411v299.374H0z"></path><path d="M157.106 137.453h-41.548a2.996 2.996 0 0 1-2.996-2.996v-31.135a2.996 2.996 0 0 1 2.996-2.996h41.548a2.996 2.996 0 0 1 2.996 2.996v31.135a2.996 2.996 0 0 1-2.996 2.996M225.994 137.453h-41.548a2.996 2.996 0 0 1-2.996-2.996v-31.135a2.996 2.996 0 0 1 2.996-2.996h41.548a2.996 2.996 0 0 1 2.996 2.996v31.135a2.996 2.996 0 0 1-2.996 2.996M294.882 137.453h-41.548a2.996 2.996 0 0 1-2.996-2.996v-31.135a2.996 2.996 0 0 1 2.996-2.996h41.548a2.996 2.996 0 0 1 2.996 2.996v31.135a2.996 2.996 0 0 1-2.996 2.996M87.62 195.842H46.072a2.996 2.996 0 0 1-2.996-2.995V161.71a2.996 2.996 0 0 1 2.996-2.995H87.62a2.996 2.996 0 0 1 2.996 2.995v31.137a2.996 2.996 0 0 1-2.996 2.995M156.708 195.842H115.16a2.995 2.995 0 0 1-2.996-2.995V161.71a2.995 2.995 0 0 1 2.996-2.995h41.548a2.995 2.995 0 0 1 2.995 2.995v31.137a2.995 2.995 0 0 1-2.995 2.995" style="fill:var(--normal-day);fill-opacity:.6;fill-rule:nonzero"></path><path d="M232.201 201.567H178.24a3.891 3.891 0 0 1-3.891-3.89v-40.439a3.891 3.891 0 0 1 3.891-3.89h53.961a3.89 3.89 0 0 1 3.891 3.89v40.439a3.89 3.89 0 0 1-3.891 3.89" style="fill:var(--highlight-day);fill-rule:nonzero"></path><path d="M294.882 195.842h-41.548a2.996 2.996 0 0 1-2.996-2.995V161.71a2.996 2.996 0 0 1 2.996-2.995h41.548a2.995 2.995 0 0 1 2.996 2.995v31.137a2.995 2.995 0 0 1-2.996 2.995M87.62 254.588H46.072a2.996 2.996 0 0 1-2.996-2.996v-31.135a2.997 2.997 0 0 1 2.996-2.996H87.62a2.997 2.997 0 0 1 2.996 2.996v31.135a2.996 2.996 0 0 1-2.996 2.996M156.708 254.588H115.16a2.996 2.996 0 0 1-2.996-2.996v-31.135a2.996 2.996 0 0 1 2.996-2.996h41.548a2.996 2.996 0 0 1 2.995 2.996v31.135a2.995 2.995 0 0 1-2.995 2.996M225.795 254.588h-41.548a2.996 2.996 0 0 1-2.996-2.996v-31.135a2.997 2.997 0 0 1 2.996-2.996h41.548a2.997 2.997 0 0 1 2.996 2.996v31.135a2.996 2.996 0 0 1-2.996 2.996" style="fill:var(--normal-day);fill-opacity:.6;fill-rule:nonzero"></path><path d="M337.494 62.182a58.355 58.355 0 0 0-58.359-58.359H61.82a58.355 58.355 0 0 0-41.266 17.093A58.356 58.356 0 0 0 3.46 62.182v175.079a58.356 58.356 0 0 0 17.094 41.266 58.356 58.356 0 0 0 41.266 17.094h217.315a58.36 58.36 0 0 0 58.359-58.36V62.182Zm-15.503 18.851a8.545 8.545 0 0 0-8.544-8.545H26.712a8.548 8.548 0 0 0-8.545 8.545v158.483c0 23.698 19.212 42.91 42.91 42.91h218.005c23.698 0 42.909-19.212 42.909-42.91V81.033ZM66.846 20.457c11.222 0 20.332 9.11 20.332 20.332 0 11.222-9.11 20.332-20.332 20.332-11.221 0-20.332-9.11-20.332-20.332 0-11.222 9.111-20.332 20.332-20.332Zm207.262 0c11.222 0 20.332 9.11 20.332 20.332 0 11.222-9.11 20.332-20.332 20.332-11.221 0-20.332-9.11-20.332-20.332 0-11.222 9.111-20.332 20.332-20.332Z" style="fill:var(--calendar-body)"></path></svg>'],p4=e=>{let t=vt(()=>({"--calendar-body":e.theme==="dark"?"var(--accent-teal-dark)":"var(--font-color-light)","--highlight-day":e.theme==="dark"?"var(--accent-purple)":"var(--accent-teal)","--normal-day":e.theme==="dark"?"var(--accent-teal-dark)":"var(--font-color-light)"}));return nt(xhe,at(),H("width",L(e.width,!0),!1)+H("height",L(e.height,!0),!1),En(t()))};Me(p4,"@astrojs/solid-js");bhe=["<div",'><button type="submit"',"","><div",">","</div><!--#-->","<!--/--></button></div>"],Yd=e=>{let t=Nc(()=>e.children);return nt(bhe,at()+H("class",L(fl.form_button_container,!0),!1),H("class",e.theme==="teal"?L(fl.form_button_teal,!0):e.theme==="purple"?L(fl.form_button_purple,!0):L(fl.form_button_pink,!0),!1),H("disabled",e.disabled,!0),H("class",L(fl.button_icon,!0),!1),L(Ne(p4,{theme:"dark"})),L(t()))};Me(Yd,"@astrojs/solid-js");whe=["<form","><div","><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--></div><!--#-->","<!--/--></form>"],f4=()=>nt(whe,at()+H("class",L(Wg.form_container,!0),!1),H("class",L(Wg.inputs_container,!0),!1),L(Ne(ra,{inputWidth:351,label:"Do you have a site design?",name:"haveSiteDesign",startingValue:1,get value(){return KF().value},get options(){return KF().options},updateInputValue:nhe})),L(Ne(Ic,{name:"favoriteSiteDesign",labelFor:"favoriteSiteDesign",labelName:"Have 3 to 5 favorite site designs?",labelInstructions:"",labelError:"",placeholder:"If you have favorite websites... tell me...",optional:!0,maxLength:400,rows:5,get value(){return QF().value},get valid(){return QF().valid},get initial(){return ZF().initial},get touched(){return ZF().touched},onInput:the,onFocus:$F,onBlur:$F,isLoading:!1})),L(Ne(d4,{questionLabel:"Anything special? Check all that apply",get children(){return[Ne(Pc,{name:"blog",get isChecked(){return Nde()},toggleIsToggleOn:Ude,toggleIsToggleOnWithKeyboard:zde,children:"I need a blog"}),Ne(Pc,{name:"scheduling",get isChecked(){return jde()},toggleIsToggleOn:Hde,toggleIsToggleOnWithKeyboard:Vde,children:"The ability for custom scheduling"}),Ne(Pc,{name:"loginLogout",get isChecked(){return Gde()},toggleIsToggleOn:Wde,toggleIsToggleOnWithKeyboard:qde,children:"I need users to login and logout"}),Ne(Pc,{name:"payment",get isChecked(){return Yde()},toggleIsToggleOn:Xde,toggleIsToggleOnWithKeyboard:Qde,children:"I need payment and/or invoicing"}),Ne(Pc,{name:"somethingElse",get isChecked(){return Zde()},toggleIsToggleOn:$de,toggleIsToggleOnWithKeyboard:Jde,children:"I need something else too"})]}})),L(Ne(qd,{name:"timeline",questionLabel:"What is your timeline?",get value(){return JF().value},get options(){return JF().options},updateInputValue:ihe})),L(Ne(Ic,{name:"additionalInformation",labelFor:"addtiaionalInformation",labelName:"Anything else you want to add?",labelInstructions:"",labelError:"",placeholder:"If there's anything else, write it here...",optional:!0,maxLength:400,rows:5,get value(){return eO().value},get valid(){return eO().valid},get initial(){return tO().initial},get touched(){return tO().touched},onInput:lhe,onFocus:rO,onBlur:rO,isLoading:!1})),L(Ne(Yd,{theme:"teal",disabled:!1,children:"Send My Answers"})));Me(f4,"@astrojs/solid-js");_he=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/nerd-chat/pre-nerd-chat.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),m4=ie(async(e,t,r)=>{let i=e.createAstro(_he,t,r);i.self=m4;let s=[];for(let n of s)e.styles.add(n);return N`${O(e,"BaseLayout",Zt,{title:"Get Setup For Your Nerd Chat",class:"astro-2L6IOHJF"},{default:()=>N`${O(e,"SmallHeader",ia,{headline:"Pre Nerd Chat",class:"astro-2L6IOHJF"})}${pe(e)}<div class="view-container astro-2L6IOHJF">
    ${O(e,"Instructions",s4,{class:"astro-2L6IOHJF"})}
    ${O(e,"PreNerdChatForm",f4,{"client:load":!0,"client:component-hydration":"load","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/forms/PreNerdChatForm","client:component-export":"PreNerdChatForm",class:"astro-2L6IOHJF"})}
  </div>${O(e,"Footer",ir,{class:"astro-2L6IOHJF"})}`})}`}),Dhe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/nerd-chat/pre-nerd-chat.astro",She="/nerd-chat/pre-nerd-chat",Ahe=Object.freeze(Object.defineProperty({__proto__:null,default:m4,file:Dhe,url:She},Symbol.toStringTag,{value:"Module"})),Ehe=["<div",' id="calendly-embed" style="min-width:100%;height:800px;" data-auto-load="false"></div>'],g4=()=>nt(Ehe,at());Me(g4,"@astrojs/solid-js");iO=Object.freeze,Che=Object.defineProperty,The=(e,t)=>iO(Che(e,"raw",{value:iO(t||e.slice())})),Mhe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/nerd-chat/schedule.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),v4=ie(async(e,t,r)=>{let i=e.createAstro(Mhe,t,r);i.self=v4;let s=[];for(let n of s)e.styles.add(n);return N(sO||(sO=The(["",`



<script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js"><\/script>`])),O(e,"Layout",Zt,{title:"Schedule Your FREE Nerd Chat",class:"astro-LZDHIXRE"},{default:()=>N`${O(e,"SmallHeader",ia,{headline:"Schedule Chat",class:"astro-LZDHIXRE"})}${O(e,"CalendlyEmbed",g4,{"client:visible":!0,"client:component-hydration":"visible","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/Calendly","client:component-export":"CalendlyEmbed",class:"astro-LZDHIXRE"})}`}))}),Lhe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/nerd-chat/schedule.astro",khe="/nerd-chat/schedule",Phe=Object.freeze(Object.defineProperty({__proto__:null,default:v4,file:Lhe,url:khe},Symbol.toStringTag,{value:"Module"})),Bhe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/thankyou/PreNerdWebDevChat/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),y4=ie(async(e,t,r)=>{let i=e.createAstro(Bhe,t,r);i.self=y4;let s="Thank You... It Worked!",n=["Thank you for filling out the Pre - Nerd Chat form. <strong>This does help me</strong>.","I will talk with you at the time specified below.","<strong>If anything changes... let me know</strong>.","I look forward to getting to know you and your projects."],a=[];for(let o of a)e.styles.add(o);return N`${pe(e)}<div class="container astro-DHIXAZ2Z">
  ${O(e,"HeadlineParagraph",_w,{headline:s,paragraphs:n,class:"astro-DHIXAZ2Z"})}
  <div class="button-container astro-DHIXAZ2Z">
    ${O(e,"InternalNavButton",oi,{type:"purple",slug:"/blog",title:"Go To Blog",cta:!1,class:"astro-DHIXAZ2Z"},{default:()=>N`Go To Blog`})}
  </div>
</div>

`}),Fhe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/thank-you/pre-nerd-chat-web-dev.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),x4=ie(async(e,t,r)=>{let i=e.createAstro(Fhe,t,r);return i.self=x4,N`${O(e,"BaseLayout",Zt,{title:"Thank You - Pre Nerd Chat Web Design And Development"},{default:()=>N`${O(e,"SmallHeader",ia,{headline:"Thank You"})}${O(e,"PreNerdChatWebDevChat",y4,{})}${O(e,"Footer",ir,{})}`})}`}),Ohe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/thank-you/pre-nerd-chat-web-dev.astro",Ihe="/thank-you/pre-nerd-chat-web-dev",Rhe=Object.freeze(Object.defineProperty({__proto__:null,default:x4,file:Ohe,url:Ihe},Symbol.toStringTag,{value:"Module"})),Nhe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/thankyou/NerdChat/ContentContainer.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),b4=ie(async(e,t,r)=>{let i=e.createAstro(Nhe,t,r);i.self=b4;let s=["Awesome, it worked!","Your time has been booked. If you're not able to make it... <strong>PLEASE let me know</strong>.","I will do the same and let you know if I have to change anything. <strong>I will respect your time</strong>.","You will receive an email reminder and again... reach out to me at:",'<span class="code-callout">Dan@NerdsWhoSell.com</span>',"... if anything changes or you have questions."],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-CN63JLNQ">
  <h1 class="astro-CN63JLNQ">Thank You... You're Booked!</h1>
  <div class="paragraph-container astro-CN63JLNQ">
    ${s.map(a=>N`<p class="astro-CN63JLNQ">${Mr(a)}</p>`)}
  </div>
</div>`}),Uhe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/thankyou/NerdChat/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),w4=ie(async(e,t,r)=>{let i=e.createAstro(Uhe,t,r);i.self=w4;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-DFHRUXZH">
  ${O(e,"ContentContainer",b4,{class:"astro-DFHRUXZH"})}
  <div class="button-container astro-DFHRUXZH">
    ${O(e,"InternalNavButton",oi,{type:"purple",slug:"/blog",title:"Go To Blog",cta:!1,class:"astro-DFHRUXZH"},{default:()=>N`Go To Blog`})}
  </div>
</div>`}),zhe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/thank-you/nerd-chat.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),_4=ie(async(e,t,r)=>{let i=e.createAstro(zhe,t,r);return i.self=_4,N`${O(e,"BaseLayout",Zt,{title:"Thank You For Scheduleing a Nerd Chat"},{default:()=>N`${O(e,"SmallHeader",ia,{headline:"Thank You"})}${O(e,"NerdChatThankYou",w4,{})}${O(e,"Footer",ir,{})}`})}`}),jhe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/thank-you/nerd-chat.astro",Hhe="/thank-you/nerd-chat",Vhe=Object.freeze(Object.defineProperty({__proto__:null,default:_4,file:jhe,url:Hhe},Symbol.toStringTag,{value:"Module"})),Ghe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/thankyou/Contact/ContentContainer.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),D4=ie(async(e,t,r)=>{let i=e.createAstro(Ghe,t,r);i.self=D4;let s=["Awesome, it worked!","A Nerd got your message and will be in touch with <strong>you within 24 hours</strong>.","In the mean time, go checkout the blog. We have a lot of great content to help you... <strong>maybe you'll find some answers there</strong>."],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-V6GAK5FK">
  <h1 class="astro-V6GAK5FK">Thank You... It Worked!</h1>
  <div class="paragraph-container astro-V6GAK5FK">
    ${s.map(a=>N`<p class="astro-V6GAK5FK">${Mr(a)}</p>`)}
  </div>
</div>`}),Whe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/thankyou/Contact/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),S4=ie(async(e,t,r)=>{let i=e.createAstro(Whe,t,r);i.self=S4;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-LIDDJJBT">
  ${O(e,"ContentContainer",D4,{class:"astro-LIDDJJBT"})}
  <div class="button-container astro-LIDDJJBT">
    ${O(e,"InternalNavButton",oi,{type:"purple",slug:"/blog",title:"Go To Blog",cta:!1,class:"astro-LIDDJJBT"},{default:()=>N`Go To Blog`})}
  </div>
</div>

`}),qhe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/thank-you/contact.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),A4=ie(async(e,t,r)=>{let i=e.createAstro(qhe,t,r);return i.self=A4,N`${O(e,"BaseLayout",Zt,{title:"Thank You For Contacting Nerds Who Sell"},{default:()=>N`${O(e,"SmallHeader",ia,{headline:"Thank You"})}${O(e,"ContactThankYou",S4,{})}${O(e,"Footer",ir,{})}`})}`}),Yhe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/thank-you/contact.astro",Xhe="/thank-you/contact",Qhe=Object.freeze(Object.defineProperty({__proto__:null,default:A4,file:Yhe,url:Xhe},Symbol.toStringTag,{value:"Module"})),Zhe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/services/Header/BackgroundImage.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),E4=ie(async(e,t,r)=>{let i=e.createAstro(Zhe,t,r);i.self=E4;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/mobile-home-header-600x1300_dhkklq6ce.png?ik-sdk-version=javascript-1.4.3",n="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/above-mobile-home-header-1200x900_AQAR0A1GV.png?ik-sdk-version=javascript-1.4.3",a=[];for(let o of a)e.styles.add(o);return N`${pe(e)}<picture class="astro-4REDPNRB">
  <source${Se(n,"srcset")} media="(min-width: 600px)" class="astro-4REDPNRB">
  <img${Se(s,"src")} alt="Graph boxes for more traffic leads and sales" title="More Traffic Leads And Sales" class="astro-4REDPNRB">
</picture>`}),$he=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/services/Header/CallToAction.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),C4=ie(async(e,t,r)=>{let i=e.createAstro($he,t,r);i.self=C4;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="astro-N7T55LA7">
  <h1 class="astro-N7T55LA7">
    <span class="astro-N7T55LA7">From</span>
    <span class="astro-N7T55LA7">Your</span>
    <span class="astro-N7T55LA7">Website</span>
  </h1>
  ${O(e,"InternalNavButton",oi,{type:"teal",slug:"/",width:290,title:"",class:"astro-N7T55LA7"},{default:()=>N`Schedule Nerd Chat`})}
</div>`}),Jhe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/services/Header/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),T4=ie(async(e,t,r)=>{let i=e.createAstro(Jhe,t,r);i.self=T4;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-ENNRZRX6">
  <div class="content-container astro-ENNRZRX6">
    <h1 class="astro-ENNRZRX6">Get More</h1>
    ${O(e,"CallToAction",C4,{class:"astro-ENNRZRX6"})}
    ${O(e,"BackgroundImage",E4,{class:"astro-ENNRZRX6"})}
    <div class="galaxy astro-ENNRZRX6">
      ${O(e,"Galaxy",_r,{"client:idle":!0,color:"teal",width:240,height:240,blur:200,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-ENNRZRX6"})}
    </div>
  </div>
  ${O(e,"BottomLeftAccent",zc,{backgroundType:"header",class:"astro-ENNRZRX6"})}
</div>

`}),Khe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/typography/TerminalHeader.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),jc=ie(async(e,t,r)=>{let i=e.createAstro(Khe,t,r);i.self=jc;let{cursor:s}=i.props,n=s?"padding: 14px 40px 14px 20px;":"padding: 14px 20px;",a=[];for(let o of a)e.styles.add(o);return N`${pe(e)}<div class="container astro-YROGTB22"${Se(n,"style")}>
  ${zt(e,r.default)}
  ${s?N`<div class="cursor astro-YROGTB22"></div>`:null}
</div>`}),epe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/cards/ServiceCard/CardImage.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),M4=ie(async(e,t,r)=>{let i=e.createAstro(epe,t,r);i.self=M4;let{imageUrl:s,altTag:n,titleTag:a,order:o}=i.props,l=o,c=ai([{imageOrder:l}]),h=[{props:{lang:"scss","define:vars":{imageOrder:l},"data-astro-id":"DELA3CUT"},children:".service-image:where(.astro-DELA3CUT){width:100%}@media (min-width: 600px){.service-image:where(.astro-DELA3CUT){order:var(--imageOrder)}}"}];for(let u of h)e.styles.add(u);return N`${pe(e)}<img class="service-image astro-DELA3CUT"${Se(s,"src")}${Se(n,"alt")}${Se(a,"title")}${Se(c,"style")}>

`}),tpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/cards/ServiceCard/ContentBlock.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),L4=ie(async(e,t,r)=>{let i=e.createAstro(tpe,t,r);i.self=L4;let{headline:s,description:n,buttonLabel:a,buttonSlug:o}=i.props,l=[];for(let c of l)e.styles.add(c);return N`${pe(e)}<div class="content-container astro-OJR3UQGI">
  ${O(e,"TerminalHeader",jc,{cursor:!1,class:"astro-OJR3UQGI"},{default:()=>N`<h3 class="headline astro-OJR3UQGI"><span class="astro-OJR3UQGI">~</span> ${s}</h3>`})}
  <div class="description-container astro-OJR3UQGI">
    <p class="astro-OJR3UQGI">${n}</p>
    ${O(e,"InternalNavButton",oi,{type:"teal",cta:!1,title:s.toLowerCase(),slug:o,width:290,class:"astro-OJR3UQGI"},{default:()=>N`${a}`})}
  </div>
</div>

`}),rpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/cards/ServiceCard/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),k4=ie(async(e,t,r)=>{let i=e.createAstro(rpe,t,r);i.self=k4;let{order:s,imageUrl:n,altTag:a,titleTag:o,headline:l,description:c,buttonLabel:h,buttonSlug:u}=i.props,d=[];for(let p of d)e.styles.add(p);return N`${pe(e)}<div class="card-container astro-ABLRQ4DF">
  ${O(e,"CardImage",M4,{imageUrl:n,altTag:a,titleTag:o,order:s,class:"astro-ABLRQ4DF"})}
  ${O(e,"ContentBlock",L4,{headline:l,description:c,buttonLabel:h,buttonSlug:u,class:"astro-ABLRQ4DF"})}
</div>`}),ipe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/services/Services/CardsContainer.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),P4=ie(async(e,t,r)=>{let i=e.createAstro(ipe,t,r);i.self=P4;let s=[{id:0,order:0,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/web-design-card-icon_OiALA1zuU.png?ik-sdk-version=javascript-1.4.3",altTag:"Web Design and Developement",titleTag:"Web Design and Developement",headline:"Web Design & Dev",description:"Get a lean, mean website that sells like crazy and makes your business money.",buttonLabel:"Let's Build a Site!",buttonSlug:"/services/web-design-and-development"},{id:1,order:1,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/seven-day-site-card-icon_GWU0TqQMq.png?ik-sdk-version=javascript-1.4.3",altTag:"7 Day Site",titleTag:"7 Day Website Build",headline:"7 Day Site",description:"Get online FAST with a site designed to get leads... grow email list... makes sales... in 7 days or less.",buttonLabel:"Let's Get Online!",buttonSlug:"/services/seven-day-site"},{id:2,order:0,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/copy-card-icon_EEu-ion6Z.png?ik-sdk-version=javascript-1.4.3",altTag:"Content and Copywriting",titleTag:"Content and Copywriting",headline:"Content & Copy",description:"Get persuasive words on your website, blog posts, ads, and emails to convert more prospects into customers.",buttonLabel:"Let's Sell!",buttonSlug:"/services/copy"}],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="card-container astro-RO63JDQV">
  ${s.map(a=>{let{order:o,imageUrl:l,altTag:c,titleTag:h,headline:u,description:d,buttonLabel:p,buttonSlug:g}=a;return N`${O(e,"ServiceCard",k4,{order:o,imageUrl:l,altTag:c,titleTag:h,headline:u,description:d,buttonLabel:p,buttonSlug:g,class:"astro-RO63JDQV"})}`})}
</div>

`}),spe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/accents/MiddleLeftAccent.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),B4=ie(async(e,t,r)=>{let i=e.createAstro(spe,t,r);i.self=B4;let{backgroundType:s}=i.props,n=s==="body"?"var(--background-color)":s==="footer"?"var(--footer-background)":"var(--background-color-dark)",a=ai([{gridBlockBackground:n}]),o=[{props:{lang:"scss","define:vars":{gridBlockBackground:n},"data-astro-id":"76R2AMRT"},children:".accent-container:where(.astro-76R2AMRT){position:absolute;top:50%;left:0;display:grid;grid-template-columns:1fr;grid-template-rows:1fr;width:100%;z-index:-1;transform:translateY(-50%);aspect-ratio:4/5}@media (min-width: 600px){.accent-container:where(.astro-76R2AMRT){width:400px}}.galaxy:where(.astro-76R2AMRT){grid-column:1/-1;grid-row:1/-1;background-image:linear-gradient(217deg,rgba(20,255,255,0.8),rgb(48,0,219) 70%);border-radius:50%;filter:blur(70px);transform:translate(-80%,0);animation:rotateMiddleLeftGalaxy 8000ms linear infinite}.grid-container:where(.astro-76R2AMRT){grid-column:1/-1;grid-row:1/-1;display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(5,1fr);gap:6px;width:100%;z-index:1}.grid-block:where(.astro-76R2AMRT){background-color:var(--gridBlockBackground);width:100%;height:100%}@keyframes rotateMiddleLeftGalaxy{0%{transform:translate(-80%,0) rotate(0deg)}100%{transform:translate(-80%,0) rotate(360deg)}}"}];for(let l of o)e.styles.add(l);return N`${pe(e)}<div class="accent-container astro-76R2AMRT"${Se(a,"style")}>
  <div class="galaxy astro-76R2AMRT"></div>
  <div class="grid-container astro-76R2AMRT">
    <div class="grid-block astro-76R2AMRT"></div>
    <div class="astro-76R2AMRT"></div>
    <div class="astro-76R2AMRT"></div>
    <div class="astro-76R2AMRT"></div>
    <div class="grid-block astro-76R2AMRT"></div>
    <div class="grid-block astro-76R2AMRT"></div>
    <div class="grid-block astro-76R2AMRT"></div>
    <div class="astro-76R2AMRT"></div>
    <div class="grid-block astro-76R2AMRT"></div>
    <div class="grid-block astro-76R2AMRT"></div>
    <div class="grid-block astro-76R2AMRT"></div>
    <div class="grid-block astro-76R2AMRT"></div>
    <div class="grid-block astro-76R2AMRT"></div>
    <div class="grid-block astro-76R2AMRT"></div>
    <div class="astro-76R2AMRT"></div>
    <div class="astro-76R2AMRT"></div>
    <div class="grid-block astro-76R2AMRT"></div>
    <div class="astro-76R2AMRT"></div>
    <div class="astro-76R2AMRT"></div>
    <div class="astro-76R2AMRT"></div>
  </div>
</div>`}),npe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/services/Services/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),F4=ie(async(e,t,r)=>{let i=e.createAstro(npe,t,r);i.self=F4;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-LBVAT23G">
  <div class="content-container astro-LBVAT23G">
    <div class="header astro-LBVAT23G">
      ${O(e,"TerminalHeader",jc,{cursor:!0,class:"astro-LBVAT23G"},{default:()=>N`<h3 class="headline astro-LBVAT23G"><span class="astro-LBVAT23G">~</span> Services</h3>`})}
    </div>
    ${O(e,"CardsContainer",P4,{class:"astro-LBVAT23G"})}
  </div>
  <div class="top-galaxy astro-LBVAT23G">
    ${O(e,"Galaxy",_r,{"client:idle":!0,color:"dark-purple",width:240,height:240,blur:160,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-LBVAT23G"})}
  </div>
  ${O(e,"MiddleLeftAccent",B4,{backgroundType:"body",class:"astro-LBVAT23G"})}
  <div class="bottom-galaxy astro-LBVAT23G">
    ${O(e,"Galaxy",_r,{"client:idle":!0,color:"purple",width:240,height:240,blur:160,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-LBVAT23G"})}
  </div>
</div>

`}),ape=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/services/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),O4=ie(async(e,t,r)=>{let i=e.createAstro(ape,t,r);return i.self=O4,N`${O(e,"BaseLayout",Zt,{title:"Page title"},{default:()=>N`${O(e,"Header",T4,{})}${O(e,"Services",F4,{})}${O(e,"Footer",ir,{})}`})}`}),ope="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/services/index.astro",lpe="/services",cpe=Object.freeze(Object.defineProperty({__proto__:null,default:O4,file:ope,url:lpe},Symbol.toStringTag,{value:"Module"})),upe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/Header/Headline.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),I4=ie(async(e,t,r)=>{let i=e.createAstro(upe,t,r);i.self=I4;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<h1 class="astro-J6P5GOSC">
  <span class="normal pull-left astro-J6P5GOSC">Get a</span>
  ${O(e,"PerspectiveGradient",Cn,{class:"astro-J6P5GOSC"},{default:()=>N`Beautiful`})}
  ${O(e,"PerspectiveGradient",Cn,{class:"astro-J6P5GOSC"},{default:()=>N`BLAZING`})}
  <span class="normal extra-padding astro-J6P5GOSC">Fast Website That</span>
  ${O(e,"PerspectiveGradient",Cn,{class:"astro-J6P5GOSC"},{default:()=>N`Sells!`})}
</h1>

`}),[aBe,oBe]=We(600),[cs,lBe]=We(!1),dpe=vt(()=>{}),hpe=vt(()=>{});vt(()=>{});uw(()=>{console.log("Removing event listener"),dpe().removeEventListener("change",hpe())});ppe=["<canvas",' height="500"></canvas>'],R4=()=>nt(ppe,at()+H("class",L(Z2.scene,!0),!1));Me(R4,"@astrojs/solid-js");fpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/Header/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),N4=ie(async(e,t,r)=>{let i=e.createAstro(fpe,t,r);i.self=N4;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-L2HBJDHJ">
  <div class="content-container astro-L2HBJDHJ">
    <div class="three-d-container astro-L2HBJDHJ">
      ${O(e,"Headline",I4,{class:"astro-L2HBJDHJ"})}
      <div class="model astro-L2HBJDHJ">
        ${O(e,"AppIcon",R4,{"client:idle":!0,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/AppIcon","client:component-export":"AppIcon",class:"astro-L2HBJDHJ"})}
      </div>
    </div>
    ${O(e,"InternalNavButton",oi,{type:"purple",title:"Free Nerd Chat",slug:"/",width:290,class:"astro-L2HBJDHJ"},{default:()=>N`Schedule a Nerd Chat`})}
  </div>
  <div class="galaxy astro-L2HBJDHJ">
    ${O(e,"Galaxy",_r,{"client:idle":!0,color:"dark-purple",width:220,height:220,blur:240,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-L2HBJDHJ"})}
  </div>
  ${O(e,"BottomLeftAccent",zc,{backgroundType:"header",class:"astro-L2HBJDHJ"})}
</div>

`}),mpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/typography/PunctuationBullet.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),St=ie(async(e,t,r)=>{let i=e.createAstro(mpe,t,r);i.self=St;let{type:s,bullet:n}=i.props,c=s==="question"?"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/question-bullet_mPB-OZdzy.png?ik-sdk-version=javascript-1.4.3":s==="exclaimation"?"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/exclaimation-bullet_6hT7S6T9g.png?ik-sdk-version=javascript-1.4.3":"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/checkmark-bullet_KCkiBywH3.png?ik-sdk-version=javascript-1.4.3",h=[];for(let u of h)e.styles.add(u);return N`${pe(e)}<li class="list-item astro-DU5YGUI3">
  <img class="bullet astro-DU5YGUI3"${Se(c,"src")} alt="Check" title="Important Question">
  <span class="astro-DU5YGUI3">${Mr(n)}</span>
</li>

`}),gpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/NotABusinessCard/NotABusinessCard.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),U4=ie(async(e,t,r)=>{let i=e.createAstro(gpe,t,r);i.self=U4;let s=["...to look generic, blend in, and sound boring?","...to load slow and be hard to use on a phone?","...to be tossed in the digital trash bin?"],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-MPZIFSDW">
  <div class="content astro-MPZIFSDW">
    <p class="astro-MPZIFSDW">Business cards get tossed in the garbage. Fogotten about.</p>
  </div>
  <div class="question-container astro-MPZIFSDW">
    <p class="astro-MPZIFSDW">Do you want your website...</p>
    <div class="questions astro-MPZIFSDW">
      ${s.map(a=>N`${O(e,"PunctuationBullet",St,{type:"question",bullet:a,class:"astro-MPZIFSDW"})}`)}
    </div>
  </div>
  <div class="content astro-MPZIFSDW">
    <p class="astro-MPZIFSDW">Of course not.</p>
    <p class="code-callout astro-MPZIFSDW">A website is NOT a business card or brochure.</p>
  </div>
</div>

`}),vpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/NotABusinessCard/BestSalesToolHeadline.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),z4=ie(async(e,t,r)=>{let i=e.createAstro(vpe,t,r);i.self=z4;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<h1 class="headline astro-ZOPV7WBS">
  <span class="headline-group astro-ZOPV7WBS">
    <span class="astro-ZOPV7WBS">A Website</span>
    <span class="astro-ZOPV7WBS">Should Be Your</span>
  </span>
  <span class="astro-ZOPV7WBS">Best Sales Tool</span>
</h1>

`}),ype=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/NotABusinessCard/YourSalesTool.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),j4=ie(async(e,t,r)=>{let i=e.createAstro(ype,t,r);i.self=j4;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/traffic-leads-sales-mobile_aU5MQZt4g.png?ik-sdk-version=javascript-1.4.3",n="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/website-sales-tool-1320-720_q9_8A3RZz.png?ik-sdk-version=javascript-1.4.3",a=[];for(let o of a)e.styles.add(o);return N`${pe(e)}<div class="container astro-6SZCPDKO">
  <div class="content-container astro-6SZCPDKO">
    ${O(e,"BestSalesToolHeadline",z4,{class:"astro-6SZCPDKO"})}
    <p class="astro-6SZCPDKO">Hide The Nerdy Tech Stuff and Give You What You Want...</p>
  </div>
  <picture class="astro-6SZCPDKO">
    <source${Se(n,"srcset")} media="(min-width: 600px)" class="astro-6SZCPDKO">
    <img${Se(s,"src")} alt="Graph boxes for more traffic leads and sales" title="More Traffic Leads And Sales" class="astro-6SZCPDKO">
  </picture>
  ${O(e,"InternalNavButton",oi,{type:"teal",title:"Schedule a Nerd Chat",slug:"/",width:290,class:"astro-6SZCPDKO"},{default:()=>N`Schedule a Nerd Chat`})}
</div>

`}),xpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/NotABusinessCard/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),H4=ie(async(e,t,r)=>{let i=e.createAstro(xpe,t,r);i.self=H4;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-FT7ZDPMQ">
  <div class="top-galaxy astro-FT7ZDPMQ">
    ${O(e,"Galaxy",_r,{"client:idle":!0,color:"pink",width:220,height:220,blur:240,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-FT7ZDPMQ"})}
  </div>
  ${O(e,"NotABusinessCard",U4,{class:"astro-FT7ZDPMQ"})}
  ${O(e,"YourSalesTool",j4,{class:"astro-FT7ZDPMQ"})}
  <div class="bottom-galaxy astro-FT7ZDPMQ">
    ${O(e,"Galaxy",_r,{"client:idle":!0,color:"dark-purple",width:220,height:220,blur:240,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-FT7ZDPMQ"})}
  </div>
</div>

`}),bpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/SpeedForPhones/Headline.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),V4=ie(async(e,t,r)=>{let i=e.createAstro(bpe,t,r);i.self=V4;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/cube-1_LSQscY7D3.png?ik-sdk-version=javascript-1.4.3",n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-DYVN3VVQ">
  <img class="step-number astro-DYVN3VVQ"${Se(s,"src")} alt="Number 1 important website criteria." title="Site Speed On Phones">
  <h1 class="headline astro-DYVN3VVQ">
    <span class="headline-group astro-DYVN3VVQ">
      <span class="astro-DYVN3VVQ">Built For</span>
      <span class="astro-DYVN3VVQ">Speed & Sales</span>
    </span>
    <span class="astro-DYVN3VVQ">On Phones</span>
  </h1>
</div>

`}),wpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/SpeedForPhones/SectionContent.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),G4=ie(async(e,t,r)=>{let i=e.createAstro(wpe,t,r);i.self=G4;let s=["Over <strong>80% of website traffic starts on people's phone</strong>. Your website better look good and load FAST.","Especially when the network connection is spotty.","And it better <strong>sell on a small screen</strong> where space is severely limited."],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-BFWZE44J">
  ${O(e,"Headline",V4,{class:"astro-BFWZE44J"})}
  <div class="paragraph-container astro-BFWZE44J">
    ${s.map(a=>N`<p class="astro-BFWZE44J">${Mr(a)}</p>`)}
  </div>
</div>

`}),_pe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/accents/CenterAccent.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),W4=ie(async(e,t,r)=>{let i=e.createAstro(_pe,t,r);i.self=W4;let{backgroundType:s}=i.props,n=s==="body"?"var(--background-color)":s==="footer"?"var(--footer-background)":"var(--background-color-dark)",a=ai([{gridBlockBackground:n}]),o=[{props:{lang:"scss","define:vars":{gridBlockBackground:n},"data-astro-id":"QTFJGOV6"},children:".accent-container:where(.astro-QTFJGOV6){position:absolute;top:50%;left:50%;display:grid;grid-template-columns:1fr;grid-template-rows:1fr;width:100%;z-index:-1;transform:translate(-50%,-50%);aspect-ratio:4/6;overflow:hidden}@media (min-width: 600px){.accent-container:where(.astro-QTFJGOV6){width:400px}}.galaxy:where(.astro-QTFJGOV6){grid-column:1/-1;grid-row:1/-1;background-image:linear-gradient(217deg,rgba(20,255,255,0.8),rgba(122,0,235,0.8) 70%);border-radius:50%;filter:blur(70px);animation:rotateCenterGalaxy 4000ms linear infinite}.grid-container:where(.astro-QTFJGOV6){grid-column:1/-1;grid-row:1/-1;display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(6,1fr);gap:3px;width:100%;z-index:1}.grid-block:where(.astro-QTFJGOV6){background-color:var(--gridBlockBackground);width:100%;height:100%}@keyframes rotateCenterGalaxy{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}"}];for(let l of o)e.styles.add(l);return N`${pe(e)}<div class="accent-container astro-QTFJGOV6"${Se(a,"style")}>
  <div class="galaxy astro-QTFJGOV6"></div>
  <div class="grid-container astro-QTFJGOV6">
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
    <div class="grid-block astro-QTFJGOV6"></div>
  </div>
</div>`}),Dpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/SpeedForPhones/Images.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),q4=ie(async(e,t,r)=>{let i=e.createAstro(Dpe,t,r);i.self=q4;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/fww-google-speed-scores_M_1Fq7x_x.png?ik-sdk-version=javascript-1.4.3",n="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/ttf-google-speed-scores_nXl7pxcC4.png?ik-sdk-version=javascript-1.4.3",a=[];for(let o of a)e.styles.add(o);return N`${pe(e)}<div class="container astro-OVPMFLHU">
  <img class="fww-scores astro-OVPMFLHU"${Se(s,"src")} alt="Fit Women's Weekly on an iphone mockup" title="Fit Women's Weekly Google Site Speed Scores">
  <div class="image-container astro-OVPMFLHU">
    <img class="ttf-scores astro-OVPMFLHU"${Se(n,"src")} alt="This Time Fitness on an iphone mockup" title="This Time Fitness Google Site Speed Scores">
    <div class="galaxy astro-OVPMFLHU">
      ${O(e,"Galaxy",_r,{"client:idle":!0,color:"purple",width:200,height:200,blur:160,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-OVPMFLHU"})}
    </div>
  </div>
  ${O(e,"CenterAccent",W4,{backgroundType:"body",class:"astro-OVPMFLHU"})}
</div>

`}),Spe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/svgs/GoogleFullLogo.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Y4=ie(async(e,t,r)=>{let i=e.createAstro(Spe,t,r);i.self=Y4;let{width:s,height:n}=i.props;return N`${pe(e)}<svg viewBox="0 0 1134 384"${Se(s,"width")}${Se(n,"height")} xmlns="http://www.w3.org/2000/svg" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2">
    <path d="M482.292 196.583c0 53.209-41.625 92.417-92.709 92.417-51.083 0-92.708-39.208-92.708-92.417 0-53.583 41.625-92.416 92.708-92.416 51.084 0 92.709 38.833 92.709 92.416Zm-40.584 0c0-33.25-24.125-56-52.125-56s-52.125 22.75-52.125 56c0 32.917 24.125 56 52.125 56s52.125-23.125 52.125-56ZM682.292 196.583c0 53.209-41.625 92.417-92.709 92.417-51.083 0-92.708-39.208-92.708-92.417 0-53.541 41.625-92.416 92.708-92.416 51.084 0 92.709 38.833 92.709 92.416Zm-40.584 0c0-33.25-24.125-56-52.125-56s-52.125 22.75-52.125 56c0 32.917 24.125 56 52.125 56s52.125-23.125 52.125-56ZM873.958 109.75v165.917c0 68.25-40.25 96.125-87.833 96.125-44.792 0-71.75-29.959-81.917-54.459l35.334-14.708c6.291 15.042 21.708 32.792 46.541 32.792 30.459 0 49.334-18.792 49.334-54.167v-13.292H834c-9.083 11.209-26.583 21-48.667 21-46.208 0-88.541-40.25-88.541-92.041 0-52.167 42.333-92.75 88.541-92.75 22.042 0 39.542 9.791 48.667 20.666h1.417v-15.041h38.541v-.042Zm-35.666 87.167c0-32.542-21.709-56.334-49.334-56.334-28 0-51.458 23.792-51.458 56.334 0 32.208 23.458 55.666 51.458 55.666 27.625 0 49.334-23.458 49.334-55.666ZM897.917 12.5H937.5v270.833h-39.583zM1091.75 227l31.5 21c-10.167 15.042-34.667 40.958-77 40.958-52.5 0-91.708-40.583-91.708-92.416 0-54.959 39.541-92.417 87.166-92.417 47.959 0 71.417 38.167 79.084 58.792l4.208 10.5-123.542 51.166c9.459 18.542 24.167 28 44.792 28 20.667 0 35-10.166 45.5-25.583Zm-96.958-33.25 82.583-34.292c-4.542-11.541-18.208-19.583-34.292-19.583-20.625 0-49.333 18.208-48.291 53.875ZM147.042 172.542v-39.209h132.125c1.291 6.834 1.958 14.917 1.958 23.667 0 29.417-8.042 65.792-33.958 91.708-25.209 26.25-57.417 40.25-100.084 40.25C68 288.958 1.5 224.542 1.5 145.458c0-79.083 66.5-143.5 145.583-143.5 43.75 0 74.917 17.167 98.334 39.542L217.75 69.167c-16.792-15.75-39.542-28-70.708-28-57.75 0-102.917 46.541-102.917 104.291S89.292 249.75 147.042 249.75c37.458 0 58.791-15.042 72.458-28.708 11.083-11.084 18.375-26.917 21.25-48.542l-93.708.042Z" style="fill:#f8f8f8;fill-rule:nonzero"></path>
</svg>`}),Ape=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/cards/SpeedScoreDisclaimerCard.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),X4=ie(async(e,t,r)=>{let i=e.createAstro(Ape,t,r);i.self=X4;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-6275UMPQ">
  <div class="header astro-6275UMPQ">
    <div class="google-logo astro-6275UMPQ">
      ${O(e,"GoogleFullLogo",Y4,{class:"astro-6275UMPQ"})}
    </div>
    <p class="header-text astro-6275UMPQ">Lighthouse Speed Scores</p>
  </div>
  <p class="astro-6275UMPQ">The above scores are real Google Lighthouse scores on website performance. Click here and I'll show you how to run these tests for any website you want.</p>
</div>`}),Epe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/SpeedForPhones/DisclaimerSection.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Q4=ie(async(e,t,r)=>{let i=e.createAstro(Epe,t,r);i.self=Q4;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-EJHS764J">
  ${O(e,"SpeedScoreDisclaimerCard",X4,{class:"astro-EJHS764J"})}
  ${O(e,"InternalNavButton",oi,{type:"teal",slug:"/",title:"Setup a Nerd Chat",width:290,class:"astro-EJHS764J"},{default:()=>N`Setup A Nerd Chat`})}
</div>

`}),Cpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/SpeedForPhones/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Z4=ie(async(e,t,r)=>{let i=e.createAstro(Cpe,t,r);i.self=Z4;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-MMYEWEWZ">
  ${O(e,"SectionContent",G4,{class:"astro-MMYEWEWZ"})}
  ${O(e,"Images",q4,{class:"astro-MMYEWEWZ"})}
  ${O(e,"DisclaimerSection",Q4,{class:"astro-MMYEWEWZ"})}
</div>

`}),Tpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/EffortlessToUpdate/Headline.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),$4=ie(async(e,t,r)=>{let i=e.createAstro(Tpe,t,r);i.self=$4;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/cube-2_E_iAkTQsz.png?ik-sdk-version=javascript-1.4.3",n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-53M4J3SL">
  <img class="step-number astro-53M4J3SL"${Se(s,"src")} alt="Number 2 important website criteria." title="Easy To Update and Manage">
  <h1 class="headline astro-53M4J3SL">
    <span class="headline-group astro-53M4J3SL">
      <span class="astro-53M4J3SL">Effortless To</span>
      <span class="astro-53M4J3SL">Upate And</span>
    </span>
    <span class="astro-53M4J3SL">Take Care Of</span>
  </h1>
</div>

`}),Mpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/EffortlessToUpdate/BulletBlock.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),J4=ie(async(e,t,r)=>{let i=e.createAstro(Mpe,t,r);i.self=J4;let s=["Do you want to write blog posts and get <strong>FREE SEO traffic</strong>?","Do you need to create events or <strong>add new products</strong> every week?","We can make your website easy to update and <strong>manage yourself</strong>."],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-SCKTTKEB">
  <ul class="list astro-SCKTTKEB">
    ${s.map(a=>N`${O(e,"PunctuationBullet",St,{type:"question",bullet:a,class:"astro-SCKTTKEB"})}`)}
  </ul>
</div>

`}),Lpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/EffortlessToUpdate/EffortlessImage.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),K4=ie(async(e,t,r)=>{let i=e.createAstro(Lpe,t,r);i.self=K4;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/easy-to-build-update_cAXe67POq.png?ik-sdk-version=javascript-1.4.3",n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<img class="update-image astro-VREL7QZL"${Se(s,"src")} alt="Image of a blog post, updating an ecommerce product and a site update indicator." title="Effortless to Mange and Update">`}),kpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/EffortlessToUpdate/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),eI=ie(async(e,t,r)=>{let i=e.createAstro(kpe,t,r);i.self=eI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-CQHYM5GL">
  ${O(e,"Headline",$4,{class:"astro-CQHYM5GL"})}
  <div class="copy-container astro-CQHYM5GL">
    ${O(e,"EffortlessImage",K4,{class:"astro-CQHYM5GL"})}
    ${O(e,"BulletBlock",J4,{class:"astro-CQHYM5GL"})}
  </div>
  <div class="paragraph-container astro-CQHYM5GL">
    <p class="astro-CQHYM5GL">
      <span class="code-callout astro-CQHYM5GL">Or, we can do it all for you.</span> 
    </p>
    <p class="astro-CQHYM5GL">And you can focus on what you care most about... your business!</p>
  </div>
  <div class="button-container astro-CQHYM5GL">
    ${O(e,"InternalNavButton",oi,{type:"teal",slug:"/",title:"Schedule a Nerd Call",class:"astro-CQHYM5GL"},{default:()=>N`
      Schedule Nerd Call
    `})}
  </div>
</div>`}),Ppe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/SellSection/Headline.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),tI=ie(async(e,t,r)=>{let i=e.createAstro(Ppe,t,r);i.self=tI;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/cube-3_KKsu8TQcy.png?ik-sdk-version=javascript-1.4.3",n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-BJYKLMJC">
  <img class="step-number astro-BJYKLMJC"${Se(s,"src")} alt="Number 3 important website criteria" title="Sell And Make Money With Copy">
  <h1 class="astro-BJYKLMJC">
    <span class="headline-group astro-BJYKLMJC">
      <span class="astro-BJYKLMJC">Sell & Make</span>
      <span class="astro-BJYKLMJC">Money With</span>
    </span>
    <span class="astro-BJYKLMJC">Marketing Copy</span>
  </h1>
</div>`}),Bpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/SellSection/CopyBlock.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),rI=ie(async(e,t,r)=>{let i=e.createAstro(Bpe,t,r);i.self=rI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="astro-3JUBB6CZ">
  <p class="astro-3JUBB6CZ">
    <span class="code-callout astro-3JUBB6CZ">A website has one job... make money.</span>
  </p>
  <p class="astro-3JUBB6CZ">The design will be <strong class="astro-3JUBB6CZ">simple, clean and crisp</strong>.</p>
  <p class="astro-3JUBB6CZ">
    The copy will be <strong class="astro-3JUBB6CZ">persuasive, tight, and tease</strong> at what makes your perfect customer want to take action.
  </p>
  <p class="astro-3JUBB6CZ">
    We'll <strong class="astro-3JUBB6CZ">increase the odds as high as possible</strong> so your website becomes a lead machine a referral portal daily sales driver.
  </p>
</div>`}),Fpe=e=>typeof e=="function"&&!e.length?e():e;Rpe=["<div","><div","><img",' alt="Sales notification"></div><div',"><img",' alt="Lead notification"></div><div',"><img",' alt="Sales notification"></div><div',"><img",' alt="Lead notification"></div></div>'],iI=()=>{let e,t,r,i,s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/new-sale-notification_BDbBF6gXw.png?ik-sdk-version=javascript-1.4.3",n="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/new-lead-notification_Kq9EM5v_Q.png?ik-sdk-version=javascript-1.4.3",a=Ipe({rootMargin:"0% 0% -20% 0%",shouldUnobserve:!0});return a(()=>e),a(()=>t),a(()=>r),a(()=>i),nt(Rpe,at()+H("class",L(zs.container,!0),!1),H("class",L(zs.sale_container,!0),!1),H("class",L(zs.sale_notification,!0),!1)+H("src",L(s,!0),!1),H("class",L(zs.lead_container,!0),!1),H("class",L(zs.lead_notification,!0),!1)+H("src",L(n,!0),!1),H("class",L(zs.sale_container,!0),!1),H("class",L(zs.sale_notification,!0),!1)+H("src",L(s,!0),!1),H("class",L(zs.lead_container,!0),!1),H("class",L(zs.lead_notification,!0),!1)+H("src",L(n,!0),!1))};Me(iI,"@astrojs/solid-js");Npe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/webDev/SellSection/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),sI=ie(async(e,t,r)=>{let i=e.createAstro(Npe,t,r);i.self=sI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-LSAYCWSG">
  ${O(e,"Headline",tI,{class:"astro-LSAYCWSG"})}
  ${O(e,"SalesAndLeads",iI,{"client:idle":!0,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/SalesAndLeads","client:component-export":"SalesAndLeads",class:"astro-LSAYCWSG"})}
  ${O(e,"CopyBlock",rI,{class:"astro-LSAYCWSG"})}
  ${O(e,"MiddleRightAccent",Nm,{backgroundType:"body",class:"astro-LSAYCWSG"})}
  <div class="galaxy astro-LSAYCWSG"></div>
</div>`}),Upe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/callToActionSections/Headline.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Dw=ie(async(e,t,r)=>{let i=e.createAstro(Upe,t,r);i.self=Dw;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<h1 class="astro-BTLZOIUH">
  <span class="headline-group astro-BTLZOIUH">
    <span class="astro-BTLZOIUH">Schedule a FREE</span>
    <span class="astro-BTLZOIUH">40 Minute</span>
  </span>
  <span class="astro-BTLZOIUH">Nerd Chat</span>
</h1>`}),zpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/typography/BaseBullet.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Et=ie(async(e,t,r)=>{let i=e.createAstro(zpe,t,r);i.self=Et;let{small:s}=i.props,n="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/radio-focus_UiuHs8It6.png?ik-sdk-version=javascript-1.4.3",a={"--above-mobile-font-size":s?"2.1rem":"2.6rem"},o=[];for(let l of o)e.styles.add(l);return N`${pe(e)}<li${Se(a,"style")} class="astro-XZZRKQN5">
  <img${Se(n,"src")} alt="Bullet point" title="Important Bullet Point" class="astro-XZZRKQN5">
  ${zt(e,r.default)}
</li>`}),jpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/callToActionSections/FooterAndForm/ContentContainer.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),nI=ie(async(e,t,r)=>{let i=e.createAstro(jpe,t,r);i.self=nI;let s=["I'll help you understand what your website should do.","Why you probably need less pages than you think.","Plus what your first offer should be."],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-4BTG74GF">    
  ${O(e,"Headline",Dw,{class:"astro-4BTG74GF"})}
  <div class="content-container astro-4BTG74GF">
    <div class="bullet-container astro-4BTG74GF">
      ${s.map(a=>N`${O(e,"BaseBullet",Et,{class:"astro-4BTG74GF"},{default:()=>N`${a}`})}`)}
    </div>
    <div class="paragraphs astro-4BTG74GF">
      <p class="astro-4BTG74GF">It can seem overwhelming dealing with online tech stuff. I'll make it easy to understand so  you have a plan if we work together or not.</p>
      <p class="astro-4BTG74GF">Fill out the form below and let's schedule our nerd chat.</p>
    </div>
  </div>
</div>`}),Hpe=["<div","><div","><label",">","</label><!--#-->","<!--/--><div","><input","><div","><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--></div></div><div","></div></div><div","></div></div>"],ta=e=>{let[t,r]=We(!1);return vt(()=>{e.optional&&e.value===""?r(!0):r(!1)}),nt(Hpe,at()+H("class",L(wi.input_field_container,!0),!1),H("class",e.touched?L(wi.field_container_active,!0):L(wi.field_container,!0),!1),H("for",L(e.labelFor,!0),!1)+H("class",e.touched||!e.touched&&e.valid&&e.value!==""||!e.valid&&!e.initial&&e.value!==""?L(wi.input_label_active,!0):L(wi.input_label,!0),!1),L(e.labelName),L(Ne(jm,{get showTag(){return t()}})),H("class",L(wi.input_container,!0),!1),H("class",L(wi.the_input,!0),!1)+H("id",L(e.name,!0),!1)+H("type",L(e.inputType,!0),!1)+H("name",L(e.name,!0),!1)+H("value",L(e.value,!0),!1)+H("placeholder",L(e.placeholder,!0),!1),H("class",L(wi.input_status,!0),!1),e.valid&&!e.touched&&e.value!==""?L(Ne(Wd,{isTextInput:!0,isTrackingCheck:!1,get isActive(){return e.valid&&!e.touched}})):L(null),e.touched?L(Ne(zm,{get isActive(){return e.touched}})):L(null),!e.valid&&!e.touched&&!e.initial&&!e.optional?L(Ne(Um,{get isActive(){return!e.valid&&!e.touched}})):L(null),H("class",e.touched?L(wi.status_indicator_active,!0):!e.touched&&!e.valid&&!e.initial&&!e.optional||e.optional&&!e.initial&&!e.valid&&e.value!==""?L(wi.status_indicator_error,!0):L(wi.status_indicator,!0),!1),H("class",L(wi.input_shadow,!0),!1))};Me(ta,"@astrojs/solid-js");Vpe=["<input",">"],bm=e=>nt(Vpe,at()+H("class",e.dataName==="lastFour"?L(ax.the_input_pull_left,!0):L(ax.the_input,!0),!1)+H("id",L(e.name,!0),!1)+H("type",L(e.inputType,!0),!1)+H("name",L(e.name,!0),!1)+H("data-name",L(e.dataName,!0),!1)+H("value",L(e.value,!0),!1)+H("placeholder",L(e.placeholder,!0),!1));Me(bm,"@astrojs/solid-js");Gpe=["<div","><div",'><label for="phoneNumber"',">Phone Number</label><!--#-->","<!--/--><div","><span","><p",">(</p><!--#-->","<!--/--><p",">)</p></span><!--#-->","<!--/--><p",">-</p><!--#-->","<!--/--><div","><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--></div></div><div","></div></div><div","></div></div>"],Sw=e=>{let[t,r]=We(!1),i=vt(()=>jF().touched||HF().touched||VF().touched),s=vt(()=>Zb().valid&&$b().valid&&Jb().valid),n=vt(()=>Zb().value===""||$b().value===""||Jb().value===""),a=vt(()=>jF().initial&&HF().initial&&VF().initial);return vt(()=>{e.optional&&n()&&!i()?r(!0):r(!1)}),nt(Gpe,at()+H("class",L(xr.input_field_container,!0),!1),H("class",i()?L(xr.field_container_active,!0):L(xr.field_container,!0),!1),H("class",i()||!i()&&s()&&!n()||!s()&&!a()&&!n()?L(xr.input_label_active,!0):L(xr.input_label,!0),!1),L(Ne(jm,{get showTag(){return t()}})),H("class",L(xr.input_container,!0),!1),H("class",L(xr.area_code_container,!0),!1),H("class",i()||s()?L(xr.phone_number_extras,!0):L(xr.phone_number_extras_hidden,!0),!1),L(Ne(bm,{inputType:"number",name:"phoneNumber",dataName:"areaCode",get value(){return Zb().value},placeholder:"###",onInput:Jue,onFocus:GF,onBlur:GF})),H("class",i()||s()?L(xr.phone_number_extras,!0):L(xr.phone_number_extras_hidden,!0),!1),L(Ne(bm,{inputType:"number",name:"phoneNumber",dataName:"firstThree",get value(){return $b().value},placeholder:"###",onInput:Kue,onFocus:WF,onBlur:WF})),H("class",i()||s()?L(xr.phone_number_extras,!0):L(xr.phone_number_extras_hidden,!0),!1),L(Ne(bm,{inputType:"number",name:"phoneNumber",dataName:"lastFour",get value(){return Jb().value},placeholder:"####",onInput:ede,onFocus:qF,onBlur:qF})),H("class",L(xr.input_status,!0),!1),s()&&!i()&&!n()?L(Ne(Wd,{isTextInput:!0,isTrackingCheck:!1,get isActive(){return s()&&!i()}})):L(null),i()?L(Ne(zm,{get isActive(){return i()}})):L(null),!s()&&!i()&&!a()&&!e.optional?L(Ne(Um,{isActive:!s&&!i})):L(null),H("class",i()?L(xr.status_indicator_active,!0):!i()&&!s()&&!a()&&!e.optional||e.optional&&!a()&&!s()&&!n()?L(xr.status_indicator_error,!0):L(xr.status_indicator,!0),!1),H("class",L(xr.input_shadow,!0),!1))};Me(Sw,"@astrojs/solid-js");Wpe=["<form","><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--></form>"],aI=()=>{let e=vt(()=>Kn().valid&&Si().valid&&Kb().value!=="");return nt(Wpe,at()+H("class",L($2.lead_form,!0),!1),L(Ne(ta,{inputType:"text",name:"firstName",labelFor:"firstName",labelName:"First Name",labelInstructions:"Enter your first name",labelError:"Can't be blank",placeholder:"Enter your first name",get value(){return Kn().value},get valid(){return Kn().valid},get initial(){return Fc().initial},get touched(){return Fc().touched},onInput:bw,onFocus:Oc,onBlur:Oc,isLoading:!1})),L(Ne(ta,{inputType:"email",name:"emailAddress",labelFor:"emailAddress",labelName:"Email Address",labelInstructions:"Enter your email",labelError:"Must be valid email",placeholder:"Enter your email address",get value(){return Si().value},get valid(){return Si().valid},get initial(){return ea().initial},get touched(){return ea().touched},onInput:Rm,onFocus:qa,onBlur:qa,isLoading:!1})),L(Ne(Sw,{isLoading:!1,optional:!0})),L(Ne(qd,{name:"biggestPriority",questionLabel:"What is your biggest priority now?",get value(){return Kb().value},get options(){return Kb().options},updateInputValue:tde})),L(Ne(ta,{inputType:"text",name:"currentSite",labelFor:"currentSite",labelName:"Current Site",labelInstructions:"Enter your current site url",labelError:"No error",placeholder:"Enter your current site url",optional:!0,get value(){return Cm().value},get valid(){return Cm().valid},get initial(){return Tm().initial},get touched(){return Tm().touched},onInput:KO,onFocus:km,onBlur:km,isLoading:!1})),L(Ne(Ic,{name:"whyNow",labelFor:"whyNow",labelName:"Why is this important right now?",labelError:"No error",labelInstructions:"Try to be detailed",placeholder:"Tell me why is your project important right now...",maxLength:400,rows:8,optional:!0,get value(){return Mm().value},get valid(){return Mm().valid},get initial(){return Lm().initial},get touched(){return Lm().touched},onInput:e4,onFocus:Pm,onBlur:Pm,isLoading:!1})),L(Ne(Yd,{theme:"teal",get disabled(){return!e()},children:"Step 2 - Schecule Time"})))};Me(aI,"@astrojs/solid-js");qpe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/callToActionSections/FooterAndForm/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),oI=ie(async(e,t,r)=>{let i=e.createAstro(qpe,t,r);i.self=oI;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/nerd-chat-bubbles_QwS4ErsbU.png?ik-sdk-version=javascript-1.4.3",n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-7SVSHS4T">
  <img class="chat-image astro-7SVSHS4T"${Se(s,"src")} alt="Book a FREE Nerd Chat" title="Button a Free Nerd Chat">
  <div class="content-container astro-7SVSHS4T">
    ${O(e,"ContentContainer",nI,{class:"astro-7SVSHS4T"})}
    ${O(e,"LeadForm",aI,{"client:visible":!0,"client:component-hydration":"visible","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/forms/LeadForm","client:component-export":"LeadForm",class:"astro-7SVSHS4T"})}
  </div>
  <div class="galaxy astro-7SVSHS4T"></div>
</div>

`}),Ype=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/services/web-design-and-development.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),lI=ie(async(e,t,r)=>{let i=e.createAstro(Ype,t,r);i.self=lI;let s=[];for(let n of s)e.styles.add(n);return N`${O(e,"BaseLayout",Zt,{title:"Charleston Web Design and Developement",class:"astro-SH4TBSIN"},{default:()=>N`${pe(e)}<div class="view-container astro-SH4TBSIN">
    ${O(e,"Header",N4,{class:"astro-SH4TBSIN"})}
    ${O(e,"NotABusinessCard",H4,{class:"astro-SH4TBSIN"})}
    ${O(e,"SpeedForPhones",Z4,{class:"astro-SH4TBSIN"})}
    ${O(e,"EffortlessToUpdate",eI,{class:"astro-SH4TBSIN"})}
    ${O(e,"SellSection",sI,{class:"astro-SH4TBSIN"})}
    ${O(e,"FooterAndForm",oI,{class:"astro-SH4TBSIN"})}
  </div>${O(e,"Footer",ir,{class:"astro-SH4TBSIN"})}`})}

`}),Xpe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/services/web-design-and-development.astro",Qpe="/services/web-design-and-development",Zpe=Object.freeze(Object.defineProperty({__proto__:null,default:lI,file:Xpe,url:Qpe},Symbol.toStringTag,{value:"Module"})),$pe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/sevenDaySite/Header/Headline.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),cI=ie(async(e,t,r)=>{let i=e.createAstro($pe,t,r);i.self=cI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<h1 class="astro-YJZETG3K">
  <span class="blazing-container astro-YJZETG3K">
    <span class="normal pull-left astro-YJZETG3K">Get a</span>
    ${O(e,"PerspectiveGradient",Cn,{class:"astro-YJZETG3K"},{default:()=>N`BLAZING`})}
    ${O(e,"PerspectiveGradient",Cn,{class:"astro-YJZETG3K"},{default:()=>N`FAST`})}
  </span>
  <span class="website-container astro-YJZETG3K">
    <span class="normal astro-YJZETG3K">Website</span>
    <span class="normal smaller astro-YJZETG3K">(That Sells)</span>
  </span>
  ${O(e,"PerspectiveGradient",Cn,{isSmall:!0,class:"astro-YJZETG3K"},{default:()=>N`IN 7 DAYS`})}
</h1>`}),Jpe=["<div","></div>"],uI=e=>Ne(pO,{get each(){return e.daysArray},children:()=>nt(Jpe,at()+H("class",L(ML.day,!0),!1))});Me(uI,"@astrojs/solid-js");Kpe=["<div",' style="','"><p',">","</p></div>"],dI=e=>{let t=vt(()=>({"--day-background":e.isToday&&e.isBuildDay?"var(--accent-teal)":e.isBuildDay?"var(--accent-pink)":"hsla(218, 29%, 23%, 0.4)","--day-blur":e.isToday||e.isBuildDay?"blur(0)":"blur(2px)","--day-transform":e.isToday?"translate(20px, -12px) scale(1.4)":e.isBuildDay&&!e.isToday?"translate(12px, -8px) scale(1.05)":"none","--day-zindex":e.isToday?2:e.isBuildDay&&!e.isToday?1:"unset"}));return nt(Kpe,at()+H("class",L(ox.container,!0),!1),En(t()),H("class",L(ox.label,!0),!1),L(e.label))};Me(dI,"@astrojs/solid-js");hI=e=>{let t=()=>{let i=[];for(let s=0;s<e.daysArray.length;s++)for(let n=e.today;n<e.today+e.timelineInDays;n++)e.daysArray[s]+1===n&&i.push(n);return i},r=vt(()=>{let i=t();return e.daysArray.reduce((n,a)=>{let o=!1;for(let l=0;l<i.length;l++)a+1===i[l]&&(o=!0);return o?n.push(!0):n.push(!1),n},[])});return Ne(pO,{get each(){return e.daysArray},children:(i,s)=>{let n=e.today===s+1,a=r()[s];return Ne(dI,{get type(){return e.type},id:s,label:s+1,isToday:n,dayOfWeek:s+1,get activeDay(){return e.today},status:"blank",get activeMonth(){return e.activeMonth},get currentMonth(){return e.currentMonth},get year(){return e.currentYear},isBuildDay:a})}})};Me(hI,"@astrojs/solid-js");efe=()=>{let e=new Date,t=e.getMonth(),r=e.getDate(),i=e.getFullYear();return[t,r,i]},tfe=["<div","><div","><!--#-->","<!--/--><!--#-->","<!--/--></div></div>"],pI=e=>{let[t,r,i]=efe(),[s,n]=We([]),[a,o]=We([]);return nt(tfe,at()+H("class",L(lx.container,!0),!1),H("class",L(lx.days_container,!0),!1),L(Ne(uI,{get daysArray(){return s()}})),L(Ne(hI,{type:"date-picker",get daysArray(){return a()},today:r,activeMonth:t,currentMonth:t,currentYear:i,get timelineInDays(){return e.timelineInDays}})))};Me(pI,"@astrojs/solid-js");rfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/sevenDaySite/Header/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),fI=ie(async(e,t,r)=>{let i=e.createAstro(rfe,t,r);i.self=fI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="view-container astro-VBL364OY">
  <div class="content-container astro-VBL364OY">
    <div class="headline-container astro-VBL364OY">
      ${O(e,"Headline",cI,{class:"astro-VBL364OY"})}
      <div class="month-container astro-VBL364OY">
        ${O(e,"SevenDayCalendar",pI,{"client:load":!0,timelineInDays:7,"client:component-hydration":"load","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/SevenDayCalendar","client:component-export":"SevenDayCalendar",class:"astro-VBL364OY"})}
      </div>
    </div>
    ${O(e,"InternalNavButton",oi,{type:"teal",title:"Free Nerd Chat",slug:"/",width:290,class:"astro-VBL364OY"},{default:()=>N`Schedule a Nerd Chat`})}
  </div>
  ${O(e,"TopRightAccent",Xo,{backgroundType:"header",class:"astro-VBL364OY"})}
  <div class="galaxy astro-VBL364OY">
    ${O(e,"Galaxy",_r,{"client:idle":!0,color:"purple",width:220,height:220,blur:220,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-VBL364OY"})}
  </div>
</div>

`}),ife=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/sevenDaySite/LeadSection/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),mI=ie(async(e,t,r)=>{let i=e.createAstro(ife,t,r);i.self=mI;let s=["The decisions you make during step 1 will be with you for years to come. <strong>Let's not mess this up</strong>.","Plus a good website is expensive... maybe <strong>out of your budget</strong> right now."],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-CX6M54QQ">
  <div class="galaxy top-galaxy astro-CX6M54QQ"></div>
  <div class="grabber-container astro-CX6M54QQ">
    <div class="solo-grabber astro-CX6M54QQ">
      <p class="astro-CX6M54QQ">Building a website...</p>
      <p class="code-callout code-callout-large astro-CX6M54QQ">is no small decision.</p>
    </div>
    <div class="solo-grabber astro-CX6M54QQ">
      <p class="astro-CX6M54QQ">Small or large...</p>
      <p class="code-callout code-callout-large astro-CX6M54QQ">business is done online.</p>
    </div>
  </div>
  <div class="paragraphs astro-CX6M54QQ">
    ${s.map(a=>N`<p class="astro-CX6M54QQ">${Mr(a)}</p>`)}
  </div>
</div>

`}),sfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/sevenDaySite/IsForYouSection/Headline.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),gI=ie(async(e,t,r)=>{let i=e.createAstro(sfe,t,r);i.self=gI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<h1 class="astro-WT7XKFN6">
  <span class="headline-group astro-WT7XKFN6">
    <span class="astro-WT7XKFN6">That's Why I</span>
    <span class="astro-WT7XKFN6">Created The</span>
  </span>
  <span class="astro-WT7XKFN6">7 Day Site</span>
</h1>`}),nfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/sevenDaySite/IsForYouSection/QuestionList.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),vI=ie(async(e,t,r)=>{let i=e.createAstro(nfe,t,r);i.self=vI;let s=["If you have a <strong>limited budget</strong> but you know you need to get online fast...","If you have an awesome product or service you want to highlight and <strong>start selling like crazy</strong>...","If you need a website dedicated to <strong>getting leads</strong> and building an email list...","If you want the perfect <strong>starter website</strong>, ready to grow with you for years..."],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-DBVBOHMS">
  ${s.map(a=>N`${O(e,"PunctuationBullet",St,{type:"question",bullet:a,class:"astro-DBVBOHMS"})}`)}
</div>`}),afe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/sevenDaySite/IsForYouSection/ContentSection.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),yI=ie(async(e,t,r)=>{let i=e.createAstro(afe,t,r);i.self=yI;let s=["The 7 Day Site offer was <strong>created for you</strong>.","Don't confuse what a 7 Day Site can do... let me show you."],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-OMLHWZI2">
  ${O(e,"QuestionList",vI,{class:"astro-OMLHWZI2"})}
  <div class="paragraphs astro-OMLHWZI2">
    ${s.map(a=>N`<p class="astro-OMLHWZI2">${Mr(a)}</p>`)}
  </div>
</div>`}),ofe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/sevenDaySite/IsForYouSection/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),xI=ie(async(e,t,r)=>{let i=e.createAstro(ofe,t,r);i.self=xI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-CQI7QQ73">
  ${O(e,"Headline",gI,{class:"astro-CQI7QQ73"})}
  ${O(e,"ContentSection",yI,{class:"astro-CQI7QQ73"})}
  ${O(e,"MiddleRightAccent",Nm,{backgroundType:"body",class:"astro-CQI7QQ73"})}
</div>`}),lfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/sevenDaySite/HowToUseSection/Headline.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),bI=ie(async(e,t,r)=>{let i=e.createAstro(lfe,t,r);i.self=bI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<h1 class="astro-RMCJFVDA">
  <span class="headline-group astro-RMCJFVDA">
    <span class="astro-RMCJFVDA">Here Are Ideas</span>
    <span class="astro-RMCJFVDA">For How To Use</span>
  </span>
  <span class="astro-RMCJFVDA">Your 7 Day Site</span>
</h1>`}),cfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/cards/UseCaseCard.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),wI=ie(async(e,t,r)=>{let i=e.createAstro(cfe,t,r);i.self=wI;let{imageUrl:s,altTag:n,titleTag:a,useCase:o}=i.props,l=[];for(let c of l)e.styles.add(c);return N`${pe(e)}<div class="container astro-XGZ5MW5S">
  <img${Se(s,"src")}${Se(n,"alt")}${Se(a,"title")} class="astro-XGZ5MW5S">
  <p class="astro-XGZ5MW5S">${Mr(o)}</p>
</div>`}),ufe=[{id:0,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/incoming-calls-icon_9j6g7SEVk.png?ik-sdk-version=javascript-1.4.3",altTag:"A picture of an iphone that is ringing with a lead",titleTag:"Get Your Phone To Ring",useCase:"Get your phone to <strong>ring off the hook</strong> for consultations."},{id:1,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/explode-sales-icon_Vj5e2uWzF.png?ik-sdk-version=javascript-1.4.3",altTag:"A graph showing sales are increasing.",titleTag:"Get Your Sales To Explode",useCase:"<strong>Explode sales</strong> of your hottest selling dress... or any product."},{id:2,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/get-leads-icon_DYDw__SVf.png?ik-sdk-version=javascript-1.4.3",altTag:"Get leads and build your email list.",titleTag:"Get Leads and Build Your Newsletter",useCase:"<strong>Build a huge email list</strong> of people interested in saving money on their taxes."},{id:3,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/rent-abnb-icon_rh5CTUwHd.png?ik-sdk-version=javascript-1.4.3",altTag:"A picture of a for rent sign.",titleTag:"Showcase Your Airbnb And Property",useCase:"<strong>Sell the benefits</strong> of your high end Air BNB or luxury property."},{id:4,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/perfect-landing-page_IhbaGgzXq.png?ik-sdk-version=javascript-1.4.3",altTag:"A landing page that focus on the conversion.",titleTag:"Landing Page Focuses on Conversion",useCase:"<strong>The perfect landing page</strong>... allowing you to spend money on traffic know you'll make it back 10X."},{id:5,imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/launch-website-icon_fGOXuAvIK.png?ik-sdk-version=javascript-1.4.3",altTag:"A webiste with a big launch button.",titleTag:"Launch Your Website The Right Way",useCase:"Or just get your business online with the perfect starter website <strong>designed to sell!</strong>"}],dfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/sevenDaySite/HowToUseSection/UseCases.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),_I=ie(async(e,t,r)=>{let i=e.createAstro(dfe,t,r);i.self=_I;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-BXFT5ULO">
  <div class="card-container astro-BXFT5ULO">
    ${ufe.map(n=>{let{id:a,imageUrl:o,altTag:l,titleTag:c,useCase:h}=n;return N`${O(e,"UseCaseCard",wI,{id:a,imageUrl:o,altTag:l,titleTag:c,useCase:h,class:"astro-BXFT5ULO"})}`})}
  </div>
  <div class="button-container astro-BXFT5ULO">
    ${O(e,"InternalNavButton",oi,{type:"teal",title:"Setup a Nerd Chat",slug:"/",class:"astro-BXFT5ULO"},{default:()=>N`Setup a Nerd Chat`})}
  </div>
</div>`}),hfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/sevenDaySite/HowToUseSection/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),DI=ie(async(e,t,r)=>{let i=e.createAstro(hfe,t,r);i.self=DI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-W5WVDKZE">
  <div class="content-container astro-W5WVDKZE">
    ${O(e,"Headline",bI,{class:"astro-W5WVDKZE"})}
    ${O(e,"UseCases",_I,{class:"astro-W5WVDKZE"})}
  </div>
  ${O(e,"TopRightAccent",Xo,{backgroundType:"header",class:"astro-W5WVDKZE"})}
  ${O(e,"BottomLeftAccent",zc,{backgroundType:"header",class:"astro-W5WVDKZE"})}
</div>

`}),pfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/sevenDaySite/WhatYouGetSection/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),SI=ie(async(e,t,r)=>{let i=e.createAstro(pfe,t,r);i.self=SI;let s=["Home page (the main sales page)","About page (backup the offer you're making)","Contact page (not the main lead form)","Or we can change things up."],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-HXAA264S">
  <h1 class="astro-HXAA264S">Here's What You Get:</h1>
  <div class="bullet-container astro-HXAA264S">
    ${s.map(a=>N`${O(e,"PunctuationBullet",St,{type:"check",bullet:a,class:"astro-HXAA264S"})}`)}
  </div>
</div>`}),ffe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/sevenDaySite/HideNerdyStuffSection/Headline.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),AI=ie(async(e,t,r)=>{let i=e.createAstro(ffe,t,r);i.self=AI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<h3 class="astro-AQ3IYKQH">
  <span class="headline-group astro-AQ3IYKQH">
    <span class="astro-AQ3IYKQH">I'll Add Custom</span>
    <span class="astro-AQ3IYKQH">Functions & Hide</span>
  </span>
  <span class="astro-AQ3IYKQH">The Nerdy Stuff</span>
</h3>`}),mfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/sevenDaySite/HideNerdyStuffSection/NerdyBullets.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),EI=ie(async(e,t,r)=>{let i=e.createAstro(mfe,t,r);i.self=EI;let s=["AirTable database to <strong>store your leads</strong>","Notification emails straight to <strong>your phone</strong>","Simple Stripe hookup for <strong>single payments</strong>","Hooked up to my recommended email marketing service"],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-2RRB7VTB">
  ${s.map(a=>N`${O(e,"PunctuationBullet",St,{type:"exclaimation",bullet:a,class:"astro-2RRB7VTB"})}`)}
</div>`}),gfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/sevenDaySite/HideNerdyStuffSection/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),CI=ie(async(e,t,r)=>{let i=e.createAstro(gfe,t,r);i.self=CI;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/nerdy-stuff_eef2vM9zM.png?ik-sdk-version=javascript-1.4.3",n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-MSXDWWWZ">
  ${O(e,"Headline",AI,{class:"astro-MSXDWWWZ"})}
  <div class="content-container astro-MSXDWWWZ">
    <div class="nerdy-stuff-container astro-MSXDWWWZ">
      <img class="nerdy-stuff astro-MSXDWWWZ"${Se(s,"src")} alt="Picture of backend code hooking up services for the website" title="Hide the Nerdy Stuff">
      <div class="galaxy astro-MSXDWWWZ"></div>
    </div>
    ${O(e,"NerdyBullets",EI,{class:"astro-MSXDWWWZ"})}
  </div>
</div>`}),vfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/callToActionSections/SevenDaySiteForm/ContentContainer.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),TI=ie(async(e,t,r)=>{let i=e.createAstro(vfe,t,r);i.self=TI;let s=["This is a productized service.","<strong>Its also a partnership</strong>.","I expect you to use this site to grow your business."],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-JF7M7HCQ">
  ${O(e,"Headline",Dw,{class:"astro-JF7M7HCQ"})}
  <div class="content-container astro-JF7M7HCQ">
    ${s.map(a=>N`${O(e,"BaseBullet",Et,{class:"astro-JF7M7HCQ"},{default:()=>N`<span class="astro-JF7M7HCQ">${Mr(a)}</span>`})}`)}
    <div class="price-container astro-JF7M7HCQ">
      <div class="pricing-container astro-JF7M7HCQ">
        <p class="astro-JF7M7HCQ">Pricing Starts At:</p>
        ${O(e,"TerminalHeader",jc,{cursor:!0,class:"astro-JF7M7HCQ"},{default:()=>N`<p class="astro-JF7M7HCQ">$1800</p>`})}
      </div>
      <p class="price-explainer astro-JF7M7HCQ">
        The goal of this service is to get you a 3 page website in 7 days. The
        pricing will only go up if you want to add another landing page. Beyond
        that, I'll quote you normal web design pricing.
      </p>
    </div>
  </div>
</div>

`}),yfe=["<form","><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--></form>"],MI=()=>{let e=vt(()=>Kn().valid&&Si().valid&&ew().value!=="");return nt(yfe,at()+H("class",L(LL.lead_form,!0),!1),L(Ne(ta,{inputType:"text",name:"firstName",labelFor:"firstName",labelName:"First Name",labelInstructions:"Enter your first name",labelError:"Can't be blank",placeholder:"Enter your first name",get value(){return Kn().value},get valid(){return Kn().valid},get initial(){return Fc().initial},get touched(){return Fc().touched},onInput:bw,onFocus:Oc,onBlur:Oc,isLoading:!1})),L(Ne(ta,{inputType:"email",name:"emailAddress",labelFor:"emailAddress",labelName:"Email Address",labelInstructions:"Enter your email",labelError:"Must be valid email",placeholder:"Enter your email address",get value(){return Si().value},get valid(){return Si().valid},get initial(){return ea().initial},get touched(){return ea().touched},onInput:Rm,onFocus:qa,onBlur:qa,isLoading:!1})),L(Ne(Sw,{isLoading:!1,optional:!0})),L(Ne(qd,{name:"biggestPriority",questionLabel:"What's your seven day site goal?",get value(){return ew().value},get options(){return ew().options},updateInputValue:rde})),L(Ne(ta,{inputType:"text",name:"currentSite",labelFor:"currentSite",labelName:"Current Site",labelInstructions:"Enter your current site url",labelError:"No error",placeholder:"Enter your current site url",optional:!0,get value(){return Cm().value},get valid(){return Cm().valid},get initial(){return Tm().initial},get touched(){return Tm().touched},onInput:KO,onFocus:km,onBlur:km,isLoading:!1})),L(Ne(Ic,{name:"whyNow",labelFor:"whyNow",labelName:"Why is this important right now?",labelError:"No error",labelInstructions:"Try to be detailed",placeholder:"Tell me why is your project important right now...",maxLength:400,rows:8,optional:!0,get value(){return Mm().value},get valid(){return Mm().valid},get initial(){return Lm().initial},get touched(){return Lm().touched},onInput:e4,onFocus:Pm,onBlur:Pm,isLoading:!1})),L(Ne(Yd,{theme:"teal",get disabled(){return!e()},children:"Step 2 - Schecule Time"})))};Me(MI,"@astrojs/solid-js");xfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/callToActionSections/SevenDaySiteForm/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),LI=ie(async(e,t,r)=>{let i=e.createAstro(xfe,t,r);i.self=LI;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/nerd-chat-bubbles_QwS4ErsbU.png?ik-sdk-version=javascript-1.4.3",n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-YK6FYUPX">
  ${O(e,"TopRightAccent",Xo,{backgroundType:"header",class:"astro-YK6FYUPX"})}
  <div class="galaxy astro-YK6FYUPX">
    ${O(e,"Galaxy",_r,{"client:idle":!0,color:"pink",width:220,height:220,blur:200,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-YK6FYUPX"})}
  </div>
  <img class="nerd-chat astro-YK6FYUPX"${Se(s,"src")} alt="Book a FREE Nerd Chat" title="Button a Free Nerd Chat">
  <div class="content-container astro-YK6FYUPX">
    ${O(e,"ContentContainer",TI,{class:"astro-YK6FYUPX"})}
    ${O(e,"SevenDaySiteForm",MI,{"client:visible":!0,"client:component-hydration":"visible","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/forms/SevenDaySiteForm","client:component-export":"SevenDaySiteForm",class:"astro-YK6FYUPX"})}
  </div>
</div>

`}),bfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/services/seven-day-site.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),kI=ie(async(e,t,r)=>{let i=e.createAstro(bfe,t,r);i.self=kI;let s=[];for(let n of s)e.styles.add(n);return N`${O(e,"BaseLayout",Zt,{title:"7 Day Site",class:"astro-DX67M3FA"},{default:()=>N`${pe(e)}<div class="view-container astro-DX67M3FA">
    ${O(e,"Header",fI,{class:"astro-DX67M3FA"})}
    ${O(e,"LeadSection",mI,{class:"astro-DX67M3FA"})}
    ${O(e,"IsForYouSection",xI,{class:"astro-DX67M3FA"})}
    ${O(e,"HowToUseSection",DI,{class:"astro-DX67M3FA"})}
    ${O(e,"WhatYouGetSection",SI,{class:"astro-DX67M3FA"})}
    ${O(e,"HideNerdyStuffSection",CI,{class:"astro-DX67M3FA"})}
    ${O(e,"SevenDaySiteForm",LI,{class:"astro-DX67M3FA"})}
  </div>${O(e,"Footer",ir,{class:"astro-DX67M3FA"})}`})}`}),wfe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/services/seven-day-site.astro",_fe="/services/seven-day-site",Dfe=Object.freeze(Object.defineProperty({__proto__:null,default:kI,file:wfe,url:_fe},Symbol.toStringTag,{value:"Module"})),Sfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/CopyServices/Header/EmailAutomationChip.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),PI=ie(async(e,t,r)=>{let i=e.createAstro(Sfe,t,r);i.self=PI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="astro-REIBO7Z3">
  <p class="astro-REIBO7Z3">Email Automations</p>
</div>`}),Afe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/CopyServices/Header/BlogPostsChip.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),BI=ie(async(e,t,r)=>{let i=e.createAstro(Afe,t,r);i.self=BI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="astro-Z5ZZFZXC">
  <p class="astro-Z5ZZFZXC">Blog Posts</p>
</div>`}),Efe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/CopyServices/Header/AdCopyChip.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),FI=ie(async(e,t,r)=>{let i=e.createAstro(Efe,t,r);i.self=FI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="astro-3ZRXICZ4">
  <p class="astro-3ZRXICZ4">Digital Ad Copy</p>
</div>`}),Cfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/CopyServices/Header/LandingPageChip.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),OI=ie(async(e,t,r)=>{let i=e.createAstro(Cfe,t,r);i.self=OI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="astro-WEMIPQPU">
  <p class="astro-WEMIPQPU">Landing Page Copy</p>
</div>`}),Tfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/CopyServices/Header/ProductDescriptionChip.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),II=ie(async(e,t,r)=>{let i=e.createAstro(Tfe,t,r);i.self=II;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="astro-YICZ4XVA">
  <p class="astro-YICZ4XVA">Product Description Copy</p>
</div>`}),Mfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/CopyServices/Header/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),RI=ie(async(e,t,r)=>{let i=e.createAstro(Mfe,t,r);i.self=RI;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/copy-header-word_FD4MRnT7Z.png?ik-sdk-version=javascript-1.4.3",n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="header-container astro-7ARULN2H">
  <div class="content-container astro-7ARULN2H">
    <div class="headline-container astro-7ARULN2H">
      <h3 class="astro-7ARULN2H">Sell More With</h3>
      <img class="copy-logo astro-7ARULN2H"${Se(s,"src")} alt="Copywriting and content logo" title="Copy and Content Services">
    </div>
    ${O(e,"EmailAutomationChip",PI,{class:"astro-7ARULN2H"})}
    ${O(e,"BlogPostsChip",BI,{class:"astro-7ARULN2H"})}
    ${O(e,"AdCopyChip",FI,{class:"astro-7ARULN2H"})}
    ${O(e,"LandingPageChip",OI,{class:"astro-7ARULN2H"})}
    ${O(e,"ProductDescriptionChip",II,{class:"astro-7ARULN2H"})}
  </div>
  ${O(e,"BottomLeftAccent",zc,{backgroundType:"header",class:"astro-7ARULN2H"})}
  <div class="galaxy-teal astro-7ARULN2H">
    ${O(e,"Galaxy",_r,{"client:idle":!0,color:"teal",width:180,height:180,blur:200,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-7ARULN2H"})}
  </div>
  <div class="galaxy-purple astro-7ARULN2H">
    ${O(e,"Galaxy",_r,{"client:idle":!0,color:"purple",width:200,height:200,blur:200,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-7ARULN2H"})}
  </div>
</div>

`}),Lfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/CopyServices/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),NI=ie(async(e,t,r)=>{let i=e.createAstro(Lfe,t,r);i.self=NI;let{data:s}=i.props,n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="view-container astro-6Q75HRQB">
  ${O(e,"Header",RI,{class:"astro-6Q75HRQB"})}
  <div class="container astro-6Q75HRQB">
    <div class="cards-container astro-6Q75HRQB">
      ${s.map(a=>{let{id:o,imageUrl:l,altTag:c,titleTag:h,headline:u,description:d,buttonLabel:p,buttonTitle:g,slug:m}=a;return N`${O(e,"CopywritingCard",yw,{id:o,imageUrl:l,altTag:c,titleTag:h,headline:u,description:d,buttonLabel:p,buttonTitle:g,slug:m,class:"astro-6Q75HRQB"})}`})}
    </div>
  </div>
</div>

`}),kfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/services/copy/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),UI=ie(async(e,t,r)=>{let i=e.createAstro(kfe,t,r);i.self=UI;let n=(await i.glob(Object.assign({"../../../data/copy-services/blog-posts-copy.mdx":()=>Promise.resolve().then(()=>(Ab(),Sb)),"../../../data/copy-services/digital-ad-writing-copy.mdx":()=>Promise.resolve().then(()=>(Cb(),Eb)),"../../../data/copy-services/ecom-product-copy.mdx":()=>Promise.resolve().then(()=>(Mb(),Tb)),"../../../data/copy-services/email-marketing-copy.mdx":()=>Promise.resolve().then(()=>(kb(),Lb)),"../../../data/copy-services/nerd-copy-chat.mdx":()=>Promise.resolve().then(()=>(Bb(),Pb)),"../../../data/copy-services/web-page-sales-copy.mdx":()=>Promise.resolve().then(()=>(Ob(),Fb))}),()=>"../../../data/copy-services/*.mdx")).map(a=>{let{id:o,slug:l,imageUrl:c,altTag:h,titleTag:u,headline:d,description:p,buttonLabel:g,buttonTitle:m}=a.frontmatter;return{id:o,slug:`copy/${l}`,imageUrl:c,altTag:h,titleTag:u,headline:d,description:p,buttonLabel:g,buttonTitle:m}}).sort((a,o)=>a.id<o.id?-1:1);return N`${O(e,"BaseLayout",Zt,{title:"Copywriting and Content for Your Business"},{default:()=>N`${O(e,"CopyServices",NI,{data:n})}${O(e,"Footer",ir,{})}`})}`}),Pfe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/services/copy/index.astro",Bfe="/services/copy",Ffe=Object.freeze(Object.defineProperty({__proto__:null,default:UI,file:Pfe,url:Bfe},Symbol.toStringTag,{value:"Module"})),Ofe=["<svg",' viewBox="0 0 328 318"',' xmlns="http://www.w3.org/2000/svg" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path style="fill:none" d="M0 0h327.645v317.788H0z"></path><path d="M245.133 145.541c-1.053-1.234-2.839-1.956-4.704-1.956-1.776 0-3.561.722-4.544 1.956-1.334 1.254-2.056 2.859-2.056 4.644 0 1.855.722 3.54 2.056 4.624.983 1.253 2.768 1.955 4.544 1.955 1.865 0 3.651-.702 4.704-1.955 1.253-1.084 1.875-2.769 1.875-4.624 0-1.785-.622-3.21-1.605-4.373l-.07-.09-.2-.181Zm-4.704-17.001a21.503 21.503 0 0 0-15.216 6.329c-4.022 3.912-6.429 9.238-6.429 15.316 0 6.048 2.407 11.384 6.429 15.295a21.503 21.503 0 0 0 15.216 6.329 21.589 21.589 0 0 0 15.305-6.329c3.912-3.911 6.419-9.247 6.419-15.295 0-5.697-2.327-10.873-5.797-14.794l-.622-.522a21.589 21.589 0 0 0-15.305-6.329M193.77 81.891c-8.716-1.875-17.904-2.678-27.603-2.678-32.045 0-60.981 10.692-81.904 27.954-20.04 16.75-32.677 39.808-32.677 64.903 0 12.999 3.29 25.285 9.267 36.509 6.229 11.855 15.497 22.427 27.051 31.173 4.824 3.741 6.409 10.672 3.139 16.198l-10.35 17.703c-.171.531-.422.983-.703 1.514-.972 2.157-1.253 4.644-.451 6.781.451 2.306 1.966 4.262 3.922 5.697l.983.531c2.126 1.073 4.443 1.254 6.599.803l.331-.101c2.608-.531 4.724-2.307 5.978-4.523l11.575-19.689c2.668-5.506 8.896-8.184 14.964-6.228 6.58 2.136 13.711 3.741 20.652 4.894 6.76.983 14.062 1.605 21.624 1.605 7.733 0 14.794-.622 21.645-1.605 7.111-1.153 13.971-2.758 20.752-4.894 5.596-1.886 11.654.351 14.593 5.526l11.204 19.408c.371.531.802.882.972 1.414 1.254 2.056 3.32 3.561 5.627 4.092 2.137.552 4.724.371 7.031-.702l.983-.712c1.956-1.254 3.47-3.29 3.992-5.516.632-2.137.451-4.624-.522-6.781a33.01 33.01 0 0 1-.982-1.514l-10.05-17.703c-3.21-5.346-1.786-12.387 3.109-16.198 6.941-5.356 13.169-11.404 18.435-18.004 4.975-6.208 8.896-12.989 11.835-20.1 1.685-4.904 6.329-8.385 11.855-8.385h9.419c.631 0 1.434-.261 1.785-.712.351-.351.622-.893.622-1.675v-37.672c0-.632-.351-1.254-.622-1.605-.351-.532-1.154-.883-1.785-.883h-9.419c-4.994 0-9.719-2.868-11.674-7.662-2.668-6.41-6.058-12.658-10.331-18.335-4.283-5.707-9.268-11.224-14.694-16.048-3.561-2.838-5.426-7.562-4.544-12.277l3.742-17.963-17.703 10.321c-3.491 2.307-7.934 2.838-11.855 1.153a127.833 127.833 0 0 0-25.817-8.014m-27.603-27.773c11.123 0 21.996 1.154 32.497 3.29l3.039.622c-.551-10.341-4.824-19.689-11.574-26.439l-.361-.551c-7.302-7.292-17.623-11.836-28.846-11.836-11.234 0-21.354 4.544-28.856 11.836-7.292 7.502-11.916 17.803-11.916 28.956v.702c14.423-4.273 29.909-6.58 46.017-6.58M160.922 4.16c15.396 0 29.377 6.228 39.527 16.208l.352.541c9.889 9.97 15.947 23.842 15.947 39.087v2.136c2.217.702 4.443 1.505 6.76 2.307l37.291-21.825c5.978-3.54 13.641-1.605 17.111 4.373 1.505 2.758 2.127 5.978 1.425 8.817l-8.014 38.625c5.155 4.824 9.528 10.17 13.721 15.496 3.54 4.995 6.85 10.341 9.518 15.847h1.505c7.662 0 14.613 3.039 19.508 8.034 4.904 4.975 7.993 11.835 7.993 19.398v37.672c0 7.553-3.089 14.493-8.084 19.388h.091c-4.895 5.095-11.846 8.114-19.508 8.114h-1.505a109.471 109.471 0 0 1-12.016 18.866 109.428 109.428 0 0 1-14.353 15.316l5.447 9.268.531.973c4.464 8.294 5.166 17.361 2.939 25.646-2.317 8.545-7.743 16.479-16.108 21.103l-.802.441c-8.115 4.453-17.362 5.256-25.647 2.939h-.09c-8.646-2.227-16.379-7.673-21.183-16.018l-.452-.902-6.328-11.053c-4.795 1.253-9.79 2.236-14.865 3.039a165.24 165.24 0 0 1-25.466 1.955c-8.465 0-17-.621-25.446-1.955-4.994-.803-9.889-1.786-14.693-3.039l-7.031 11.955c-4.724 8.345-12.558 13.892-21.103 16.018l-.823.361c-8.365 1.956-17.532.973-25.616-3.741l-.451-.181c-8.115-4.814-13.541-12.457-15.777-20.922-2.388-8.636-1.324-18.084 3.39-26.449v-.17l5.606-9.268c-10.501-9.438-19.217-20.301-25.465-32.306a100.64 100.64 0 0 1-12.087-42.838l-1.624-.532-.432-.18c-4.272-1.956-8.194-4.634-11.323-7.914-6.58-6.499-10.682-15.586-10.682-25.736 0-9.8 3.741-19.137 10.682-25.817 2.778-3.019 7.582-3.019 10.521 0 2.939 2.758 2.939 7.562 0 10.501-3.922 4.112-6.229 9.518-6.229 15.316 0 5.877 2.488 11.223 6.229 15.225.973.973 2.126 1.876 3.29 2.678 3.29-28.595 18.435-54.141 41.213-73.108 10.872-8.896 23.249-16.379 37.221-21.905-.181-2.127-.351-3.992-.351-5.948 0-15.416 6.228-29.287 16.298-39.458v-.17c10.05-9.98 24.112-16.208 39.438-16.208" style="fill:#f8f8f8;fill-rule:nonzero"></path><path d="M99.988 83.417 33.737 152.48l37.298 89.863 9.542 58.022 50.797-27.783 75.961.041 30.604 24.238 17.842 2.591.558-52.386 47.635-50.06-3.206-52.243-49.258-76.519-74.814.371-76.708 14.802Z" style="fill:#f8f8f8;fill-opacity:.4"></path></svg>'],zI=e=>nt(Ofe,at(),H("width",L(e.width,!0),!1)+H("height",L(e.height,!0),!1));Me(zI,"@astrojs/solid-js");Ife=["<div","><a",' rel="noopener noreferrer" target="_blank"',"><div",">","</div><!--#-->","<!--/--></a></div>"],Qo=e=>{let t=Nc(()=>e.children);return nt(Ife,at()+H("class",L(bc.button_container,!0),!1),H("href",L(e.url,!0),!1),H("class",e.theme==="teal"?L(bc.button_teal,!0):e.theme==="purple"?L(bc.button_purple,!0):L(bc.button_pink,!0),!1),H("class",L(bc.button_icon,!0),!1),L(Ne(zI,{})),L(t()))};Me(Qo,"@astrojs/solid-js");Rfe=["<div","><div","><h3",">Purchase Blog Posts</h3><p",">Select the number of blog posts you want. Currently the max is 5.</p></div><div","><!--#-->","<!--/--><div","><p",">$</p><p",">","</p></div><!--#-->","<!--/--></div></div>"],jI=()=>{let[e,t]=We(250),[r,i]=We(""),[s,n]=We(351);vt(()=>{An().value===1&&(t(125),i("https://buy.stripe.com/8wM1807GV5FRgYU002")),An().value===2&&(t(250),i("https://buy.stripe.com/14kdUMaT7gkv384cMP")),An().value===3&&(t(350),i("https://buy.stripe.com/bIYg2Ugdrgkv6kgfZ2")),An().value===4&&(t(450),i("https://buy.stripe.com/8wM3g86CR4BN2404gl")),An().value===5&&(t(550),i("https://buy.stripe.com/14kbME5yNc4f9ws7sy"))}),vt(()=>{cs()&&n(351),cs()||n(311)});let a=()=>An().value===1?`Buy ${An().value} Blog Post`:`Buy ${An().value} Blog Posts`;return nt(Rfe,at()+H("class",L(qn.form_container,!0),!1),H("class",L(qn.content_container,!0),!1),H("class",L(qn.form_headline,!0),!1),H("class",L(qn.form_description,!0),!1),H("class",L(qn.input_container,!0),!1),L(Ne(ra,{get inputWidth(){return s()},label:"Num of Blog Posts",name:"blogPosts",startingValue:2,get value(){return An().value},get options(){return An().options},updateInputValue:bde})),H("class",L(qn.price_container,!0),!1),H("class",L(qn.price_sign,!0),!1),H("class",L(qn.price,!0),!1),L(e()),L(Ne(Qo,{theme:"teal",get url(){return r()},get children(){return a()}})))};Me(jI,"@astrojs/solid-js");Nfe=["<div","><div","><h3",">Purchase Web Sales Pages</h3><p",">Select the number of sales pages you want. Currently the max is 3.</p></div><div","><!--#-->","<!--/--><div","><p",">$</p><p",">","</p></div><!--#-->","<!--/--></div></div>"],HI=()=>{let[e,t]=We(794),[r,i]=We(""),[s,n]=We(351);vt(()=>{$n().value===1&&(t(397),i("https://buy.stripe.com/9AQ2c44uJgkv240cN5")),$n().value===2&&(t(794),i("https://buy.stripe.com/cN21803qF2tFbEAfZi")),$n().value===3&&(t(1191),i("https://buy.stripe.com/cN21803qF2tFbEAfZi")),$n().value===4&&(t(1588),i("https://buy.stripe.com/fZe4kc3qF8S36kgdRc"))}),vt(()=>{cs()&&n(351),cs()||n(311)});let a=()=>$n().value===1?`Buy ${$n().value} Sales Page`:`Buy ${$n().value} Sales Pages`;return nt(Nfe,at()+H("class",L(Yn.form_container,!0),!1),H("class",L(Yn.content_container,!0),!1),H("class",L(Yn.form_headline,!0),!1),H("class",L(Yn.form_description,!0),!1),H("class",L(Yn.input_container,!0),!1),L(Ne(ra,{get inputWidth(){return s()},label:"Num of Sales Pages",name:"webSalesCopy",startingValue:2,get value(){return $n().value},get options(){return $n().options},updateInputValue:Pde})),H("class",L(Yn.price_container,!0),!1),H("class",L(Yn.price_sign,!0),!1),H("class",L(Yn.price,!0),!1),L(e()),L(Ne(Qo,{theme:"teal",get url(){return r()},get children(){return a()}})))};Me(HI,"@astrojs/solid-js");Ufe=["<div","><div","><p",">Automation</p></div><div","><p",">Broadcast</p></div></div>"],VI=()=>nt(Ufe,at()+H("class",L(bn.indicator_container,!0),!1),H("class",wr().value>1?L(bn.type_container_active,!0):L(bn.type_container,!0),!1),H("class",wr().value>1?L(bn.type_label_active,!0):L(bn.type_label,!0),!1),H("class",wr().value===1?L(bn.type_container_active,!0):L(bn.type_container,!0),!1),H("class",wr().value===1?L(bn.type_label_active,!0):L(bn.type_label,!0),!1));Me(VI,"@astrojs/solid-js");zfe=["<div","><div","><h3",">Purchase Email Copy</h3><p",">Select if you want a broadcase or automation. If automation, select the number of emails you want.</p></div><div","><div","><!--#-->","<!--/--><!--#-->","<!--/--></div><div","><p",">$</p><p",">","</p></div><!--#-->","<!--/--></div></div>"],GI=e=>{let[t,r]=We(794),[i,s]=We(""),[n,a]=We(351);vt(()=>{wr().value===1&&(r(100),s("https://buy.stripe.com/7sI03W4uJ1pB6kg007")),wr().value===2&&(r(177),s("https://buy.stripe.com/8wM03WaT74BNbEAaEM")),wr().value===3&&(r(247),s("https://buy.stripe.com/5kAcQI2mB0lxgYU5kt")),wr().value===4&&(r(297),s("https://buy.stripe.com/14kdUM3qF4BN6kgbIS")),wr().value===5&&(r(347),s("https://buy.stripe.com/cN27wo9P33xJbEA4gr")),wr().value===6&&(r(397),s("https://buy.stripe.com/28o5ogbXb9W738428k")),wr().value===7&&(r(447),s("https://buy.stripe.com/cN29Ew4uJgkv6kg8wJ")),wr().value===8&&(r(497),s("https://buy.stripe.com/00geYQgdr9W79wsaES")),wr().value===9&&(r(547),s("https://buy.stripe.com/28o1802mB8S3eQM00f")),wr().value===10&&(r(597),s("https://buy.stripe.com/dR6g2U2mBgkv24014k"))}),vt(()=>{cs()&&a(351),cs()||a(311)});let o=()=>wr().value===1?`Buy ${wr().value} Email`:`Buy ${wr().value} Eamils`;return nt(zfe,at()+H("class",L(wn.form_container,!0),!1),H("class",L(wn.content_container,!0),!1),H("class",L(wn.form_headline,!0),!1),H("class",L(wn.form_description,!0),!1),H("class",L(wn.inputs_price_container,!0),!1),H("class",L(wn.input_container,!0),!1),L(Ne(ra,{get inputWidth(){return n()},label:"Num of Emails",name:"emails",startingValue:5,get value(){return wr().value},get options(){return wr().options},updateInputValue:_de})),L(Ne(VI,{})),H("class",L(wn.price_container,!0),!1),H("class",L(wn.price_sign,!0),!1),H("class",L(wn.price,!0),!1),L(t()),L(Ne(Qo,{theme:"teal",get url(){return i()},get children(){return o()}})))};Me(GI,"@astrojs/solid-js");jfe=["<div","><div","><h3",">Purchase Product Description Copy</h3><p",">Select if you want short or long copy. Then select how many products you want. 10 is the max right now. Keep in mind long copy is expensive.</p></div><div","><div","><!--#-->","<!--/--><!--#-->","<!--/--></div><div","><p",">$</p><p",">","</p></div><!--#-->","<!--/--></div></div>"],WI=()=>{let[e,t]=We(794),[r,i]=We(""),[s,n]=We(351);vt(()=>{if(gm().value===1){let o=40*Vo().value;t(o),i("#")}if(gm().value===2){let o=200*Vo().value;t(o),i("#")}}),vt(()=>{cs()&&n(351),cs()||n(311)});let a=()=>Vo().value===1?`Buy ${Vo().value} Product`:`Buy ${Vo().value} Products`;return nt(jfe,at()+H("class",L(_n.form_container,!0),!1),H("class",L(_n.content_container,!0),!1),H("class",L(_n.form_headline,!0),!1),H("class",L(_n.form_description,!0),!1),H("class",L(_n.inputs_price_container,!0),!1),H("class",L(_n.input_container,!0),!1),L(Ne(ra,{get inputWidth(){return s()},label:"Product Copy Type",name:"ecomProductType",startingValue:1,get value(){return gm().value},get options(){return gm().options},updateInputValue:Sde})),L(Ne(ra,{get inputWidth(){return s()},label:"Num of Products",name:"ecomProducts",startingValue:5,get value(){return Vo().value},get options(){return Vo().options},updateInputValue:Ede})),H("class",L(_n.price_container,!0),!1),H("class",L(_n.price_sign,!0),!1),H("class",L(_n.price,!0),!1),L(e()),L(Ne(Qo,{theme:"teal",get url(){return r()},get children(){return a()}})))};Me(WI,"@astrojs/solid-js");Hfe=["<div","><div","><h3",">Purchase Digial Ad Copy</h3><p",">Select if you'd prefer to have Google or Facebook Ads. Come back and purchase again if you want both.</p></div><div","><!--#-->","<!--/--><div","><p",">$</p><p",">","</p></div><!--#-->","<!--/--></div></div>"],qI=()=>{let[e,t]=We(250),[r,i]=We(""),[s,n]=We(351);vt(()=>{Id().value===1&&(t(47),i("https://buy.stripe.com/9AQ1801ix6JV7ok5kk")),Id().value===2&&(t(69),i("https://buy.stripe.com/28o9Ew4uJ2tFdMI3cd"))}),vt(()=>{cs()&&n(351),cs()||n(311)});let a=()=>Id().value===1?"Buy Google Ads":"Buy Facebook Ads";return nt(Hfe,at()+H("class",L(Xn.form_container,!0),!1),H("class",L(Xn.content_container,!0),!1),H("class",L(Xn.form_headline,!0),!1),H("class",L(Xn.form_description,!0),!1),H("class",L(Xn.input_container,!0),!1),L(Ne(ra,{get inputWidth(){return s()},label:"Which Ad Platform Do You Want?",name:"adCopy",startingValue:1,get value(){return Id().value},get options(){return Id().options},updateInputValue:Tde})),H("class",L(Xn.price_container,!0),!1),H("class",L(Xn.price_sign,!0),!1),H("class",L(Xn.price,!0),!1),L(e()),L(Ne(Qo,{theme:"teal",get url(){return r()},get children(){return a()}})))};Me(qI,"@astrojs/solid-js");Vfe=["<div","><div","><h3",">Purchase a Nerd Copy Chat</h3><p",">Select if you want 30 minutes or 60 minutes. Then let's go deep your copy and offer so you can make some money!</p></div><div","><!--#-->","<!--/--><div","><p",">$</p><p",">","</p></div><!--#-->","<!--/--></div></div>"],YI=()=>{let[e,t]=We(250),[r,i]=We(""),[s,n]=We(351);vt(()=>{Rd().value===1&&(t(60),i("https://buy.stripe.com/4gw9Ew7GV4BNbEAdR7")),Rd().value===2&&(t(97),i("https://buy.stripe.com/9AQ9Ewf9n0lx8so00i"))}),vt(()=>{cs()&&n(351),cs()||n(311)});let a=()=>Rd().value===1?"Buy 30 Minutes":"Buy 60 Minutes";return nt(Vfe,at()+H("class",L(Qn.form_container,!0),!1),H("class",L(Qn.content_container,!0),!1),H("class",L(Qn.form_headline,!0),!1),H("class",L(Qn.form_description,!0),!1),H("class",L(Qn.input_container,!0),!1),L(Ne(ra,{get inputWidth(){return s()},label:"How long would like to chat?",name:"nerdCopyChat",startingValue:1,get value(){return Rd().value},get options(){return Rd().options},updateInputValue:Lde})),H("class",L(Qn.price_container,!0),!1),H("class",L(Qn.price_sign,!0),!1),H("class",L(Qn.price,!0),!1),L(e()),L(Ne(Qo,{theme:"teal",get url(){return r()},get children(){return a()}})))};Me(YI,"@astrojs/solid-js");Gfe=["<h1",">No Form!</h1>"],Aw=e=>{switch(e.formType){case"blogPosts":return Ne(jI,{});case"webSalesPages":return Ne(HI,{});case"emails":return Ne(GI,{});case"ecomProducts":return Ne(WI,{});case"adCopy":return Ne(qI,{});case"nerdCopyChat":return Ne(YI,{});default:return nt(Gfe,at())}};Me(Aw,"@astrojs/solid-js");Wfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/CopyServices/services/ServicePricingWithHeadline.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),XI=ie(async(e,t,r)=>{let i=e.createAstro(Wfe,t,r);i.self=XI;let{imageUrl:s,altTag:n,titleTag:a,headline:o,formType:l}=i.props,c=[];for(let h of c)e.styles.add(h);return N`${pe(e)}<div class="container astro-BXSYOMZK">
  ${O(e,"TerminalHeader",jc,{cursor:!1,class:"astro-BXSYOMZK"},{default:()=>N`<h1 class="headline astro-BXSYOMZK"><span class="astro-BXSYOMZK">~</span> ${o}</h1>`})}
  <div class="service-container astro-BXSYOMZK">
    <img class="copy-image astro-BXSYOMZK"${Se(s,"src")}${Se(n,"alt")}${Se(a,"title")}>
    ${O(e,"CopywritingFormSwitcher",Aw,{"client:load":!0,formType:l,"client:component-hydration":"load","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/forms/CopywritingFormSwitcher","client:component-export":"CopywritingFormSwitcher",class:"astro-BXSYOMZK"})}
  </div>
</div>

`}),qfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/CopyServices/services/ServicePricingNoHeadline.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),QI=ie(async(e,t,r)=>{let i=e.createAstro(qfe,t,r);i.self=QI;let{imageUrl:s,altTag:n,titleTag:a,formType:o}=i.props,l=[];for(let c of l)e.styles.add(c);return N`${pe(e)}<div class="service-container astro-NWR77BZF">
  <img class="copy-image astro-NWR77BZF"${Se(s,"src")}${Se(n,"alt")}${Se(a,"title")}>
  ${O(e,"CopywritingFormSwitcher",Aw,{"client:load":!0,formType:o,"client:component-hydration":"load","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/forms/CopywritingFormSwitcher","client:component-export":"CopywritingFormSwitcher",class:"astro-NWR77BZF"})}
</div>

`}),Yfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/navigation/Breadcrumbs/BreadcrumbBaseLink.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),ZI=ie(async(e,t,r)=>{let i=e.createAstro(Yfe,t,r);i.self=ZI;let{path:s}=i.props,n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<a class="base-link astro-LIBDEAQ6"${Se(`${s}`,"href")}${Se(s,"title")}>
  ${zt(e,r.default)}
</a>

`}),Xfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/navigation/Breadcrumbs/BreadcrumbLink.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),$I=ie(async(e,t,r)=>{let i=e.createAstro(Xfe,t,r);i.self=$I;let{path:s}=i.props,n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<a${Se(`${s}`,"href")}${Se(s,"title")} class="astro-6XJUEOET">
  ${zt(e,r.default)}
</a>

`}),Qfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/navigation/Breadcrumbs/BreadcrumbLocation.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),JI=ie(async(e,t,r)=>{let i=e.createAstro(Qfe,t,r);i.self=JI;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="location astro-7245BJWJ">
  <span class="slash astro-7245BJWJ"></span>
  <p class="astro-7245BJWJ">
    ${zt(e,r.default)}
  </p>
</div>

`}),Zfe=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/navigation/Breadcrumbs/Breadcrumb.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Hc=ie(async(e,t,r)=>{let i=e.createAstro(Zfe,t,r);i.self=Hc;let{paths:s}=i.props,n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-JJ7WN2F5">
  ${s.map((a,o)=>{let l=a.base,c="",h=l.map((u,d)=>(c=`${c}/${u}`,d===0?N`${O(e,"BreadcrumbBaseLink",ZI,{path:c,class:"astro-JJ7WN2F5"},{default:()=>N`${u}`})}`:N`${O(e,"BreadcrumbLink",$I,{path:c,class:"astro-JJ7WN2F5"},{default:()=>N`${u}`})}`));return N`${O(e,"Fragment",Ot,{class:"astro-JJ7WN2F5"},{default:()=>N`${h}`})}`})}
  ${O(e,"BreadcrumbLocation",JI,{class:"astro-JJ7WN2F5"},{default:()=>N`${s[0].slug}`})}
</div>

`}),KI=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/services/copy/[copy].astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),$fe=KI;eR=ie(async(e,t,r)=>{let i=e.createAstro(KI,t,r);i.self=eR;let s=i.params,n=[];for(let p in s){let g={base:["services",p],slug:s[p]};n.push(g)}let{title:a,imageUrl:o,altTag:l,titleTag:c,formType:h}=i.props.data,{Content:u}=i.props.service,d=[];for(let p of d)e.styles.add(p);return N`${O(e,"BaseLayout",Zt,{title:`${a} Service Page`,class:"astro-7PG34G6X"},{default:()=>N`${pe(e)}<div class="container astro-7PG34G6X">
    ${O(e,"Breadcrumbs",Hc,{paths:n,class:"astro-7PG34G6X"})}
    ${O(e,"ServicePricingWithHeadline",XI,{formType:h,imageUrl:o,altTag:l,titleTag:c,headline:a,class:"astro-7PG34G6X"})}
    <article class="astro-7PG34G6X">
      ${O(e,"Content",u,{class:"astro-7PG34G6X"})}
    </article>
    ${O(e,"ServicePricingNoHeadline",QI,{formType:h,imageUrl:o,altTag:l,titleTag:c,class:"astro-7PG34G6X"})}
  </div>${O(e,"Footer",ir,{class:"astro-7PG34G6X"})}`})}

`}),Kfe="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/services/copy/[copy].astro",eme="/services/copy/[copy]",tme=Object.freeze(Object.defineProperty({__proto__:null,getStaticPaths:Jfe,default:eR,file:Kfe,url:eme},Symbol.toStringTag,{value:"Module"})),rme=["<form","><div",' style="','"><!--#-->',"<!--/--><!--#-->","<!--/--><!--#-->","<!--/--><!--#-->","<!--/--></div><!--#-->","<!--/--></form>"],tR=()=>{let e=()=>Kn().valid&&Si().valid&&tw().value!==""&&rw().valid,t={"--input-field-container-box-shadow":"0 0px 0px 6px hsla(219,34%,19%,1)"};return nt(rme,at()+H("class",L(cx.contact_form,!0),!1),H("class",L(cx.input_container,!0),!1),En(t),L(Ne(ta,{inputType:"text",name:"firstName",labelFor:"firstName",labelName:"First Name",labelInstructions:"Enter your first name",labelError:"Can't be blank",placeholder:"Enter your first name...",get value(){return Kn().value},get valid(){return Kn().valid},get initial(){return Fc().initial},get touched(){return Fc().touched},onInput:bw,onFocus:Oc,onBlur:Oc,isLoading:!1})),L(Ne(ta,{inputType:"text",name:"emailAddress",labelFor:"emailAddress",labelName:"Email Address",labelInstructions:"Enter your email address",labelError:"Enter valid email",placeholder:"Enter your email address...",get value(){return Si().value},get valid(){return Si().valid},get initial(){return ea().initial},get touched(){return ea().touched},onInput:Rm,onFocus:qa,onBlur:qa,isLoading:!1})),L(Ne(qd,{name:"contactReason",questionLabel:"How can a Nerd help you?",get value(){return tw().value},get options(){return tw().options},updateInputValue:Fde})),L(Ne(Ic,{name:"contactMessage",labelFor:"contactMessage",labelName:"Tell your Nerd more...",labelInstructions:"Be description",labelError:"Can't be blank",placeholder:"Give some more detail so we can help...",maxLength:500,rows:6,get value(){return rw().value},get valid(){return rw().valid},get initial(){return YF().initial},get touched(){return YF().touched},onInput:Rde,onFocus:XF,onBlur:XF,isLoading:!1})),L(Ne(Yd,{theme:"teal",disabled:!e,children:"Send Message Now"})))};Me(tR,"@astrojs/solid-js");ime=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/contact.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),rR=ie(async(e,t,r)=>{let i=e.createAstro(ime,t,r);i.self=rR;let s=[];for(let n of s)e.styles.add(n);return N`${O(e,"BaseLayout",Zt,{title:"Contact a Nerd Who Sells",class:"astro-H5WBJAPR"},{default:()=>N`${pe(e)}<div class="view-container astro-H5WBJAPR">
    ${O(e,"SmallHeader",ia,{headline:"Contact Us",imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/contact-header_-JOMeWEFJ.png?ik-sdk-version=javascript-1.4.3",altTag:"Contact a Nerd",titleTag:"Contact a Nerd",class:"astro-H5WBJAPR"})}
    ${O(e,"ContactForm",tR,{"client:load":!0,"client:component-hydration":"load","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/forms/ContactForm","client:component-export":"ContactForm",class:"astro-H5WBJAPR"})}
    ${O(e,"Footer",ir,{class:"astro-H5WBJAPR"})}
  </div>`})}

`}),sme="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/contact.astro",nme="/contact",ame=Object.freeze(Object.defineProperty({__proto__:null,default:rR,file:sme,url:nme},Symbol.toStringTag,{value:"Module"})),ome=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/markdown/UnorderedList.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Br=ie(async(e,t,r)=>{let i=e.createAstro(ome,t,r);i.self=Br;let{showTwoCols:s}=i.props,n=s?"1fr 1fr":"1fr",a=ai([{templateColumns:n}]),o=[{props:{lang:"scss","define:vars":{templateColumns:n},"data-astro-id":"LZDB246R"},children:".container:where(.astro-LZDB246R){padding-bottom:40px;display:grid;grid-template-columns:1fr;grid-auto-rows:min-content;gap:40px;justify-items:center;width:100%}.list:where(.astro-LZDB246R){padding:0 0 0 20px;display:grid;grid-template-columns:1fr;grid-auto-rows:min-content;gap:40px;justify-items:start}@media (min-width: 600px){.list:where(.astro-LZDB246R){grid-template-columns:var(--templateColumns);column-gap:20px;row-gap:40px}}span:where(.astro-LZDB246R){font-size:3rem;color:#bfa9ff}"}];for(let l of o)e.styles.add(l);return N`${pe(e)}<div class="container astro-LZDB246R"${Se(a,"style")}>
  <span class="astro-LZDB246R">-----</span>
  <ul class="list astro-LZDB246R">
    ${zt(e,r.default)}
  </ul>
  <span class="astro-LZDB246R">-----</span>
</div>

`}),lme={id:0,section:1};Me(cme,"astro:jsx");Me(Ew,"astro:jsx");Ew[Symbol.for("astro.needsHeadRendering")]=!Boolean(lme.layout);ume=Ew,dme=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/about/Section1.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),iR=ie(async(e,t,r)=>{let i=e.createAstro(dme,t,r);i.self=iR;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="about-container astro-ABLI3VWQ">
  ${O(e,"Content",ume,{class:"astro-ABLI3VWQ"})}
</div>`}),hme=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/about/CodingLogos/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),sR=ie(async(e,t,r)=>{let i=e.createAstro(hme,t,r);i.self=sR;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/coding-icon-background-600x900_UaMc7EPbS.png?ik-sdk-version=javascript-1.4.3",n="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/coding-icon-background-800x500_O0qox5xsI.png?ik-sdk-version=javascript-1.4.3",a="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/typescript-icon_cWrqhDbxz.png?ik-sdk-version=javascript-1.4.3",o="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/html-icon_Xv8AEsff0.png?ik-sdk-version=javascript-1.4.3",l="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/css-icon_05b4xlg7c.png?ik-sdk-version=javascript-1.4.3",c=[];for(let h of c)e.styles.add(h);return N`${pe(e)}<div class="container astro-PWZ6TZDS">
  <div class="coding-wrapper astro-PWZ6TZDS">
    <picture class="bg-icons astro-PWZ6TZDS">
      <source${Se(n,"srcset")} media="(min-width: 600px)" class="astro-PWZ6TZDS">
      <img${Se(s,"src")} alt="Other technology icons" title="Our Coding Technologies" class="astro-PWZ6TZDS">
    </picture>
    <img class="ts-icon astro-PWZ6TZDS"${Se(a,"src")} alt="Typescript Icon">
    <img class="html-icon astro-PWZ6TZDS"${Se(o,"src")} alt="HTML5 Icon">
    <img class="css-icon astro-PWZ6TZDS"${Se(l,"src")} alt="CSS Icon">
  </div>
  <div class="galaxy-blue astro-PWZ6TZDS"></div>
</div>`}),pme={id:1,section:2};Me(fme,"astro:jsx");Me(Cw,"astro:jsx");Cw[Symbol.for("astro.needsHeadRendering")]=!Boolean(pme.layout);mme=Cw,gme=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/about/Section2.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),nR=ie(async(e,t,r)=>{let i=e.createAstro(gme,t,r);i.self=nR;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-UEVOZ2FQ">
  <div class="about-container astro-UEVOZ2FQ">
    ${O(e,"Content",mme,{class:"astro-UEVOZ2FQ"})}
  </div>
</div>`}),vme=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/markdown/BaseSubhead.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),rr=ie(async(e,t,r)=>{let i=e.createAstro(vme,t,r);i.self=rr;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="container astro-NPAAVPTG">
  <div class="top-spacer astro-NPAAVPTG"></div>
  ${O(e,"TerminalHeader",jc,{cursor:!1,class:"astro-NPAAVPTG"},{default:()=>N`<h3 class="headline astro-NPAAVPTG"><span class="astro-NPAAVPTG">~</span> ${zt(e,r.default)}</h3>`})}
  <div class="bottom-spacer astro-NPAAVPTG"></div>
</div>

`}),yme={id:2,section:3};Me(xme,"astro:jsx");Me(Tw,"astro:jsx");Tw[Symbol.for("astro.needsHeadRendering")]=!Boolean(yme.layout);bme=Tw,wme=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/about/Section3.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),aR=ie(async(e,t,r)=>{let i=e.createAstro(wme,t,r);i.self=aR;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="about-container astro-FSNUTCS5">
  ${O(e,"Content",bme,{class:"astro-FSNUTCS5"})}
</div>`}),_me={id:3,section:4};Me(Dme,"astro:jsx");Me(Mw,"astro:jsx");Mw[Symbol.for("astro.needsHeadRendering")]=!Boolean(_me.layout);Sme=Mw,Ame=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/about/Section4.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),oR=ie(async(e,t,r)=>{let i=e.createAstro(Ame,t,r);i.self=oR;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="about-container astro-KNCNF7ZY">
  ${O(e,"Content",Sme,{class:"astro-KNCNF7ZY"})}
</div>`}),Eme={id:4,section:5};Me(Cme,"astro:jsx");Me(Lw,"astro:jsx");Lw[Symbol.for("astro.needsHeadRendering")]=!Boolean(Eme.layout);Tme=Lw,Mme=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/about/Section5.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),lR=ie(async(e,t,r)=>{let i=e.createAstro(Mme,t,r);i.self=lR;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<div class="about-container astro-D5KZY3IQ">
  ${O(e,"Content",Tme,{class:"astro-D5KZY3IQ"})}
</div>`}),Lme=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/about.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),cR=ie(async(e,t,r)=>{let i=e.createAstro(Lme,t,r);i.self=cR;let s=[];for(let n of s)e.styles.add(n);return N`${O(e,"BaseLayout",Zt,{title:"About Nerds Who Sell"},{default:()=>N`${O(e,"Section1",iR,{})}${O(e,"CodingLogos",sR,{})}${O(e,"Section2",nR,{})}${O(e,"Section3",aR,{})}${O(e,"Section4",oR,{})}${O(e,"Section5",lR,{})}${O(e,"NewsletterSection",Uc,{})}${O(e,"Footer",ir,{})}`})}`}),kme="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/about.astro",Pme="/about",Bme=Object.freeze(Object.defineProperty({__proto__:null,default:cR,file:kme,url:Pme},Symbol.toStringTag,{value:"Module"})),Fme=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),uR=ie(async(e,t,r)=>{let i=e.createAstro(Fme,t,r);return i.self=uR,N`${O(e,"BaseLayout",Zt,{title:"Nerds Who Sell Blog"},{default:()=>N`${O(e,"SmallHeader",ia,{headline:"Blog",imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/blog-header_p1Xvv6Ok4.png?ik-sdk-version=javascript-1.4.3",altTag:"Nerds Who Sell Blog",titleTag:"Nerds Who Sell Blog"})}${O(e,"BlogSection",xw,{})}${O(e,"NewsletterSection",Uc,{})}${O(e,"Footer",ir,{})}`})}`}),Ome="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/index.astro",Ime="/blog",Rme=Object.freeze(Object.defineProperty({__proto__:null,default:uR,file:Ome,url:Ime},Symbol.toStringTag,{value:"Module"})),Nme=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/blog/BlogCategoryHeader.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Xd=ie(async(e,t,r)=>{let i=e.createAstro(Nme,t,r);i.self=Xd;let{headline:s}=i.props,n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-MHLXRZIR">
  <h1 class="headline astro-MHLXRZIR">${s}</h1>
  <div class="header-image astro-MHLXRZIR">
    ${zt(e,r.default)}
    <div class="shadow-1 astro-MHLXRZIR"></div>
  </div>
  <div class="galaxy-pink astro-MHLXRZIR">
    ${O(e,"Galaxy",_r,{"client:idle":!0,color:"pink",width:240,height:240,blur:200,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-MHLXRZIR"})}
  </div>
  <div class="galaxy-purple astro-MHLXRZIR">
    ${O(e,"Galaxy",_r,{"client:idle":!0,color:"purple",width:240,height:240,blur:200,"client:component-hydration":"idle","client:component-path":"/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy","client:component-export":"Galaxy",class:"astro-MHLXRZIR"})}
  </div>
</div>

`}),Ume=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/cards/BlogCard/Image.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),dR=ie(async(e,t,r)=>{let i=e.createAstro(Ume,t,r);i.self=dR;let{imageUrl:s,altTag:n,titleTag:a,slug:o}=i.props,l=[];for(let c of l)e.styles.add(c);return N`${pe(e)}<a class="container astro-JTML2HT5"${Se(o,"href")}${Se(a,"title")}>
  <img class="post-image astro-JTML2HT5"${Se(s,"src")}${Se(n,"alt")}${Se(a,"title")}>
  <div class="background astro-JTML2HT5"></div>
</a>

`}),zme=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/cards/BlogCard/Content.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),hR=ie(async(e,t,r)=>{let i=e.createAstro(zme,t,r);i.self=hR;let{description:s,buttonLabel:n,slug:a}=i.props,o=[];for(let l of o)e.styles.add(l);return N`${pe(e)}<div class="container astro-XFI6YS25">
  <div class="description astro-XFI6YS25">
    <p class="astro-XFI6YS25">${s}</p>
  </div>
  <div class="button-container astro-XFI6YS25">
    ${O(e,"InternalNavButton",oi,{type:"teal",title:n,slug:a,cta:!1,class:"astro-XFI6YS25"},{default:()=>N`${n}`})}
  </div>
</div>`}),jme=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/cards/BlogCard/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Qd=ie(async(e,t,r)=>{let i=e.createAstro(jme,t,r);i.self=Qd;let{imageUrl:s,altTag:n,titleTag:a,cardTeaser:o,buttonLabel:l,slug:c}=i.props,h=[];for(let u of h)e.styles.add(u);return N`${pe(e)}<div class="container astro-YWFEDQP3">
  ${O(e,"Image",dR,{imageUrl:s,altTag:n,titleTag:a,slug:c,class:"astro-YWFEDQP3"})}
  ${O(e,"Content",hR,{description:o,buttonLabel:l,slug:c,class:"astro-YWFEDQP3"})}
</div>`}),Hme=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/marketing/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Bm=(0,Yo.default)({projectId:"05wlmifi",dataset:"production",apiVersion:"2021-03-25",token:"skwcW9VMyicBhpo9fBaPr6c4wQA34W5pCyrwDXiQ3nYlRcxxtlaNa9JnAeItCz8Bl6fi9KdfLFQiKMuNbptgkJUUis5iX7PFjB0oabd4gVFhM4OJOJQA70UEmbUkcX8coKTEOBSw00mgWidSf7oEveCc9d3EpQwMbs2yo0ePOjapBpk3lhUb",useCdn:!0}),pR=ie(async(e,t,r)=>{let i=e.createAstro(Hme,t,r);i.self=pR;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/marketing-blog-header_MIG8rVLwS.png?ik-sdk-version=javascript-1.4.3",n=`
  {
    "cardData": *[_type == 'blogPost' && "marketing" in category.category] {
      "cardImage": image.image.asset,
      "altTag": image.altTag,
      "titleTag": image.titleTag,
      "description": description,
      "tags": tags,
      "slug": slug.current,
    }
  }
`,a=await Bm.fetch(n),{cardData:o}=a,l=(0,Rc.default)(Bm);function c(d){return l.image(d)}let h=[{base:["blog"],slug:"marketing"}],u=[];for(let d of u)e.styles.add(d);return N`${O(e,"BaseLayout",Zt,{title:"Marketing Blog",class:"astro-KEGGUL4R"},{default:()=>N`${O(e,"BlogCategoryHeader",Xd,{headline:"Marketing Blog",class:"astro-KEGGUL4R"},{default:()=>N`${pe(e)}<img class="marketing-image astro-KEGGUL4R"${Se(s,"src")} alt="Marketing blog header" title="Marketing Blog" width="900px" height="205px">`})}<div class="container astro-KEGGUL4R">
    ${O(e,"Breadcrumbs",Hc,{paths:h,class:"astro-KEGGUL4R"})}
    <div class="card-container astro-KEGGUL4R">
      ${o.map(d=>{let{cardImage:p,altTag:g,titleTag:m,description:f,tags:v,slug:x}=d;return N`${O(e,"BlogCard",Qd,{imageUrl:c(p).width(400).auto("format").url(),altTag:g,titleTag:m,cardTeaser:f,category:"design",tags:v,buttonLabel:"Read Post",slug:`/blog/marketing/${x}`,class:"astro-KEGGUL4R"})}`})}
    </div>
  </div>${O(e,"Footer",ir,{class:"astro-KEGGUL4R"})}`})}

`}),Vme="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/marketing/index.astro",Gme="/blog/marketing",Wme=Object.freeze(Object.defineProperty({__proto__:null,sanity:Bm,default:pR,file:Vme,url:Gme},Symbol.toStringTag,{value:"Module"})),qme=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/blog/BlogComponents/PostMeta.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),kw=ie(async(e,t,r)=>{let i=e.createAstro(qme,t,r);i.self=kw;let{category:s,tags:n,paths:a}=i.props,o=0,l=[];for(let c of l)e.styles.add(c);return N`${O(e,"Breadcrumbs",Hc,{paths:a,class:"astro-W6YHWAFN"})}
${pe(e)}<div class="container astro-W6YHWAFN">
  <div class="tags astro-W6YHWAFN">
    <p class="astro-W6YHWAFN">
      <span class="const astro-W6YHWAFN">const</span>
      <span class="label astro-W6YHWAFN">category</span>
      <span class="operator astro-W6YHWAFN">=</span>
      <span class="string astro-W6YHWAFN">"${s}"</span>
    </p>
  </div>
  <div class="tags astro-W6YHWAFN">
    <p class="astro-W6YHWAFN">
      <span class="const astro-W6YHWAFN">const</span>
      <span class="label astro-W6YHWAFN">tags</span>
      <span class="operator astro-W6YHWAFN">=</span>
    </p>
    <div class="tags-container astro-W6YHWAFN">
      <p class="astro-W6YHWAFN">
        <span class="array astro-W6YHWAFN">[</span>
      </p>
      ${n.map(c=>(o++,N`<div class="tag-container astro-W6YHWAFN">
              <a href="#"${Se(c.tag,"title")} class="astro-W6YHWAFN">
                <span class="string astro-W6YHWAFN">"</span>
                ${c.tag}
                <span class="string astro-W6YHWAFN">"</span>
              </a>
              <p class="label astro-W6YHWAFN">${o===n.length?"":","}</p>
            </div>`))}
      <p class="astro-W6YHWAFN">
        <span class="array astro-W6YHWAFN">]</span>
      </p>
    </div>
  </div>
</div>

`}),Yme=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/blog/BlogComponents/PostHeader.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Xme=(0,Yo.default)({projectId:"05wlmifi",dataset:"production",apiVersion:"2021-03-25",token:"skwcW9VMyicBhpo9fBaPr6c4wQA34W5pCyrwDXiQ3nYlRcxxtlaNa9JnAeItCz8Bl6fi9KdfLFQiKMuNbptgkJUUis5iX7PFjB0oabd4gVFhM4OJOJQA70UEmbUkcX8coKTEOBSw00mgWidSf7oEveCc9d3EpQwMbs2yo0ePOjapBpk3lhUb",useCdn:!0}),Pw=ie(async(e,t,r)=>{let i=e.createAstro(Yme,t,r);i.self=Pw;let{imageUrl:s,altTag:n,titleTag:a,headline:o,category:l,tags:c,paths:h}=i.props,u=(0,Rc.default)(Xme);function d(m){return u.image(m)}let p=d(s).width(800).auto("format").url(),g=[];for(let m of g)e.styles.add(m);return N`${pe(e)}<div class="container astro-6D7Q6ZLP">
  <div class="post-header astro-6D7Q6ZLP">
    <div class="post-image astro-6D7Q6ZLP">
      <img${Se(p,"src")}${Se(n,"alt")}${Se(a,"title")} class="astro-6D7Q6ZLP">
    </div>
    ${O(e,"TopRightAccent",Xo,{backgroundType:"footer",class:"astro-6D7Q6ZLP"})}
  </div>
  ${O(e,"PostMeta",kw,{category:l,tags:c,paths:h,class:"astro-6D7Q6ZLP"})}
  <h1 class="headline astro-6D7Q6ZLP">${o}</h1>
</div>

`}),Qme=e=>`
  <p class="paragraph">
    ${e}
  </p>
`,Zme=e=>`
  <span class="h2-container">
    <h2 class="header2">
      <span class="hash-container">
        <img class="hash" src="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/teal-hash_D9EMi-Ga2.png?ik-sdk-version=javascript-1.4.3" alt="Header 2" title="Headline">
        <img class="hash right-hash" src="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/teal-hash_D9EMi-Ga2.png?ik-sdk-version=javascript-1.4.3" alt="Header 2" title="Headline">
      </span>
      <span>${e}</span>
    </h2>
  </span>
`,$me=e=>`
  <span class="h2-container"> 
    <h3 class="header3">
      <span class="hash-container">
        <img class="hash" src="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/purple-hash_pNlVG1KAR.png?ik-sdk-version=javascript-1.4.3" alt="Header 3" title="Headline">
        <img class="hash right-hash-one" src="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/purple-hash_pNlVG1KAR.png?ik-sdk-version=javascript-1.4.3" alt="Header 3" title="Headline">
        <img class="hash right-hash-two" src="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/purple-hash_pNlVG1KAR.png?ik-sdk-version=javascript-1.4.3" alt="Header 3" title="Headline">
      </span>
      ${e}
    </h3>
  </span>
`,Jme=e=>`
  <span class="h2-container">
    <h4 class="header4">
      <span class="hash-container">
        <img class="hash" src="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/pink-hash_fVzt1O9_m.png?ik-sdk-version=javascript-1.4.3" alt="Header 3" title="Headline">
        <img class="hash right-hash-one" src="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/pink-hash_fVzt1O9_m.png?ik-sdk-version=javascript-1.4.3"  alt="Header 3" title="Headline">
        <img class="hash right-hash-two" src="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/pink-hash_fVzt1O9_m.png?ik-sdk-version=javascript-1.4.3"  alt="Header 3" title="Headline">
        <img class="hash right-hash-three" src="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/pink-hash_fVzt1O9_m.png?ik-sdk-version=javascript-1.4.3"  alt="Header 3" title="Headline">
      </span>
      ${e}
    </h4>
  </span>
`,Kme=e=>`<ul>${e}</ul>`,uO=(e,t)=>`
    <li class="base-bullet">
      <img class="block" src=${e==="purple"?"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/radio-not-active_khmUjQ0M0.png?ik-sdk-version=javascript-1.4.3":"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/radio-focus_UiuHs8It6.png?ik-sdk-version=javascript-1.4.3"} alt="Bullet point" title="Bullet Point">
      ${t}
    </li>
`,ege=e=>`
  <li class="important-bullet">
    <img class="block" src="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/exclaimation-bullet_6hT7S6T9g.png?ik-sdk-version=javascript-1.4.3" alt="Bullet point" title="Bullet Point">
    ${e}
  </li>
`,tge=`
  <svg
    id="external-link-icon"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 83.24 81.95">
      <path
        id="box"
        d="M69.95 45.72v14a16.26 16.26 0 01-16.22 16.25H22.21A16.26 16.26 0 016 59.73V28.21a16.26 16.26 0 0116.21-16.24h12.35"
        fill="none"
        stroke="#7d83ff"
        stroke-linecap="round"
        stroke-miterlimit="10"
        stroke-width="12"
      />
      <g
        id="arrow"
        fill="none"
        stroke="#7d83ff"
        stroke-linecap="round"
        stroke-miterlimit="10"
        stroke-width="12">
        <path id="link-out-base-line" d="M37.97 43.97L77.09 6.09" />
        <path id="top-arrow-head" d="M56.13 6h21" />
        <path id="bottom-arrow-head" d="M77.24 6v21" />
      </g>
  </svg>
`,rge=`
  <svg
    id="internal-link-icon"
    data-name="internal-link-icon"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 72.66 72.24">
    <path
      d="M35.04 57l-7.14 7.12a14 14 0 01-19.8 0h0a14 14 0 010-19.8L22.24 30.2a14 14 0 0119.8 0h0"
      fill="none"
      stroke="#7d83ff"
      stroke-linecap="round"
      stroke-miterlimit="10"
      stroke-width="8"
    />
    <path
      d="M36.81 16.06l8-8a14 14 0 0119.8 0h0a14 14 0 010 19.8L50.42 42.04a14 14 0 01-19.8 0h0"
      fill="none"
      stroke="#7d83ff"
      stroke-linecap="round"
      stroke-miterlimit="10"
      stroke-width="8"
    />
  </svg>
`,iw=(e,t,r)=>`
    <span class="link-container">
      <a href="${r}" rel="${e==="externalLink"?"noopener noreferrer":"prefetch"}" target="${e==="externalLink"?"_blank":"_self"}" title="${t}">
        ${t}
      </a>
      <span class="icon">
        ${e==="externalLink"?tge:rge}
      </span>
    </span>
  `,ige=(e,t,r)=>`
  <div class="post-image-container">
    <img class="post-image" src="${e}?w=800&format=auto" alt="${t}" title="${r}">
    <div class="post-image-background"></div>
  </div>
`,sge=(e,t,r)=>{let i=e==="kindal"?"https://cdn.sanity.io/images/05wlmifi/production/328ec8f40ba78453eb8f1fb7c57d6430a7c5b54c-300x300.png":"https://cdn.sanity.io/images/05wlmifi/production/a48a0439728e6a0acd1ff5501e759a71f964cddd-300x300.png",s=e==="kindal"?"--nerd-callout-headline: var(--accent-teal)":"--nerd-callout-headline: var(--accent-purple)",n=fR(r);return`
  <div class="nerd-callout-spacer">
    <div class="nerd-callout-container" style="${s}">
      <img class="nerd-callout-image" src="${i}" alt="${e}" />
      <div class="nerd-callout-card-container">
        <div class="callout">
          <p class="callout-nerd">Nerd</p>
          <p class="callout-word">Callout</p>
        </div>
        <h4 class="callout-headline">${t}</h4>
        <div class="content-container">
          ${n}
        </div>
      </div>
    </div>
    <div class="nerd-callout-galaxy"></div>
  </div>
  `},nge={block:e=>{switch(e.node.style){case"normal":return Qme(e.children);case"h2":return Zme(e.children);case"h3":return $me(e.children);case"h4":return Jme(e.children);default:return""}},list:e=>Kme(e.children),listItem:e=>{let{value:t}=e;switch(t.listItem){case"blueBullet":return t.children.map(r=>uO("teal",r.text));case"purpleBullet":return t.children.map(r=>uO("purple",r.text));case"excalaimationBullet":return t.children.map(r=>ege(r.text));default:return""}},marks:{strong:e=>`<strong>${e.children}</strong>`,codeHighlight:e=>`<span class="code-callout">${e.children}</span>`,internalPostLink:e=>{let t=e.value.blogLocation,r="/blog";switch(t){case"marketing":r="/marketing";break;case"coding":r="/coding";break;case"design":r="/design";break;case"now":r="/now";break;case"tech":r="/tech";break}let i=`${r}/${e.value.slug}`;return iw(e.markType,e.text,i)},internalPageLink:e=>iw(e.markType,e.text,e.value.pageUrl),externalLink:e=>iw(e.markType,e.text,e.value.externalLink)},types:{postImage:e=>{let t=`${e.value.imageUrl}`,r=e.value.altTag,i=e.value.titleTag;return ige(t,r,i)},nerdCallout:e=>{let t=e.value.nerd,r=e.value.headline,i=e.value.calloutDetails;return sge(t,r,i)},youTubeEmbed:e=>"<p>YouTube player here</p>"}},fR=e=>GB(e,{components:nge}),age=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/blog/BlockContent.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Bw=ie(async(e,t,r)=>{let i=e.createAstro(age,t,r);i.self=Bw;let{portableText:s}=i.props,n=fR(s);return N`${O(e,"Fragment",Ot,{},{default:()=>N`${Mr(n)}`})}
`}),oge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/marketing/[marketing].astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/");mR=ie(async(e,t,r)=>{let i=e.createAstro(oge,t,r);i.self=mR;let s=i.params,n=[];for(let m in s){let f={base:["blog",m],slug:s[m]};n.push(f)}i.props.headMeta;let{headerImage:a,altTag:o,titleTag:l,headline:c,category:h,tags:u,author:d}=i.props.postPage,p=i.props.blockContent,g=[];for(let m of g)e.styles.add(m);return N`${O(e,"BaseLayout",Zt,{title:"Post",class:"astro-VDGCUMKR"},{default:()=>N`${pe(e)}<div class="container astro-VDGCUMKR">
    ${O(e,"PostHeader",Pw,{imageUrl:a,altTag:o,titleTag:l,headline:c,category:h,tags:u,paths:n,class:"astro-VDGCUMKR"})}
    <div class="galaxy astro-VDGCUMKR"></div>
    <div class="post-body astro-VDGCUMKR">
      ${O(e,"BlockContent",Bw,{portableText:p,class:"astro-VDGCUMKR"})}
    </div>
  </div>${O(e,"Footer",ir,{class:"astro-VDGCUMKR"})}`})}


`}),cge="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/marketing/[marketing].astro",uge="/blog/marketing/[marketing]",dge=Object.freeze(Object.defineProperty({__proto__:null,getStaticPaths:lge,default:mR,file:cge,url:uge},Symbol.toStringTag,{value:"Module"})),hge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/coding/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),gR=ie(async(e,t,r)=>{let i=e.createAstro(hge,t,r);i.self=gR;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/coding-blog-header__xEBlq-C9.png?ik-sdk-version=javascript-1.4.3";new Date().getFullYear(),new Date().getMonth(),await i.glob(Object.assign({"../../../../posts/post-2022-9-solid-createSignal.mdx":()=>Promise.resolve().then(()=>(fF(),pF))}),()=>"../../../../posts/*.mdx");let n=[];for(let a of n)e.styles.add(a);return N`${O(e,"BaseLayout",Zt,{title:"Coding Blog",class:"astro-BY4OXVTX"},{default:()=>N`${O(e,"BlogCategoryHeader",Xd,{headline:"Coding Blog",class:"astro-BY4OXVTX"},{default:()=>N`${pe(e)}<img class="coding-image astro-BY4OXVTX"${Se(s,"src")} alt="Coding blog header" title="Coding Blog" width="900px" height="205px">`})}${O(e,"Footer",ir,{class:"astro-BY4OXVTX"})}`})}

`}),pge="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/coding/index.astro",fge="/blog/coding",mge=Object.freeze(Object.defineProperty({__proto__:null,default:gR,file:pge,url:fge},Symbol.toStringTag,{value:"Module"})),gge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/coding/[post].astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/");vR=ie(async(e,t,r)=>{let i=e.createAstro(gge,t,r);return i.self=vR,N``}),yge="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/coding/[post].astro",xge="/blog/coding/[post]",bge=Object.freeze(Object.defineProperty({__proto__:null,getStaticPages:vge,default:vR,file:yge,url:xge},Symbol.toStringTag,{value:"Module"})),wge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/design/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),lw=(0,Yo.default)({projectId:"05wlmifi",dataset:"production",apiVersion:"2021-03-25",token:"skwcW9VMyicBhpo9fBaPr6c4wQA34W5pCyrwDXiQ3nYlRcxxtlaNa9JnAeItCz8Bl6fi9KdfLFQiKMuNbptgkJUUis5iX7PFjB0oabd4gVFhM4OJOJQA70UEmbUkcX8coKTEOBSw00mgWidSf7oEveCc9d3EpQwMbs2yo0ePOjapBpk3lhUb",useCdn:!0}),yR=ie(async(e,t,r)=>{let i=e.createAstro(wge,t,r);i.self=yR;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/design-blog-header_nfIK1NS2u.png?ik-sdk-version=javascript-1.4.3",n=`
  {
    "cardData": *[_type == 'blogPost' && "design" in category.category] {
      "cardImage": image.image.asset,
      "altTag": image.altTag,
      "titleTag": image.titleTag,
      "description": description,
      "tags": tags,
      "slug": slug.current,
    }
  }
`,a=await lw.fetch(n),{cardData:o}=a,l=(0,Rc.default)(lw);function c(d){return l.image(d)}let h=[{base:["blog"],slug:"design"}],u=[];for(let d of u)e.styles.add(d);return N`${O(e,"BaseLayout",Zt,{title:"Design Blog",class:"astro-FE6VRPP4"},{default:()=>N`${O(e,"BlogCategoryHeader",Xd,{headline:"Coding Blog",class:"astro-FE6VRPP4"},{default:()=>N`${pe(e)}<img class="design-image astro-FE6VRPP4"${Se(s,"src")} alt="Design blog header" title="Design Blog" width="900px" height="205px">`})}<div class="container astro-FE6VRPP4">
    ${O(e,"Breadcrumbs",Hc,{paths:h,class:"astro-FE6VRPP4"})}
    <div class="card-container astro-FE6VRPP4">
      ${o.map(d=>{let{cardImage:p,altTag:g,titleTag:m,description:f,tags:v,slug:x}=d;return N`${O(e,"BlogCard",Qd,{imageUrl:c(p).width(400).auto("format").url(),altTag:g,titleTag:m,cardTeaser:f,category:"design",tags:v,buttonLabel:"Read Post",slug:`/blog/design/${x}`,class:"astro-FE6VRPP4"})}`})}
    </div>
  </div>${O(e,"Footer",ir,{class:"astro-FE6VRPP4"})}`})}

`}),_ge="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/design/index.astro",Dge="/blog/design",Sge=Object.freeze(Object.defineProperty({__proto__:null,sanity:lw,default:yR,file:_ge,url:Dge},Symbol.toStringTag,{value:"Module"})),Age=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/design/[design].astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/");xR=ie(async(e,t,r)=>{let i=e.createAstro(Age,t,r);i.self=xR;let s=i.params,n=[];for(let y in s){let w={base:["blog",y],slug:s[y]};n.push(w)}let{seoTitle:a,seoDescription:o,socialHeadline:l,socialDescription:c,socialImage:h}=i.props.headMeta,{headerImage:u,altTag:d,titleTag:p,headline:g,category:m,tags:f,author:v}=i.props.postPage,x=i.props.blockContent,b=[];for(let y of b)e.styles.add(y);return N`${O(e,"BaseLayout",Zt,{title:a,class:"astro-S7O2BE3E"},{default:()=>N`${pe(e)}<div class="container astro-S7O2BE3E">
    ${O(e,"PostHeader",Pw,{imageUrl:u,altTag:d,titleTag:p,headline:g,category:m,tags:f,paths:n,class:"astro-S7O2BE3E"})}
    <div class="galaxy astro-S7O2BE3E"></div>
    <div class="post-body astro-S7O2BE3E">
      ${O(e,"BlockContent",Bw,{portableText:x,class:"astro-S7O2BE3E"})}
    </div>
  </div>${O(e,"Footer",ir,{class:"astro-S7O2BE3E"})}`})}


`}),Cge="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/design/[design].astro",Tge="/blog/design/[design]",Mge=Object.freeze(Object.defineProperty({__proto__:null,getStaticPaths:Ege,default:xR,file:Cge,url:Tge},Symbol.toStringTag,{value:"Module"})),Lge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/tech/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),cw=(0,Yo.default)({projectId:"05wlmifi",dataset:"production",apiVersion:"2021-03-25",token:"skwcW9VMyicBhpo9fBaPr6c4wQA34W5pCyrwDXiQ3nYlRcxxtlaNa9JnAeItCz8Bl6fi9KdfLFQiKMuNbptgkJUUis5iX7PFjB0oabd4gVFhM4OJOJQA70UEmbUkcX8coKTEOBSw00mgWidSf7oEveCc9d3EpQwMbs2yo0ePOjapBpk3lhUb",useCdn:!0}),bR=ie(async(e,t,r)=>{let i=e.createAstro(Lge,t,r);i.self=bR;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/tech-blog-header_upcrIT9Tp.png?ik-sdk-version=javascript-1.4.3",n=`
  {
    "cardData": *[_type == 'blogPost' && "tech" in category.category] {
      "cardImage": image.image.asset,
      "altTag": image.altTag,
      "titleTag": image.titleTag,
      "description": description,
      "tags": tags,
      "slug": slug.current,
    }
  }
`,a=await cw.fetch(n),{cardData:o}=a,l=(0,Rc.default)(cw);function c(d){return l.image(d)}let h=[{base:["blog"],slug:"tech"}],u=[];for(let d of u)e.styles.add(d);return N`${O(e,"BaseLayout",Zt,{title:"Tech Blog",class:"astro-ON7FFXOS"},{default:()=>N`${O(e,"BlogCategoryHeader",Xd,{headline:"Tech Blog",class:"astro-ON7FFXOS"},{default:()=>N`${pe(e)}<img class="tech-image astro-ON7FFXOS"${Se(s,"src")} alt="Tech blog header" title="Tech Blog" width="900px" height="205px">`})}<div class="container astro-ON7FFXOS">
    ${O(e,"Breadcrumbs",Hc,{paths:h,class:"astro-ON7FFXOS"})}
    <div class="card-container astro-ON7FFXOS">
      ${o.map(d=>{let{cardImage:p,altTag:g,titleTag:m,description:f,tags:v,slug:x}=d;return N`${O(e,"BlogCard",Qd,{imageUrl:c(p).width(400).auto("format").url(),altTag:g,titleTag:m,cardTeaser:f,category:"design",tags:v,buttonLabel:"Read Post",slug:`/blog/tech/${x}`,class:"astro-ON7FFXOS"})}`})}
    </div>
  </div>${O(e,"Footer",ir,{class:"astro-ON7FFXOS"})}`})}

`}),kge="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/tech/index.astro",Pge="/blog/tech",Bge=Object.freeze(Object.defineProperty({__proto__:null,sanity:cw,default:bR,file:kge,url:Pge},Symbol.toStringTag,{value:"Module"})),Fge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/tech/[post].astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/");wR=ie(async(e,t,r)=>{let i=e.createAstro(Fge,t,r);return i.self=wR,N``}),Ige="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/blog/tech/[post].astro",Rge="/blog/tech/[post]",Nge=Object.freeze(Object.defineProperty({__proto__:null,getStaticPages:Oge,default:wR,file:Ige,url:Rge},Symbol.toStringTag,{value:"Module"})),Uge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/now/ContentSection.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),_R=ie(async(e,t,r)=>{let i=e.createAstro(Uge,t,r);i.self=_R;let s=[`I can't remember where I heard about the <span class="code-callout">now</span> page... but I wanted to include it on my site.`,"These are the <strong>personal projects</strong> I am working on right now. I will built a little progress component so you can see where I stand on actually finishing these. I think that will help me as well."],n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-LBVY3GO5">
  <div class="galaxy astro-LBVY3GO5"></div>
  <h2 class="headline astro-LBVY3GO5">Working On Now?</h2>
  <div class="paragraph-container astro-LBVY3GO5">
    ${s.map(a=>N`<p class="astro-LBVY3GO5">${Mr(a)}</p>`)}
  </div>
</div>

`}),zge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/sections/now/CardSection.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),DR=ie(async(e,t,r)=>{let i=e.createAstro(zge,t,r);i.self=DR;let{nowCardsData:s}=i.props,n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-MXXB2PXP">
  ${s.map(a=>{let{imageUrl:o,altTag:l,titleTag:c,cardTeaser:h,buttonLabel:u,tags:d,category:p,slug:g}=a;return N`${O(e,"BlogCard",Qd,{imageUrl:o,altTag:l,titleTag:c,cardTeaser:h,buttonLabel:u,tags:d,category:p,slug:g,class:"astro-MXXB2PXP"})}`})}
</div>`}),jge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/now/index.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),SR=ie(async(e,t,r)=>{let i=e.createAstro(jge,t,r);i.self=SR;let n=(await i.glob(Object.assign({"../../data/now/fww-live-app.mdx":()=>Promise.resolve().then(()=>(Nb(),Rb)),"../../data/now/fww-marketing-site.mdx":()=>Promise.resolve().then(()=>(zb(),Ub)),"../../data/now/wordpress-recipe-theme.mdx":()=>Promise.resolve().then(()=>(Hb(),jb))}),()=>"../../data/now/*.mdx")).map(a=>{let{featureImageUrl:o,altTag:l,titleTag:c,cardTeaser:h,buttonLabel:u,tags:d,category:p,slug:g}=a.frontmatter;return{imageUrl:o,altTag:l,titleTag:c,cardTeaser:h,buttonLabel:u,tags:d,category:p,slug:`now/${g}`}});return N`${O(e,"BaseLayout",Zt,{title:"Now"},{default:()=>N`${O(e,"SmallHeader",ia,{headline:"Now",imageUrl:"https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/now-header_hlcE9nGIs.png?ik-sdk-version=javascript-1.4.3",altTag:"Now logo",titleTag:"Working On Now"})}${O(e,"ContentSection",_R,{})}${O(e,"CardSection",DR,{nowCardsData:n})}${O(e,"NewsletterSection",Uc,{})}${O(e,"Footer",ir,{})}`})}`}),Hge="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/now/index.astro",Vge="/now",Gge=Object.freeze(Object.defineProperty({__proto__:null,default:SR,file:Hge,url:Vge},Symbol.toStringTag,{value:"Module"})),Wge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/blog/BlogComponents/MdxPostHeader.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),AR=ie(async(e,t,r)=>{let i=e.createAstro(Wge,t,r);i.self=AR;let{imageUrl:s,altTag:n,titleTag:a,headline:o,category:l,tags:c,paths:h}=i.props,u=[];for(let d of u)e.styles.add(d);return N`${pe(e)}<div class="container astro-WOBF7TNA">
  <div class="post-header astro-WOBF7TNA">
    <div class="post-image astro-WOBF7TNA">
      <img class="header-image astro-WOBF7TNA"${Se(s,"src")}${Se(n,"alt")}${Se(a,"title")}>
    </div>
    ${O(e,"TopRightAccent",Xo,{backgroundType:"footer",class:"astro-WOBF7TNA"})}
  </div>
  ${O(e,"PostMeta",kw,{category:l,tags:c,paths:h,class:"astro-WOBF7TNA"})}
  <h1 class="astro-WOBF7TNA">${o}</h1>
</div>

`}),qge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/blog/Header2.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),ER=ie(async(e,t,r)=>{let i=e.createAstro(qge,t,r);i.self=ER;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/teal-hash_D9EMi-Ga2.png?ik-sdk-version=javascript-1.4.3",n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<div class="container astro-VO7WSRVU">
  <h2 class="astro-VO7WSRVU">
    <span class="hash-container astro-VO7WSRVU">
      <img class="hash astro-VO7WSRVU"${Se(s,"src")} alt="Header 2" title="Headline">
      <img class="hash right-hash astro-VO7WSRVU"${Se(s,"src")} alt="Header 2" title="Headline">
    </span>
    ${zt(e,r.default)}
  </h2>
</div>`}),Yge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/blog/Header3.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),CR=ie(async(e,t,r)=>{let i=e.createAstro(Yge,t,r);i.self=CR;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/purple-hash_pNlVG1KAR.png?ik-sdk-version=javascript-1.4.3",n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<h3 class="astro-MSF4EXLB">
  <span class="hash-container astro-MSF4EXLB">
    <img class="hash astro-MSF4EXLB"${Se(s,"src")} alt="Header 3" title="Headline">
    <img class="hash right-hash-one astro-MSF4EXLB"${Se(s,"src")} alt="Header 3" title="Headline">
    <img class="hash right-hash-two astro-MSF4EXLB"${Se(s,"src")} alt="Header 3" title="Headline">
  </span>
  ${zt(e,r.default)}
</h3>`}),Xge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/blog/Header4.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),TR=ie(async(e,t,r)=>{let i=e.createAstro(Xge,t,r);i.self=TR;let s="https://ik.imagekit.io/csu76xuqqlwj/nerds-who-sell/site-assets/pink-hash_fVzt1O9_m.png?ik-sdk-version=javascript-1.4.3",n=[];for(let a of n)e.styles.add(a);return N`${pe(e)}<h4 class="astro-MQEZALHN">
  <span class="hash-container astro-MQEZALHN">
    <img class="hash astro-MQEZALHN"${Se(s,"src")} alt="Header 3" title="Headline">
    <img class="hash right-hash-one astro-MQEZALHN"${Se(s,"src")} alt="Header 3" title="Headline">
    <img class="hash right-hash-two astro-MQEZALHN"${Se(s,"src")} alt="Header 3" title="Headline">
    <img class="hash right-hash-three astro-MQEZALHN"${Se(s,"src")} alt="Header 3" title="Headline">
  </span>
  ${zt(e,r.default)}
</h4>`}),Qge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/blog/Paragraph.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),MR=ie(async(e,t,r)=>{let i=e.createAstro(Qge,t,r);i.self=MR;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<p class="paragraph astro-XYZVYTE4">
  ${zt(e,r.default)}
</p>`}),Zge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/blog/CodeCallout.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),LR=ie(async(e,t,r)=>{let i=e.createAstro(Zge,t,r);i.self=LR;let s=[];for(let n of s)e.styles.add(n);return N`${pe(e)}<span class="callout astro-JMBWJFW6">
  ${zt(e,r.default)}
</span>`}),$ge=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/blog/PostImage.astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),kR=ie(async(e,t,r)=>{let i=e.createAstro($ge,t,r);i.self=kR;let{imageUrl:s,altTag:n,titleTag:a}=i.props,o=(0,Rc.default)(Bm);function l(u){return o.image(u)}let c=l(s).width(800).auto("format").url(),h=[];for(let u of h)e.styles.add(u);return N`${pe(e)}<div class="post-image-container astro-7KESCYM2">
  <img class="post-image astro-7KESCYM2"${Se(c,"src")}${Se(n,"alt")}${Se(a,"title")}>
  <div class="background astro-7KESCYM2"></div>
</div>`}),PR=re("/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/now/[now].astro","","file:///Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/"),Jge=PR;BR=ie(async(e,t,r)=>{let i=e.createAstro(PR,t,r);i.self=BR;let s=i.params,n=[];for(let f in s){let v={base:[f],slug:s[f]};n.push(v)}let{headline:a,seoTitle:o,seoDescription:l,headerImageUrl:c,altTag:h,titleTag:u,category:d,tags:p}=i.props.data,{Content:g}=i.props.now,m=[];for(let f of m)e.styles.add(f);return N`${O(e,"BaseLayout",Zt,{title:o,class:"astro-KCYR2QMH"},{default:()=>N`${pe(e)}<div class="container astro-KCYR2QMH">
    ${O(e,"MdxPostHeader",AR,{imageUrl:c,altTag:h,titleTag:u,headline:a,category:d,tags:p,paths:n,class:"astro-KCYR2QMH"})}
    <div class="galaxy astro-KCYR2QMH"></div>
    <div class="post-body astro-KCYR2QMH">
      ${O(e,"Content",g,{components:{h2:ER,h3:CR,h4:TR,p:MR,em:LR,img:kR},class:"astro-KCYR2QMH"})}
    </div>
  </div>${O(e,"NewsletterSection",Uc,{class:"astro-KCYR2QMH"})}${O(e,"Footer",ir,{class:"astro-KCYR2QMH"})}`})}

`}),eve="/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/pages/now/[now].astro",tve="/now/[now]",rve=Object.freeze(Object.defineProperty({__proto__:null,getStaticPaths:Kge,default:BR,file:eve,url:tve},Symbol.toStringTag,{value:"Module"})),ive=new Map([["src/pages/index.astro",mde],["src/pages/nerd-chat/pre-nerd-chat.astro",Ahe],["src/pages/nerd-chat/schedule.astro",Phe],["src/pages/thank-you/pre-nerd-chat-web-dev.astro",Rhe],["src/pages/thank-you/nerd-chat.astro",Vhe],["src/pages/thank-you/contact.astro",Qhe],["src/pages/services/index.astro",cpe],["src/pages/services/web-design-and-development.astro",Zpe],["src/pages/services/seven-day-site.astro",Dfe],["src/pages/services/copy/index.astro",Ffe],["src/pages/services/copy/[copy].astro",tme],["src/pages/contact.astro",ame],["src/pages/about.astro",Bme],["src/pages/blog/index.astro",Rme],["src/pages/blog/marketing/index.astro",Wme],["src/pages/blog/marketing/[marketing].astro",dge],["src/pages/blog/coding/index.astro",mge],["src/pages/blog/coding/[post].astro",bge],["src/pages/blog/design/index.astro",Sge],["src/pages/blog/design/[design].astro",Mge],["src/pages/blog/tech/index.astro",Bge],["src/pages/blog/tech/[post].astro",Nge],["src/pages/now/index.astro",Gge],["src/pages/now/[now].astro",rve]]),sve=[Object.assign({name:"astro:jsx",serverEntrypoint:"astro/jsx/server.js",jsxImportSource:"astro"},{ssr:kce}),Object.assign({name:"@astrojs/solid-js",clientEntrypoint:"@astrojs/solid-js/client.js",serverEntrypoint:"@astrojs/solid-js/server.js",jsxImportSource:"solid-js"},{ssr:Rle})];typeof process<"u"&&(process.argv.includes("--verbose")||process.argv.includes("--silent"));nve=new Set([".js",".ts"]);new RegExp(`\\.(${Array.from(nve).map(e=>e.slice(1)).join("|")})($|\\?)`);ave=new Set([".css",".pcss",".postcss",".scss",".sass",".styl",".stylus",".less"]);new RegExp(`\\.(${Array.from(ave).map(e=>e.slice(1)).join("|")})($|\\?)`);FR=Object.assign(lve({adapterName:"@astrojs/cloudflare",routes:[{file:"",links:["assets/about.428cb8e3.css","assets/index.2c93f749.css","assets/index.3060ced7.css","assets/index.8618b0b9.css","assets/index.fbb2ac4d.css","assets/index.03058640.css","assets/about.b433017d.css","assets/index.e3b35c22.css","assets/_now_.d5c6585e.css","assets/about.1355ce3c.css"],scripts:[],routeData:{route:"/",type:"page",pattern:"^\\/$",segments:[],params:[],component:"src/pages/index.astro",pathname:"/",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/index.2d33c294.css","assets/pre-nerd-chat.b0e2f1b8.css","assets/pre-nerd-chat.e80ce568.css","assets/_copy_.7a6a82d1.css","assets/web-design-and-development.e3225fc1.css","assets/contact.054fe23e.css","assets/index.e3b35c22.css","assets/_now_.d5c6585e.css","assets/about.1355ce3c.css"],scripts:[],routeData:{route:"/nerd-chat/pre-nerd-chat",type:"page",pattern:"^\\/nerd-chat\\/pre-nerd-chat\\/?$",segments:[[{content:"nerd-chat",dynamic:!1,spread:!1}],[{content:"pre-nerd-chat",dynamic:!1,spread:!1}]],params:[],component:"src/pages/nerd-chat/pre-nerd-chat.astro",pathname:"/nerd-chat/pre-nerd-chat",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/index.2d33c294.css","assets/schedule.31113f73.css"],scripts:[],routeData:{route:"/nerd-chat/schedule",type:"page",pattern:"^\\/nerd-chat\\/schedule\\/?$",segments:[[{content:"nerd-chat",dynamic:!1,spread:!1}],[{content:"schedule",dynamic:!1,spread:!1}]],params:[],component:"src/pages/nerd-chat/schedule.astro",pathname:"/nerd-chat/schedule",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/index.2d33c294.css","assets/_now_.d5c6585e.css","assets/index.e3b35c22.css","assets/about.1355ce3c.css","assets/index.8618b0b9.css","assets/pre-nerd-chat.b0e2f1b8.css","assets/pre-nerd-chat-web-dev.4d34dfaa.css"],scripts:[],routeData:{route:"/thank-you/pre-nerd-chat-web-dev",type:"page",pattern:"^\\/thank-you\\/pre-nerd-chat-web-dev\\/?$",segments:[[{content:"thank-you",dynamic:!1,spread:!1}],[{content:"pre-nerd-chat-web-dev",dynamic:!1,spread:!1}]],params:[],component:"src/pages/thank-you/pre-nerd-chat-web-dev.astro",pathname:"/thank-you/pre-nerd-chat-web-dev",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/_now_.d5c6585e.css","assets/index.e3b35c22.css","assets/about.1355ce3c.css","assets/index.2d33c294.css","assets/index.8618b0b9.css","assets/nerd-chat.5ba1f949.css"],scripts:[],routeData:{route:"/thank-you/nerd-chat",type:"page",pattern:"^\\/thank-you\\/nerd-chat\\/?$",segments:[[{content:"thank-you",dynamic:!1,spread:!1}],[{content:"nerd-chat",dynamic:!1,spread:!1}]],params:[],component:"src/pages/thank-you/nerd-chat.astro",pathname:"/thank-you/nerd-chat",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/_now_.d5c6585e.css","assets/index.e3b35c22.css","assets/about.1355ce3c.css","assets/index.2d33c294.css","assets/index.8618b0b9.css","assets/contact.1b5cced0.css"],scripts:[],routeData:{route:"/thank-you/contact",type:"page",pattern:"^\\/thank-you\\/contact\\/?$",segments:[[{content:"thank-you",dynamic:!1,spread:!1}],[{content:"contact",dynamic:!1,spread:!1}]],params:[],component:"src/pages/thank-you/contact.astro",pathname:"/thank-you/contact",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/_now_.d5c6585e.css","assets/index.e3b35c22.css","assets/about.1355ce3c.css","assets/index.47eecaf7.css","assets/index.8618b0b9.css","assets/index.d411a94b.css"],scripts:[],routeData:{route:"/services",type:"page",pattern:"^\\/services\\/?$",segments:[[{content:"services",dynamic:!1,spread:!1}]],params:[],component:"src/pages/services/index.astro",pathname:"/services",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/index.2c93f749.css","assets/web-design-and-development.05b8ae0a.css","assets/index.8618b0b9.css","assets/_copy_.ae67bc4c.css","assets/about.660e8000.css","assets/contact.054fe23e.css","assets/contact.b4246ebf.css","assets/web-design-and-development.e3225fc1.css","assets/web-design-and-development.c089498a.css","assets/_now_.d5c6585e.css","assets/index.e3b35c22.css","assets/about.1355ce3c.css"],scripts:[],routeData:{route:"/services/web-design-and-development",type:"page",pattern:"^\\/services\\/web-design-and-development\\/?$",segments:[[{content:"services",dynamic:!1,spread:!1}],[{content:"web-design-and-development",dynamic:!1,spread:!1}]],params:[],component:"src/pages/services/web-design-and-development.astro",pathname:"/services/web-design-and-development",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/index.8618b0b9.css","assets/index.2c93f749.css","assets/seven-day-site.a4046a2b.css","assets/_copy_.ae67bc4c.css","assets/about.660e8000.css","assets/contact.054fe23e.css","assets/index.d411a94b.css","assets/contact.b4246ebf.css","assets/web-design-and-development.e3225fc1.css","assets/web-design-and-development.c089498a.css","assets/_now_.d5c6585e.css","assets/index.e3b35c22.css","assets/about.1355ce3c.css"],scripts:[],routeData:{route:"/services/seven-day-site",type:"page",pattern:"^\\/services\\/seven-day-site\\/?$",segments:[[{content:"services",dynamic:!1,spread:!1}],[{content:"seven-day-site",dynamic:!1,spread:!1}]],params:[],component:"src/pages/services/seven-day-site.astro",pathname:"/services/seven-day-site",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/_now_.d5c6585e.css","assets/about.1355ce3c.css","assets/index.8618b0b9.css","assets/index.e3b35c22.css","assets/index.fbb2ac4d.css","assets/index.0ad67fae.css","assets/about.660e8000.css","assets/index.d411a94b.css","assets/about.d5485f68.css","assets/about.dd3db3bf.css","assets/_copy_.ae67bc4c.css"],scripts:[],routeData:{route:"/services/copy",type:"page",pattern:"^\\/services\\/copy\\/?$",segments:[[{content:"services",dynamic:!1,spread:!1}],[{content:"copy",dynamic:!1,spread:!1}]],params:[],component:"src/pages/services/copy/index.astro",pathname:"/services/copy",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/index.e3b35c22.css","assets/_now_.d5c6585e.css","assets/about.1355ce3c.css","assets/_copy_.daf1ed8e.css","assets/_copy_.7a6a82d1.css","assets/_now_.e7a102ee.css","assets/about.660e8000.css","assets/index.d411a94b.css","assets/about.d5485f68.css","assets/about.dd3db3bf.css","assets/_copy_.ae67bc4c.css"],scripts:[],routeData:{route:"/services/copy/[copy]",type:"page",pattern:"^\\/services\\/copy\\/([^/]+?)\\/?$",segments:[[{content:"services",dynamic:!1,spread:!1}],[{content:"copy",dynamic:!1,spread:!1}],[{content:"copy",dynamic:!0,spread:!1}]],params:["copy"],component:"src/pages/services/copy/[copy].astro",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/index.2d33c294.css","assets/index.e3b35c22.css","assets/_now_.d5c6585e.css","assets/about.1355ce3c.css","assets/web-design-and-development.e3225fc1.css","assets/contact.054fe23e.css","assets/contact.b4246ebf.css","assets/contact.3e86ea52.css"],scripts:[],routeData:{route:"/contact",type:"page",pattern:"^\\/contact\\/?$",segments:[[{content:"contact",dynamic:!1,spread:!1}]],params:[],component:"src/pages/contact.astro",pathname:"/contact",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/_now_.d5c6585e.css","assets/index.e3b35c22.css","assets/about.1355ce3c.css","assets/about.b433017d.css","assets/about.dd3db3bf.css","assets/about.660e8000.css","assets/about.d5485f68.css","assets/about.72491e48.css","assets/index.d411a94b.css"],scripts:[],routeData:{route:"/about",type:"page",pattern:"^\\/about\\/?$",segments:[[{content:"about",dynamic:!1,spread:!1}]],params:[],component:"src/pages/about.astro",pathname:"/about",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/_now_.d5c6585e.css","assets/index.e3b35c22.css","assets/about.1355ce3c.css","assets/index.2d33c294.css","assets/index.03058640.css","assets/about.b433017d.css"],scripts:[],routeData:{route:"/blog",type:"page",pattern:"^\\/blog\\/?$",segments:[[{content:"blog",dynamic:!1,spread:!1}]],params:[],component:"src/pages/blog/index.astro",pathname:"/blog",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/index.e3b35c22.css","assets/_now_.d5c6585e.css","assets/about.1355ce3c.css","assets/index.9ac8d854.css","assets/_now_.e7a102ee.css","assets/index.8618b0b9.css","assets/index.0abcaea1.css","assets/index.1b90468b.css"],scripts:[],routeData:{route:"/blog/marketing",type:"page",pattern:"^\\/blog\\/marketing\\/?$",segments:[[{content:"blog",dynamic:!1,spread:!1}],[{content:"marketing",dynamic:!1,spread:!1}]],params:[],component:"src/pages/blog/marketing/index.astro",pathname:"/blog/marketing",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/_now_.e7a102ee.css","assets/_now_.d5c6585e.css","assets/_now_.aa5275e9.css","assets/_design_.2521a83b.css","assets/index.e3b35c22.css","assets/about.1355ce3c.css","assets/_marketing_.fbe9f31b.css"],scripts:[],routeData:{route:"/blog/marketing/[marketing]",type:"page",pattern:"^\\/blog\\/marketing\\/([^/]+?)\\/?$",segments:[[{content:"blog",dynamic:!1,spread:!1}],[{content:"marketing",dynamic:!1,spread:!1}],[{content:"marketing",dynamic:!0,spread:!1}]],params:["marketing"],component:"src/pages/blog/marketing/[marketing].astro",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/_now_.d5c6585e.css","assets/index.e3b35c22.css","assets/about.1355ce3c.css","assets/index.9ac8d854.css","assets/index.874f8de4.css"],scripts:[],routeData:{route:"/blog/coding",type:"page",pattern:"^\\/blog\\/coding\\/?$",segments:[[{content:"blog",dynamic:!1,spread:!1}],[{content:"coding",dynamic:!1,spread:!1}]],params:[],component:"src/pages/blog/coding/index.astro",pathname:"/blog/coding",_meta:{trailingSlash:"ignore"}}},{file:"",links:[],scripts:[],routeData:{route:"/blog/coding/[post]",type:"page",pattern:"^\\/blog\\/coding\\/([^/]+?)\\/?$",segments:[[{content:"blog",dynamic:!1,spread:!1}],[{content:"coding",dynamic:!1,spread:!1}],[{content:"post",dynamic:!0,spread:!1}]],params:["post"],component:"src/pages/blog/coding/[post].astro",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/index.9ac8d854.css","assets/_now_.e7a102ee.css","assets/index.8618b0b9.css","assets/index.0abcaea1.css","assets/_now_.d5c6585e.css","assets/index.e3b35c22.css","assets/about.1355ce3c.css","assets/index.c8322185.css"],scripts:[],routeData:{route:"/blog/design",type:"page",pattern:"^\\/blog\\/design\\/?$",segments:[[{content:"blog",dynamic:!1,spread:!1}],[{content:"design",dynamic:!1,spread:!1}]],params:[],component:"src/pages/blog/design/index.astro",pathname:"/blog/design",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/_now_.e7a102ee.css","assets/_now_.d5c6585e.css","assets/_now_.aa5275e9.css","assets/_design_.2521a83b.css","assets/index.e3b35c22.css","assets/about.1355ce3c.css","assets/_design_.249f49f1.css"],scripts:[],routeData:{route:"/blog/design/[design]",type:"page",pattern:"^\\/blog\\/design\\/([^/]+?)\\/?$",segments:[[{content:"blog",dynamic:!1,spread:!1}],[{content:"design",dynamic:!1,spread:!1}],[{content:"design",dynamic:!0,spread:!1}]],params:["design"],component:"src/pages/blog/design/[design].astro",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/index.9ac8d854.css","assets/_now_.e7a102ee.css","assets/index.8618b0b9.css","assets/index.0abcaea1.css","assets/index.e3b35c22.css","assets/_now_.d5c6585e.css","assets/about.1355ce3c.css","assets/index.811df7f0.css"],scripts:[],routeData:{route:"/blog/tech",type:"page",pattern:"^\\/blog\\/tech\\/?$",segments:[[{content:"blog",dynamic:!1,spread:!1}],[{content:"tech",dynamic:!1,spread:!1}]],params:[],component:"src/pages/blog/tech/index.astro",pathname:"/blog/tech",_meta:{trailingSlash:"ignore"}}},{file:"",links:[],scripts:[],routeData:{route:"/blog/tech/[post]",type:"page",pattern:"^\\/blog\\/tech\\/([^/]+?)\\/?$",segments:[[{content:"blog",dynamic:!1,spread:!1}],[{content:"tech",dynamic:!1,spread:!1}],[{content:"post",dynamic:!0,spread:!1}]],params:["post"],component:"src/pages/blog/tech/[post].astro",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.428cb8e3.css","assets/index.2d33c294.css","assets/index.40d0510a.css","assets/about.b433017d.css","assets/index.e3b35c22.css","assets/_now_.d5c6585e.css","assets/about.1355ce3c.css","assets/index.8618b0b9.css","assets/index.0abcaea1.css","assets/about.d5485f68.css","assets/_now_.9af2c327.css"],scripts:[],routeData:{route:"/now",type:"page",pattern:"^\\/now\\/?$",segments:[[{content:"now",dynamic:!1,spread:!1}]],params:[],component:"src/pages/now/index.astro",pathname:"/now",_meta:{trailingSlash:"ignore"}}},{file:"",links:["assets/about.b433017d.css","assets/_now_.e7a102ee.css","assets/_now_.d5c6585e.css","assets/_now_.aa5275e9.css","assets/_now_.1d767146.css","assets/index.e3b35c22.css","assets/about.1355ce3c.css","assets/about.428cb8e3.css","assets/index.8618b0b9.css","assets/index.9ac8d854.css","assets/index.0abcaea1.css","assets/index.1b90468b.css","assets/about.d5485f68.css","assets/_now_.9af2c327.css"],scripts:[],routeData:{route:"/now/[now]",type:"page",pattern:"^\\/now\\/([^/]+?)\\/?$",segments:[[{content:"now",dynamic:!1,spread:!1}],[{content:"now",dynamic:!0,spread:!1}]],params:["now"],component:"src/pages/now/[now].astro",_meta:{trailingSlash:"ignore"}}}],base:"/",markdown:{drafts:!1,syntaxHighlight:"shiki",shikiConfig:{langs:[],theme:"github-dark",wrap:!1},remarkPlugins:[],rehypePlugins:[],remarkRehype:{},extendDefaultPlugins:!1,isAstroFlavoredMd:!1},pageMap:null,renderers:[],entryModules:{"\0@astrojs-ssr-virtual-entry":"_worker.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/copy-services/blog-posts-copy.mdx":"chunks/blog-posts-copy.a22479a2.mjs","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/copy-services/digital-ad-writing-copy.mdx":"chunks/digital-ad-writing-copy.d1e577bf.mjs","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/copy-services/ecom-product-copy.mdx":"chunks/ecom-product-copy.5f52728e.mjs","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/copy-services/email-marketing-copy.mdx":"chunks/email-marketing-copy.f743be57.mjs","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/copy-services/nerd-copy-chat.mdx":"chunks/nerd-copy-chat.5a361010.mjs","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/copy-services/web-page-sales-copy.mdx":"chunks/web-page-sales-copy.b79de2d4.mjs","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/posts/post-2022-9-solid-createSignal.mdx":"chunks/post-2022-9-solid-createSignal.452833b5.mjs","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/now/fww-live-app.mdx":"chunks/fww-live-app.7f4d7a9a.mjs","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/now/fww-marketing-site.mdx":"chunks/fww-marketing-site.bd9748da.mjs","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/data/now/wordpress-recipe-theme.mdx":"chunks/wordpress-recipe-theme.2c9b628d.mjs","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/forms/PreNerdChatForm":"index.45fd38bd.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/Calendly":"index.7b540ea3.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/forms/ContactForm":"index.a4f95ec6.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/galaxies/Galaxy":"Galaxy.9cc9869f.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/forms/NewsletterForm":"index.9d9f0272.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/SevenDayCalendar":"index.8443333d.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/forms/SevenDaySiteForm":"index.23d3da3c.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/AppIcon":"index.9fdd8709.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/SalesAndLeads":"index.6d306a26.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/forms/LeadForm":"index.5cd97871.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/forms/CopywritingFormSwitcher":"CopywritingFormSwitcher.5eb98573.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/navigation/HeaderNavLinks":"index.fe42a627.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/navigation/MainMobileNav/HamburgerIcon":"HamburgerIcon.cc85f79b.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/src/components/solid/navigation/MobileNavDrawer":"MobileNavDrawer.7e186cba.js","@astrojs/solid-js/client.js":"client.72d65270.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/node_modules/@splinetool/runtime/build/process.js":"chunks/process.51e45e3e.js","/Users/devdan/Documents/NeverBackDown/nerds/nerds-astro/node_modules/@splinetool/runtime/build/boolean.js":"chunks/boolean.ca2c1582.js","astro:scripts/before-hydration.js":""},assets:["/assets/_copy_.ae67bc4c.css","/assets/_copy_.7a6a82d1.css","/assets/_copy_.daf1ed8e.css","/assets/_design_.2521a83b.css","/assets/_design_.249f49f1.css","/assets/_marketing_.fbe9f31b.css","/assets/_now_.e7a102ee.css","/assets/_now_.d5c6585e.css","/assets/_now_.9af2c327.css","/assets/_now_.1d767146.css","/assets/_now_.aa5275e9.css","/assets/about.72491e48.css","/assets/about.dd3db3bf.css","/assets/about.b433017d.css","/assets/about.1355ce3c.css","/assets/about.428cb8e3.css","/assets/about.d5485f68.css","/assets/about.660e8000.css","/assets/contact.1b5cced0.css","/assets/contact.054fe23e.css","/assets/contact.b4246ebf.css","/assets/contact.3e86ea52.css","/assets/index.fbb2ac4d.css","/assets/index.1b90468b.css","/assets/index.8618b0b9.css","/assets/index.03058640.css","/assets/index.0ad67fae.css","/assets/index.e3b35c22.css","/assets/index.40d0510a.css","/assets/index.2c93f749.css","/assets/index.0abcaea1.css","/assets/index.874f8de4.css","/assets/index.2d33c294.css","/assets/index.47eecaf7.css","/assets/index.3060ced7.css","/assets/index.811df7f0.css","/assets/index.d411a94b.css","/assets/index.c8322185.css","/assets/index.9ac8d854.css","/assets/nerd-chat.5ba1f949.css","/assets/pre-nerd-chat-web-dev.4d34dfaa.css","/assets/pre-nerd-chat.e80ce568.css","/assets/pre-nerd-chat.b0e2f1b8.css","/assets/schedule.31113f73.css","/assets/seven-day-site.a4046a2b.css","/assets/web-design-and-development.e3225fc1.css","/assets/web-design-and-development.c089498a.css","/assets/web-design-and-development.05b8ae0a.css","/CopywritingFormSwitcher.5eb98573.js","/Galaxy.9cc9869f.js","/HamburgerIcon.cc85f79b.js","/MobileNavDrawer.7e186cba.js","/client.72d65270.js","/favicon.ico","/index.23d3da3c.js","/index.45fd38bd.js","/index.5cd97871.js","/index.6d306a26.js","/index.7b540ea3.js","/index.8443333d.js","/index.9d9f0272.js","/index.9fdd8709.js","/index.a4f95ec6.js","/index.fe42a627.js","/chunks/CheckIcon.c80ff2d6.js","/chunks/animate.es.d24c6db2.js","/chunks/boolean.ca2c1582.js","/chunks/components.0996e4c7.js","/chunks/forms.07fad72e.js","/chunks/forms.5d18e60f.js","/chunks/index.016930b6.js","/chunks/index.18554abc.js","/chunks/index.999bceec.js","/chunks/index.e3b0c442.a2ae44a9.js","/chunks/index.es.e4ed26bc.js","/chunks/index.f5ee1f1a.js","/chunks/leadFormStore.f468c15f.js","/chunks/matchMediaStore.e680e955.js","/chunks/navigation.343d71b5.js","/chunks/navigation.468efa15.js","/chunks/process.51e45e3e.js","/chunks/stagger.es.ee160286.js","/chunks/utilityFunctions.81b7eb2e.js","/chunks/web.07b55455.js"]}),{pageMap:ive,renderers:sve}),OR=void 0,cve=Hg(FR,OR),cBe=cve.onRequest,hO="start";hO in Th&&Th[hO](FR,OR)});os();export{rr as $,Ot as F,Me as _,Br as a,St as b,T as c,Et as d,re as e,ie as f,Se as g,zt as h,O as i,ai as j,pe as m,cBe as onRequest,N as r};
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/**
 * shortdash - https://github.com/bibig/node-shorthash
 *
 * @license
 *
 * (The MIT License)
 *
 * Copyright (c) 2013 Bibig <bibig@me.com>
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */
/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */
